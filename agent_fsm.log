[2025-06-17 19:48:10] INFO     [agent_fsm:50] [f939f2a8-545c-4ab7-9435-8fd0d9c06a45] Test message with correlation ID
[2025-06-17 19:48:10] WARNING  [agent_fsm:488] [no-correlation] GROQ_API_KEY not found, some features may be limited
[2025-06-17 19:48:10] INFO     [agent_fsm:547] [no-correlation] Added stub tool: video_analyzer
[2025-06-17 19:48:10] INFO     [agent_fsm:547] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-17 19:48:10] INFO     [agent_fsm:504] [no-correlation] Initializing FSMReActAgent with 3 tools
[2025-06-17 19:48:10] INFO     [agent_fsm:506] [4cca84b3-349b-4dba-a762-0e075f715a1b] Building resilient FSM graph
[2025-06-17 19:48:10] INFO     [agent_fsm:508] [4cca84b3-349b-4dba-a762-0e075f715a1b] FSMReActAgent graph built successfully
[2025-06-17 19:48:10] WARNING  [agent_fsm:488] [no-correlation] GROQ_API_KEY not found, some features may be limited
[2025-06-17 19:48:10] INFO     [agent_fsm:547] [no-correlation] Added stub tool: video_analyzer
[2025-06-17 19:48:10] INFO     [agent_fsm:547] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-17 19:48:10] INFO     [agent_fsm:504] [no-correlation] Initializing FSMReActAgent with 3 tools
[2025-06-17 19:48:10] INFO     [agent_fsm:506] [8198ce4f-e311-43b9-9802-9f72ec45fa33] Building resilient FSM graph
[2025-06-17 19:48:10] INFO     [agent_fsm:508] [8198ce4f-e311-43b9-9802-9f72ec45fa33] FSMReActAgent graph built successfully
[2025-06-17 19:48:10] WARNING  [agent_fsm:488] [no-correlation] GROQ_API_KEY not found, some features may be limited
[2025-06-17 19:48:10] INFO     [agent_fsm:547] [no-correlation] Added stub tool: video_analyzer
[2025-06-17 19:48:10] INFO     [agent_fsm:547] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-17 19:48:10] INFO     [agent_fsm:504] [no-correlation] Initializing FSMReActAgent with 3 tools
[2025-06-17 19:48:10] INFO     [agent_fsm:506] [d3c12833-afc0-409a-ad64-3aec1bc4021c] Building resilient FSM graph
[2025-06-17 19:48:10] INFO     [agent_fsm:508] [d3c12833-afc0-409a-ad64-3aec1bc4021c] FSMReActAgent graph built successfully
[2025-06-17 19:48:10] INFO     [agent_fsm:1480] [dc1adb8e-00e7-42bc-9880-5def19b452b2] Starting resilient FSM execution
[2025-06-17 19:48:10] INFO     [agent_fsm:1513] [dc1adb8e-00e7-42bc-9880-5def19b452b2] FSM STATE: INITIAL
[2025-06-17 19:48:10] INFO     [agent_fsm:601] [dc1adb8e-00e7-42bc-9880-5def19b452b2] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-17 19:48:10] ERROR    [agent_fsm:582] [dc1adb8e-00e7-42bc-9880-5def19b452b2] Failed to initialize ChatGroq with model llama-3.1-8b-instant: The api_key client option must be set either by passing api_key to the client or by setting the GROQ_API_KEY environment variable
[2025-06-17 19:48:10] WARNING  [agent_fsm:585] [dc1adb8e-00e7-42bc-9880-5def19b452b2] Falling back to llama-3.1-8b-instant
[2025-06-17 19:48:10] ERROR    [agent_fsm:680] [dc1adb8e-00e7-42bc-9880-5def19b452b2] Error in planning node: The api_key client option must be set either by passing api_key to the client or by setting the GROQ_API_KEY environment variable
[2025-06-17 19:48:10] ERROR    [agent_fsm:1543] [dc1adb8e-00e7-42bc-9880-5def19b452b2] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 574, in _get_llm
    return ChatGroq(
        temperature=temperature,
    ...<3 lines>...
        request_timeout=90
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langchain_core/load/serializable.py", line 130, in __init__
    super().__init__(*args, **kwargs)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pydantic/main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langchain_groq/chat_models.py", line 411, in validate_environment
    self.client = groq.Groq(
                  ~~~~~~~~~^
        **client_params, **sync_specific
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).chat.completions
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/groq/_client.py", line 79, in __init__
    raise GroqError(
        "The api_key client option must be set either by passing api_key to the client or by setting the GROQ_API_KEY environment variable"
    )
groq.GroqError: The api_key client option must be set either by passing api_key to the client or by setting the GROQ_API_KEY environment variable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 648, in planning_node
    llm = self._get_llm(task_type="reasoning")
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 586, in _get_llm
    return ChatGroq(
        temperature=0.1,
    ...<3 lines>...
        request_timeout=60
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langchain_core/load/serializable.py", line 130, in __init__
    super().__init__(*args, **kwargs)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pydantic/main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langchain_groq/chat_models.py", line 411, in validate_environment
    self.client = groq.Groq(
                  ~~~~~~~~~^
        **client_params, **sync_specific
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).chat.completions
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/groq/_client.py", line 79, in __init__
    raise GroqError(
        "The api_key client option must be set either by passing api_key to the client or by setting the GROQ_API_KEY environment variable"
    )
groq.GroqError: The api_key client option must be set either by passing api_key to the client or by setting the GROQ_API_KEY environment variable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1516, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2436, in stream
    for _ in runner.tick(
             ~~~~~~~~~~~^
        [t for t in loop.tasks.values() if not t.writes],
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        schedule_task=loop.accept_push,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ):
    ^
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 682, in planning_node
    "current_fsm_state": FSMState.ERROR,
                         ^^^^^^^^^^^^^^
AttributeError: type object 'FSMState' has no attribute 'ERROR'
During task with name 'planning_node' and id 'db27b037-09ba-77f4-e9e4-0f5c0091659d'
[2025-06-17 19:48:10] INFO     [agent_fsm:217] [96755356-f64e-4b4d-a2b4-2f8222e0f76d] Test structured log
[2025-06-17 19:49:18] INFO     [agent_fsm:50] [528d3a7e-82d6-44be-bb9c-85d9c8118b5f] Test message with correlation ID
[2025-06-17 19:49:18] WARNING  [agent_fsm:488] [no-correlation] GROQ_API_KEY not found, some features may be limited
[2025-06-17 19:49:18] INFO     [agent_fsm:547] [no-correlation] Added stub tool: video_analyzer
[2025-06-17 19:49:18] INFO     [agent_fsm:547] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-17 19:49:18] INFO     [agent_fsm:504] [no-correlation] Initializing FSMReActAgent with 3 tools
[2025-06-17 19:49:18] INFO     [agent_fsm:506] [4688ad32-d2fb-47eb-9881-78492e370886] Building resilient FSM graph
[2025-06-17 19:49:18] INFO     [agent_fsm:508] [4688ad32-d2fb-47eb-9881-78492e370886] FSMReActAgent graph built successfully
[2025-06-17 19:49:18] WARNING  [agent_fsm:488] [no-correlation] GROQ_API_KEY not found, some features may be limited
[2025-06-17 19:49:18] INFO     [agent_fsm:547] [no-correlation] Added stub tool: video_analyzer
[2025-06-17 19:49:18] INFO     [agent_fsm:547] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-17 19:49:18] INFO     [agent_fsm:504] [no-correlation] Initializing FSMReActAgent with 3 tools
[2025-06-17 19:49:18] INFO     [agent_fsm:506] [0c292aaf-b862-4278-8b93-25de303e6740] Building resilient FSM graph
[2025-06-17 19:49:18] INFO     [agent_fsm:508] [0c292aaf-b862-4278-8b93-25de303e6740] FSMReActAgent graph built successfully
[2025-06-17 19:49:18] WARNING  [agent_fsm:488] [no-correlation] GROQ_API_KEY not found, some features may be limited
[2025-06-17 19:49:18] INFO     [agent_fsm:547] [no-correlation] Added stub tool: video_analyzer
[2025-06-17 19:49:18] INFO     [agent_fsm:547] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-17 19:49:18] INFO     [agent_fsm:504] [no-correlation] Initializing FSMReActAgent with 3 tools
[2025-06-17 19:49:18] INFO     [agent_fsm:506] [7c9fd15c-4217-461a-9b43-a53a91554f40] Building resilient FSM graph
[2025-06-17 19:49:18] INFO     [agent_fsm:508] [7c9fd15c-4217-461a-9b43-a53a91554f40] FSMReActAgent graph built successfully
[2025-06-17 19:49:18] INFO     [agent_fsm:1481] [7d41a6ad-e177-4adf-979b-efb8947b1047] Starting resilient FSM execution
[2025-06-17 19:49:18] INFO     [agent_fsm:1514] [7d41a6ad-e177-4adf-979b-efb8947b1047] FSM STATE: INITIAL
[2025-06-17 19:49:18] INFO     [agent_fsm:601] [7d41a6ad-e177-4adf-979b-efb8947b1047] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-17 19:49:18] ERROR    [agent_fsm:582] [7d41a6ad-e177-4adf-979b-efb8947b1047] Failed to initialize ChatGroq with model llama-3.1-8b-instant: The api_key client option must be set either by passing api_key to the client or by setting the GROQ_API_KEY environment variable
[2025-06-17 19:49:18] WARNING  [agent_fsm:585] [7d41a6ad-e177-4adf-979b-efb8947b1047] Falling back to llama-3.1-8b-instant
[2025-06-17 19:49:18] ERROR    [agent_fsm:680] [7d41a6ad-e177-4adf-979b-efb8947b1047] Error in planning node: The api_key client option must be set either by passing api_key to the client or by setting the GROQ_API_KEY environment variable
[2025-06-17 19:49:18] ERROR    [agent_fsm:971] [7d41a6ad-e177-4adf-979b-efb8947b1047] --- FSM STATE: ERROR ---
[2025-06-17 19:49:18] ERROR    [agent_fsm:973] [7d41a6ad-e177-4adf-979b-efb8947b1047] Errors: ['The api_key client option must be set either by passing api_key to the client or by setting the GROQ_API_KEY environment variable']
[2025-06-17 19:49:18] INFO     [agent_fsm:1526] [7d41a6ad-e177-4adf-979b-efb8947b1047] FSM execution completed successfully
[2025-06-17 19:49:18] INFO     [agent_fsm:217] [c102693c-285d-4d3b-88e3-c982e2432e21] Test structured log
