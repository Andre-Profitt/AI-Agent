[2025-06-17 19:48:10] INFO     [agent_fsm:50] [f939f2a8-545c-4ab7-9435-8fd0d9c06a45] Test message with correlation ID
[2025-06-17 19:48:10] WARNING  [agent_fsm:488] [no-correlation] GROQ_API_KEY not found, some features may be limited
[2025-06-17 19:48:10] INFO     [agent_fsm:547] [no-correlation] Added stub tool: video_analyzer
[2025-06-17 19:48:10] INFO     [agent_fsm:547] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-17 19:48:10] INFO     [agent_fsm:504] [no-correlation] Initializing FSMReActAgent with 3 tools
[2025-06-17 19:48:10] INFO     [agent_fsm:506] [4cca84b3-349b-4dba-a762-0e075f715a1b] Building resilient FSM graph
[2025-06-17 19:48:10] INFO     [agent_fsm:508] [4cca84b3-349b-4dba-a762-0e075f715a1b] FSMReActAgent graph built successfully
[2025-06-17 19:48:10] WARNING  [agent_fsm:488] [no-correlation] GROQ_API_KEY not found, some features may be limited
[2025-06-17 19:48:10] INFO     [agent_fsm:547] [no-correlation] Added stub tool: video_analyzer
[2025-06-17 19:48:10] INFO     [agent_fsm:547] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-17 19:48:10] INFO     [agent_fsm:504] [no-correlation] Initializing FSMReActAgent with 3 tools
[2025-06-17 19:48:10] INFO     [agent_fsm:506] [8198ce4f-e311-43b9-9802-9f72ec45fa33] Building resilient FSM graph
[2025-06-17 19:48:10] INFO     [agent_fsm:508] [8198ce4f-e311-43b9-9802-9f72ec45fa33] FSMReActAgent graph built successfully
[2025-06-17 19:48:10] WARNING  [agent_fsm:488] [no-correlation] GROQ_API_KEY not found, some features may be limited
[2025-06-17 19:48:10] INFO     [agent_fsm:547] [no-correlation] Added stub tool: video_analyzer
[2025-06-17 19:48:10] INFO     [agent_fsm:547] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-17 19:48:10] INFO     [agent_fsm:504] [no-correlation] Initializing FSMReActAgent with 3 tools
[2025-06-17 19:48:10] INFO     [agent_fsm:506] [d3c12833-afc0-409a-ad64-3aec1bc4021c] Building resilient FSM graph
[2025-06-17 19:48:10] INFO     [agent_fsm:508] [d3c12833-afc0-409a-ad64-3aec1bc4021c] FSMReActAgent graph built successfully
[2025-06-17 19:48:10] INFO     [agent_fsm:1480] [dc1adb8e-00e7-42bc-9880-5def19b452b2] Starting resilient FSM execution
[2025-06-17 19:48:10] INFO     [agent_fsm:1513] [dc1adb8e-00e7-42bc-9880-5def19b452b2] FSM STATE: INITIAL
[2025-06-17 19:48:10] INFO     [agent_fsm:601] [dc1adb8e-00e7-42bc-9880-5def19b452b2] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-17 19:48:10] ERROR    [agent_fsm:582] [dc1adb8e-00e7-42bc-9880-5def19b452b2] Failed to initialize ChatGroq with model llama-3.1-8b-instant: The api_key client option must be set either by passing api_key to the client or by setting the GROQ_API_KEY environment variable
[2025-06-17 19:48:10] WARNING  [agent_fsm:585] [dc1adb8e-00e7-42bc-9880-5def19b452b2] Falling back to llama-3.1-8b-instant
[2025-06-17 19:48:10] ERROR    [agent_fsm:680] [dc1adb8e-00e7-42bc-9880-5def19b452b2] Error in planning node: The api_key client option must be set either by passing api_key to the client or by setting the GROQ_API_KEY environment variable
[2025-06-17 19:48:10] ERROR    [agent_fsm:1543] [dc1adb8e-00e7-42bc-9880-5def19b452b2] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 574, in _get_llm
    return ChatGroq(
        temperature=temperature,
    ...<3 lines>...
        request_timeout=90
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langchain_core/load/serializable.py", line 130, in __init__
    super().__init__(*args, **kwargs)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pydantic/main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langchain_groq/chat_models.py", line 411, in validate_environment
    self.client = groq.Groq(
                  ~~~~~~~~~^
        **client_params, **sync_specific
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).chat.completions
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/groq/_client.py", line 79, in __init__
    raise GroqError(
        "The api_key client option must be set either by passing api_key to the client or by setting the GROQ_API_KEY environment variable"
    )
groq.GroqError: The api_key client option must be set either by passing api_key to the client or by setting the GROQ_API_KEY environment variable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 648, in planning_node
    llm = self._get_llm(task_type="reasoning")
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 586, in _get_llm
    return ChatGroq(
        temperature=0.1,
    ...<3 lines>...
        request_timeout=60
    )
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langchain_core/load/serializable.py", line 130, in __init__
    super().__init__(*args, **kwargs)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/pydantic/main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langchain_groq/chat_models.py", line 411, in validate_environment
    self.client = groq.Groq(
                  ~~~~~~~~~^
        **client_params, **sync_specific
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ).chat.completions
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/groq/_client.py", line 79, in __init__
    raise GroqError(
        "The api_key client option must be set either by passing api_key to the client or by setting the GROQ_API_KEY environment variable"
    )
groq.GroqError: The api_key client option must be set either by passing api_key to the client or by setting the GROQ_API_KEY environment variable

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1516, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2436, in stream
    for _ in runner.tick(
             ~~~~~~~~~~~^
        [t for t in loop.tasks.values() if not t.writes],
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        schedule_task=loop.accept_push,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ):
    ^
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 682, in planning_node
    "current_fsm_state": FSMState.ERROR,
                         ^^^^^^^^^^^^^^
AttributeError: type object 'FSMState' has no attribute 'ERROR'
During task with name 'planning_node' and id 'db27b037-09ba-77f4-e9e4-0f5c0091659d'
[2025-06-17 19:48:10] INFO     [agent_fsm:217] [96755356-f64e-4b4d-a2b4-2f8222e0f76d] Test structured log
[2025-06-17 19:49:18] INFO     [agent_fsm:50] [528d3a7e-82d6-44be-bb9c-85d9c8118b5f] Test message with correlation ID
[2025-06-17 19:49:18] WARNING  [agent_fsm:488] [no-correlation] GROQ_API_KEY not found, some features may be limited
[2025-06-17 19:49:18] INFO     [agent_fsm:547] [no-correlation] Added stub tool: video_analyzer
[2025-06-17 19:49:18] INFO     [agent_fsm:547] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-17 19:49:18] INFO     [agent_fsm:504] [no-correlation] Initializing FSMReActAgent with 3 tools
[2025-06-17 19:49:18] INFO     [agent_fsm:506] [4688ad32-d2fb-47eb-9881-78492e370886] Building resilient FSM graph
[2025-06-17 19:49:18] INFO     [agent_fsm:508] [4688ad32-d2fb-47eb-9881-78492e370886] FSMReActAgent graph built successfully
[2025-06-17 19:49:18] WARNING  [agent_fsm:488] [no-correlation] GROQ_API_KEY not found, some features may be limited
[2025-06-17 19:49:18] INFO     [agent_fsm:547] [no-correlation] Added stub tool: video_analyzer
[2025-06-17 19:49:18] INFO     [agent_fsm:547] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-17 19:49:18] INFO     [agent_fsm:504] [no-correlation] Initializing FSMReActAgent with 3 tools
[2025-06-17 19:49:18] INFO     [agent_fsm:506] [0c292aaf-b862-4278-8b93-25de303e6740] Building resilient FSM graph
[2025-06-17 19:49:18] INFO     [agent_fsm:508] [0c292aaf-b862-4278-8b93-25de303e6740] FSMReActAgent graph built successfully
[2025-06-17 19:49:18] WARNING  [agent_fsm:488] [no-correlation] GROQ_API_KEY not found, some features may be limited
[2025-06-17 19:49:18] INFO     [agent_fsm:547] [no-correlation] Added stub tool: video_analyzer
[2025-06-17 19:49:18] INFO     [agent_fsm:547] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-17 19:49:18] INFO     [agent_fsm:504] [no-correlation] Initializing FSMReActAgent with 3 tools
[2025-06-17 19:49:18] INFO     [agent_fsm:506] [7c9fd15c-4217-461a-9b43-a53a91554f40] Building resilient FSM graph
[2025-06-17 19:49:18] INFO     [agent_fsm:508] [7c9fd15c-4217-461a-9b43-a53a91554f40] FSMReActAgent graph built successfully
[2025-06-17 19:49:18] INFO     [agent_fsm:1481] [7d41a6ad-e177-4adf-979b-efb8947b1047] Starting resilient FSM execution
[2025-06-17 19:49:18] INFO     [agent_fsm:1514] [7d41a6ad-e177-4adf-979b-efb8947b1047] FSM STATE: INITIAL
[2025-06-17 19:49:18] INFO     [agent_fsm:601] [7d41a6ad-e177-4adf-979b-efb8947b1047] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-17 19:49:18] ERROR    [agent_fsm:582] [7d41a6ad-e177-4adf-979b-efb8947b1047] Failed to initialize ChatGroq with model llama-3.1-8b-instant: The api_key client option must be set either by passing api_key to the client or by setting the GROQ_API_KEY environment variable
[2025-06-17 19:49:18] WARNING  [agent_fsm:585] [7d41a6ad-e177-4adf-979b-efb8947b1047] Falling back to llama-3.1-8b-instant
[2025-06-17 19:49:18] ERROR    [agent_fsm:680] [7d41a6ad-e177-4adf-979b-efb8947b1047] Error in planning node: The api_key client option must be set either by passing api_key to the client or by setting the GROQ_API_KEY environment variable
[2025-06-17 19:49:18] ERROR    [agent_fsm:971] [7d41a6ad-e177-4adf-979b-efb8947b1047] --- FSM STATE: ERROR ---
[2025-06-17 19:49:18] ERROR    [agent_fsm:973] [7d41a6ad-e177-4adf-979b-efb8947b1047] Errors: ['The api_key client option must be set either by passing api_key to the client or by setting the GROQ_API_KEY environment variable']
[2025-06-17 19:49:18] INFO     [agent_fsm:1526] [7d41a6ad-e177-4adf-979b-efb8947b1047] FSM execution completed successfully
[2025-06-17 19:49:18] INFO     [agent_fsm:217] [c102693c-285d-4d3b-88e3-c982e2432e21] Test structured log
[2025-06-18 12:23:51] WARNING  [agent_fsm:552] [no-correlation] GROQ_API_KEY not found, some features may be limited
[2025-06-18 12:23:51] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 12:23:51] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 12:23:51] INFO     [agent_fsm:570] [5ba3cdb2-6b25-499f-a8e7-35ee9e32f60f] Building resilient FSM graph
[2025-06-18 12:23:51] INFO     [agent_fsm:572] [5ba3cdb2-6b25-499f-a8e7-35ee9e32f60f] FSMReActAgent graph built successfully
[2025-06-18 12:23:51] INFO     [agent_fsm:1752] [158b1079-2738-498b-baf8-bf2ec0a75938] Starting resilient FSM execution
[2025-06-18 12:23:51] INFO     [agent_fsm:1807] [158b1079-2738-498b-baf8-bf2ec0a75938] FSM STATE: INITIAL
[2025-06-18 12:23:51] INFO     [agent_fsm:665] [158b1079-2738-498b-baf8-bf2ec0a75938] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:23:51] DEBUG    [agent_fsm:680] [158b1079-2738-498b-baf8-bf2ec0a75938] Turn count: 1, Action history length: 1
[2025-06-18 12:23:51] ERROR    [agent_fsm:646] [158b1079-2738-498b-baf8-bf2ec0a75938] Failed to initialize ChatGroq with model llama-3.1-8b-instant: The api_key client option must be set either by passing api_key to the client or by setting the GROQ_API_KEY environment variable
[2025-06-18 12:23:51] WARNING  [agent_fsm:649] [158b1079-2738-498b-baf8-bf2ec0a75938] Falling back to llama-3.1-8b-instant
[2025-06-18 12:23:51] ERROR    [agent_fsm:763] [158b1079-2738-498b-baf8-bf2ec0a75938] Error in planning node: The api_key client option must be set either by passing api_key to the client or by setting the GROQ_API_KEY environment variable
[2025-06-18 12:23:51] ERROR    [agent_fsm:1078] [158b1079-2738-498b-baf8-bf2ec0a75938] --- FSM STATE: ERROR ---
[2025-06-18 12:23:51] ERROR    [agent_fsm:1101] [158b1079-2738-498b-baf8-bf2ec0a75938] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:23:51] ERROR    [agent_fsm:1102] [158b1079-2738-498b-baf8-bf2ec0a75938] Errors: ['The api_key client option must be set either by passing api_key to the client or by setting the GROQ_API_KEY environment variable']
[2025-06-18 12:23:51] INFO     [agent_fsm:1819] [158b1079-2738-498b-baf8-bf2ec0a75938] FSM execution completed successfully
[2025-06-18 12:23:51] INFO     [agent_fsm:1752] [073ebf63-2d14-4dc4-a3ec-c268c2d62c6c] Starting resilient FSM execution
[2025-06-18 12:23:51] INFO     [agent_fsm:1807] [073ebf63-2d14-4dc4-a3ec-c268c2d62c6c] FSM STATE: INITIAL
[2025-06-18 12:23:51] INFO     [agent_fsm:665] [073ebf63-2d14-4dc4-a3ec-c268c2d62c6c] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:23:51] DEBUG    [agent_fsm:680] [073ebf63-2d14-4dc4-a3ec-c268c2d62c6c] Turn count: 1, Action history length: 1
[2025-06-18 12:23:51] ERROR    [agent_fsm:646] [073ebf63-2d14-4dc4-a3ec-c268c2d62c6c] Failed to initialize ChatGroq with model llama-3.1-8b-instant: The api_key client option must be set either by passing api_key to the client or by setting the GROQ_API_KEY environment variable
[2025-06-18 12:23:51] WARNING  [agent_fsm:649] [073ebf63-2d14-4dc4-a3ec-c268c2d62c6c] Falling back to llama-3.1-8b-instant
[2025-06-18 12:23:51] ERROR    [agent_fsm:763] [073ebf63-2d14-4dc4-a3ec-c268c2d62c6c] Error in planning node: The api_key client option must be set either by passing api_key to the client or by setting the GROQ_API_KEY environment variable
[2025-06-18 12:23:51] ERROR    [agent_fsm:1078] [073ebf63-2d14-4dc4-a3ec-c268c2d62c6c] --- FSM STATE: ERROR ---
[2025-06-18 12:23:51] ERROR    [agent_fsm:1101] [073ebf63-2d14-4dc4-a3ec-c268c2d62c6c] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:23:51] ERROR    [agent_fsm:1102] [073ebf63-2d14-4dc4-a3ec-c268c2d62c6c] Errors: ['The api_key client option must be set either by passing api_key to the client or by setting the GROQ_API_KEY environment variable']
[2025-06-18 12:23:51] INFO     [agent_fsm:1819] [073ebf63-2d14-4dc4-a3ec-c268c2d62c6c] FSM execution completed successfully
[2025-06-18 12:23:51] INFO     [agent_fsm:1752] [b865a6de-4cd8-4a08-a80d-09e28938b241] Starting resilient FSM execution
[2025-06-18 12:23:51] INFO     [agent_fsm:1807] [b865a6de-4cd8-4a08-a80d-09e28938b241] FSM STATE: INITIAL
[2025-06-18 12:23:51] INFO     [agent_fsm:665] [b865a6de-4cd8-4a08-a80d-09e28938b241] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:23:51] DEBUG    [agent_fsm:680] [b865a6de-4cd8-4a08-a80d-09e28938b241] Turn count: 1, Action history length: 1
[2025-06-18 12:23:51] ERROR    [agent_fsm:646] [b865a6de-4cd8-4a08-a80d-09e28938b241] Failed to initialize ChatGroq with model llama-3.1-8b-instant: The api_key client option must be set either by passing api_key to the client or by setting the GROQ_API_KEY environment variable
[2025-06-18 12:23:51] WARNING  [agent_fsm:649] [b865a6de-4cd8-4a08-a80d-09e28938b241] Falling back to llama-3.1-8b-instant
[2025-06-18 12:23:51] ERROR    [agent_fsm:763] [b865a6de-4cd8-4a08-a80d-09e28938b241] Error in planning node: The api_key client option must be set either by passing api_key to the client or by setting the GROQ_API_KEY environment variable
[2025-06-18 12:23:51] ERROR    [agent_fsm:1078] [b865a6de-4cd8-4a08-a80d-09e28938b241] --- FSM STATE: ERROR ---
[2025-06-18 12:23:51] ERROR    [agent_fsm:1101] [b865a6de-4cd8-4a08-a80d-09e28938b241] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:23:51] ERROR    [agent_fsm:1102] [b865a6de-4cd8-4a08-a80d-09e28938b241] Errors: ['The api_key client option must be set either by passing api_key to the client or by setting the GROQ_API_KEY environment variable']
[2025-06-18 12:23:51] INFO     [agent_fsm:1819] [b865a6de-4cd8-4a08-a80d-09e28938b241] FSM execution completed successfully
[2025-06-18 12:23:51] INFO     [agent_fsm:1752] [19b492c1-f496-4f58-8288-9b00c890fd13] Starting resilient FSM execution
[2025-06-18 12:23:51] INFO     [agent_fsm:1807] [19b492c1-f496-4f58-8288-9b00c890fd13] FSM STATE: INITIAL
[2025-06-18 12:23:51] INFO     [agent_fsm:665] [19b492c1-f496-4f58-8288-9b00c890fd13] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:23:51] DEBUG    [agent_fsm:680] [19b492c1-f496-4f58-8288-9b00c890fd13] Turn count: 1, Action history length: 1
[2025-06-18 12:23:51] ERROR    [agent_fsm:646] [19b492c1-f496-4f58-8288-9b00c890fd13] Failed to initialize ChatGroq with model llama-3.1-8b-instant: The api_key client option must be set either by passing api_key to the client or by setting the GROQ_API_KEY environment variable
[2025-06-18 12:23:51] WARNING  [agent_fsm:649] [19b492c1-f496-4f58-8288-9b00c890fd13] Falling back to llama-3.1-8b-instant
[2025-06-18 12:23:51] ERROR    [agent_fsm:763] [19b492c1-f496-4f58-8288-9b00c890fd13] Error in planning node: The api_key client option must be set either by passing api_key to the client or by setting the GROQ_API_KEY environment variable
[2025-06-18 12:23:51] ERROR    [agent_fsm:1078] [19b492c1-f496-4f58-8288-9b00c890fd13] --- FSM STATE: ERROR ---
[2025-06-18 12:23:51] ERROR    [agent_fsm:1101] [19b492c1-f496-4f58-8288-9b00c890fd13] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:23:51] ERROR    [agent_fsm:1102] [19b492c1-f496-4f58-8288-9b00c890fd13] Errors: ['The api_key client option must be set either by passing api_key to the client or by setting the GROQ_API_KEY environment variable']
[2025-06-18 12:23:51] INFO     [agent_fsm:1819] [19b492c1-f496-4f58-8288-9b00c890fd13] FSM execution completed successfully
[2025-06-18 12:23:51] INFO     [agent_fsm:1752] [0a1e481b-9af4-45e5-8661-7f329606648f] Starting resilient FSM execution
[2025-06-18 12:23:51] INFO     [agent_fsm:1807] [0a1e481b-9af4-45e5-8661-7f329606648f] FSM STATE: INITIAL
[2025-06-18 12:23:51] INFO     [agent_fsm:665] [0a1e481b-9af4-45e5-8661-7f329606648f] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:23:51] DEBUG    [agent_fsm:680] [0a1e481b-9af4-45e5-8661-7f329606648f] Turn count: 1, Action history length: 1
[2025-06-18 12:23:51] ERROR    [agent_fsm:646] [0a1e481b-9af4-45e5-8661-7f329606648f] Failed to initialize ChatGroq with model llama-3.1-8b-instant: The api_key client option must be set either by passing api_key to the client or by setting the GROQ_API_KEY environment variable
[2025-06-18 12:23:51] WARNING  [agent_fsm:649] [0a1e481b-9af4-45e5-8661-7f329606648f] Falling back to llama-3.1-8b-instant
[2025-06-18 12:23:51] ERROR    [agent_fsm:763] [0a1e481b-9af4-45e5-8661-7f329606648f] Error in planning node: The api_key client option must be set either by passing api_key to the client or by setting the GROQ_API_KEY environment variable
[2025-06-18 12:23:51] ERROR    [agent_fsm:1078] [0a1e481b-9af4-45e5-8661-7f329606648f] --- FSM STATE: ERROR ---
[2025-06-18 12:23:51] ERROR    [agent_fsm:1101] [0a1e481b-9af4-45e5-8661-7f329606648f] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:23:51] ERROR    [agent_fsm:1102] [0a1e481b-9af4-45e5-8661-7f329606648f] Errors: ['The api_key client option must be set either by passing api_key to the client or by setting the GROQ_API_KEY environment variable']
[2025-06-18 12:23:51] INFO     [agent_fsm:1819] [0a1e481b-9af4-45e5-8661-7f329606648f] FSM execution completed successfully
[2025-06-18 12:23:51] WARNING  [agent_fsm:552] [no-correlation] GROQ_API_KEY not found, some features may be limited
[2025-06-18 12:23:51] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 12:23:51] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 12:23:51] INFO     [agent_fsm:570] [3654673d-b60f-4599-9a21-d7e2a958b2f7] Building resilient FSM graph
[2025-06-18 12:23:51] INFO     [agent_fsm:572] [3654673d-b60f-4599-9a21-d7e2a958b2f7] FSMReActAgent graph built successfully
[2025-06-18 12:23:51] INFO     [agent_fsm:1752] [47e1cfba-7748-4f78-99ba-8c28f7648de7] Starting resilient FSM execution
[2025-06-18 12:23:51] INFO     [agent_fsm:1807] [47e1cfba-7748-4f78-99ba-8c28f7648de7] FSM STATE: INITIAL
[2025-06-18 12:23:51] INFO     [agent_fsm:665] [47e1cfba-7748-4f78-99ba-8c28f7648de7] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:23:51] DEBUG    [agent_fsm:680] [47e1cfba-7748-4f78-99ba-8c28f7648de7] Turn count: 1, Action history length: 1
[2025-06-18 12:23:51] ERROR    [agent_fsm:646] [47e1cfba-7748-4f78-99ba-8c28f7648de7] Failed to initialize ChatGroq with model llama-3.1-8b-instant: The api_key client option must be set either by passing api_key to the client or by setting the GROQ_API_KEY environment variable
[2025-06-18 12:23:51] WARNING  [agent_fsm:649] [47e1cfba-7748-4f78-99ba-8c28f7648de7] Falling back to llama-3.1-8b-instant
[2025-06-18 12:23:51] ERROR    [agent_fsm:763] [47e1cfba-7748-4f78-99ba-8c28f7648de7] Error in planning node: The api_key client option must be set either by passing api_key to the client or by setting the GROQ_API_KEY environment variable
[2025-06-18 12:23:51] ERROR    [agent_fsm:1078] [47e1cfba-7748-4f78-99ba-8c28f7648de7] --- FSM STATE: ERROR ---
[2025-06-18 12:23:51] ERROR    [agent_fsm:1101] [47e1cfba-7748-4f78-99ba-8c28f7648de7] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:23:51] ERROR    [agent_fsm:1102] [47e1cfba-7748-4f78-99ba-8c28f7648de7] Errors: ['The api_key client option must be set either by passing api_key to the client or by setting the GROQ_API_KEY environment variable']
[2025-06-18 12:23:51] INFO     [agent_fsm:1819] [47e1cfba-7748-4f78-99ba-8c28f7648de7] FSM execution completed successfully
[2025-06-18 12:23:51] INFO     [agent_fsm:1752] [6b8a0f4a-9da0-45af-9f0a-a77b8da9a9ca] Starting resilient FSM execution
[2025-06-18 12:23:51] INFO     [agent_fsm:1807] [6b8a0f4a-9da0-45af-9f0a-a77b8da9a9ca] FSM STATE: INITIAL
[2025-06-18 12:23:51] INFO     [agent_fsm:665] [6b8a0f4a-9da0-45af-9f0a-a77b8da9a9ca] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:23:51] DEBUG    [agent_fsm:680] [6b8a0f4a-9da0-45af-9f0a-a77b8da9a9ca] Turn count: 1, Action history length: 1
[2025-06-18 12:23:51] ERROR    [agent_fsm:646] [6b8a0f4a-9da0-45af-9f0a-a77b8da9a9ca] Failed to initialize ChatGroq with model llama-3.1-8b-instant: The api_key client option must be set either by passing api_key to the client or by setting the GROQ_API_KEY environment variable
[2025-06-18 12:23:51] WARNING  [agent_fsm:649] [6b8a0f4a-9da0-45af-9f0a-a77b8da9a9ca] Falling back to llama-3.1-8b-instant
[2025-06-18 12:23:51] ERROR    [agent_fsm:763] [6b8a0f4a-9da0-45af-9f0a-a77b8da9a9ca] Error in planning node: The api_key client option must be set either by passing api_key to the client or by setting the GROQ_API_KEY environment variable
[2025-06-18 12:23:51] ERROR    [agent_fsm:1078] [6b8a0f4a-9da0-45af-9f0a-a77b8da9a9ca] --- FSM STATE: ERROR ---
[2025-06-18 12:23:51] ERROR    [agent_fsm:1101] [6b8a0f4a-9da0-45af-9f0a-a77b8da9a9ca] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:23:51] ERROR    [agent_fsm:1102] [6b8a0f4a-9da0-45af-9f0a-a77b8da9a9ca] Errors: ['The api_key client option must be set either by passing api_key to the client or by setting the GROQ_API_KEY environment variable']
[2025-06-18 12:23:51] INFO     [agent_fsm:1819] [6b8a0f4a-9da0-45af-9f0a-a77b8da9a9ca] FSM execution completed successfully
[2025-06-18 12:23:51] INFO     [agent_fsm:1752] [2c6c9f2d-c634-48c6-b3f9-fed5480777ea] Starting resilient FSM execution
[2025-06-18 12:23:51] INFO     [agent_fsm:1807] [2c6c9f2d-c634-48c6-b3f9-fed5480777ea] FSM STATE: INITIAL
[2025-06-18 12:23:51] INFO     [agent_fsm:665] [2c6c9f2d-c634-48c6-b3f9-fed5480777ea] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:23:51] DEBUG    [agent_fsm:680] [2c6c9f2d-c634-48c6-b3f9-fed5480777ea] Turn count: 1, Action history length: 1
[2025-06-18 12:23:51] ERROR    [agent_fsm:646] [2c6c9f2d-c634-48c6-b3f9-fed5480777ea] Failed to initialize ChatGroq with model llama-3.1-8b-instant: The api_key client option must be set either by passing api_key to the client or by setting the GROQ_API_KEY environment variable
[2025-06-18 12:23:51] WARNING  [agent_fsm:649] [2c6c9f2d-c634-48c6-b3f9-fed5480777ea] Falling back to llama-3.1-8b-instant
[2025-06-18 12:23:51] ERROR    [agent_fsm:763] [2c6c9f2d-c634-48c6-b3f9-fed5480777ea] Error in planning node: The api_key client option must be set either by passing api_key to the client or by setting the GROQ_API_KEY environment variable
[2025-06-18 12:23:51] ERROR    [agent_fsm:1078] [2c6c9f2d-c634-48c6-b3f9-fed5480777ea] --- FSM STATE: ERROR ---
[2025-06-18 12:23:51] ERROR    [agent_fsm:1101] [2c6c9f2d-c634-48c6-b3f9-fed5480777ea] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:23:51] ERROR    [agent_fsm:1102] [2c6c9f2d-c634-48c6-b3f9-fed5480777ea] Errors: ['The api_key client option must be set either by passing api_key to the client or by setting the GROQ_API_KEY environment variable']
[2025-06-18 12:23:51] INFO     [agent_fsm:1819] [2c6c9f2d-c634-48c6-b3f9-fed5480777ea] FSM execution completed successfully
[2025-06-18 12:23:51] INFO     [agent_fsm:1752] [099f1b08-9085-41ad-9a4e-73521fbdcb64] Starting resilient FSM execution
[2025-06-18 12:23:51] INFO     [agent_fsm:1807] [099f1b08-9085-41ad-9a4e-73521fbdcb64] FSM STATE: INITIAL
[2025-06-18 12:23:51] INFO     [agent_fsm:665] [099f1b08-9085-41ad-9a4e-73521fbdcb64] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:23:51] DEBUG    [agent_fsm:680] [099f1b08-9085-41ad-9a4e-73521fbdcb64] Turn count: 1, Action history length: 1
[2025-06-18 12:23:51] ERROR    [agent_fsm:646] [099f1b08-9085-41ad-9a4e-73521fbdcb64] Failed to initialize ChatGroq with model llama-3.1-8b-instant: The api_key client option must be set either by passing api_key to the client or by setting the GROQ_API_KEY environment variable
[2025-06-18 12:23:51] WARNING  [agent_fsm:649] [099f1b08-9085-41ad-9a4e-73521fbdcb64] Falling back to llama-3.1-8b-instant
[2025-06-18 12:23:51] ERROR    [agent_fsm:763] [099f1b08-9085-41ad-9a4e-73521fbdcb64] Error in planning node: The api_key client option must be set either by passing api_key to the client or by setting the GROQ_API_KEY environment variable
[2025-06-18 12:23:51] ERROR    [agent_fsm:1078] [099f1b08-9085-41ad-9a4e-73521fbdcb64] --- FSM STATE: ERROR ---
[2025-06-18 12:23:51] ERROR    [agent_fsm:1101] [099f1b08-9085-41ad-9a4e-73521fbdcb64] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:23:51] ERROR    [agent_fsm:1102] [099f1b08-9085-41ad-9a4e-73521fbdcb64] Errors: ['The api_key client option must be set either by passing api_key to the client or by setting the GROQ_API_KEY environment variable']
[2025-06-18 12:23:51] INFO     [agent_fsm:1819] [099f1b08-9085-41ad-9a4e-73521fbdcb64] FSM execution completed successfully
[2025-06-18 12:23:51] INFO     [agent_fsm:1752] [e922aa40-a298-4717-8324-0ae8ed71de01] Starting resilient FSM execution
[2025-06-18 12:23:51] INFO     [agent_fsm:1807] [e922aa40-a298-4717-8324-0ae8ed71de01] FSM STATE: INITIAL
[2025-06-18 12:23:51] INFO     [agent_fsm:665] [e922aa40-a298-4717-8324-0ae8ed71de01] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:23:51] DEBUG    [agent_fsm:680] [e922aa40-a298-4717-8324-0ae8ed71de01] Turn count: 1, Action history length: 1
[2025-06-18 12:23:51] ERROR    [agent_fsm:646] [e922aa40-a298-4717-8324-0ae8ed71de01] Failed to initialize ChatGroq with model llama-3.1-8b-instant: The api_key client option must be set either by passing api_key to the client or by setting the GROQ_API_KEY environment variable
[2025-06-18 12:23:51] WARNING  [agent_fsm:649] [e922aa40-a298-4717-8324-0ae8ed71de01] Falling back to llama-3.1-8b-instant
[2025-06-18 12:23:51] ERROR    [agent_fsm:763] [e922aa40-a298-4717-8324-0ae8ed71de01] Error in planning node: The api_key client option must be set either by passing api_key to the client or by setting the GROQ_API_KEY environment variable
[2025-06-18 12:23:51] ERROR    [agent_fsm:1078] [e922aa40-a298-4717-8324-0ae8ed71de01] --- FSM STATE: ERROR ---
[2025-06-18 12:23:51] ERROR    [agent_fsm:1101] [e922aa40-a298-4717-8324-0ae8ed71de01] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:23:51] ERROR    [agent_fsm:1102] [e922aa40-a298-4717-8324-0ae8ed71de01] Errors: ['The api_key client option must be set either by passing api_key to the client or by setting the GROQ_API_KEY environment variable']
[2025-06-18 12:23:51] INFO     [agent_fsm:1819] [e922aa40-a298-4717-8324-0ae8ed71de01] FSM execution completed successfully
[2025-06-18 12:26:51] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 12:26:51] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 12:26:51] INFO     [agent_fsm:570] [32955ffd-e32d-4649-9074-0d93eb71bba5] Building resilient FSM graph
[2025-06-18 12:26:51] INFO     [agent_fsm:572] [32955ffd-e32d-4649-9074-0d93eb71bba5] FSMReActAgent graph built successfully
[2025-06-18 12:26:51] INFO     [agent_fsm:1752] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Starting resilient FSM execution
[2025-06-18 12:26:51] INFO     [agent_fsm:1807] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] FSM STATE: INITIAL
[2025-06-18 12:26:51] INFO     [agent_fsm:665] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:26:51] DEBUG    [agent_fsm:680] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Turn count: 1, Action history length: 1
[2025-06-18 12:26:53] ERROR    [agent_fsm:1359] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:26:53] INFO     [agent_fsm:773] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:26:53] INFO     [agent_fsm:820] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Executing tool: web_researcher with input: {'query': 'Capital of France', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 12:26:53] INFO     [agent_fsm:922] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Tool execution completed
[2025-06-18 12:26:53] INFO     [agent_fsm:773] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:26:53] WARNING  [agent_fsm:803] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:26:53] INFO     [agent_fsm:665] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:26:53] DEBUG    [agent_fsm:680] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Turn count: 2, Action history length: 2
[2025-06-18 12:26:54] WARNING  [agent_fsm:1521] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:26:54] ERROR    [agent_fsm:1359] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:26:54] INFO     [agent_fsm:773] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:26:54] WARNING  [agent_fsm:803] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:26:54] INFO     [agent_fsm:665] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] --- FSM STATE: PLANNING (Step 3) ---
[2025-06-18 12:26:54] DEBUG    [agent_fsm:680] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Turn count: 3, Action history length: 3
[2025-06-18 12:26:55] ERROR    [agent_fsm:1359] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:26:55] WARNING  [agent_fsm:1224] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:55] ERROR    [agent_fsm:1078] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] --- FSM STATE: ERROR ---
[2025-06-18 12:26:55] ERROR    [agent_fsm:1101] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:26:55] ERROR    [agent_fsm:1102] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:55] WARNING  [agent_fsm:1224] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:55] ERROR    [agent_fsm:1078] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] --- FSM STATE: ERROR ---
[2025-06-18 12:26:55] ERROR    [agent_fsm:1101] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:26:55] ERROR    [agent_fsm:1102] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:55] WARNING  [agent_fsm:1224] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:55] ERROR    [agent_fsm:1078] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] --- FSM STATE: ERROR ---
[2025-06-18 12:26:55] ERROR    [agent_fsm:1101] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:26:55] ERROR    [agent_fsm:1102] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:55] WARNING  [agent_fsm:1224] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:55] ERROR    [agent_fsm:1078] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] --- FSM STATE: ERROR ---
[2025-06-18 12:26:55] ERROR    [agent_fsm:1101] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:26:55] ERROR    [agent_fsm:1102] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:55] WARNING  [agent_fsm:1224] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:55] ERROR    [agent_fsm:1078] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] --- FSM STATE: ERROR ---
[2025-06-18 12:26:55] ERROR    [agent_fsm:1101] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:26:55] ERROR    [agent_fsm:1102] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:55] WARNING  [agent_fsm:1224] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:55] ERROR    [agent_fsm:1078] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] --- FSM STATE: ERROR ---
[2025-06-18 12:26:55] ERROR    [agent_fsm:1101] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:26:55] ERROR    [agent_fsm:1102] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:55] WARNING  [agent_fsm:1224] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:55] ERROR    [agent_fsm:1078] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] --- FSM STATE: ERROR ---
[2025-06-18 12:26:55] ERROR    [agent_fsm:1101] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:26:55] ERROR    [agent_fsm:1102] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:55] WARNING  [agent_fsm:1224] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:55] ERROR    [agent_fsm:1078] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] --- FSM STATE: ERROR ---
[2025-06-18 12:26:55] ERROR    [agent_fsm:1101] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:26:55] ERROR    [agent_fsm:1102] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:55] WARNING  [agent_fsm:1224] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:55] ERROR    [agent_fsm:1078] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] --- FSM STATE: ERROR ---
[2025-06-18 12:26:55] ERROR    [agent_fsm:1101] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:26:55] ERROR    [agent_fsm:1102] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:55] WARNING  [agent_fsm:1224] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:55] ERROR    [agent_fsm:1078] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] --- FSM STATE: ERROR ---
[2025-06-18 12:26:55] ERROR    [agent_fsm:1101] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:26:55] ERROR    [agent_fsm:1102] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:55] WARNING  [agent_fsm:1224] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:55] ERROR    [agent_fsm:1078] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] --- FSM STATE: ERROR ---
[2025-06-18 12:26:55] ERROR    [agent_fsm:1101] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:26:55] ERROR    [agent_fsm:1102] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:55] WARNING  [agent_fsm:1224] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:55] ERROR    [agent_fsm:1078] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] --- FSM STATE: ERROR ---
[2025-06-18 12:26:55] ERROR    [agent_fsm:1101] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:26:55] ERROR    [agent_fsm:1102] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:55] WARNING  [agent_fsm:1224] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:55] ERROR    [agent_fsm:1078] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] --- FSM STATE: ERROR ---
[2025-06-18 12:26:55] ERROR    [agent_fsm:1101] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:26:55] ERROR    [agent_fsm:1102] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:55] WARNING  [agent_fsm:1224] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:55] ERROR    [agent_fsm:1078] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] --- FSM STATE: ERROR ---
[2025-06-18 12:26:55] ERROR    [agent_fsm:1101] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:26:55] ERROR    [agent_fsm:1102] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:55] WARNING  [agent_fsm:1224] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:55] ERROR    [agent_fsm:1078] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] --- FSM STATE: ERROR ---
[2025-06-18 12:26:55] ERROR    [agent_fsm:1101] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:26:55] ERROR    [agent_fsm:1102] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:55] WARNING  [agent_fsm:1224] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:55] ERROR    [agent_fsm:1078] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] --- FSM STATE: ERROR ---
[2025-06-18 12:26:55] ERROR    [agent_fsm:1101] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:26:55] ERROR    [agent_fsm:1102] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:55] WARNING  [agent_fsm:1224] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:55] ERROR    [agent_fsm:1078] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] --- FSM STATE: ERROR ---
[2025-06-18 12:26:55] ERROR    [agent_fsm:1101] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:26:55] ERROR    [agent_fsm:1102] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:55] WARNING  [agent_fsm:1224] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:55] ERROR    [agent_fsm:1078] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] --- FSM STATE: ERROR ---
[2025-06-18 12:26:55] ERROR    [agent_fsm:1101] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:26:55] ERROR    [agent_fsm:1102] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:55] WARNING  [agent_fsm:1224] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:55] ERROR    [agent_fsm:1078] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] --- FSM STATE: ERROR ---
[2025-06-18 12:26:55] ERROR    [agent_fsm:1101] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Error category: GENERAL, Occurrences: 19
[2025-06-18 12:26:55] ERROR    [agent_fsm:1102] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:55] WARNING  [agent_fsm:1224] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:55] ERROR    [agent_fsm:1837] [b37fcc46-1a3f-4200-ac88-0d6ef78f15c4] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:26:55] INFO     [agent_fsm:1752] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Starting resilient FSM execution
[2025-06-18 12:26:55] INFO     [agent_fsm:1807] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] FSM STATE: INITIAL
[2025-06-18 12:26:55] INFO     [agent_fsm:665] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:26:55] DEBUG    [agent_fsm:680] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Turn count: 1, Action history length: 1
[2025-06-18 12:26:55] WARNING  [agent_fsm:1521] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:26:55] WARNING  [agent_fsm:1521] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:26:55] WARNING  [agent_fsm:1521] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:26:55] INFO     [agent_fsm:773] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:26:55] INFO     [agent_fsm:820] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Executing tool: web_researcher with input: {'query': 'definition of a leap year', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 12:26:55] INFO     [agent_fsm:922] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Tool execution completed
[2025-06-18 12:26:55] INFO     [agent_fsm:773] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:26:55] WARNING  [agent_fsm:803] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:26:55] INFO     [agent_fsm:665] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:26:55] DEBUG    [agent_fsm:680] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Turn count: 2, Action history length: 2
[2025-06-18 12:26:56] ERROR    [agent_fsm:1359] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:26:56] INFO     [agent_fsm:773] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:26:56] INFO     [agent_fsm:820] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Executing tool: semantic_search_tool with input: {'query': 'characteristics of a leap year', 'filename': 'knowledge_base.csv', 'top_k': 3}
[2025-06-18 12:26:56] INFO     [agent_fsm:922] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Tool execution completed
[2025-06-18 12:26:56] INFO     [agent_fsm:773] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:26:56] WARNING  [agent_fsm:803] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:26:56] INFO     [agent_fsm:665] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:26:56] DEBUG    [agent_fsm:680] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Turn count: 3, Action history length: 3
[2025-06-18 12:26:57] ERROR    [agent_fsm:1359] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:26:57] WARNING  [agent_fsm:1224] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:57] ERROR    [agent_fsm:1078] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] --- FSM STATE: ERROR ---
[2025-06-18 12:26:57] ERROR    [agent_fsm:1101] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:26:57] ERROR    [agent_fsm:1102] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:57] WARNING  [agent_fsm:1224] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:57] ERROR    [agent_fsm:1078] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] --- FSM STATE: ERROR ---
[2025-06-18 12:26:57] ERROR    [agent_fsm:1101] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:26:57] ERROR    [agent_fsm:1102] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:57] WARNING  [agent_fsm:1224] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:57] ERROR    [agent_fsm:1078] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] --- FSM STATE: ERROR ---
[2025-06-18 12:26:57] ERROR    [agent_fsm:1101] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:26:57] ERROR    [agent_fsm:1102] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:57] WARNING  [agent_fsm:1224] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:57] ERROR    [agent_fsm:1078] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] --- FSM STATE: ERROR ---
[2025-06-18 12:26:57] ERROR    [agent_fsm:1101] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:26:57] ERROR    [agent_fsm:1102] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:57] WARNING  [agent_fsm:1224] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:57] ERROR    [agent_fsm:1078] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] --- FSM STATE: ERROR ---
[2025-06-18 12:26:57] ERROR    [agent_fsm:1101] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:26:57] ERROR    [agent_fsm:1102] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:57] WARNING  [agent_fsm:1224] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:57] ERROR    [agent_fsm:1078] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] --- FSM STATE: ERROR ---
[2025-06-18 12:26:57] ERROR    [agent_fsm:1101] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:26:57] ERROR    [agent_fsm:1102] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:57] WARNING  [agent_fsm:1224] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:57] ERROR    [agent_fsm:1078] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] --- FSM STATE: ERROR ---
[2025-06-18 12:26:57] ERROR    [agent_fsm:1101] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:26:57] ERROR    [agent_fsm:1102] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:57] WARNING  [agent_fsm:1224] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:57] ERROR    [agent_fsm:1078] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] --- FSM STATE: ERROR ---
[2025-06-18 12:26:57] ERROR    [agent_fsm:1101] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:26:57] ERROR    [agent_fsm:1102] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:57] WARNING  [agent_fsm:1224] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:57] ERROR    [agent_fsm:1078] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] --- FSM STATE: ERROR ---
[2025-06-18 12:26:57] ERROR    [agent_fsm:1101] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:26:57] ERROR    [agent_fsm:1102] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:57] WARNING  [agent_fsm:1224] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:57] ERROR    [agent_fsm:1078] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] --- FSM STATE: ERROR ---
[2025-06-18 12:26:57] ERROR    [agent_fsm:1101] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:26:57] ERROR    [agent_fsm:1102] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:57] WARNING  [agent_fsm:1224] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:57] ERROR    [agent_fsm:1078] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] --- FSM STATE: ERROR ---
[2025-06-18 12:26:57] ERROR    [agent_fsm:1101] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:26:57] ERROR    [agent_fsm:1102] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:57] WARNING  [agent_fsm:1224] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:57] ERROR    [agent_fsm:1078] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] --- FSM STATE: ERROR ---
[2025-06-18 12:26:57] ERROR    [agent_fsm:1101] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:26:57] ERROR    [agent_fsm:1102] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:57] WARNING  [agent_fsm:1224] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:57] ERROR    [agent_fsm:1078] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] --- FSM STATE: ERROR ---
[2025-06-18 12:26:57] ERROR    [agent_fsm:1101] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:26:57] ERROR    [agent_fsm:1102] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:57] WARNING  [agent_fsm:1224] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:57] ERROR    [agent_fsm:1078] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] --- FSM STATE: ERROR ---
[2025-06-18 12:26:57] ERROR    [agent_fsm:1101] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:26:57] ERROR    [agent_fsm:1102] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:57] WARNING  [agent_fsm:1224] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:57] ERROR    [agent_fsm:1078] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] --- FSM STATE: ERROR ---
[2025-06-18 12:26:57] ERROR    [agent_fsm:1101] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:26:57] ERROR    [agent_fsm:1102] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:57] WARNING  [agent_fsm:1224] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:57] ERROR    [agent_fsm:1078] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] --- FSM STATE: ERROR ---
[2025-06-18 12:26:57] ERROR    [agent_fsm:1101] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:26:57] ERROR    [agent_fsm:1102] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:57] WARNING  [agent_fsm:1224] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:57] ERROR    [agent_fsm:1078] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] --- FSM STATE: ERROR ---
[2025-06-18 12:26:57] ERROR    [agent_fsm:1101] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:26:57] ERROR    [agent_fsm:1102] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:57] WARNING  [agent_fsm:1224] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:57] ERROR    [agent_fsm:1078] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] --- FSM STATE: ERROR ---
[2025-06-18 12:26:57] ERROR    [agent_fsm:1101] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:26:57] ERROR    [agent_fsm:1102] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:57] WARNING  [agent_fsm:1224] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:57] ERROR    [agent_fsm:1837] [cd21c1cb-6632-4e6f-9e95-02ed0a49f86d] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:26:57] INFO     [agent_fsm:1752] [86709222-d90a-4a17-bed1-d673795ae0bb] Starting resilient FSM execution
[2025-06-18 12:26:57] INFO     [agent_fsm:1807] [86709222-d90a-4a17-bed1-d673795ae0bb] FSM STATE: INITIAL
[2025-06-18 12:26:57] INFO     [agent_fsm:665] [86709222-d90a-4a17-bed1-d673795ae0bb] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:26:57] DEBUG    [agent_fsm:680] [86709222-d90a-4a17-bed1-d673795ae0bb] Turn count: 1, Action history length: 1
[2025-06-18 12:26:58] WARNING  [agent_fsm:1521] [86709222-d90a-4a17-bed1-d673795ae0bb] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:26:58] WARNING  [agent_fsm:1521] [86709222-d90a-4a17-bed1-d673795ae0bb] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:26:58] WARNING  [agent_fsm:1521] [86709222-d90a-4a17-bed1-d673795ae0bb] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:26:58] WARNING  [agent_fsm:1521] [86709222-d90a-4a17-bed1-d673795ae0bb] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:26:58] WARNING  [agent_fsm:1521] [86709222-d90a-4a17-bed1-d673795ae0bb] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:26:58] INFO     [agent_fsm:773] [86709222-d90a-4a17-bed1-d673795ae0bb] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:26:58] INFO     [agent_fsm:820] [86709222-d90a-4a17-bed1-d673795ae0bb] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:26:58] INFO     [agent_fsm:922] [86709222-d90a-4a17-bed1-d673795ae0bb] Tool execution completed
[2025-06-18 12:26:58] INFO     [agent_fsm:773] [86709222-d90a-4a17-bed1-d673795ae0bb] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:26:58] WARNING  [agent_fsm:803] [86709222-d90a-4a17-bed1-d673795ae0bb] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:26:58] INFO     [agent_fsm:665] [86709222-d90a-4a17-bed1-d673795ae0bb] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:26:58] DEBUG    [agent_fsm:680] [86709222-d90a-4a17-bed1-d673795ae0bb] Turn count: 2, Action history length: 2
[2025-06-18 12:26:58] WARNING  [agent_fsm:1521] [86709222-d90a-4a17-bed1-d673795ae0bb] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:26:58] INFO     [agent_fsm:773] [86709222-d90a-4a17-bed1-d673795ae0bb] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:26:58] INFO     [agent_fsm:820] [86709222-d90a-4a17-bed1-d673795ae0bb] Executing tool: python_interpreter with input: {'code': 'result = ; print(result)'}
[2025-06-18 12:26:58] INFO     [agent_fsm:922] [86709222-d90a-4a17-bed1-d673795ae0bb] Tool execution completed
[2025-06-18 12:26:58] INFO     [agent_fsm:773] [86709222-d90a-4a17-bed1-d673795ae0bb] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:26:58] WARNING  [agent_fsm:803] [86709222-d90a-4a17-bed1-d673795ae0bb] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:26:58] INFO     [agent_fsm:665] [86709222-d90a-4a17-bed1-d673795ae0bb] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:26:58] DEBUG    [agent_fsm:680] [86709222-d90a-4a17-bed1-d673795ae0bb] Turn count: 3, Action history length: 3
[2025-06-18 12:26:59] WARNING  [agent_fsm:1521] [86709222-d90a-4a17-bed1-d673795ae0bb] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:26:59] WARNING  [agent_fsm:1521] [86709222-d90a-4a17-bed1-d673795ae0bb] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:26:59] WARNING  [agent_fsm:1224] [86709222-d90a-4a17-bed1-d673795ae0bb] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:59] ERROR    [agent_fsm:1078] [86709222-d90a-4a17-bed1-d673795ae0bb] --- FSM STATE: ERROR ---
[2025-06-18 12:26:59] ERROR    [agent_fsm:1101] [86709222-d90a-4a17-bed1-d673795ae0bb] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:26:59] ERROR    [agent_fsm:1102] [86709222-d90a-4a17-bed1-d673795ae0bb] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:59] WARNING  [agent_fsm:1224] [86709222-d90a-4a17-bed1-d673795ae0bb] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:59] ERROR    [agent_fsm:1078] [86709222-d90a-4a17-bed1-d673795ae0bb] --- FSM STATE: ERROR ---
[2025-06-18 12:26:59] ERROR    [agent_fsm:1101] [86709222-d90a-4a17-bed1-d673795ae0bb] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:26:59] ERROR    [agent_fsm:1102] [86709222-d90a-4a17-bed1-d673795ae0bb] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:59] WARNING  [agent_fsm:1224] [86709222-d90a-4a17-bed1-d673795ae0bb] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:59] ERROR    [agent_fsm:1078] [86709222-d90a-4a17-bed1-d673795ae0bb] --- FSM STATE: ERROR ---
[2025-06-18 12:26:59] ERROR    [agent_fsm:1101] [86709222-d90a-4a17-bed1-d673795ae0bb] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:26:59] ERROR    [agent_fsm:1102] [86709222-d90a-4a17-bed1-d673795ae0bb] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:59] WARNING  [agent_fsm:1224] [86709222-d90a-4a17-bed1-d673795ae0bb] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:59] ERROR    [agent_fsm:1078] [86709222-d90a-4a17-bed1-d673795ae0bb] --- FSM STATE: ERROR ---
[2025-06-18 12:26:59] ERROR    [agent_fsm:1101] [86709222-d90a-4a17-bed1-d673795ae0bb] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:26:59] ERROR    [agent_fsm:1102] [86709222-d90a-4a17-bed1-d673795ae0bb] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:59] WARNING  [agent_fsm:1224] [86709222-d90a-4a17-bed1-d673795ae0bb] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:59] ERROR    [agent_fsm:1078] [86709222-d90a-4a17-bed1-d673795ae0bb] --- FSM STATE: ERROR ---
[2025-06-18 12:26:59] ERROR    [agent_fsm:1101] [86709222-d90a-4a17-bed1-d673795ae0bb] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:26:59] ERROR    [agent_fsm:1102] [86709222-d90a-4a17-bed1-d673795ae0bb] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:59] WARNING  [agent_fsm:1224] [86709222-d90a-4a17-bed1-d673795ae0bb] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:59] ERROR    [agent_fsm:1078] [86709222-d90a-4a17-bed1-d673795ae0bb] --- FSM STATE: ERROR ---
[2025-06-18 12:26:59] ERROR    [agent_fsm:1101] [86709222-d90a-4a17-bed1-d673795ae0bb] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:26:59] ERROR    [agent_fsm:1102] [86709222-d90a-4a17-bed1-d673795ae0bb] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:59] WARNING  [agent_fsm:1224] [86709222-d90a-4a17-bed1-d673795ae0bb] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:59] ERROR    [agent_fsm:1078] [86709222-d90a-4a17-bed1-d673795ae0bb] --- FSM STATE: ERROR ---
[2025-06-18 12:26:59] ERROR    [agent_fsm:1101] [86709222-d90a-4a17-bed1-d673795ae0bb] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:26:59] ERROR    [agent_fsm:1102] [86709222-d90a-4a17-bed1-d673795ae0bb] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:59] WARNING  [agent_fsm:1224] [86709222-d90a-4a17-bed1-d673795ae0bb] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:59] ERROR    [agent_fsm:1078] [86709222-d90a-4a17-bed1-d673795ae0bb] --- FSM STATE: ERROR ---
[2025-06-18 12:26:59] ERROR    [agent_fsm:1101] [86709222-d90a-4a17-bed1-d673795ae0bb] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:26:59] ERROR    [agent_fsm:1102] [86709222-d90a-4a17-bed1-d673795ae0bb] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:59] WARNING  [agent_fsm:1224] [86709222-d90a-4a17-bed1-d673795ae0bb] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:59] ERROR    [agent_fsm:1078] [86709222-d90a-4a17-bed1-d673795ae0bb] --- FSM STATE: ERROR ---
[2025-06-18 12:26:59] ERROR    [agent_fsm:1101] [86709222-d90a-4a17-bed1-d673795ae0bb] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:26:59] ERROR    [agent_fsm:1102] [86709222-d90a-4a17-bed1-d673795ae0bb] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:59] WARNING  [agent_fsm:1224] [86709222-d90a-4a17-bed1-d673795ae0bb] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:59] ERROR    [agent_fsm:1078] [86709222-d90a-4a17-bed1-d673795ae0bb] --- FSM STATE: ERROR ---
[2025-06-18 12:26:59] ERROR    [agent_fsm:1101] [86709222-d90a-4a17-bed1-d673795ae0bb] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:26:59] ERROR    [agent_fsm:1102] [86709222-d90a-4a17-bed1-d673795ae0bb] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:59] WARNING  [agent_fsm:1224] [86709222-d90a-4a17-bed1-d673795ae0bb] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:59] ERROR    [agent_fsm:1078] [86709222-d90a-4a17-bed1-d673795ae0bb] --- FSM STATE: ERROR ---
[2025-06-18 12:26:59] ERROR    [agent_fsm:1101] [86709222-d90a-4a17-bed1-d673795ae0bb] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:26:59] ERROR    [agent_fsm:1102] [86709222-d90a-4a17-bed1-d673795ae0bb] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:59] WARNING  [agent_fsm:1224] [86709222-d90a-4a17-bed1-d673795ae0bb] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:59] ERROR    [agent_fsm:1078] [86709222-d90a-4a17-bed1-d673795ae0bb] --- FSM STATE: ERROR ---
[2025-06-18 12:26:59] ERROR    [agent_fsm:1101] [86709222-d90a-4a17-bed1-d673795ae0bb] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:26:59] ERROR    [agent_fsm:1102] [86709222-d90a-4a17-bed1-d673795ae0bb] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:59] WARNING  [agent_fsm:1224] [86709222-d90a-4a17-bed1-d673795ae0bb] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:59] ERROR    [agent_fsm:1078] [86709222-d90a-4a17-bed1-d673795ae0bb] --- FSM STATE: ERROR ---
[2025-06-18 12:26:59] ERROR    [agent_fsm:1101] [86709222-d90a-4a17-bed1-d673795ae0bb] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:26:59] ERROR    [agent_fsm:1102] [86709222-d90a-4a17-bed1-d673795ae0bb] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:59] WARNING  [agent_fsm:1224] [86709222-d90a-4a17-bed1-d673795ae0bb] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:59] ERROR    [agent_fsm:1078] [86709222-d90a-4a17-bed1-d673795ae0bb] --- FSM STATE: ERROR ---
[2025-06-18 12:26:59] ERROR    [agent_fsm:1101] [86709222-d90a-4a17-bed1-d673795ae0bb] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:26:59] ERROR    [agent_fsm:1102] [86709222-d90a-4a17-bed1-d673795ae0bb] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:59] WARNING  [agent_fsm:1224] [86709222-d90a-4a17-bed1-d673795ae0bb] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:59] ERROR    [agent_fsm:1078] [86709222-d90a-4a17-bed1-d673795ae0bb] --- FSM STATE: ERROR ---
[2025-06-18 12:26:59] ERROR    [agent_fsm:1101] [86709222-d90a-4a17-bed1-d673795ae0bb] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:26:59] ERROR    [agent_fsm:1102] [86709222-d90a-4a17-bed1-d673795ae0bb] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:59] WARNING  [agent_fsm:1224] [86709222-d90a-4a17-bed1-d673795ae0bb] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:59] ERROR    [agent_fsm:1078] [86709222-d90a-4a17-bed1-d673795ae0bb] --- FSM STATE: ERROR ---
[2025-06-18 12:26:59] ERROR    [agent_fsm:1101] [86709222-d90a-4a17-bed1-d673795ae0bb] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:26:59] ERROR    [agent_fsm:1102] [86709222-d90a-4a17-bed1-d673795ae0bb] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:59] WARNING  [agent_fsm:1224] [86709222-d90a-4a17-bed1-d673795ae0bb] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:59] ERROR    [agent_fsm:1078] [86709222-d90a-4a17-bed1-d673795ae0bb] --- FSM STATE: ERROR ---
[2025-06-18 12:26:59] ERROR    [agent_fsm:1101] [86709222-d90a-4a17-bed1-d673795ae0bb] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:26:59] ERROR    [agent_fsm:1102] [86709222-d90a-4a17-bed1-d673795ae0bb] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:59] WARNING  [agent_fsm:1224] [86709222-d90a-4a17-bed1-d673795ae0bb] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:59] ERROR    [agent_fsm:1078] [86709222-d90a-4a17-bed1-d673795ae0bb] --- FSM STATE: ERROR ---
[2025-06-18 12:26:59] ERROR    [agent_fsm:1101] [86709222-d90a-4a17-bed1-d673795ae0bb] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:26:59] ERROR    [agent_fsm:1102] [86709222-d90a-4a17-bed1-d673795ae0bb] Errors: ['Duplicate tool call detected']
[2025-06-18 12:26:59] WARNING  [agent_fsm:1224] [86709222-d90a-4a17-bed1-d673795ae0bb] Direct loop detected - same action repeated 3 times
[2025-06-18 12:26:59] ERROR    [agent_fsm:1837] [86709222-d90a-4a17-bed1-d673795ae0bb] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:26:59] INFO     [agent_fsm:1752] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Starting resilient FSM execution
[2025-06-18 12:26:59] INFO     [agent_fsm:1807] [3aad119b-2634-4d4b-8e0d-2db77a21386d] FSM STATE: INITIAL
[2025-06-18 12:26:59] INFO     [agent_fsm:665] [3aad119b-2634-4d4b-8e0d-2db77a21386d] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:26:59] DEBUG    [agent_fsm:680] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Turn count: 1, Action history length: 1
[2025-06-18 12:27:00] WARNING  [agent_fsm:1521] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:27:00] WARNING  [agent_fsm:1521] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:27:00] WARNING  [agent_fsm:1521] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:27:00] INFO     [agent_fsm:773] [3aad119b-2634-4d4b-8e0d-2db77a21386d] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:27:00] INFO     [agent_fsm:820] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Executing tool: web_researcher with input: {'query': 'largest planet in our solar system', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 12:27:00] INFO     [agent_fsm:922] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Tool execution completed
[2025-06-18 12:27:00] INFO     [agent_fsm:773] [3aad119b-2634-4d4b-8e0d-2db77a21386d] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:27:00] WARNING  [agent_fsm:803] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:27:00] INFO     [agent_fsm:665] [3aad119b-2634-4d4b-8e0d-2db77a21386d] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:27:00] DEBUG    [agent_fsm:680] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Turn count: 2, Action history length: 2
[2025-06-18 12:27:01] WARNING  [agent_fsm:1521] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:27:01] WARNING  [agent_fsm:1521] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:27:01] WARNING  [agent_fsm:1521] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:27:01] INFO     [agent_fsm:773] [3aad119b-2634-4d4b-8e0d-2db77a21386d] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:27:01] INFO     [agent_fsm:820] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:27:01] INFO     [agent_fsm:922] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Tool execution completed
[2025-06-18 12:27:01] INFO     [agent_fsm:773] [3aad119b-2634-4d4b-8e0d-2db77a21386d] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:27:01] WARNING  [agent_fsm:803] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:27:01] INFO     [agent_fsm:665] [3aad119b-2634-4d4b-8e0d-2db77a21386d] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:27:01] DEBUG    [agent_fsm:680] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Turn count: 3, Action history length: 3
[2025-06-18 12:27:02] WARNING  [agent_fsm:1521] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:27:02] WARNING  [agent_fsm:1521] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:27:02] WARNING  [agent_fsm:1521] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:27:02] WARNING  [agent_fsm:1224] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:02] ERROR    [agent_fsm:1078] [3aad119b-2634-4d4b-8e0d-2db77a21386d] --- FSM STATE: ERROR ---
[2025-06-18 12:27:02] ERROR    [agent_fsm:1101] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:27:02] ERROR    [agent_fsm:1102] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:02] WARNING  [agent_fsm:1224] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:02] ERROR    [agent_fsm:1078] [3aad119b-2634-4d4b-8e0d-2db77a21386d] --- FSM STATE: ERROR ---
[2025-06-18 12:27:02] ERROR    [agent_fsm:1101] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:27:02] ERROR    [agent_fsm:1102] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:02] WARNING  [agent_fsm:1224] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:02] ERROR    [agent_fsm:1078] [3aad119b-2634-4d4b-8e0d-2db77a21386d] --- FSM STATE: ERROR ---
[2025-06-18 12:27:02] ERROR    [agent_fsm:1101] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:27:02] ERROR    [agent_fsm:1102] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:02] WARNING  [agent_fsm:1224] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:02] ERROR    [agent_fsm:1078] [3aad119b-2634-4d4b-8e0d-2db77a21386d] --- FSM STATE: ERROR ---
[2025-06-18 12:27:02] ERROR    [agent_fsm:1101] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:27:02] ERROR    [agent_fsm:1102] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:02] WARNING  [agent_fsm:1224] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:02] ERROR    [agent_fsm:1078] [3aad119b-2634-4d4b-8e0d-2db77a21386d] --- FSM STATE: ERROR ---
[2025-06-18 12:27:02] ERROR    [agent_fsm:1101] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:27:02] ERROR    [agent_fsm:1102] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:02] WARNING  [agent_fsm:1224] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:02] ERROR    [agent_fsm:1078] [3aad119b-2634-4d4b-8e0d-2db77a21386d] --- FSM STATE: ERROR ---
[2025-06-18 12:27:02] ERROR    [agent_fsm:1101] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:27:02] ERROR    [agent_fsm:1102] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:02] WARNING  [agent_fsm:1224] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:02] ERROR    [agent_fsm:1078] [3aad119b-2634-4d4b-8e0d-2db77a21386d] --- FSM STATE: ERROR ---
[2025-06-18 12:27:02] ERROR    [agent_fsm:1101] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:27:02] ERROR    [agent_fsm:1102] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:02] WARNING  [agent_fsm:1224] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:02] ERROR    [agent_fsm:1078] [3aad119b-2634-4d4b-8e0d-2db77a21386d] --- FSM STATE: ERROR ---
[2025-06-18 12:27:02] ERROR    [agent_fsm:1101] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:27:02] ERROR    [agent_fsm:1102] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:02] WARNING  [agent_fsm:1224] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:02] ERROR    [agent_fsm:1078] [3aad119b-2634-4d4b-8e0d-2db77a21386d] --- FSM STATE: ERROR ---
[2025-06-18 12:27:02] ERROR    [agent_fsm:1101] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:27:02] ERROR    [agent_fsm:1102] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:02] WARNING  [agent_fsm:1224] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:02] ERROR    [agent_fsm:1078] [3aad119b-2634-4d4b-8e0d-2db77a21386d] --- FSM STATE: ERROR ---
[2025-06-18 12:27:02] ERROR    [agent_fsm:1101] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:27:02] ERROR    [agent_fsm:1102] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:02] WARNING  [agent_fsm:1224] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:02] ERROR    [agent_fsm:1078] [3aad119b-2634-4d4b-8e0d-2db77a21386d] --- FSM STATE: ERROR ---
[2025-06-18 12:27:02] ERROR    [agent_fsm:1101] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:27:02] ERROR    [agent_fsm:1102] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:02] WARNING  [agent_fsm:1224] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:02] ERROR    [agent_fsm:1078] [3aad119b-2634-4d4b-8e0d-2db77a21386d] --- FSM STATE: ERROR ---
[2025-06-18 12:27:02] ERROR    [agent_fsm:1101] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:27:02] ERROR    [agent_fsm:1102] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:02] WARNING  [agent_fsm:1224] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:02] ERROR    [agent_fsm:1078] [3aad119b-2634-4d4b-8e0d-2db77a21386d] --- FSM STATE: ERROR ---
[2025-06-18 12:27:02] ERROR    [agent_fsm:1101] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:27:02] ERROR    [agent_fsm:1102] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:02] WARNING  [agent_fsm:1224] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:02] ERROR    [agent_fsm:1078] [3aad119b-2634-4d4b-8e0d-2db77a21386d] --- FSM STATE: ERROR ---
[2025-06-18 12:27:02] ERROR    [agent_fsm:1101] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:27:02] ERROR    [agent_fsm:1102] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:02] WARNING  [agent_fsm:1224] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:02] ERROR    [agent_fsm:1078] [3aad119b-2634-4d4b-8e0d-2db77a21386d] --- FSM STATE: ERROR ---
[2025-06-18 12:27:02] ERROR    [agent_fsm:1101] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:27:02] ERROR    [agent_fsm:1102] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:02] WARNING  [agent_fsm:1224] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:02] ERROR    [agent_fsm:1078] [3aad119b-2634-4d4b-8e0d-2db77a21386d] --- FSM STATE: ERROR ---
[2025-06-18 12:27:02] ERROR    [agent_fsm:1101] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:27:02] ERROR    [agent_fsm:1102] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:02] WARNING  [agent_fsm:1224] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:02] ERROR    [agent_fsm:1078] [3aad119b-2634-4d4b-8e0d-2db77a21386d] --- FSM STATE: ERROR ---
[2025-06-18 12:27:02] ERROR    [agent_fsm:1101] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:27:02] ERROR    [agent_fsm:1102] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:02] WARNING  [agent_fsm:1224] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:02] ERROR    [agent_fsm:1078] [3aad119b-2634-4d4b-8e0d-2db77a21386d] --- FSM STATE: ERROR ---
[2025-06-18 12:27:02] ERROR    [agent_fsm:1101] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:27:02] ERROR    [agent_fsm:1102] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:02] WARNING  [agent_fsm:1224] [3aad119b-2634-4d4b-8e0d-2db77a21386d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:02] ERROR    [agent_fsm:1837] [3aad119b-2634-4d4b-8e0d-2db77a21386d] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:27:02] INFO     [agent_fsm:1752] [dc69757d-9f10-4257-90c0-def950377168] Starting resilient FSM execution
[2025-06-18 12:27:02] INFO     [agent_fsm:1807] [dc69757d-9f10-4257-90c0-def950377168] FSM STATE: INITIAL
[2025-06-18 12:27:02] INFO     [agent_fsm:665] [dc69757d-9f10-4257-90c0-def950377168] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:27:02] DEBUG    [agent_fsm:680] [dc69757d-9f10-4257-90c0-def950377168] Turn count: 1, Action history length: 1
[2025-06-18 12:27:03] WARNING  [agent_fsm:1521] [dc69757d-9f10-4257-90c0-def950377168] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:27:03] INFO     [agent_fsm:773] [dc69757d-9f10-4257-90c0-def950377168] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:27:03] INFO     [agent_fsm:820] [dc69757d-9f10-4257-90c0-def950377168] Executing tool: web_researcher with input: {'query': 'extract video URL from googleusercontent.com/costa-rica/birds', 'date_range': None, 'search_type': 'general', 'source': 'search'}
[2025-06-18 12:27:03] INFO     [agent_fsm:922] [dc69757d-9f10-4257-90c0-def950377168] Tool execution completed
[2025-06-18 12:27:03] INFO     [agent_fsm:773] [dc69757d-9f10-4257-90c0-def950377168] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:27:03] WARNING  [agent_fsm:803] [dc69757d-9f10-4257-90c0-def950377168] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:27:03] INFO     [agent_fsm:665] [dc69757d-9f10-4257-90c0-def950377168] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:27:03] DEBUG    [agent_fsm:680] [dc69757d-9f10-4257-90c0-def950377168] Turn count: 2, Action history length: 2
[2025-06-18 12:27:04] WARNING  [agent_fsm:1521] [dc69757d-9f10-4257-90c0-def950377168] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:27:04] WARNING  [agent_fsm:1521] [dc69757d-9f10-4257-90c0-def950377168] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:27:04] WARNING  [agent_fsm:1521] [dc69757d-9f10-4257-90c0-def950377168] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:27:04] INFO     [agent_fsm:773] [dc69757d-9f10-4257-90c0-def950377168] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:27:04] INFO     [agent_fsm:820] [dc69757d-9f10-4257-90c0-def950377168] Executing tool: gaia_video_analyzer with input: {'video_url': 'value from Step 1'}
[2025-06-18 12:27:04] INFO     [agent_fsm:922] [dc69757d-9f10-4257-90c0-def950377168] Tool execution completed
[2025-06-18 12:27:04] INFO     [agent_fsm:773] [dc69757d-9f10-4257-90c0-def950377168] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:27:04] WARNING  [agent_fsm:803] [dc69757d-9f10-4257-90c0-def950377168] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:27:04] INFO     [agent_fsm:665] [dc69757d-9f10-4257-90c0-def950377168] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:27:04] DEBUG    [agent_fsm:680] [dc69757d-9f10-4257-90c0-def950377168] Turn count: 3, Action history length: 3
[2025-06-18 12:27:04] WARNING  [agent_fsm:1521] [dc69757d-9f10-4257-90c0-def950377168] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:27:04] WARNING  [agent_fsm:1521] [dc69757d-9f10-4257-90c0-def950377168] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:27:04] WARNING  [agent_fsm:1521] [dc69757d-9f10-4257-90c0-def950377168] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:27:04] WARNING  [agent_fsm:1224] [dc69757d-9f10-4257-90c0-def950377168] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:04] ERROR    [agent_fsm:1078] [dc69757d-9f10-4257-90c0-def950377168] --- FSM STATE: ERROR ---
[2025-06-18 12:27:04] ERROR    [agent_fsm:1101] [dc69757d-9f10-4257-90c0-def950377168] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:27:04] ERROR    [agent_fsm:1102] [dc69757d-9f10-4257-90c0-def950377168] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:04] WARNING  [agent_fsm:1224] [dc69757d-9f10-4257-90c0-def950377168] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:04] ERROR    [agent_fsm:1078] [dc69757d-9f10-4257-90c0-def950377168] --- FSM STATE: ERROR ---
[2025-06-18 12:27:04] ERROR    [agent_fsm:1101] [dc69757d-9f10-4257-90c0-def950377168] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:27:04] ERROR    [agent_fsm:1102] [dc69757d-9f10-4257-90c0-def950377168] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:04] WARNING  [agent_fsm:1224] [dc69757d-9f10-4257-90c0-def950377168] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:04] ERROR    [agent_fsm:1078] [dc69757d-9f10-4257-90c0-def950377168] --- FSM STATE: ERROR ---
[2025-06-18 12:27:04] ERROR    [agent_fsm:1101] [dc69757d-9f10-4257-90c0-def950377168] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:27:04] ERROR    [agent_fsm:1102] [dc69757d-9f10-4257-90c0-def950377168] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:04] WARNING  [agent_fsm:1224] [dc69757d-9f10-4257-90c0-def950377168] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:04] ERROR    [agent_fsm:1078] [dc69757d-9f10-4257-90c0-def950377168] --- FSM STATE: ERROR ---
[2025-06-18 12:27:04] ERROR    [agent_fsm:1101] [dc69757d-9f10-4257-90c0-def950377168] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:27:04] ERROR    [agent_fsm:1102] [dc69757d-9f10-4257-90c0-def950377168] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:04] WARNING  [agent_fsm:1224] [dc69757d-9f10-4257-90c0-def950377168] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:04] ERROR    [agent_fsm:1078] [dc69757d-9f10-4257-90c0-def950377168] --- FSM STATE: ERROR ---
[2025-06-18 12:27:04] ERROR    [agent_fsm:1101] [dc69757d-9f10-4257-90c0-def950377168] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:27:04] ERROR    [agent_fsm:1102] [dc69757d-9f10-4257-90c0-def950377168] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:04] WARNING  [agent_fsm:1224] [dc69757d-9f10-4257-90c0-def950377168] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:04] ERROR    [agent_fsm:1078] [dc69757d-9f10-4257-90c0-def950377168] --- FSM STATE: ERROR ---
[2025-06-18 12:27:04] ERROR    [agent_fsm:1101] [dc69757d-9f10-4257-90c0-def950377168] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:27:04] ERROR    [agent_fsm:1102] [dc69757d-9f10-4257-90c0-def950377168] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:04] WARNING  [agent_fsm:1224] [dc69757d-9f10-4257-90c0-def950377168] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:04] ERROR    [agent_fsm:1078] [dc69757d-9f10-4257-90c0-def950377168] --- FSM STATE: ERROR ---
[2025-06-18 12:27:04] ERROR    [agent_fsm:1101] [dc69757d-9f10-4257-90c0-def950377168] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:27:04] ERROR    [agent_fsm:1102] [dc69757d-9f10-4257-90c0-def950377168] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:04] WARNING  [agent_fsm:1224] [dc69757d-9f10-4257-90c0-def950377168] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:04] ERROR    [agent_fsm:1078] [dc69757d-9f10-4257-90c0-def950377168] --- FSM STATE: ERROR ---
[2025-06-18 12:27:04] ERROR    [agent_fsm:1101] [dc69757d-9f10-4257-90c0-def950377168] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:27:04] ERROR    [agent_fsm:1102] [dc69757d-9f10-4257-90c0-def950377168] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:04] WARNING  [agent_fsm:1224] [dc69757d-9f10-4257-90c0-def950377168] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:04] ERROR    [agent_fsm:1078] [dc69757d-9f10-4257-90c0-def950377168] --- FSM STATE: ERROR ---
[2025-06-18 12:27:04] ERROR    [agent_fsm:1101] [dc69757d-9f10-4257-90c0-def950377168] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:27:04] ERROR    [agent_fsm:1102] [dc69757d-9f10-4257-90c0-def950377168] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:04] WARNING  [agent_fsm:1224] [dc69757d-9f10-4257-90c0-def950377168] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:04] ERROR    [agent_fsm:1078] [dc69757d-9f10-4257-90c0-def950377168] --- FSM STATE: ERROR ---
[2025-06-18 12:27:04] ERROR    [agent_fsm:1101] [dc69757d-9f10-4257-90c0-def950377168] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:27:04] ERROR    [agent_fsm:1102] [dc69757d-9f10-4257-90c0-def950377168] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:04] WARNING  [agent_fsm:1224] [dc69757d-9f10-4257-90c0-def950377168] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:04] ERROR    [agent_fsm:1078] [dc69757d-9f10-4257-90c0-def950377168] --- FSM STATE: ERROR ---
[2025-06-18 12:27:04] ERROR    [agent_fsm:1101] [dc69757d-9f10-4257-90c0-def950377168] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:27:04] ERROR    [agent_fsm:1102] [dc69757d-9f10-4257-90c0-def950377168] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:04] WARNING  [agent_fsm:1224] [dc69757d-9f10-4257-90c0-def950377168] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:04] ERROR    [agent_fsm:1078] [dc69757d-9f10-4257-90c0-def950377168] --- FSM STATE: ERROR ---
[2025-06-18 12:27:04] ERROR    [agent_fsm:1101] [dc69757d-9f10-4257-90c0-def950377168] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:27:04] ERROR    [agent_fsm:1102] [dc69757d-9f10-4257-90c0-def950377168] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:04] WARNING  [agent_fsm:1224] [dc69757d-9f10-4257-90c0-def950377168] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:04] ERROR    [agent_fsm:1078] [dc69757d-9f10-4257-90c0-def950377168] --- FSM STATE: ERROR ---
[2025-06-18 12:27:04] ERROR    [agent_fsm:1101] [dc69757d-9f10-4257-90c0-def950377168] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:27:04] ERROR    [agent_fsm:1102] [dc69757d-9f10-4257-90c0-def950377168] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:04] WARNING  [agent_fsm:1224] [dc69757d-9f10-4257-90c0-def950377168] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:04] ERROR    [agent_fsm:1078] [dc69757d-9f10-4257-90c0-def950377168] --- FSM STATE: ERROR ---
[2025-06-18 12:27:04] ERROR    [agent_fsm:1101] [dc69757d-9f10-4257-90c0-def950377168] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:27:04] ERROR    [agent_fsm:1102] [dc69757d-9f10-4257-90c0-def950377168] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:04] WARNING  [agent_fsm:1224] [dc69757d-9f10-4257-90c0-def950377168] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:04] ERROR    [agent_fsm:1078] [dc69757d-9f10-4257-90c0-def950377168] --- FSM STATE: ERROR ---
[2025-06-18 12:27:04] ERROR    [agent_fsm:1101] [dc69757d-9f10-4257-90c0-def950377168] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:27:04] ERROR    [agent_fsm:1102] [dc69757d-9f10-4257-90c0-def950377168] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:04] WARNING  [agent_fsm:1224] [dc69757d-9f10-4257-90c0-def950377168] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:04] ERROR    [agent_fsm:1078] [dc69757d-9f10-4257-90c0-def950377168] --- FSM STATE: ERROR ---
[2025-06-18 12:27:04] ERROR    [agent_fsm:1101] [dc69757d-9f10-4257-90c0-def950377168] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:27:04] ERROR    [agent_fsm:1102] [dc69757d-9f10-4257-90c0-def950377168] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:04] WARNING  [agent_fsm:1224] [dc69757d-9f10-4257-90c0-def950377168] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:04] ERROR    [agent_fsm:1078] [dc69757d-9f10-4257-90c0-def950377168] --- FSM STATE: ERROR ---
[2025-06-18 12:27:04] ERROR    [agent_fsm:1101] [dc69757d-9f10-4257-90c0-def950377168] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:27:04] ERROR    [agent_fsm:1102] [dc69757d-9f10-4257-90c0-def950377168] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:04] WARNING  [agent_fsm:1224] [dc69757d-9f10-4257-90c0-def950377168] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:04] ERROR    [agent_fsm:1078] [dc69757d-9f10-4257-90c0-def950377168] --- FSM STATE: ERROR ---
[2025-06-18 12:27:04] ERROR    [agent_fsm:1101] [dc69757d-9f10-4257-90c0-def950377168] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:27:04] ERROR    [agent_fsm:1102] [dc69757d-9f10-4257-90c0-def950377168] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:04] WARNING  [agent_fsm:1224] [dc69757d-9f10-4257-90c0-def950377168] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:04] ERROR    [agent_fsm:1837] [dc69757d-9f10-4257-90c0-def950377168] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:27:04] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 12:27:04] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 12:27:04] INFO     [agent_fsm:570] [4b72eb33-76d5-4228-8793-cec44897d31a] Building resilient FSM graph
[2025-06-18 12:27:05] INFO     [agent_fsm:572] [4b72eb33-76d5-4228-8793-cec44897d31a] FSMReActAgent graph built successfully
[2025-06-18 12:27:05] INFO     [agent_fsm:1752] [1d510270-d348-46a2-99e0-5115db185dad] Starting resilient FSM execution
[2025-06-18 12:27:05] INFO     [agent_fsm:1807] [1d510270-d348-46a2-99e0-5115db185dad] FSM STATE: INITIAL
[2025-06-18 12:27:05] INFO     [agent_fsm:665] [1d510270-d348-46a2-99e0-5115db185dad] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:27:05] DEBUG    [agent_fsm:680] [1d510270-d348-46a2-99e0-5115db185dad] Turn count: 1, Action history length: 1
[2025-06-18 12:27:08] INFO     [agent_fsm:773] [1d510270-d348-46a2-99e0-5115db185dad] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:27:08] INFO     [agent_fsm:820] [1d510270-d348-46a2-99e0-5115db185dad] Executing tool: advanced_file_reader with input: {'filename': 'path/to/attached_excel_file.xlsx'}
[2025-06-18 12:27:08] INFO     [agent_fsm:922] [1d510270-d348-46a2-99e0-5115db185dad] Tool execution completed
[2025-06-18 12:27:08] INFO     [agent_fsm:773] [1d510270-d348-46a2-99e0-5115db185dad] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:27:08] WARNING  [agent_fsm:803] [1d510270-d348-46a2-99e0-5115db185dad] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:27:08] INFO     [agent_fsm:665] [1d510270-d348-46a2-99e0-5115db185dad] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:27:08] DEBUG    [agent_fsm:680] [1d510270-d348-46a2-99e0-5115db185dad] Turn count: 2, Action history length: 2
[2025-06-18 12:27:09] WARNING  [agent_fsm:1521] [1d510270-d348-46a2-99e0-5115db185dad] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:27:09] ERROR    [agent_fsm:1359] [1d510270-d348-46a2-99e0-5115db185dad] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:27:09] INFO     [agent_fsm:773] [1d510270-d348-46a2-99e0-5115db185dad] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:27:09] INFO     [agent_fsm:820] [1d510270-d348-46a2-99e0-5115db185dad] Executing tool: file_reader with input: {'filename': 'path/to/attached/Excel/file.xlsx', 'lines': -1}
[2025-06-18 12:27:09] INFO     [agent_fsm:922] [1d510270-d348-46a2-99e0-5115db185dad] Tool execution completed
[2025-06-18 12:27:09] INFO     [agent_fsm:773] [1d510270-d348-46a2-99e0-5115db185dad] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:27:09] WARNING  [agent_fsm:803] [1d510270-d348-46a2-99e0-5115db185dad] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:27:09] INFO     [agent_fsm:665] [1d510270-d348-46a2-99e0-5115db185dad] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:27:09] DEBUG    [agent_fsm:680] [1d510270-d348-46a2-99e0-5115db185dad] Turn count: 3, Action history length: 3
[2025-06-18 12:27:10] WARNING  [agent_fsm:1521] [1d510270-d348-46a2-99e0-5115db185dad] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:27:10] WARNING  [agent_fsm:1521] [1d510270-d348-46a2-99e0-5115db185dad] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:27:10] WARNING  [agent_fsm:1521] [1d510270-d348-46a2-99e0-5115db185dad] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:27:10] WARNING  [agent_fsm:1521] [1d510270-d348-46a2-99e0-5115db185dad] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:27:10] WARNING  [agent_fsm:1521] [1d510270-d348-46a2-99e0-5115db185dad] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:27:10] WARNING  [agent_fsm:1521] [1d510270-d348-46a2-99e0-5115db185dad] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 12:27:10] WARNING  [agent_fsm:1224] [1d510270-d348-46a2-99e0-5115db185dad] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:10] ERROR    [agent_fsm:1078] [1d510270-d348-46a2-99e0-5115db185dad] --- FSM STATE: ERROR ---
[2025-06-18 12:27:10] ERROR    [agent_fsm:1101] [1d510270-d348-46a2-99e0-5115db185dad] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:27:10] ERROR    [agent_fsm:1102] [1d510270-d348-46a2-99e0-5115db185dad] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:10] WARNING  [agent_fsm:1224] [1d510270-d348-46a2-99e0-5115db185dad] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:10] ERROR    [agent_fsm:1078] [1d510270-d348-46a2-99e0-5115db185dad] --- FSM STATE: ERROR ---
[2025-06-18 12:27:10] ERROR    [agent_fsm:1101] [1d510270-d348-46a2-99e0-5115db185dad] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:27:10] ERROR    [agent_fsm:1102] [1d510270-d348-46a2-99e0-5115db185dad] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:10] WARNING  [agent_fsm:1224] [1d510270-d348-46a2-99e0-5115db185dad] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:10] ERROR    [agent_fsm:1078] [1d510270-d348-46a2-99e0-5115db185dad] --- FSM STATE: ERROR ---
[2025-06-18 12:27:10] ERROR    [agent_fsm:1101] [1d510270-d348-46a2-99e0-5115db185dad] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:27:10] ERROR    [agent_fsm:1102] [1d510270-d348-46a2-99e0-5115db185dad] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:10] WARNING  [agent_fsm:1224] [1d510270-d348-46a2-99e0-5115db185dad] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:10] ERROR    [agent_fsm:1078] [1d510270-d348-46a2-99e0-5115db185dad] --- FSM STATE: ERROR ---
[2025-06-18 12:27:10] ERROR    [agent_fsm:1101] [1d510270-d348-46a2-99e0-5115db185dad] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:27:10] ERROR    [agent_fsm:1102] [1d510270-d348-46a2-99e0-5115db185dad] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:10] WARNING  [agent_fsm:1224] [1d510270-d348-46a2-99e0-5115db185dad] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:10] ERROR    [agent_fsm:1078] [1d510270-d348-46a2-99e0-5115db185dad] --- FSM STATE: ERROR ---
[2025-06-18 12:27:10] ERROR    [agent_fsm:1101] [1d510270-d348-46a2-99e0-5115db185dad] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:27:10] ERROR    [agent_fsm:1102] [1d510270-d348-46a2-99e0-5115db185dad] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:10] WARNING  [agent_fsm:1224] [1d510270-d348-46a2-99e0-5115db185dad] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:10] ERROR    [agent_fsm:1078] [1d510270-d348-46a2-99e0-5115db185dad] --- FSM STATE: ERROR ---
[2025-06-18 12:27:10] ERROR    [agent_fsm:1101] [1d510270-d348-46a2-99e0-5115db185dad] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:27:10] ERROR    [agent_fsm:1102] [1d510270-d348-46a2-99e0-5115db185dad] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:10] WARNING  [agent_fsm:1224] [1d510270-d348-46a2-99e0-5115db185dad] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:10] ERROR    [agent_fsm:1078] [1d510270-d348-46a2-99e0-5115db185dad] --- FSM STATE: ERROR ---
[2025-06-18 12:27:10] ERROR    [agent_fsm:1101] [1d510270-d348-46a2-99e0-5115db185dad] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:27:10] ERROR    [agent_fsm:1102] [1d510270-d348-46a2-99e0-5115db185dad] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:10] WARNING  [agent_fsm:1224] [1d510270-d348-46a2-99e0-5115db185dad] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:10] ERROR    [agent_fsm:1078] [1d510270-d348-46a2-99e0-5115db185dad] --- FSM STATE: ERROR ---
[2025-06-18 12:27:10] ERROR    [agent_fsm:1101] [1d510270-d348-46a2-99e0-5115db185dad] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:27:10] ERROR    [agent_fsm:1102] [1d510270-d348-46a2-99e0-5115db185dad] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:10] WARNING  [agent_fsm:1224] [1d510270-d348-46a2-99e0-5115db185dad] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:10] ERROR    [agent_fsm:1078] [1d510270-d348-46a2-99e0-5115db185dad] --- FSM STATE: ERROR ---
[2025-06-18 12:27:10] ERROR    [agent_fsm:1101] [1d510270-d348-46a2-99e0-5115db185dad] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:27:10] ERROR    [agent_fsm:1102] [1d510270-d348-46a2-99e0-5115db185dad] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:10] WARNING  [agent_fsm:1224] [1d510270-d348-46a2-99e0-5115db185dad] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:10] ERROR    [agent_fsm:1078] [1d510270-d348-46a2-99e0-5115db185dad] --- FSM STATE: ERROR ---
[2025-06-18 12:27:10] ERROR    [agent_fsm:1101] [1d510270-d348-46a2-99e0-5115db185dad] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:27:10] ERROR    [agent_fsm:1102] [1d510270-d348-46a2-99e0-5115db185dad] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:10] WARNING  [agent_fsm:1224] [1d510270-d348-46a2-99e0-5115db185dad] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:10] ERROR    [agent_fsm:1078] [1d510270-d348-46a2-99e0-5115db185dad] --- FSM STATE: ERROR ---
[2025-06-18 12:27:10] ERROR    [agent_fsm:1101] [1d510270-d348-46a2-99e0-5115db185dad] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:27:10] ERROR    [agent_fsm:1102] [1d510270-d348-46a2-99e0-5115db185dad] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:10] WARNING  [agent_fsm:1224] [1d510270-d348-46a2-99e0-5115db185dad] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:10] ERROR    [agent_fsm:1078] [1d510270-d348-46a2-99e0-5115db185dad] --- FSM STATE: ERROR ---
[2025-06-18 12:27:10] ERROR    [agent_fsm:1101] [1d510270-d348-46a2-99e0-5115db185dad] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:27:10] ERROR    [agent_fsm:1102] [1d510270-d348-46a2-99e0-5115db185dad] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:10] WARNING  [agent_fsm:1224] [1d510270-d348-46a2-99e0-5115db185dad] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:10] ERROR    [agent_fsm:1078] [1d510270-d348-46a2-99e0-5115db185dad] --- FSM STATE: ERROR ---
[2025-06-18 12:27:10] ERROR    [agent_fsm:1101] [1d510270-d348-46a2-99e0-5115db185dad] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:27:10] ERROR    [agent_fsm:1102] [1d510270-d348-46a2-99e0-5115db185dad] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:10] WARNING  [agent_fsm:1224] [1d510270-d348-46a2-99e0-5115db185dad] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:10] ERROR    [agent_fsm:1078] [1d510270-d348-46a2-99e0-5115db185dad] --- FSM STATE: ERROR ---
[2025-06-18 12:27:10] ERROR    [agent_fsm:1101] [1d510270-d348-46a2-99e0-5115db185dad] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:27:10] ERROR    [agent_fsm:1102] [1d510270-d348-46a2-99e0-5115db185dad] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:10] WARNING  [agent_fsm:1224] [1d510270-d348-46a2-99e0-5115db185dad] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:10] ERROR    [agent_fsm:1078] [1d510270-d348-46a2-99e0-5115db185dad] --- FSM STATE: ERROR ---
[2025-06-18 12:27:10] ERROR    [agent_fsm:1101] [1d510270-d348-46a2-99e0-5115db185dad] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:27:10] ERROR    [agent_fsm:1102] [1d510270-d348-46a2-99e0-5115db185dad] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:10] WARNING  [agent_fsm:1224] [1d510270-d348-46a2-99e0-5115db185dad] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:10] ERROR    [agent_fsm:1078] [1d510270-d348-46a2-99e0-5115db185dad] --- FSM STATE: ERROR ---
[2025-06-18 12:27:10] ERROR    [agent_fsm:1101] [1d510270-d348-46a2-99e0-5115db185dad] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:27:10] ERROR    [agent_fsm:1102] [1d510270-d348-46a2-99e0-5115db185dad] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:10] WARNING  [agent_fsm:1224] [1d510270-d348-46a2-99e0-5115db185dad] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:10] ERROR    [agent_fsm:1078] [1d510270-d348-46a2-99e0-5115db185dad] --- FSM STATE: ERROR ---
[2025-06-18 12:27:10] ERROR    [agent_fsm:1101] [1d510270-d348-46a2-99e0-5115db185dad] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:27:10] ERROR    [agent_fsm:1102] [1d510270-d348-46a2-99e0-5115db185dad] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:10] WARNING  [agent_fsm:1224] [1d510270-d348-46a2-99e0-5115db185dad] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:10] ERROR    [agent_fsm:1078] [1d510270-d348-46a2-99e0-5115db185dad] --- FSM STATE: ERROR ---
[2025-06-18 12:27:10] ERROR    [agent_fsm:1101] [1d510270-d348-46a2-99e0-5115db185dad] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:27:10] ERROR    [agent_fsm:1102] [1d510270-d348-46a2-99e0-5115db185dad] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:10] WARNING  [agent_fsm:1224] [1d510270-d348-46a2-99e0-5115db185dad] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:10] ERROR    [agent_fsm:1837] [1d510270-d348-46a2-99e0-5115db185dad] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:27:10] INFO     [agent_fsm:1752] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Starting resilient FSM execution
[2025-06-18 12:27:10] INFO     [agent_fsm:1807] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] FSM STATE: INITIAL
[2025-06-18 12:27:10] INFO     [agent_fsm:665] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:27:10] DEBUG    [agent_fsm:680] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Turn count: 1, Action history length: 1
[2025-06-18 12:27:11] WARNING  [agent_fsm:1333] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Tool image_analyzer not found in registry, will use stub
[2025-06-18 12:27:11] INFO     [agent_fsm:773] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:27:11] INFO     [agent_fsm:820] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Executing tool: video_analyzer with input: {'url': 'https://example.com/video.mp4', 'action': 'download_info'}
[2025-06-18 12:27:11] ERROR    [agent_fsm:840] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Tool execution failed: name 'video_analyzer' is not defined
[2025-06-18 12:27:11] INFO     [agent_fsm:853] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Trying alternative tool: gaia_video_analyzer
[2025-06-18 12:27:11] ERROR    [agent_fsm:860] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Alternative tool also failed: 1 validation error for gaia_video_analyzer
video_url
  Field required [type=missing, input_value={'url': 'https://example....ction': 'download_info'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
[2025-06-18 12:27:11] INFO     [agent_fsm:665] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] --- FSM STATE: PLANNING (Step 1) ---
[2025-06-18 12:27:11] DEBUG    [agent_fsm:680] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Turn count: 2, Action history length: 2
[2025-06-18 12:27:12] WARNING  [agent_fsm:1521] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:27:12] INFO     [agent_fsm:773] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:27:12] INFO     [agent_fsm:820] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Executing tool: video_analyzer with input: {'url': 'https://example.com/video.mp4', 'action': 'download_info'}
[2025-06-18 12:27:12] ERROR    [agent_fsm:840] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Tool execution failed: name 'video_analyzer' is not defined
[2025-06-18 12:27:12] INFO     [agent_fsm:853] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Trying alternative tool: gaia_video_analyzer
[2025-06-18 12:27:12] ERROR    [agent_fsm:860] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Alternative tool also failed: 1 validation error for gaia_video_analyzer
video_url
  Field required [type=missing, input_value={'url': 'https://example....ction': 'download_info'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
[2025-06-18 12:27:12] INFO     [agent_fsm:665] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:27:12] DEBUG    [agent_fsm:680] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Turn count: 3, Action history length: 3
[2025-06-18 12:27:13] WARNING  [agent_fsm:1521] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:27:13] WARNING  [agent_fsm:1521] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:27:13] WARNING  [agent_fsm:1521] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:27:13] WARNING  [agent_fsm:1224] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:13] ERROR    [agent_fsm:1078] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] --- FSM STATE: ERROR ---
[2025-06-18 12:27:13] ERROR    [agent_fsm:1101] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Error category: TOOL_VALIDATION, Occurrences: 1
[2025-06-18 12:27:13] ERROR    [agent_fsm:1102] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Errors: ["Tool execution failed: name 'video_analyzer' is not defined, Alternative also failed: 1 validation error for gaia_video_analyzer\nvideo_url\n  Field required [type=missing, input_value={'url': 'https://example....ction': 'download_info'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing"]
[2025-06-18 12:27:13] WARNING  [agent_fsm:1224] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:13] ERROR    [agent_fsm:1078] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] --- FSM STATE: ERROR ---
[2025-06-18 12:27:13] ERROR    [agent_fsm:1101] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Error category: TOOL_VALIDATION, Occurrences: 2
[2025-06-18 12:27:13] ERROR    [agent_fsm:1102] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:27:13] WARNING  [agent_fsm:1224] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:13] ERROR    [agent_fsm:1078] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] --- FSM STATE: ERROR ---
[2025-06-18 12:27:13] ERROR    [agent_fsm:1101] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Error category: TOOL_VALIDATION, Occurrences: 3
[2025-06-18 12:27:13] ERROR    [agent_fsm:1102] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:27:13] WARNING  [agent_fsm:1224] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:13] ERROR    [agent_fsm:1078] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] --- FSM STATE: ERROR ---
[2025-06-18 12:27:13] ERROR    [agent_fsm:1101] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Error category: TOOL_VALIDATION, Occurrences: 4
[2025-06-18 12:27:13] ERROR    [agent_fsm:1102] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:27:13] WARNING  [agent_fsm:1224] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:13] ERROR    [agent_fsm:1078] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] --- FSM STATE: ERROR ---
[2025-06-18 12:27:13] ERROR    [agent_fsm:1101] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Error category: TOOL_VALIDATION, Occurrences: 5
[2025-06-18 12:27:13] ERROR    [agent_fsm:1102] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:27:13] WARNING  [agent_fsm:1224] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:13] ERROR    [agent_fsm:1078] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] --- FSM STATE: ERROR ---
[2025-06-18 12:27:13] ERROR    [agent_fsm:1101] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Error category: TOOL_VALIDATION, Occurrences: 6
[2025-06-18 12:27:13] ERROR    [agent_fsm:1102] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:27:13] WARNING  [agent_fsm:1224] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:13] ERROR    [agent_fsm:1078] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] --- FSM STATE: ERROR ---
[2025-06-18 12:27:13] ERROR    [agent_fsm:1101] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Error category: TOOL_VALIDATION, Occurrences: 7
[2025-06-18 12:27:13] ERROR    [agent_fsm:1102] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:27:13] WARNING  [agent_fsm:1224] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:13] ERROR    [agent_fsm:1078] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] --- FSM STATE: ERROR ---
[2025-06-18 12:27:13] ERROR    [agent_fsm:1101] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Error category: TOOL_VALIDATION, Occurrences: 8
[2025-06-18 12:27:13] ERROR    [agent_fsm:1102] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:27:13] WARNING  [agent_fsm:1224] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:13] ERROR    [agent_fsm:1078] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] --- FSM STATE: ERROR ---
[2025-06-18 12:27:13] ERROR    [agent_fsm:1101] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Error category: TOOL_VALIDATION, Occurrences: 9
[2025-06-18 12:27:13] ERROR    [agent_fsm:1102] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:27:13] WARNING  [agent_fsm:1224] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:13] ERROR    [agent_fsm:1078] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] --- FSM STATE: ERROR ---
[2025-06-18 12:27:13] ERROR    [agent_fsm:1101] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Error category: TOOL_VALIDATION, Occurrences: 10
[2025-06-18 12:27:13] ERROR    [agent_fsm:1102] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:27:13] WARNING  [agent_fsm:1224] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:13] ERROR    [agent_fsm:1078] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] --- FSM STATE: ERROR ---
[2025-06-18 12:27:13] ERROR    [agent_fsm:1101] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Error category: TOOL_VALIDATION, Occurrences: 11
[2025-06-18 12:27:13] ERROR    [agent_fsm:1102] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:27:13] WARNING  [agent_fsm:1224] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:13] ERROR    [agent_fsm:1078] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] --- FSM STATE: ERROR ---
[2025-06-18 12:27:13] ERROR    [agent_fsm:1101] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Error category: TOOL_VALIDATION, Occurrences: 12
[2025-06-18 12:27:13] ERROR    [agent_fsm:1102] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:27:13] WARNING  [agent_fsm:1224] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:13] ERROR    [agent_fsm:1078] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] --- FSM STATE: ERROR ---
[2025-06-18 12:27:13] ERROR    [agent_fsm:1101] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Error category: TOOL_VALIDATION, Occurrences: 13
[2025-06-18 12:27:13] ERROR    [agent_fsm:1102] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:27:13] WARNING  [agent_fsm:1224] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:13] ERROR    [agent_fsm:1078] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] --- FSM STATE: ERROR ---
[2025-06-18 12:27:13] ERROR    [agent_fsm:1101] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Error category: TOOL_VALIDATION, Occurrences: 14
[2025-06-18 12:27:13] ERROR    [agent_fsm:1102] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:27:13] WARNING  [agent_fsm:1224] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:13] ERROR    [agent_fsm:1078] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] --- FSM STATE: ERROR ---
[2025-06-18 12:27:13] ERROR    [agent_fsm:1101] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Error category: TOOL_VALIDATION, Occurrences: 15
[2025-06-18 12:27:13] ERROR    [agent_fsm:1102] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:27:13] WARNING  [agent_fsm:1224] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:13] ERROR    [agent_fsm:1078] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] --- FSM STATE: ERROR ---
[2025-06-18 12:27:13] ERROR    [agent_fsm:1101] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Error category: TOOL_VALIDATION, Occurrences: 16
[2025-06-18 12:27:13] ERROR    [agent_fsm:1102] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:27:13] WARNING  [agent_fsm:1224] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:13] ERROR    [agent_fsm:1078] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] --- FSM STATE: ERROR ---
[2025-06-18 12:27:13] ERROR    [agent_fsm:1101] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Error category: TOOL_VALIDATION, Occurrences: 17
[2025-06-18 12:27:13] ERROR    [agent_fsm:1102] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:27:13] WARNING  [agent_fsm:1224] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:13] ERROR    [agent_fsm:1078] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] --- FSM STATE: ERROR ---
[2025-06-18 12:27:13] ERROR    [agent_fsm:1101] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Error category: TOOL_VALIDATION, Occurrences: 18
[2025-06-18 12:27:13] ERROR    [agent_fsm:1102] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:27:13] WARNING  [agent_fsm:1224] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:13] ERROR    [agent_fsm:1078] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] --- FSM STATE: ERROR ---
[2025-06-18 12:27:13] ERROR    [agent_fsm:1101] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Error category: TOOL_VALIDATION, Occurrences: 19
[2025-06-18 12:27:13] ERROR    [agent_fsm:1102] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:27:13] WARNING  [agent_fsm:1224] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:13] ERROR    [agent_fsm:1078] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] --- FSM STATE: ERROR ---
[2025-06-18 12:27:13] ERROR    [agent_fsm:1101] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Error category: TOOL_VALIDATION, Occurrences: 20
[2025-06-18 12:27:13] ERROR    [agent_fsm:1102] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:27:13] WARNING  [agent_fsm:1224] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:13] ERROR    [agent_fsm:1837] [4113d186-b5b6-4eda-a0dc-8c0b139f45a3] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:27:13] INFO     [agent_fsm:1752] [b7061f80-692c-44ce-ae4f-445eeaedd140] Starting resilient FSM execution
[2025-06-18 12:27:13] INFO     [agent_fsm:1807] [b7061f80-692c-44ce-ae4f-445eeaedd140] FSM STATE: INITIAL
[2025-06-18 12:27:13] INFO     [agent_fsm:665] [b7061f80-692c-44ce-ae4f-445eeaedd140] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:27:13] DEBUG    [agent_fsm:680] [b7061f80-692c-44ce-ae4f-445eeaedd140] Turn count: 1, Action history length: 1
[2025-06-18 12:27:14] INFO     [agent_fsm:773] [b7061f80-692c-44ce-ae4f-445eeaedd140] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:27:14] INFO     [agent_fsm:820] [b7061f80-692c-44ce-ae4f-445eeaedd140] Executing tool: web_researcher with input: {'query': 'What is 2 + 2?', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 12:27:14] INFO     [agent_fsm:922] [b7061f80-692c-44ce-ae4f-445eeaedd140] Tool execution completed
[2025-06-18 12:27:14] INFO     [agent_fsm:773] [b7061f80-692c-44ce-ae4f-445eeaedd140] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:27:14] WARNING  [agent_fsm:803] [b7061f80-692c-44ce-ae4f-445eeaedd140] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:27:14] INFO     [agent_fsm:665] [b7061f80-692c-44ce-ae4f-445eeaedd140] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:27:14] DEBUG    [agent_fsm:680] [b7061f80-692c-44ce-ae4f-445eeaedd140] Turn count: 2, Action history length: 2
[2025-06-18 12:27:15] ERROR    [agent_fsm:1359] [b7061f80-692c-44ce-ae4f-445eeaedd140] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:27:15] INFO     [agent_fsm:773] [b7061f80-692c-44ce-ae4f-445eeaedd140] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:27:15] INFO     [agent_fsm:820] [b7061f80-692c-44ce-ae4f-445eeaedd140] Executing tool: semantic_search_tool with input: {'query': '2 + 2', 'filename': 'knowledge_base.csv', 'top_k': 3}
[2025-06-18 12:27:15] INFO     [agent_fsm:922] [b7061f80-692c-44ce-ae4f-445eeaedd140] Tool execution completed
[2025-06-18 12:27:15] INFO     [agent_fsm:773] [b7061f80-692c-44ce-ae4f-445eeaedd140] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:27:15] WARNING  [agent_fsm:803] [b7061f80-692c-44ce-ae4f-445eeaedd140] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:27:15] INFO     [agent_fsm:665] [b7061f80-692c-44ce-ae4f-445eeaedd140] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:27:15] DEBUG    [agent_fsm:680] [b7061f80-692c-44ce-ae4f-445eeaedd140] Turn count: 3, Action history length: 3
[2025-06-18 12:27:17] ERROR    [agent_fsm:1359] [b7061f80-692c-44ce-ae4f-445eeaedd140] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:27:17] WARNING  [agent_fsm:1333] [b7061f80-692c-44ce-ae4f-445eeaedd140] Tool image_analyzer not found in registry, will use stub
[2025-06-18 12:27:17] WARNING  [agent_fsm:1224] [b7061f80-692c-44ce-ae4f-445eeaedd140] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:17] ERROR    [agent_fsm:1078] [b7061f80-692c-44ce-ae4f-445eeaedd140] --- FSM STATE: ERROR ---
[2025-06-18 12:27:17] ERROR    [agent_fsm:1101] [b7061f80-692c-44ce-ae4f-445eeaedd140] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:27:17] ERROR    [agent_fsm:1102] [b7061f80-692c-44ce-ae4f-445eeaedd140] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:17] WARNING  [agent_fsm:1224] [b7061f80-692c-44ce-ae4f-445eeaedd140] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:17] ERROR    [agent_fsm:1078] [b7061f80-692c-44ce-ae4f-445eeaedd140] --- FSM STATE: ERROR ---
[2025-06-18 12:27:17] ERROR    [agent_fsm:1101] [b7061f80-692c-44ce-ae4f-445eeaedd140] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:27:17] ERROR    [agent_fsm:1102] [b7061f80-692c-44ce-ae4f-445eeaedd140] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:17] WARNING  [agent_fsm:1224] [b7061f80-692c-44ce-ae4f-445eeaedd140] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:17] ERROR    [agent_fsm:1078] [b7061f80-692c-44ce-ae4f-445eeaedd140] --- FSM STATE: ERROR ---
[2025-06-18 12:27:17] ERROR    [agent_fsm:1101] [b7061f80-692c-44ce-ae4f-445eeaedd140] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:27:17] ERROR    [agent_fsm:1102] [b7061f80-692c-44ce-ae4f-445eeaedd140] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:17] WARNING  [agent_fsm:1224] [b7061f80-692c-44ce-ae4f-445eeaedd140] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:17] ERROR    [agent_fsm:1078] [b7061f80-692c-44ce-ae4f-445eeaedd140] --- FSM STATE: ERROR ---
[2025-06-18 12:27:17] ERROR    [agent_fsm:1101] [b7061f80-692c-44ce-ae4f-445eeaedd140] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:27:17] ERROR    [agent_fsm:1102] [b7061f80-692c-44ce-ae4f-445eeaedd140] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:17] WARNING  [agent_fsm:1224] [b7061f80-692c-44ce-ae4f-445eeaedd140] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:17] ERROR    [agent_fsm:1078] [b7061f80-692c-44ce-ae4f-445eeaedd140] --- FSM STATE: ERROR ---
[2025-06-18 12:27:17] ERROR    [agent_fsm:1101] [b7061f80-692c-44ce-ae4f-445eeaedd140] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:27:17] ERROR    [agent_fsm:1102] [b7061f80-692c-44ce-ae4f-445eeaedd140] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:17] WARNING  [agent_fsm:1224] [b7061f80-692c-44ce-ae4f-445eeaedd140] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:17] ERROR    [agent_fsm:1078] [b7061f80-692c-44ce-ae4f-445eeaedd140] --- FSM STATE: ERROR ---
[2025-06-18 12:27:17] ERROR    [agent_fsm:1101] [b7061f80-692c-44ce-ae4f-445eeaedd140] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:27:17] ERROR    [agent_fsm:1102] [b7061f80-692c-44ce-ae4f-445eeaedd140] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:17] WARNING  [agent_fsm:1224] [b7061f80-692c-44ce-ae4f-445eeaedd140] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:17] ERROR    [agent_fsm:1078] [b7061f80-692c-44ce-ae4f-445eeaedd140] --- FSM STATE: ERROR ---
[2025-06-18 12:27:17] ERROR    [agent_fsm:1101] [b7061f80-692c-44ce-ae4f-445eeaedd140] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:27:17] ERROR    [agent_fsm:1102] [b7061f80-692c-44ce-ae4f-445eeaedd140] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:17] WARNING  [agent_fsm:1224] [b7061f80-692c-44ce-ae4f-445eeaedd140] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:17] ERROR    [agent_fsm:1078] [b7061f80-692c-44ce-ae4f-445eeaedd140] --- FSM STATE: ERROR ---
[2025-06-18 12:27:17] ERROR    [agent_fsm:1101] [b7061f80-692c-44ce-ae4f-445eeaedd140] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:27:17] ERROR    [agent_fsm:1102] [b7061f80-692c-44ce-ae4f-445eeaedd140] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:17] WARNING  [agent_fsm:1224] [b7061f80-692c-44ce-ae4f-445eeaedd140] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:17] ERROR    [agent_fsm:1078] [b7061f80-692c-44ce-ae4f-445eeaedd140] --- FSM STATE: ERROR ---
[2025-06-18 12:27:17] ERROR    [agent_fsm:1101] [b7061f80-692c-44ce-ae4f-445eeaedd140] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:27:17] ERROR    [agent_fsm:1102] [b7061f80-692c-44ce-ae4f-445eeaedd140] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:17] WARNING  [agent_fsm:1224] [b7061f80-692c-44ce-ae4f-445eeaedd140] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:17] ERROR    [agent_fsm:1078] [b7061f80-692c-44ce-ae4f-445eeaedd140] --- FSM STATE: ERROR ---
[2025-06-18 12:27:17] ERROR    [agent_fsm:1101] [b7061f80-692c-44ce-ae4f-445eeaedd140] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:27:17] ERROR    [agent_fsm:1102] [b7061f80-692c-44ce-ae4f-445eeaedd140] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:17] WARNING  [agent_fsm:1224] [b7061f80-692c-44ce-ae4f-445eeaedd140] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:17] ERROR    [agent_fsm:1078] [b7061f80-692c-44ce-ae4f-445eeaedd140] --- FSM STATE: ERROR ---
[2025-06-18 12:27:17] ERROR    [agent_fsm:1101] [b7061f80-692c-44ce-ae4f-445eeaedd140] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:27:17] ERROR    [agent_fsm:1102] [b7061f80-692c-44ce-ae4f-445eeaedd140] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:17] WARNING  [agent_fsm:1224] [b7061f80-692c-44ce-ae4f-445eeaedd140] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:17] ERROR    [agent_fsm:1078] [b7061f80-692c-44ce-ae4f-445eeaedd140] --- FSM STATE: ERROR ---
[2025-06-18 12:27:17] ERROR    [agent_fsm:1101] [b7061f80-692c-44ce-ae4f-445eeaedd140] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:27:17] ERROR    [agent_fsm:1102] [b7061f80-692c-44ce-ae4f-445eeaedd140] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:17] WARNING  [agent_fsm:1224] [b7061f80-692c-44ce-ae4f-445eeaedd140] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:17] ERROR    [agent_fsm:1078] [b7061f80-692c-44ce-ae4f-445eeaedd140] --- FSM STATE: ERROR ---
[2025-06-18 12:27:17] ERROR    [agent_fsm:1101] [b7061f80-692c-44ce-ae4f-445eeaedd140] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:27:17] ERROR    [agent_fsm:1102] [b7061f80-692c-44ce-ae4f-445eeaedd140] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:17] WARNING  [agent_fsm:1224] [b7061f80-692c-44ce-ae4f-445eeaedd140] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:17] ERROR    [agent_fsm:1078] [b7061f80-692c-44ce-ae4f-445eeaedd140] --- FSM STATE: ERROR ---
[2025-06-18 12:27:17] ERROR    [agent_fsm:1101] [b7061f80-692c-44ce-ae4f-445eeaedd140] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:27:17] ERROR    [agent_fsm:1102] [b7061f80-692c-44ce-ae4f-445eeaedd140] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:17] WARNING  [agent_fsm:1224] [b7061f80-692c-44ce-ae4f-445eeaedd140] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:17] ERROR    [agent_fsm:1078] [b7061f80-692c-44ce-ae4f-445eeaedd140] --- FSM STATE: ERROR ---
[2025-06-18 12:27:17] ERROR    [agent_fsm:1101] [b7061f80-692c-44ce-ae4f-445eeaedd140] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:27:17] ERROR    [agent_fsm:1102] [b7061f80-692c-44ce-ae4f-445eeaedd140] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:17] WARNING  [agent_fsm:1224] [b7061f80-692c-44ce-ae4f-445eeaedd140] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:17] ERROR    [agent_fsm:1078] [b7061f80-692c-44ce-ae4f-445eeaedd140] --- FSM STATE: ERROR ---
[2025-06-18 12:27:17] ERROR    [agent_fsm:1101] [b7061f80-692c-44ce-ae4f-445eeaedd140] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:27:17] ERROR    [agent_fsm:1102] [b7061f80-692c-44ce-ae4f-445eeaedd140] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:17] WARNING  [agent_fsm:1224] [b7061f80-692c-44ce-ae4f-445eeaedd140] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:17] ERROR    [agent_fsm:1078] [b7061f80-692c-44ce-ae4f-445eeaedd140] --- FSM STATE: ERROR ---
[2025-06-18 12:27:17] ERROR    [agent_fsm:1101] [b7061f80-692c-44ce-ae4f-445eeaedd140] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:27:17] ERROR    [agent_fsm:1102] [b7061f80-692c-44ce-ae4f-445eeaedd140] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:17] WARNING  [agent_fsm:1224] [b7061f80-692c-44ce-ae4f-445eeaedd140] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:17] ERROR    [agent_fsm:1078] [b7061f80-692c-44ce-ae4f-445eeaedd140] --- FSM STATE: ERROR ---
[2025-06-18 12:27:17] ERROR    [agent_fsm:1101] [b7061f80-692c-44ce-ae4f-445eeaedd140] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:27:17] ERROR    [agent_fsm:1102] [b7061f80-692c-44ce-ae4f-445eeaedd140] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:17] WARNING  [agent_fsm:1224] [b7061f80-692c-44ce-ae4f-445eeaedd140] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:17] ERROR    [agent_fsm:1837] [b7061f80-692c-44ce-ae4f-445eeaedd140] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:27:17] INFO     [agent_fsm:1752] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Starting resilient FSM execution
[2025-06-18 12:27:17] INFO     [agent_fsm:1807] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] FSM STATE: INITIAL
[2025-06-18 12:27:17] INFO     [agent_fsm:665] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:27:17] DEBUG    [agent_fsm:680] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Turn count: 1, Action history length: 1
[2025-06-18 12:27:18] WARNING  [agent_fsm:1521] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:27:18] WARNING  [agent_fsm:1521] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:27:18] INFO     [agent_fsm:773] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:27:18] INFO     [agent_fsm:820] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Executing tool: chess_logic_tool with input: {'fen_string': 'rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR', 'analysis_time_seconds': 2.0}
[2025-06-18 12:27:18] INFO     [agent_fsm:922] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Tool execution completed
[2025-06-18 12:27:18] INFO     [agent_fsm:773] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:27:18] WARNING  [agent_fsm:803] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:27:18] INFO     [agent_fsm:665] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:27:18] DEBUG    [agent_fsm:680] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Turn count: 2, Action history length: 2
[2025-06-18 12:27:19] WARNING  [agent_fsm:1521] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:27:19] WARNING  [agent_fsm:1521] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:27:19] WARNING  [agent_fsm:1521] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:27:19] WARNING  [agent_fsm:1521] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:27:19] INFO     [agent_fsm:773] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:27:19] INFO     [agent_fsm:820] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:27:19] INFO     [agent_fsm:922] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Tool execution completed
[2025-06-18 12:27:19] INFO     [agent_fsm:773] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:27:19] WARNING  [agent_fsm:803] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:27:19] INFO     [agent_fsm:665] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:27:19] DEBUG    [agent_fsm:680] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Turn count: 3, Action history length: 3
[2025-06-18 12:27:21] WARNING  [agent_fsm:1521] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:27:21] WARNING  [agent_fsm:1521] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:27:21] WARNING  [agent_fsm:1521] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:27:21] WARNING  [agent_fsm:1521] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 12:27:21] WARNING  [agent_fsm:1521] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Failed to parse JSON parameters for step 9, using fallback parser
[2025-06-18 12:27:21] WARNING  [agent_fsm:1224] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:21] ERROR    [agent_fsm:1078] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] --- FSM STATE: ERROR ---
[2025-06-18 12:27:21] ERROR    [agent_fsm:1101] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:27:21] ERROR    [agent_fsm:1102] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:21] WARNING  [agent_fsm:1224] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:21] ERROR    [agent_fsm:1078] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] --- FSM STATE: ERROR ---
[2025-06-18 12:27:21] ERROR    [agent_fsm:1101] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:27:21] ERROR    [agent_fsm:1102] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:21] WARNING  [agent_fsm:1224] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:21] ERROR    [agent_fsm:1078] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] --- FSM STATE: ERROR ---
[2025-06-18 12:27:21] ERROR    [agent_fsm:1101] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:27:21] ERROR    [agent_fsm:1102] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:21] WARNING  [agent_fsm:1224] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:21] ERROR    [agent_fsm:1078] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] --- FSM STATE: ERROR ---
[2025-06-18 12:27:21] ERROR    [agent_fsm:1101] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:27:21] ERROR    [agent_fsm:1102] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:21] WARNING  [agent_fsm:1224] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:21] ERROR    [agent_fsm:1078] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] --- FSM STATE: ERROR ---
[2025-06-18 12:27:21] ERROR    [agent_fsm:1101] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:27:21] ERROR    [agent_fsm:1102] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:21] WARNING  [agent_fsm:1224] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:21] ERROR    [agent_fsm:1078] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] --- FSM STATE: ERROR ---
[2025-06-18 12:27:21] ERROR    [agent_fsm:1101] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:27:21] ERROR    [agent_fsm:1102] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:21] WARNING  [agent_fsm:1224] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:21] ERROR    [agent_fsm:1078] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] --- FSM STATE: ERROR ---
[2025-06-18 12:27:21] ERROR    [agent_fsm:1101] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:27:21] ERROR    [agent_fsm:1102] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:21] WARNING  [agent_fsm:1224] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:21] ERROR    [agent_fsm:1078] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] --- FSM STATE: ERROR ---
[2025-06-18 12:27:21] ERROR    [agent_fsm:1101] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:27:21] ERROR    [agent_fsm:1102] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:21] WARNING  [agent_fsm:1224] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:21] ERROR    [agent_fsm:1078] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] --- FSM STATE: ERROR ---
[2025-06-18 12:27:21] ERROR    [agent_fsm:1101] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:27:21] ERROR    [agent_fsm:1102] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:21] WARNING  [agent_fsm:1224] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:21] ERROR    [agent_fsm:1078] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] --- FSM STATE: ERROR ---
[2025-06-18 12:27:21] ERROR    [agent_fsm:1101] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:27:21] ERROR    [agent_fsm:1102] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:21] WARNING  [agent_fsm:1224] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:21] ERROR    [agent_fsm:1078] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] --- FSM STATE: ERROR ---
[2025-06-18 12:27:21] ERROR    [agent_fsm:1101] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:27:21] ERROR    [agent_fsm:1102] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:21] WARNING  [agent_fsm:1224] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:21] ERROR    [agent_fsm:1078] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] --- FSM STATE: ERROR ---
[2025-06-18 12:27:21] ERROR    [agent_fsm:1101] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:27:21] ERROR    [agent_fsm:1102] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:21] WARNING  [agent_fsm:1224] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:21] ERROR    [agent_fsm:1078] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] --- FSM STATE: ERROR ---
[2025-06-18 12:27:21] ERROR    [agent_fsm:1101] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:27:21] ERROR    [agent_fsm:1102] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:21] WARNING  [agent_fsm:1224] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:21] ERROR    [agent_fsm:1078] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] --- FSM STATE: ERROR ---
[2025-06-18 12:27:21] ERROR    [agent_fsm:1101] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:27:21] ERROR    [agent_fsm:1102] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:21] WARNING  [agent_fsm:1224] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:21] ERROR    [agent_fsm:1078] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] --- FSM STATE: ERROR ---
[2025-06-18 12:27:21] ERROR    [agent_fsm:1101] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:27:21] ERROR    [agent_fsm:1102] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:21] WARNING  [agent_fsm:1224] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:21] ERROR    [agent_fsm:1078] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] --- FSM STATE: ERROR ---
[2025-06-18 12:27:21] ERROR    [agent_fsm:1101] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:27:21] ERROR    [agent_fsm:1102] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:21] WARNING  [agent_fsm:1224] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:21] ERROR    [agent_fsm:1078] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] --- FSM STATE: ERROR ---
[2025-06-18 12:27:21] ERROR    [agent_fsm:1101] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:27:21] ERROR    [agent_fsm:1102] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:21] WARNING  [agent_fsm:1224] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:21] ERROR    [agent_fsm:1078] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] --- FSM STATE: ERROR ---
[2025-06-18 12:27:21] ERROR    [agent_fsm:1101] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:27:21] ERROR    [agent_fsm:1102] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:21] WARNING  [agent_fsm:1224] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:21] ERROR    [agent_fsm:1837] [b9cf20ae-f2b0-49d4-bec6-23b9586890d8] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:27:21] INFO     [agent_fsm:1752] [8c0fab6c-d933-4481-8661-c41bba518a22] Starting resilient FSM execution
[2025-06-18 12:27:21] INFO     [agent_fsm:1807] [8c0fab6c-d933-4481-8661-c41bba518a22] FSM STATE: INITIAL
[2025-06-18 12:27:21] INFO     [agent_fsm:665] [8c0fab6c-d933-4481-8661-c41bba518a22] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:27:21] DEBUG    [agent_fsm:680] [8c0fab6c-d933-4481-8661-c41bba518a22] Turn count: 1, Action history length: 1
[2025-06-18 12:27:22] WARNING  [agent_fsm:1521] [8c0fab6c-d933-4481-8661-c41bba518a22] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:27:22] ERROR    [agent_fsm:1359] [8c0fab6c-d933-4481-8661-c41bba518a22] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:27:22] ERROR    [agent_fsm:1359] [8c0fab6c-d933-4481-8661-c41bba518a22] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:27:22] INFO     [agent_fsm:773] [8c0fab6c-d933-4481-8661-c41bba518a22] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:27:22] INFO     [agent_fsm:820] [8c0fab6c-d933-4481-8661-c41bba518a22] Executing tool: web_researcher with input: {'query': 'Nobel Prize in Physics 2023 winner', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 12:27:22] INFO     [agent_fsm:922] [8c0fab6c-d933-4481-8661-c41bba518a22] Tool execution completed
[2025-06-18 12:27:22] INFO     [agent_fsm:773] [8c0fab6c-d933-4481-8661-c41bba518a22] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:27:22] WARNING  [agent_fsm:803] [8c0fab6c-d933-4481-8661-c41bba518a22] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:27:22] INFO     [agent_fsm:665] [8c0fab6c-d933-4481-8661-c41bba518a22] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:27:22] DEBUG    [agent_fsm:680] [8c0fab6c-d933-4481-8661-c41bba518a22] Turn count: 2, Action history length: 2
[2025-06-18 12:27:23] WARNING  [agent_fsm:1521] [8c0fab6c-d933-4481-8661-c41bba518a22] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:27:23] ERROR    [agent_fsm:1359] [8c0fab6c-d933-4481-8661-c41bba518a22] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:27:23] INFO     [agent_fsm:773] [8c0fab6c-d933-4481-8661-c41bba518a22] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:27:23] INFO     [agent_fsm:820] [8c0fab6c-d933-4481-8661-c41bba518a22] Executing tool: semantic_search_tool with input: {'query': 'Nobel Prize in Physics 2023 winner', 'filename': 'knowledge_base.csv', 'top_k': 3}
[2025-06-18 12:27:23] INFO     [agent_fsm:922] [8c0fab6c-d933-4481-8661-c41bba518a22] Tool execution completed
[2025-06-18 12:27:23] INFO     [agent_fsm:773] [8c0fab6c-d933-4481-8661-c41bba518a22] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:27:23] WARNING  [agent_fsm:803] [8c0fab6c-d933-4481-8661-c41bba518a22] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:27:23] INFO     [agent_fsm:665] [8c0fab6c-d933-4481-8661-c41bba518a22] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:27:23] DEBUG    [agent_fsm:680] [8c0fab6c-d933-4481-8661-c41bba518a22] Turn count: 3, Action history length: 3
[2025-06-18 12:27:24] WARNING  [agent_fsm:1521] [8c0fab6c-d933-4481-8661-c41bba518a22] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:27:24] ERROR    [agent_fsm:1359] [8c0fab6c-d933-4481-8661-c41bba518a22] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:27:24] WARNING  [agent_fsm:1224] [8c0fab6c-d933-4481-8661-c41bba518a22] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:24] ERROR    [agent_fsm:1078] [8c0fab6c-d933-4481-8661-c41bba518a22] --- FSM STATE: ERROR ---
[2025-06-18 12:27:24] ERROR    [agent_fsm:1101] [8c0fab6c-d933-4481-8661-c41bba518a22] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:27:24] ERROR    [agent_fsm:1102] [8c0fab6c-d933-4481-8661-c41bba518a22] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:24] WARNING  [agent_fsm:1224] [8c0fab6c-d933-4481-8661-c41bba518a22] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:24] ERROR    [agent_fsm:1078] [8c0fab6c-d933-4481-8661-c41bba518a22] --- FSM STATE: ERROR ---
[2025-06-18 12:27:24] ERROR    [agent_fsm:1101] [8c0fab6c-d933-4481-8661-c41bba518a22] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:27:24] ERROR    [agent_fsm:1102] [8c0fab6c-d933-4481-8661-c41bba518a22] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:24] WARNING  [agent_fsm:1224] [8c0fab6c-d933-4481-8661-c41bba518a22] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:24] ERROR    [agent_fsm:1078] [8c0fab6c-d933-4481-8661-c41bba518a22] --- FSM STATE: ERROR ---
[2025-06-18 12:27:24] ERROR    [agent_fsm:1101] [8c0fab6c-d933-4481-8661-c41bba518a22] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:27:24] ERROR    [agent_fsm:1102] [8c0fab6c-d933-4481-8661-c41bba518a22] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:24] WARNING  [agent_fsm:1224] [8c0fab6c-d933-4481-8661-c41bba518a22] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:24] ERROR    [agent_fsm:1078] [8c0fab6c-d933-4481-8661-c41bba518a22] --- FSM STATE: ERROR ---
[2025-06-18 12:27:24] ERROR    [agent_fsm:1101] [8c0fab6c-d933-4481-8661-c41bba518a22] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:27:24] ERROR    [agent_fsm:1102] [8c0fab6c-d933-4481-8661-c41bba518a22] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:24] WARNING  [agent_fsm:1224] [8c0fab6c-d933-4481-8661-c41bba518a22] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:24] ERROR    [agent_fsm:1078] [8c0fab6c-d933-4481-8661-c41bba518a22] --- FSM STATE: ERROR ---
[2025-06-18 12:27:24] ERROR    [agent_fsm:1101] [8c0fab6c-d933-4481-8661-c41bba518a22] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:27:24] ERROR    [agent_fsm:1102] [8c0fab6c-d933-4481-8661-c41bba518a22] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:24] WARNING  [agent_fsm:1224] [8c0fab6c-d933-4481-8661-c41bba518a22] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:24] ERROR    [agent_fsm:1078] [8c0fab6c-d933-4481-8661-c41bba518a22] --- FSM STATE: ERROR ---
[2025-06-18 12:27:24] ERROR    [agent_fsm:1101] [8c0fab6c-d933-4481-8661-c41bba518a22] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:27:24] ERROR    [agent_fsm:1102] [8c0fab6c-d933-4481-8661-c41bba518a22] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:24] WARNING  [agent_fsm:1224] [8c0fab6c-d933-4481-8661-c41bba518a22] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:24] ERROR    [agent_fsm:1078] [8c0fab6c-d933-4481-8661-c41bba518a22] --- FSM STATE: ERROR ---
[2025-06-18 12:27:24] ERROR    [agent_fsm:1101] [8c0fab6c-d933-4481-8661-c41bba518a22] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:27:24] ERROR    [agent_fsm:1102] [8c0fab6c-d933-4481-8661-c41bba518a22] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:24] WARNING  [agent_fsm:1224] [8c0fab6c-d933-4481-8661-c41bba518a22] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:24] ERROR    [agent_fsm:1078] [8c0fab6c-d933-4481-8661-c41bba518a22] --- FSM STATE: ERROR ---
[2025-06-18 12:27:24] ERROR    [agent_fsm:1101] [8c0fab6c-d933-4481-8661-c41bba518a22] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:27:24] ERROR    [agent_fsm:1102] [8c0fab6c-d933-4481-8661-c41bba518a22] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:24] WARNING  [agent_fsm:1224] [8c0fab6c-d933-4481-8661-c41bba518a22] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:24] ERROR    [agent_fsm:1078] [8c0fab6c-d933-4481-8661-c41bba518a22] --- FSM STATE: ERROR ---
[2025-06-18 12:27:24] ERROR    [agent_fsm:1101] [8c0fab6c-d933-4481-8661-c41bba518a22] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:27:24] ERROR    [agent_fsm:1102] [8c0fab6c-d933-4481-8661-c41bba518a22] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:24] WARNING  [agent_fsm:1224] [8c0fab6c-d933-4481-8661-c41bba518a22] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:24] ERROR    [agent_fsm:1078] [8c0fab6c-d933-4481-8661-c41bba518a22] --- FSM STATE: ERROR ---
[2025-06-18 12:27:24] ERROR    [agent_fsm:1101] [8c0fab6c-d933-4481-8661-c41bba518a22] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:27:24] ERROR    [agent_fsm:1102] [8c0fab6c-d933-4481-8661-c41bba518a22] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:24] WARNING  [agent_fsm:1224] [8c0fab6c-d933-4481-8661-c41bba518a22] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:24] ERROR    [agent_fsm:1078] [8c0fab6c-d933-4481-8661-c41bba518a22] --- FSM STATE: ERROR ---
[2025-06-18 12:27:24] ERROR    [agent_fsm:1101] [8c0fab6c-d933-4481-8661-c41bba518a22] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:27:24] ERROR    [agent_fsm:1102] [8c0fab6c-d933-4481-8661-c41bba518a22] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:24] WARNING  [agent_fsm:1224] [8c0fab6c-d933-4481-8661-c41bba518a22] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:24] ERROR    [agent_fsm:1078] [8c0fab6c-d933-4481-8661-c41bba518a22] --- FSM STATE: ERROR ---
[2025-06-18 12:27:24] ERROR    [agent_fsm:1101] [8c0fab6c-d933-4481-8661-c41bba518a22] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:27:24] ERROR    [agent_fsm:1102] [8c0fab6c-d933-4481-8661-c41bba518a22] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:24] WARNING  [agent_fsm:1224] [8c0fab6c-d933-4481-8661-c41bba518a22] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:24] ERROR    [agent_fsm:1078] [8c0fab6c-d933-4481-8661-c41bba518a22] --- FSM STATE: ERROR ---
[2025-06-18 12:27:24] ERROR    [agent_fsm:1101] [8c0fab6c-d933-4481-8661-c41bba518a22] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:27:24] ERROR    [agent_fsm:1102] [8c0fab6c-d933-4481-8661-c41bba518a22] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:24] WARNING  [agent_fsm:1224] [8c0fab6c-d933-4481-8661-c41bba518a22] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:24] ERROR    [agent_fsm:1078] [8c0fab6c-d933-4481-8661-c41bba518a22] --- FSM STATE: ERROR ---
[2025-06-18 12:27:24] ERROR    [agent_fsm:1101] [8c0fab6c-d933-4481-8661-c41bba518a22] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:27:24] ERROR    [agent_fsm:1102] [8c0fab6c-d933-4481-8661-c41bba518a22] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:24] WARNING  [agent_fsm:1224] [8c0fab6c-d933-4481-8661-c41bba518a22] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:24] ERROR    [agent_fsm:1078] [8c0fab6c-d933-4481-8661-c41bba518a22] --- FSM STATE: ERROR ---
[2025-06-18 12:27:24] ERROR    [agent_fsm:1101] [8c0fab6c-d933-4481-8661-c41bba518a22] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:27:24] ERROR    [agent_fsm:1102] [8c0fab6c-d933-4481-8661-c41bba518a22] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:24] WARNING  [agent_fsm:1224] [8c0fab6c-d933-4481-8661-c41bba518a22] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:24] ERROR    [agent_fsm:1078] [8c0fab6c-d933-4481-8661-c41bba518a22] --- FSM STATE: ERROR ---
[2025-06-18 12:27:24] ERROR    [agent_fsm:1101] [8c0fab6c-d933-4481-8661-c41bba518a22] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:27:24] ERROR    [agent_fsm:1102] [8c0fab6c-d933-4481-8661-c41bba518a22] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:24] WARNING  [agent_fsm:1224] [8c0fab6c-d933-4481-8661-c41bba518a22] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:24] ERROR    [agent_fsm:1078] [8c0fab6c-d933-4481-8661-c41bba518a22] --- FSM STATE: ERROR ---
[2025-06-18 12:27:24] ERROR    [agent_fsm:1101] [8c0fab6c-d933-4481-8661-c41bba518a22] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:27:24] ERROR    [agent_fsm:1102] [8c0fab6c-d933-4481-8661-c41bba518a22] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:24] WARNING  [agent_fsm:1224] [8c0fab6c-d933-4481-8661-c41bba518a22] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:24] ERROR    [agent_fsm:1078] [8c0fab6c-d933-4481-8661-c41bba518a22] --- FSM STATE: ERROR ---
[2025-06-18 12:27:24] ERROR    [agent_fsm:1101] [8c0fab6c-d933-4481-8661-c41bba518a22] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:27:24] ERROR    [agent_fsm:1102] [8c0fab6c-d933-4481-8661-c41bba518a22] Errors: ['Duplicate tool call detected']
[2025-06-18 12:27:24] WARNING  [agent_fsm:1224] [8c0fab6c-d933-4481-8661-c41bba518a22] Direct loop detected - same action repeated 3 times
[2025-06-18 12:27:24] ERROR    [agent_fsm:1837] [8c0fab6c-d933-4481-8661-c41bba518a22] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:30:32] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 12:30:32] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 12:30:32] INFO     [agent_fsm:570] [1ab5f246-0d0e-45c9-a9c8-44c26a0f0386] Building resilient FSM graph
[2025-06-18 12:30:32] INFO     [agent_fsm:572] [1ab5f246-0d0e-45c9-a9c8-44c26a0f0386] FSMReActAgent graph built successfully
[2025-06-18 12:30:32] INFO     [agent_fsm:1752] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Starting resilient FSM execution
[2025-06-18 12:30:32] INFO     [agent_fsm:1807] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] FSM STATE: INITIAL
[2025-06-18 12:30:32] INFO     [agent_fsm:665] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:30:32] DEBUG    [agent_fsm:680] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Turn count: 1, Action history length: 1
[2025-06-18 12:30:34] ERROR    [agent_fsm:1359] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:30:34] WARNING  [agent_fsm:1333] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Tool image_analyzer not found in registry, will use stub
[2025-06-18 12:30:34] INFO     [agent_fsm:773] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:30:34] INFO     [agent_fsm:820] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Executing tool: web_researcher with input: {'query': 'Capital of France', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 12:30:34] INFO     [agent_fsm:922] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Tool execution completed
[2025-06-18 12:30:34] INFO     [agent_fsm:773] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:30:34] WARNING  [agent_fsm:803] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:30:34] INFO     [agent_fsm:665] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:30:34] DEBUG    [agent_fsm:680] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Turn count: 2, Action history length: 2
[2025-06-18 12:30:35] WARNING  [agent_fsm:1521] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:30:35] WARNING  [agent_fsm:1521] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:30:35] ERROR    [agent_fsm:1359] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:30:35] INFO     [agent_fsm:773] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:30:35] INFO     [agent_fsm:820] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 12:30:35] ERROR    [agent_fsm:840] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Tool execution failed: Too many arguments to single-input tool tavily_search.
                Consider using StructuredTool instead. Args: ['Capital of France', 3]
[2025-06-18 12:30:35] INFO     [agent_fsm:853] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Trying alternative tool: web_researcher
[2025-06-18 12:30:35] INFO     [agent_fsm:922] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Tool execution completed
[2025-06-18 12:30:35] INFO     [agent_fsm:773] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:30:35] INFO     [agent_fsm:820] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 12:30:35] ERROR    [agent_fsm:840] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Tool execution failed: Too many arguments to single-input tool tavily_search.
                Consider using StructuredTool instead. Args: ['Capital of France', 3]
[2025-06-18 12:30:35] INFO     [agent_fsm:853] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Trying alternative tool: web_researcher
[2025-06-18 12:30:35] INFO     [agent_fsm:922] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Tool execution completed
[2025-06-18 12:30:35] INFO     [agent_fsm:773] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] --- FSM STATE: TOOL_EXECUTION (Step 4) ---
[2025-06-18 12:30:35] INFO     [agent_fsm:820] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 12:30:35] ERROR    [agent_fsm:840] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Tool execution failed: Too many arguments to single-input tool tavily_search.
                Consider using StructuredTool instead. Args: ['Capital of France', 3]
[2025-06-18 12:30:35] INFO     [agent_fsm:853] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Trying alternative tool: web_researcher
[2025-06-18 12:30:35] INFO     [agent_fsm:922] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Tool execution completed
[2025-06-18 12:30:35] INFO     [agent_fsm:773] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] --- FSM STATE: TOOL_EXECUTION (Step 5) ---
[2025-06-18 12:30:35] INFO     [agent_fsm:820] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 12:30:35] WARNING  [agent_fsm:831] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 12:30:35] INFO     [agent_fsm:922] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Tool execution completed
[2025-06-18 12:30:35] INFO     [agent_fsm:773] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] --- FSM STATE: TOOL_EXECUTION (Step 6) ---
[2025-06-18 12:30:35] INFO     [agent_fsm:820] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 12:30:35] WARNING  [agent_fsm:831] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 12:30:35] INFO     [agent_fsm:922] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Tool execution completed
[2025-06-18 12:30:35] INFO     [agent_fsm:773] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] --- FSM STATE: TOOL_EXECUTION (Step 7) ---
[2025-06-18 12:30:35] INFO     [agent_fsm:820] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 12:30:35] WARNING  [agent_fsm:831] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 12:30:35] INFO     [agent_fsm:922] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Tool execution completed
[2025-06-18 12:30:35] INFO     [agent_fsm:773] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] --- FSM STATE: TOOL_EXECUTION (Step 8) ---
[2025-06-18 12:30:35] INFO     [agent_fsm:820] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 12:30:35] WARNING  [agent_fsm:831] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 12:30:35] INFO     [agent_fsm:922] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Tool execution completed
[2025-06-18 12:30:35] INFO     [agent_fsm:773] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] --- FSM STATE: TOOL_EXECUTION (Step 9) ---
[2025-06-18 12:30:35] INFO     [agent_fsm:820] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 12:30:35] WARNING  [agent_fsm:831] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 12:30:35] INFO     [agent_fsm:922] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Tool execution completed
[2025-06-18 12:30:35] INFO     [agent_fsm:773] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] --- FSM STATE: TOOL_EXECUTION (Step 10) ---
[2025-06-18 12:30:35] INFO     [agent_fsm:820] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 12:30:35] WARNING  [agent_fsm:831] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 12:30:35] INFO     [agent_fsm:922] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Tool execution completed
[2025-06-18 12:30:35] INFO     [agent_fsm:773] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] --- FSM STATE: TOOL_EXECUTION (Step 11) ---
[2025-06-18 12:30:35] INFO     [agent_fsm:820] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 12:30:35] WARNING  [agent_fsm:831] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 12:30:35] INFO     [agent_fsm:922] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Tool execution completed
[2025-06-18 12:30:35] INFO     [agent_fsm:773] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] --- FSM STATE: TOOL_EXECUTION (Step 12) ---
[2025-06-18 12:30:35] INFO     [agent_fsm:820] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 12:30:35] WARNING  [agent_fsm:831] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 12:30:35] INFO     [agent_fsm:922] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Tool execution completed
[2025-06-18 12:30:35] INFO     [agent_fsm:773] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] --- FSM STATE: TOOL_EXECUTION (Step 13) ---
[2025-06-18 12:30:35] INFO     [agent_fsm:820] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 12:30:35] WARNING  [agent_fsm:831] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 12:30:35] INFO     [agent_fsm:922] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Tool execution completed
[2025-06-18 12:30:35] INFO     [agent_fsm:773] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] --- FSM STATE: TOOL_EXECUTION (Step 14) ---
[2025-06-18 12:30:35] INFO     [agent_fsm:820] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 12:30:35] WARNING  [agent_fsm:831] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 12:30:35] INFO     [agent_fsm:922] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Tool execution completed
[2025-06-18 12:30:35] INFO     [agent_fsm:773] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] --- FSM STATE: TOOL_EXECUTION (Step 15) ---
[2025-06-18 12:30:35] INFO     [agent_fsm:820] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 12:30:35] WARNING  [agent_fsm:831] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 12:30:35] INFO     [agent_fsm:922] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Tool execution completed
[2025-06-18 12:30:35] INFO     [agent_fsm:773] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] --- FSM STATE: TOOL_EXECUTION (Step 16) ---
[2025-06-18 12:30:35] INFO     [agent_fsm:820] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 12:30:35] WARNING  [agent_fsm:831] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 12:30:35] INFO     [agent_fsm:922] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Tool execution completed
[2025-06-18 12:30:35] INFO     [agent_fsm:773] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] --- FSM STATE: TOOL_EXECUTION (Step 17) ---
[2025-06-18 12:30:35] INFO     [agent_fsm:820] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 12:30:35] WARNING  [agent_fsm:831] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 12:30:35] INFO     [agent_fsm:922] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Tool execution completed
[2025-06-18 12:30:35] INFO     [agent_fsm:773] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] --- FSM STATE: TOOL_EXECUTION (Step 18) ---
[2025-06-18 12:30:35] INFO     [agent_fsm:820] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 12:30:35] WARNING  [agent_fsm:831] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 12:30:35] INFO     [agent_fsm:922] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Tool execution completed
[2025-06-18 12:30:35] INFO     [agent_fsm:773] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] --- FSM STATE: TOOL_EXECUTION (Step 19) ---
[2025-06-18 12:30:35] INFO     [agent_fsm:820] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 12:30:35] WARNING  [agent_fsm:831] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 12:30:35] INFO     [agent_fsm:922] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Tool execution completed
[2025-06-18 12:30:35] WARNING  [agent_fsm:1229] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Max steps (20) reached, terminating
[2025-06-18 12:30:35] ERROR    [agent_fsm:1078] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] --- FSM STATE: ERROR ---
[2025-06-18 12:30:35] ERROR    [agent_fsm:1101] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:30:35] ERROR    [agent_fsm:1102] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:35] WARNING  [agent_fsm:1229] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Max steps (20) reached, terminating
[2025-06-18 12:30:35] ERROR    [agent_fsm:1078] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] --- FSM STATE: ERROR ---
[2025-06-18 12:30:35] ERROR    [agent_fsm:1101] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:30:35] ERROR    [agent_fsm:1102] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:35] WARNING  [agent_fsm:1229] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Max steps (20) reached, terminating
[2025-06-18 12:30:35] ERROR    [agent_fsm:1078] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] --- FSM STATE: ERROR ---
[2025-06-18 12:30:35] ERROR    [agent_fsm:1101] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:30:35] ERROR    [agent_fsm:1102] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:35] WARNING  [agent_fsm:1229] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] Max steps (20) reached, terminating
[2025-06-18 12:30:35] ERROR    [agent_fsm:1837] [b9f20517-8bb5-43f6-97b8-12b981c0a0ef] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:30:35] INFO     [agent_fsm:1752] [027fb032-b51e-4797-a7d8-31bd5d455588] Starting resilient FSM execution
[2025-06-18 12:30:35] INFO     [agent_fsm:1807] [027fb032-b51e-4797-a7d8-31bd5d455588] FSM STATE: INITIAL
[2025-06-18 12:30:35] INFO     [agent_fsm:665] [027fb032-b51e-4797-a7d8-31bd5d455588] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:30:35] DEBUG    [agent_fsm:680] [027fb032-b51e-4797-a7d8-31bd5d455588] Turn count: 1, Action history length: 1
[2025-06-18 12:30:36] INFO     [agent_fsm:773] [027fb032-b51e-4797-a7d8-31bd5d455588] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:30:36] INFO     [agent_fsm:820] [027fb032-b51e-4797-a7d8-31bd5d455588] Executing tool: web_researcher with input: {'query': 'definition of a leap year', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 12:30:36] INFO     [agent_fsm:922] [027fb032-b51e-4797-a7d8-31bd5d455588] Tool execution completed
[2025-06-18 12:30:36] INFO     [agent_fsm:773] [027fb032-b51e-4797-a7d8-31bd5d455588] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:30:36] WARNING  [agent_fsm:803] [027fb032-b51e-4797-a7d8-31bd5d455588] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:30:36] INFO     [agent_fsm:665] [027fb032-b51e-4797-a7d8-31bd5d455588] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:30:36] DEBUG    [agent_fsm:680] [027fb032-b51e-4797-a7d8-31bd5d455588] Turn count: 2, Action history length: 2
[2025-06-18 12:30:37] INFO     [agent_fsm:773] [027fb032-b51e-4797-a7d8-31bd5d455588] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:30:37] INFO     [agent_fsm:820] [027fb032-b51e-4797-a7d8-31bd5d455588] Executing tool: semantic_search_tool with input: {'query': 'characteristics of a leap year', 'filename': 'knowledge_base.csv', 'top_k': 3}
[2025-06-18 12:30:37] INFO     [agent_fsm:922] [027fb032-b51e-4797-a7d8-31bd5d455588] Tool execution completed
[2025-06-18 12:30:37] INFO     [agent_fsm:773] [027fb032-b51e-4797-a7d8-31bd5d455588] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:30:37] WARNING  [agent_fsm:803] [027fb032-b51e-4797-a7d8-31bd5d455588] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:30:37] INFO     [agent_fsm:665] [027fb032-b51e-4797-a7d8-31bd5d455588] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:30:37] DEBUG    [agent_fsm:680] [027fb032-b51e-4797-a7d8-31bd5d455588] Turn count: 3, Action history length: 3
[2025-06-18 12:30:38] WARNING  [agent_fsm:1224] [027fb032-b51e-4797-a7d8-31bd5d455588] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:38] ERROR    [agent_fsm:1078] [027fb032-b51e-4797-a7d8-31bd5d455588] --- FSM STATE: ERROR ---
[2025-06-18 12:30:38] ERROR    [agent_fsm:1101] [027fb032-b51e-4797-a7d8-31bd5d455588] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:30:38] ERROR    [agent_fsm:1102] [027fb032-b51e-4797-a7d8-31bd5d455588] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:38] WARNING  [agent_fsm:1224] [027fb032-b51e-4797-a7d8-31bd5d455588] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:38] ERROR    [agent_fsm:1078] [027fb032-b51e-4797-a7d8-31bd5d455588] --- FSM STATE: ERROR ---
[2025-06-18 12:30:38] ERROR    [agent_fsm:1101] [027fb032-b51e-4797-a7d8-31bd5d455588] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:30:38] ERROR    [agent_fsm:1102] [027fb032-b51e-4797-a7d8-31bd5d455588] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:38] WARNING  [agent_fsm:1224] [027fb032-b51e-4797-a7d8-31bd5d455588] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:38] ERROR    [agent_fsm:1078] [027fb032-b51e-4797-a7d8-31bd5d455588] --- FSM STATE: ERROR ---
[2025-06-18 12:30:38] ERROR    [agent_fsm:1101] [027fb032-b51e-4797-a7d8-31bd5d455588] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:30:38] ERROR    [agent_fsm:1102] [027fb032-b51e-4797-a7d8-31bd5d455588] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:38] WARNING  [agent_fsm:1224] [027fb032-b51e-4797-a7d8-31bd5d455588] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:38] ERROR    [agent_fsm:1078] [027fb032-b51e-4797-a7d8-31bd5d455588] --- FSM STATE: ERROR ---
[2025-06-18 12:30:38] ERROR    [agent_fsm:1101] [027fb032-b51e-4797-a7d8-31bd5d455588] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:30:38] ERROR    [agent_fsm:1102] [027fb032-b51e-4797-a7d8-31bd5d455588] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:38] WARNING  [agent_fsm:1224] [027fb032-b51e-4797-a7d8-31bd5d455588] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:38] ERROR    [agent_fsm:1078] [027fb032-b51e-4797-a7d8-31bd5d455588] --- FSM STATE: ERROR ---
[2025-06-18 12:30:38] ERROR    [agent_fsm:1101] [027fb032-b51e-4797-a7d8-31bd5d455588] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:30:38] ERROR    [agent_fsm:1102] [027fb032-b51e-4797-a7d8-31bd5d455588] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:38] WARNING  [agent_fsm:1224] [027fb032-b51e-4797-a7d8-31bd5d455588] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:38] ERROR    [agent_fsm:1078] [027fb032-b51e-4797-a7d8-31bd5d455588] --- FSM STATE: ERROR ---
[2025-06-18 12:30:38] ERROR    [agent_fsm:1101] [027fb032-b51e-4797-a7d8-31bd5d455588] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:30:38] ERROR    [agent_fsm:1102] [027fb032-b51e-4797-a7d8-31bd5d455588] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:38] WARNING  [agent_fsm:1224] [027fb032-b51e-4797-a7d8-31bd5d455588] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:38] ERROR    [agent_fsm:1078] [027fb032-b51e-4797-a7d8-31bd5d455588] --- FSM STATE: ERROR ---
[2025-06-18 12:30:38] ERROR    [agent_fsm:1101] [027fb032-b51e-4797-a7d8-31bd5d455588] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:30:38] ERROR    [agent_fsm:1102] [027fb032-b51e-4797-a7d8-31bd5d455588] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:38] WARNING  [agent_fsm:1224] [027fb032-b51e-4797-a7d8-31bd5d455588] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:38] ERROR    [agent_fsm:1078] [027fb032-b51e-4797-a7d8-31bd5d455588] --- FSM STATE: ERROR ---
[2025-06-18 12:30:38] ERROR    [agent_fsm:1101] [027fb032-b51e-4797-a7d8-31bd5d455588] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:30:38] ERROR    [agent_fsm:1102] [027fb032-b51e-4797-a7d8-31bd5d455588] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:38] WARNING  [agent_fsm:1224] [027fb032-b51e-4797-a7d8-31bd5d455588] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:38] ERROR    [agent_fsm:1078] [027fb032-b51e-4797-a7d8-31bd5d455588] --- FSM STATE: ERROR ---
[2025-06-18 12:30:38] ERROR    [agent_fsm:1101] [027fb032-b51e-4797-a7d8-31bd5d455588] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:30:38] ERROR    [agent_fsm:1102] [027fb032-b51e-4797-a7d8-31bd5d455588] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:38] WARNING  [agent_fsm:1224] [027fb032-b51e-4797-a7d8-31bd5d455588] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:38] ERROR    [agent_fsm:1078] [027fb032-b51e-4797-a7d8-31bd5d455588] --- FSM STATE: ERROR ---
[2025-06-18 12:30:38] ERROR    [agent_fsm:1101] [027fb032-b51e-4797-a7d8-31bd5d455588] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:30:38] ERROR    [agent_fsm:1102] [027fb032-b51e-4797-a7d8-31bd5d455588] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:38] WARNING  [agent_fsm:1224] [027fb032-b51e-4797-a7d8-31bd5d455588] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:38] ERROR    [agent_fsm:1078] [027fb032-b51e-4797-a7d8-31bd5d455588] --- FSM STATE: ERROR ---
[2025-06-18 12:30:38] ERROR    [agent_fsm:1101] [027fb032-b51e-4797-a7d8-31bd5d455588] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:30:38] ERROR    [agent_fsm:1102] [027fb032-b51e-4797-a7d8-31bd5d455588] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:38] WARNING  [agent_fsm:1224] [027fb032-b51e-4797-a7d8-31bd5d455588] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:38] ERROR    [agent_fsm:1078] [027fb032-b51e-4797-a7d8-31bd5d455588] --- FSM STATE: ERROR ---
[2025-06-18 12:30:38] ERROR    [agent_fsm:1101] [027fb032-b51e-4797-a7d8-31bd5d455588] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:30:38] ERROR    [agent_fsm:1102] [027fb032-b51e-4797-a7d8-31bd5d455588] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:38] WARNING  [agent_fsm:1224] [027fb032-b51e-4797-a7d8-31bd5d455588] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:38] ERROR    [agent_fsm:1078] [027fb032-b51e-4797-a7d8-31bd5d455588] --- FSM STATE: ERROR ---
[2025-06-18 12:30:38] ERROR    [agent_fsm:1101] [027fb032-b51e-4797-a7d8-31bd5d455588] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:30:38] ERROR    [agent_fsm:1102] [027fb032-b51e-4797-a7d8-31bd5d455588] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:38] WARNING  [agent_fsm:1224] [027fb032-b51e-4797-a7d8-31bd5d455588] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:38] ERROR    [agent_fsm:1078] [027fb032-b51e-4797-a7d8-31bd5d455588] --- FSM STATE: ERROR ---
[2025-06-18 12:30:38] ERROR    [agent_fsm:1101] [027fb032-b51e-4797-a7d8-31bd5d455588] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:30:38] ERROR    [agent_fsm:1102] [027fb032-b51e-4797-a7d8-31bd5d455588] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:38] WARNING  [agent_fsm:1224] [027fb032-b51e-4797-a7d8-31bd5d455588] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:38] ERROR    [agent_fsm:1078] [027fb032-b51e-4797-a7d8-31bd5d455588] --- FSM STATE: ERROR ---
[2025-06-18 12:30:38] ERROR    [agent_fsm:1101] [027fb032-b51e-4797-a7d8-31bd5d455588] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:30:38] ERROR    [agent_fsm:1102] [027fb032-b51e-4797-a7d8-31bd5d455588] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:38] WARNING  [agent_fsm:1224] [027fb032-b51e-4797-a7d8-31bd5d455588] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:38] ERROR    [agent_fsm:1078] [027fb032-b51e-4797-a7d8-31bd5d455588] --- FSM STATE: ERROR ---
[2025-06-18 12:30:38] ERROR    [agent_fsm:1101] [027fb032-b51e-4797-a7d8-31bd5d455588] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:30:38] ERROR    [agent_fsm:1102] [027fb032-b51e-4797-a7d8-31bd5d455588] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:38] WARNING  [agent_fsm:1224] [027fb032-b51e-4797-a7d8-31bd5d455588] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:38] ERROR    [agent_fsm:1078] [027fb032-b51e-4797-a7d8-31bd5d455588] --- FSM STATE: ERROR ---
[2025-06-18 12:30:38] ERROR    [agent_fsm:1101] [027fb032-b51e-4797-a7d8-31bd5d455588] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:30:38] ERROR    [agent_fsm:1102] [027fb032-b51e-4797-a7d8-31bd5d455588] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:38] WARNING  [agent_fsm:1224] [027fb032-b51e-4797-a7d8-31bd5d455588] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:38] ERROR    [agent_fsm:1078] [027fb032-b51e-4797-a7d8-31bd5d455588] --- FSM STATE: ERROR ---
[2025-06-18 12:30:38] ERROR    [agent_fsm:1101] [027fb032-b51e-4797-a7d8-31bd5d455588] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:30:38] ERROR    [agent_fsm:1102] [027fb032-b51e-4797-a7d8-31bd5d455588] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:38] WARNING  [agent_fsm:1224] [027fb032-b51e-4797-a7d8-31bd5d455588] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:38] ERROR    [agent_fsm:1837] [027fb032-b51e-4797-a7d8-31bd5d455588] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:30:38] INFO     [agent_fsm:1752] [82382692-74a8-4467-8319-66becaa463cb] Starting resilient FSM execution
[2025-06-18 12:30:38] INFO     [agent_fsm:1807] [82382692-74a8-4467-8319-66becaa463cb] FSM STATE: INITIAL
[2025-06-18 12:30:38] INFO     [agent_fsm:665] [82382692-74a8-4467-8319-66becaa463cb] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:30:38] DEBUG    [agent_fsm:680] [82382692-74a8-4467-8319-66becaa463cb] Turn count: 1, Action history length: 1
[2025-06-18 12:30:39] WARNING  [agent_fsm:1521] [82382692-74a8-4467-8319-66becaa463cb] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:30:39] WARNING  [agent_fsm:1333] [82382692-74a8-4467-8319-66becaa463cb] Tool None not found in registry, will use stub
[2025-06-18 12:30:39] INFO     [agent_fsm:773] [82382692-74a8-4467-8319-66becaa463cb] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:30:39] INFO     [agent_fsm:820] [82382692-74a8-4467-8319-66becaa463cb] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:30:39] INFO     [agent_fsm:922] [82382692-74a8-4467-8319-66becaa463cb] Tool execution completed
[2025-06-18 12:30:39] INFO     [agent_fsm:773] [82382692-74a8-4467-8319-66becaa463cb] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:30:39] WARNING  [agent_fsm:803] [82382692-74a8-4467-8319-66becaa463cb] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:30:39] INFO     [agent_fsm:665] [82382692-74a8-4467-8319-66becaa463cb] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:30:39] DEBUG    [agent_fsm:680] [82382692-74a8-4467-8319-66becaa463cb] Turn count: 2, Action history length: 2
[2025-06-18 12:30:39] WARNING  [agent_fsm:1521] [82382692-74a8-4467-8319-66becaa463cb] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:30:39] WARNING  [agent_fsm:1521] [82382692-74a8-4467-8319-66becaa463cb] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:30:39] INFO     [agent_fsm:773] [82382692-74a8-4467-8319-66becaa463cb] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:30:39] INFO     [agent_fsm:820] [82382692-74a8-4467-8319-66becaa463cb] Executing tool: python_interpreter with input: {'code': 'result = input(); print(result)'}
[2025-06-18 12:30:39] INFO     [agent_fsm:922] [82382692-74a8-4467-8319-66becaa463cb] Tool execution completed
[2025-06-18 12:30:39] INFO     [agent_fsm:773] [82382692-74a8-4467-8319-66becaa463cb] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:30:39] WARNING  [agent_fsm:803] [82382692-74a8-4467-8319-66becaa463cb] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:30:39] INFO     [agent_fsm:665] [82382692-74a8-4467-8319-66becaa463cb] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:30:39] DEBUG    [agent_fsm:680] [82382692-74a8-4467-8319-66becaa463cb] Turn count: 3, Action history length: 3
[2025-06-18 12:30:40] WARNING  [agent_fsm:1521] [82382692-74a8-4467-8319-66becaa463cb] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:30:40] WARNING  [agent_fsm:1224] [82382692-74a8-4467-8319-66becaa463cb] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:40] ERROR    [agent_fsm:1078] [82382692-74a8-4467-8319-66becaa463cb] --- FSM STATE: ERROR ---
[2025-06-18 12:30:40] ERROR    [agent_fsm:1101] [82382692-74a8-4467-8319-66becaa463cb] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:30:40] ERROR    [agent_fsm:1102] [82382692-74a8-4467-8319-66becaa463cb] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:40] WARNING  [agent_fsm:1224] [82382692-74a8-4467-8319-66becaa463cb] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:40] ERROR    [agent_fsm:1078] [82382692-74a8-4467-8319-66becaa463cb] --- FSM STATE: ERROR ---
[2025-06-18 12:30:40] ERROR    [agent_fsm:1101] [82382692-74a8-4467-8319-66becaa463cb] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:30:40] ERROR    [agent_fsm:1102] [82382692-74a8-4467-8319-66becaa463cb] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:40] WARNING  [agent_fsm:1224] [82382692-74a8-4467-8319-66becaa463cb] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:40] ERROR    [agent_fsm:1078] [82382692-74a8-4467-8319-66becaa463cb] --- FSM STATE: ERROR ---
[2025-06-18 12:30:40] ERROR    [agent_fsm:1101] [82382692-74a8-4467-8319-66becaa463cb] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:30:40] ERROR    [agent_fsm:1102] [82382692-74a8-4467-8319-66becaa463cb] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:40] WARNING  [agent_fsm:1224] [82382692-74a8-4467-8319-66becaa463cb] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:40] ERROR    [agent_fsm:1078] [82382692-74a8-4467-8319-66becaa463cb] --- FSM STATE: ERROR ---
[2025-06-18 12:30:40] ERROR    [agent_fsm:1101] [82382692-74a8-4467-8319-66becaa463cb] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:30:40] ERROR    [agent_fsm:1102] [82382692-74a8-4467-8319-66becaa463cb] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:40] WARNING  [agent_fsm:1224] [82382692-74a8-4467-8319-66becaa463cb] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:40] ERROR    [agent_fsm:1078] [82382692-74a8-4467-8319-66becaa463cb] --- FSM STATE: ERROR ---
[2025-06-18 12:30:40] ERROR    [agent_fsm:1101] [82382692-74a8-4467-8319-66becaa463cb] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:30:40] ERROR    [agent_fsm:1102] [82382692-74a8-4467-8319-66becaa463cb] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:40] WARNING  [agent_fsm:1224] [82382692-74a8-4467-8319-66becaa463cb] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:40] ERROR    [agent_fsm:1078] [82382692-74a8-4467-8319-66becaa463cb] --- FSM STATE: ERROR ---
[2025-06-18 12:30:40] ERROR    [agent_fsm:1101] [82382692-74a8-4467-8319-66becaa463cb] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:30:40] ERROR    [agent_fsm:1102] [82382692-74a8-4467-8319-66becaa463cb] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:40] WARNING  [agent_fsm:1224] [82382692-74a8-4467-8319-66becaa463cb] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:40] ERROR    [agent_fsm:1078] [82382692-74a8-4467-8319-66becaa463cb] --- FSM STATE: ERROR ---
[2025-06-18 12:30:40] ERROR    [agent_fsm:1101] [82382692-74a8-4467-8319-66becaa463cb] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:30:40] ERROR    [agent_fsm:1102] [82382692-74a8-4467-8319-66becaa463cb] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:40] WARNING  [agent_fsm:1224] [82382692-74a8-4467-8319-66becaa463cb] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:40] ERROR    [agent_fsm:1078] [82382692-74a8-4467-8319-66becaa463cb] --- FSM STATE: ERROR ---
[2025-06-18 12:30:40] ERROR    [agent_fsm:1101] [82382692-74a8-4467-8319-66becaa463cb] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:30:40] ERROR    [agent_fsm:1102] [82382692-74a8-4467-8319-66becaa463cb] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:40] WARNING  [agent_fsm:1224] [82382692-74a8-4467-8319-66becaa463cb] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:40] ERROR    [agent_fsm:1078] [82382692-74a8-4467-8319-66becaa463cb] --- FSM STATE: ERROR ---
[2025-06-18 12:30:40] ERROR    [agent_fsm:1101] [82382692-74a8-4467-8319-66becaa463cb] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:30:40] ERROR    [agent_fsm:1102] [82382692-74a8-4467-8319-66becaa463cb] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:40] WARNING  [agent_fsm:1224] [82382692-74a8-4467-8319-66becaa463cb] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:40] ERROR    [agent_fsm:1078] [82382692-74a8-4467-8319-66becaa463cb] --- FSM STATE: ERROR ---
[2025-06-18 12:30:40] ERROR    [agent_fsm:1101] [82382692-74a8-4467-8319-66becaa463cb] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:30:40] ERROR    [agent_fsm:1102] [82382692-74a8-4467-8319-66becaa463cb] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:40] WARNING  [agent_fsm:1224] [82382692-74a8-4467-8319-66becaa463cb] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:40] ERROR    [agent_fsm:1078] [82382692-74a8-4467-8319-66becaa463cb] --- FSM STATE: ERROR ---
[2025-06-18 12:30:40] ERROR    [agent_fsm:1101] [82382692-74a8-4467-8319-66becaa463cb] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:30:40] ERROR    [agent_fsm:1102] [82382692-74a8-4467-8319-66becaa463cb] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:40] WARNING  [agent_fsm:1224] [82382692-74a8-4467-8319-66becaa463cb] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:40] ERROR    [agent_fsm:1078] [82382692-74a8-4467-8319-66becaa463cb] --- FSM STATE: ERROR ---
[2025-06-18 12:30:40] ERROR    [agent_fsm:1101] [82382692-74a8-4467-8319-66becaa463cb] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:30:40] ERROR    [agent_fsm:1102] [82382692-74a8-4467-8319-66becaa463cb] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:40] WARNING  [agent_fsm:1224] [82382692-74a8-4467-8319-66becaa463cb] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:40] ERROR    [agent_fsm:1078] [82382692-74a8-4467-8319-66becaa463cb] --- FSM STATE: ERROR ---
[2025-06-18 12:30:40] ERROR    [agent_fsm:1101] [82382692-74a8-4467-8319-66becaa463cb] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:30:40] ERROR    [agent_fsm:1102] [82382692-74a8-4467-8319-66becaa463cb] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:40] WARNING  [agent_fsm:1224] [82382692-74a8-4467-8319-66becaa463cb] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:40] ERROR    [agent_fsm:1078] [82382692-74a8-4467-8319-66becaa463cb] --- FSM STATE: ERROR ---
[2025-06-18 12:30:40] ERROR    [agent_fsm:1101] [82382692-74a8-4467-8319-66becaa463cb] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:30:40] ERROR    [agent_fsm:1102] [82382692-74a8-4467-8319-66becaa463cb] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:40] WARNING  [agent_fsm:1224] [82382692-74a8-4467-8319-66becaa463cb] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:40] ERROR    [agent_fsm:1078] [82382692-74a8-4467-8319-66becaa463cb] --- FSM STATE: ERROR ---
[2025-06-18 12:30:40] ERROR    [agent_fsm:1101] [82382692-74a8-4467-8319-66becaa463cb] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:30:40] ERROR    [agent_fsm:1102] [82382692-74a8-4467-8319-66becaa463cb] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:40] WARNING  [agent_fsm:1224] [82382692-74a8-4467-8319-66becaa463cb] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:40] ERROR    [agent_fsm:1078] [82382692-74a8-4467-8319-66becaa463cb] --- FSM STATE: ERROR ---
[2025-06-18 12:30:40] ERROR    [agent_fsm:1101] [82382692-74a8-4467-8319-66becaa463cb] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:30:40] ERROR    [agent_fsm:1102] [82382692-74a8-4467-8319-66becaa463cb] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:40] WARNING  [agent_fsm:1224] [82382692-74a8-4467-8319-66becaa463cb] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:40] ERROR    [agent_fsm:1078] [82382692-74a8-4467-8319-66becaa463cb] --- FSM STATE: ERROR ---
[2025-06-18 12:30:40] ERROR    [agent_fsm:1101] [82382692-74a8-4467-8319-66becaa463cb] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:30:40] ERROR    [agent_fsm:1102] [82382692-74a8-4467-8319-66becaa463cb] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:40] WARNING  [agent_fsm:1224] [82382692-74a8-4467-8319-66becaa463cb] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:40] ERROR    [agent_fsm:1078] [82382692-74a8-4467-8319-66becaa463cb] --- FSM STATE: ERROR ---
[2025-06-18 12:30:40] ERROR    [agent_fsm:1101] [82382692-74a8-4467-8319-66becaa463cb] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:30:40] ERROR    [agent_fsm:1102] [82382692-74a8-4467-8319-66becaa463cb] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:40] WARNING  [agent_fsm:1224] [82382692-74a8-4467-8319-66becaa463cb] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:40] ERROR    [agent_fsm:1837] [82382692-74a8-4467-8319-66becaa463cb] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:30:40] INFO     [agent_fsm:1752] [263ef179-06de-4526-a58a-74fd69e2192d] Starting resilient FSM execution
[2025-06-18 12:30:40] INFO     [agent_fsm:1807] [263ef179-06de-4526-a58a-74fd69e2192d] FSM STATE: INITIAL
[2025-06-18 12:30:40] INFO     [agent_fsm:665] [263ef179-06de-4526-a58a-74fd69e2192d] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:30:40] DEBUG    [agent_fsm:680] [263ef179-06de-4526-a58a-74fd69e2192d] Turn count: 1, Action history length: 1
[2025-06-18 12:30:41] WARNING  [agent_fsm:1521] [263ef179-06de-4526-a58a-74fd69e2192d] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:30:41] WARNING  [agent_fsm:1521] [263ef179-06de-4526-a58a-74fd69e2192d] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:30:41] WARNING  [agent_fsm:1521] [263ef179-06de-4526-a58a-74fd69e2192d] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:30:41] INFO     [agent_fsm:773] [263ef179-06de-4526-a58a-74fd69e2192d] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:30:41] INFO     [agent_fsm:820] [263ef179-06de-4526-a58a-74fd69e2192d] Executing tool: web_researcher with input: {'query': 'largest planet in our solar system', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 12:30:41] INFO     [agent_fsm:922] [263ef179-06de-4526-a58a-74fd69e2192d] Tool execution completed
[2025-06-18 12:30:41] INFO     [agent_fsm:773] [263ef179-06de-4526-a58a-74fd69e2192d] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:30:41] WARNING  [agent_fsm:803] [263ef179-06de-4526-a58a-74fd69e2192d] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:30:41] INFO     [agent_fsm:665] [263ef179-06de-4526-a58a-74fd69e2192d] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:30:41] DEBUG    [agent_fsm:680] [263ef179-06de-4526-a58a-74fd69e2192d] Turn count: 2, Action history length: 2
[2025-06-18 12:30:42] WARNING  [agent_fsm:1521] [263ef179-06de-4526-a58a-74fd69e2192d] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:30:42] WARNING  [agent_fsm:1521] [263ef179-06de-4526-a58a-74fd69e2192d] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:30:42] WARNING  [agent_fsm:1521] [263ef179-06de-4526-a58a-74fd69e2192d] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:30:42] INFO     [agent_fsm:773] [263ef179-06de-4526-a58a-74fd69e2192d] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:30:42] INFO     [agent_fsm:820] [263ef179-06de-4526-a58a-74fd69e2192d] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:30:42] INFO     [agent_fsm:922] [263ef179-06de-4526-a58a-74fd69e2192d] Tool execution completed
[2025-06-18 12:30:42] INFO     [agent_fsm:773] [263ef179-06de-4526-a58a-74fd69e2192d] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:30:42] WARNING  [agent_fsm:803] [263ef179-06de-4526-a58a-74fd69e2192d] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:30:42] INFO     [agent_fsm:665] [263ef179-06de-4526-a58a-74fd69e2192d] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:30:42] DEBUG    [agent_fsm:680] [263ef179-06de-4526-a58a-74fd69e2192d] Turn count: 3, Action history length: 3
[2025-06-18 12:30:43] WARNING  [agent_fsm:1521] [263ef179-06de-4526-a58a-74fd69e2192d] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:30:43] WARNING  [agent_fsm:1521] [263ef179-06de-4526-a58a-74fd69e2192d] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:30:43] WARNING  [agent_fsm:1521] [263ef179-06de-4526-a58a-74fd69e2192d] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:30:43] WARNING  [agent_fsm:1224] [263ef179-06de-4526-a58a-74fd69e2192d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:43] ERROR    [agent_fsm:1078] [263ef179-06de-4526-a58a-74fd69e2192d] --- FSM STATE: ERROR ---
[2025-06-18 12:30:43] ERROR    [agent_fsm:1101] [263ef179-06de-4526-a58a-74fd69e2192d] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:30:43] ERROR    [agent_fsm:1102] [263ef179-06de-4526-a58a-74fd69e2192d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:43] WARNING  [agent_fsm:1224] [263ef179-06de-4526-a58a-74fd69e2192d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:43] ERROR    [agent_fsm:1078] [263ef179-06de-4526-a58a-74fd69e2192d] --- FSM STATE: ERROR ---
[2025-06-18 12:30:43] ERROR    [agent_fsm:1101] [263ef179-06de-4526-a58a-74fd69e2192d] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:30:43] ERROR    [agent_fsm:1102] [263ef179-06de-4526-a58a-74fd69e2192d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:43] WARNING  [agent_fsm:1224] [263ef179-06de-4526-a58a-74fd69e2192d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:43] ERROR    [agent_fsm:1078] [263ef179-06de-4526-a58a-74fd69e2192d] --- FSM STATE: ERROR ---
[2025-06-18 12:30:43] ERROR    [agent_fsm:1101] [263ef179-06de-4526-a58a-74fd69e2192d] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:30:43] ERROR    [agent_fsm:1102] [263ef179-06de-4526-a58a-74fd69e2192d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:43] WARNING  [agent_fsm:1224] [263ef179-06de-4526-a58a-74fd69e2192d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:43] ERROR    [agent_fsm:1078] [263ef179-06de-4526-a58a-74fd69e2192d] --- FSM STATE: ERROR ---
[2025-06-18 12:30:43] ERROR    [agent_fsm:1101] [263ef179-06de-4526-a58a-74fd69e2192d] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:30:43] ERROR    [agent_fsm:1102] [263ef179-06de-4526-a58a-74fd69e2192d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:43] WARNING  [agent_fsm:1224] [263ef179-06de-4526-a58a-74fd69e2192d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:43] ERROR    [agent_fsm:1078] [263ef179-06de-4526-a58a-74fd69e2192d] --- FSM STATE: ERROR ---
[2025-06-18 12:30:43] ERROR    [agent_fsm:1101] [263ef179-06de-4526-a58a-74fd69e2192d] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:30:43] ERROR    [agent_fsm:1102] [263ef179-06de-4526-a58a-74fd69e2192d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:43] WARNING  [agent_fsm:1224] [263ef179-06de-4526-a58a-74fd69e2192d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:43] ERROR    [agent_fsm:1078] [263ef179-06de-4526-a58a-74fd69e2192d] --- FSM STATE: ERROR ---
[2025-06-18 12:30:43] ERROR    [agent_fsm:1101] [263ef179-06de-4526-a58a-74fd69e2192d] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:30:43] ERROR    [agent_fsm:1102] [263ef179-06de-4526-a58a-74fd69e2192d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:43] WARNING  [agent_fsm:1224] [263ef179-06de-4526-a58a-74fd69e2192d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:43] ERROR    [agent_fsm:1078] [263ef179-06de-4526-a58a-74fd69e2192d] --- FSM STATE: ERROR ---
[2025-06-18 12:30:43] ERROR    [agent_fsm:1101] [263ef179-06de-4526-a58a-74fd69e2192d] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:30:43] ERROR    [agent_fsm:1102] [263ef179-06de-4526-a58a-74fd69e2192d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:43] WARNING  [agent_fsm:1224] [263ef179-06de-4526-a58a-74fd69e2192d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:43] ERROR    [agent_fsm:1078] [263ef179-06de-4526-a58a-74fd69e2192d] --- FSM STATE: ERROR ---
[2025-06-18 12:30:43] ERROR    [agent_fsm:1101] [263ef179-06de-4526-a58a-74fd69e2192d] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:30:43] ERROR    [agent_fsm:1102] [263ef179-06de-4526-a58a-74fd69e2192d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:43] WARNING  [agent_fsm:1224] [263ef179-06de-4526-a58a-74fd69e2192d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:43] ERROR    [agent_fsm:1078] [263ef179-06de-4526-a58a-74fd69e2192d] --- FSM STATE: ERROR ---
[2025-06-18 12:30:43] ERROR    [agent_fsm:1101] [263ef179-06de-4526-a58a-74fd69e2192d] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:30:43] ERROR    [agent_fsm:1102] [263ef179-06de-4526-a58a-74fd69e2192d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:43] WARNING  [agent_fsm:1224] [263ef179-06de-4526-a58a-74fd69e2192d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:43] ERROR    [agent_fsm:1078] [263ef179-06de-4526-a58a-74fd69e2192d] --- FSM STATE: ERROR ---
[2025-06-18 12:30:43] ERROR    [agent_fsm:1101] [263ef179-06de-4526-a58a-74fd69e2192d] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:30:43] ERROR    [agent_fsm:1102] [263ef179-06de-4526-a58a-74fd69e2192d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:43] WARNING  [agent_fsm:1224] [263ef179-06de-4526-a58a-74fd69e2192d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:43] ERROR    [agent_fsm:1078] [263ef179-06de-4526-a58a-74fd69e2192d] --- FSM STATE: ERROR ---
[2025-06-18 12:30:43] ERROR    [agent_fsm:1101] [263ef179-06de-4526-a58a-74fd69e2192d] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:30:43] ERROR    [agent_fsm:1102] [263ef179-06de-4526-a58a-74fd69e2192d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:43] WARNING  [agent_fsm:1224] [263ef179-06de-4526-a58a-74fd69e2192d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:43] ERROR    [agent_fsm:1078] [263ef179-06de-4526-a58a-74fd69e2192d] --- FSM STATE: ERROR ---
[2025-06-18 12:30:43] ERROR    [agent_fsm:1101] [263ef179-06de-4526-a58a-74fd69e2192d] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:30:43] ERROR    [agent_fsm:1102] [263ef179-06de-4526-a58a-74fd69e2192d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:43] WARNING  [agent_fsm:1224] [263ef179-06de-4526-a58a-74fd69e2192d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:43] ERROR    [agent_fsm:1078] [263ef179-06de-4526-a58a-74fd69e2192d] --- FSM STATE: ERROR ---
[2025-06-18 12:30:43] ERROR    [agent_fsm:1101] [263ef179-06de-4526-a58a-74fd69e2192d] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:30:43] ERROR    [agent_fsm:1102] [263ef179-06de-4526-a58a-74fd69e2192d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:43] WARNING  [agent_fsm:1224] [263ef179-06de-4526-a58a-74fd69e2192d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:43] ERROR    [agent_fsm:1078] [263ef179-06de-4526-a58a-74fd69e2192d] --- FSM STATE: ERROR ---
[2025-06-18 12:30:43] ERROR    [agent_fsm:1101] [263ef179-06de-4526-a58a-74fd69e2192d] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:30:43] ERROR    [agent_fsm:1102] [263ef179-06de-4526-a58a-74fd69e2192d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:43] WARNING  [agent_fsm:1224] [263ef179-06de-4526-a58a-74fd69e2192d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:43] ERROR    [agent_fsm:1078] [263ef179-06de-4526-a58a-74fd69e2192d] --- FSM STATE: ERROR ---
[2025-06-18 12:30:43] ERROR    [agent_fsm:1101] [263ef179-06de-4526-a58a-74fd69e2192d] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:30:43] ERROR    [agent_fsm:1102] [263ef179-06de-4526-a58a-74fd69e2192d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:43] WARNING  [agent_fsm:1224] [263ef179-06de-4526-a58a-74fd69e2192d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:43] ERROR    [agent_fsm:1078] [263ef179-06de-4526-a58a-74fd69e2192d] --- FSM STATE: ERROR ---
[2025-06-18 12:30:43] ERROR    [agent_fsm:1101] [263ef179-06de-4526-a58a-74fd69e2192d] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:30:43] ERROR    [agent_fsm:1102] [263ef179-06de-4526-a58a-74fd69e2192d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:43] WARNING  [agent_fsm:1224] [263ef179-06de-4526-a58a-74fd69e2192d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:43] ERROR    [agent_fsm:1078] [263ef179-06de-4526-a58a-74fd69e2192d] --- FSM STATE: ERROR ---
[2025-06-18 12:30:43] ERROR    [agent_fsm:1101] [263ef179-06de-4526-a58a-74fd69e2192d] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:30:43] ERROR    [agent_fsm:1102] [263ef179-06de-4526-a58a-74fd69e2192d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:43] WARNING  [agent_fsm:1224] [263ef179-06de-4526-a58a-74fd69e2192d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:43] ERROR    [agent_fsm:1078] [263ef179-06de-4526-a58a-74fd69e2192d] --- FSM STATE: ERROR ---
[2025-06-18 12:30:43] ERROR    [agent_fsm:1101] [263ef179-06de-4526-a58a-74fd69e2192d] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:30:43] ERROR    [agent_fsm:1102] [263ef179-06de-4526-a58a-74fd69e2192d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:43] WARNING  [agent_fsm:1224] [263ef179-06de-4526-a58a-74fd69e2192d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:43] ERROR    [agent_fsm:1837] [263ef179-06de-4526-a58a-74fd69e2192d] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:30:43] INFO     [agent_fsm:1752] [5e854826-38ff-4421-8c81-a9572d752fb4] Starting resilient FSM execution
[2025-06-18 12:30:43] INFO     [agent_fsm:1807] [5e854826-38ff-4421-8c81-a9572d752fb4] FSM STATE: INITIAL
[2025-06-18 12:30:43] INFO     [agent_fsm:665] [5e854826-38ff-4421-8c81-a9572d752fb4] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:30:43] DEBUG    [agent_fsm:680] [5e854826-38ff-4421-8c81-a9572d752fb4] Turn count: 1, Action history length: 1
[2025-06-18 12:30:43] INFO     [agent_fsm:773] [5e854826-38ff-4421-8c81-a9572d752fb4] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:30:43] INFO     [agent_fsm:820] [5e854826-38ff-4421-8c81-a9572d752fb4] Executing tool: web_researcher with input: {'query': 'extract video URL from googleusercontent.com/costa-rica/birds', 'date_range': None, 'search_type': 'general', 'source': 'search'}
[2025-06-18 12:30:43] INFO     [agent_fsm:922] [5e854826-38ff-4421-8c81-a9572d752fb4] Tool execution completed
[2025-06-18 12:30:43] INFO     [agent_fsm:773] [5e854826-38ff-4421-8c81-a9572d752fb4] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:30:43] WARNING  [agent_fsm:803] [5e854826-38ff-4421-8c81-a9572d752fb4] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:30:43] INFO     [agent_fsm:665] [5e854826-38ff-4421-8c81-a9572d752fb4] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:30:43] DEBUG    [agent_fsm:680] [5e854826-38ff-4421-8c81-a9572d752fb4] Turn count: 2, Action history length: 2
[2025-06-18 12:30:44] WARNING  [agent_fsm:1521] [5e854826-38ff-4421-8c81-a9572d752fb4] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:30:44] INFO     [agent_fsm:773] [5e854826-38ff-4421-8c81-a9572d752fb4] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:30:44] INFO     [agent_fsm:820] [5e854826-38ff-4421-8c81-a9572d752fb4] Executing tool: web_researcher with input: {'query': 'video URL from googleusercontent.com/costa-rica/birds', 'date_range': None, 'search_type': 'general', 'source': 'search'}
[2025-06-18 12:30:44] INFO     [agent_fsm:922] [5e854826-38ff-4421-8c81-a9572d752fb4] Tool execution completed
[2025-06-18 12:30:44] INFO     [agent_fsm:773] [5e854826-38ff-4421-8c81-a9572d752fb4] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:30:44] WARNING  [agent_fsm:803] [5e854826-38ff-4421-8c81-a9572d752fb4] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:30:44] INFO     [agent_fsm:665] [5e854826-38ff-4421-8c81-a9572d752fb4] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:30:44] DEBUG    [agent_fsm:680] [5e854826-38ff-4421-8c81-a9572d752fb4] Turn count: 3, Action history length: 3
[2025-06-18 12:30:45] WARNING  [agent_fsm:1521] [5e854826-38ff-4421-8c81-a9572d752fb4] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:30:45] WARNING  [agent_fsm:1521] [5e854826-38ff-4421-8c81-a9572d752fb4] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:30:45] WARNING  [agent_fsm:1224] [5e854826-38ff-4421-8c81-a9572d752fb4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:45] ERROR    [agent_fsm:1078] [5e854826-38ff-4421-8c81-a9572d752fb4] --- FSM STATE: ERROR ---
[2025-06-18 12:30:45] ERROR    [agent_fsm:1101] [5e854826-38ff-4421-8c81-a9572d752fb4] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:30:45] ERROR    [agent_fsm:1102] [5e854826-38ff-4421-8c81-a9572d752fb4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:45] WARNING  [agent_fsm:1224] [5e854826-38ff-4421-8c81-a9572d752fb4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:45] ERROR    [agent_fsm:1078] [5e854826-38ff-4421-8c81-a9572d752fb4] --- FSM STATE: ERROR ---
[2025-06-18 12:30:45] ERROR    [agent_fsm:1101] [5e854826-38ff-4421-8c81-a9572d752fb4] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:30:45] ERROR    [agent_fsm:1102] [5e854826-38ff-4421-8c81-a9572d752fb4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:45] WARNING  [agent_fsm:1224] [5e854826-38ff-4421-8c81-a9572d752fb4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:45] ERROR    [agent_fsm:1078] [5e854826-38ff-4421-8c81-a9572d752fb4] --- FSM STATE: ERROR ---
[2025-06-18 12:30:45] ERROR    [agent_fsm:1101] [5e854826-38ff-4421-8c81-a9572d752fb4] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:30:45] ERROR    [agent_fsm:1102] [5e854826-38ff-4421-8c81-a9572d752fb4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:45] WARNING  [agent_fsm:1224] [5e854826-38ff-4421-8c81-a9572d752fb4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:45] ERROR    [agent_fsm:1078] [5e854826-38ff-4421-8c81-a9572d752fb4] --- FSM STATE: ERROR ---
[2025-06-18 12:30:45] ERROR    [agent_fsm:1101] [5e854826-38ff-4421-8c81-a9572d752fb4] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:30:45] ERROR    [agent_fsm:1102] [5e854826-38ff-4421-8c81-a9572d752fb4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:45] WARNING  [agent_fsm:1224] [5e854826-38ff-4421-8c81-a9572d752fb4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:45] ERROR    [agent_fsm:1078] [5e854826-38ff-4421-8c81-a9572d752fb4] --- FSM STATE: ERROR ---
[2025-06-18 12:30:45] ERROR    [agent_fsm:1101] [5e854826-38ff-4421-8c81-a9572d752fb4] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:30:45] ERROR    [agent_fsm:1102] [5e854826-38ff-4421-8c81-a9572d752fb4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:45] WARNING  [agent_fsm:1224] [5e854826-38ff-4421-8c81-a9572d752fb4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:45] ERROR    [agent_fsm:1078] [5e854826-38ff-4421-8c81-a9572d752fb4] --- FSM STATE: ERROR ---
[2025-06-18 12:30:45] ERROR    [agent_fsm:1101] [5e854826-38ff-4421-8c81-a9572d752fb4] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:30:45] ERROR    [agent_fsm:1102] [5e854826-38ff-4421-8c81-a9572d752fb4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:45] WARNING  [agent_fsm:1224] [5e854826-38ff-4421-8c81-a9572d752fb4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:45] ERROR    [agent_fsm:1078] [5e854826-38ff-4421-8c81-a9572d752fb4] --- FSM STATE: ERROR ---
[2025-06-18 12:30:45] ERROR    [agent_fsm:1101] [5e854826-38ff-4421-8c81-a9572d752fb4] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:30:45] ERROR    [agent_fsm:1102] [5e854826-38ff-4421-8c81-a9572d752fb4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:45] WARNING  [agent_fsm:1224] [5e854826-38ff-4421-8c81-a9572d752fb4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:45] ERROR    [agent_fsm:1078] [5e854826-38ff-4421-8c81-a9572d752fb4] --- FSM STATE: ERROR ---
[2025-06-18 12:30:45] ERROR    [agent_fsm:1101] [5e854826-38ff-4421-8c81-a9572d752fb4] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:30:45] ERROR    [agent_fsm:1102] [5e854826-38ff-4421-8c81-a9572d752fb4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:45] WARNING  [agent_fsm:1224] [5e854826-38ff-4421-8c81-a9572d752fb4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:45] ERROR    [agent_fsm:1078] [5e854826-38ff-4421-8c81-a9572d752fb4] --- FSM STATE: ERROR ---
[2025-06-18 12:30:45] ERROR    [agent_fsm:1101] [5e854826-38ff-4421-8c81-a9572d752fb4] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:30:45] ERROR    [agent_fsm:1102] [5e854826-38ff-4421-8c81-a9572d752fb4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:45] WARNING  [agent_fsm:1224] [5e854826-38ff-4421-8c81-a9572d752fb4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:45] ERROR    [agent_fsm:1078] [5e854826-38ff-4421-8c81-a9572d752fb4] --- FSM STATE: ERROR ---
[2025-06-18 12:30:45] ERROR    [agent_fsm:1101] [5e854826-38ff-4421-8c81-a9572d752fb4] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:30:45] ERROR    [agent_fsm:1102] [5e854826-38ff-4421-8c81-a9572d752fb4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:45] WARNING  [agent_fsm:1224] [5e854826-38ff-4421-8c81-a9572d752fb4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:45] ERROR    [agent_fsm:1078] [5e854826-38ff-4421-8c81-a9572d752fb4] --- FSM STATE: ERROR ---
[2025-06-18 12:30:45] ERROR    [agent_fsm:1101] [5e854826-38ff-4421-8c81-a9572d752fb4] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:30:45] ERROR    [agent_fsm:1102] [5e854826-38ff-4421-8c81-a9572d752fb4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:45] WARNING  [agent_fsm:1224] [5e854826-38ff-4421-8c81-a9572d752fb4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:45] ERROR    [agent_fsm:1078] [5e854826-38ff-4421-8c81-a9572d752fb4] --- FSM STATE: ERROR ---
[2025-06-18 12:30:45] ERROR    [agent_fsm:1101] [5e854826-38ff-4421-8c81-a9572d752fb4] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:30:45] ERROR    [agent_fsm:1102] [5e854826-38ff-4421-8c81-a9572d752fb4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:45] WARNING  [agent_fsm:1224] [5e854826-38ff-4421-8c81-a9572d752fb4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:45] ERROR    [agent_fsm:1078] [5e854826-38ff-4421-8c81-a9572d752fb4] --- FSM STATE: ERROR ---
[2025-06-18 12:30:45] ERROR    [agent_fsm:1101] [5e854826-38ff-4421-8c81-a9572d752fb4] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:30:45] ERROR    [agent_fsm:1102] [5e854826-38ff-4421-8c81-a9572d752fb4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:45] WARNING  [agent_fsm:1224] [5e854826-38ff-4421-8c81-a9572d752fb4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:45] ERROR    [agent_fsm:1078] [5e854826-38ff-4421-8c81-a9572d752fb4] --- FSM STATE: ERROR ---
[2025-06-18 12:30:45] ERROR    [agent_fsm:1101] [5e854826-38ff-4421-8c81-a9572d752fb4] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:30:45] ERROR    [agent_fsm:1102] [5e854826-38ff-4421-8c81-a9572d752fb4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:45] WARNING  [agent_fsm:1224] [5e854826-38ff-4421-8c81-a9572d752fb4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:45] ERROR    [agent_fsm:1078] [5e854826-38ff-4421-8c81-a9572d752fb4] --- FSM STATE: ERROR ---
[2025-06-18 12:30:45] ERROR    [agent_fsm:1101] [5e854826-38ff-4421-8c81-a9572d752fb4] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:30:45] ERROR    [agent_fsm:1102] [5e854826-38ff-4421-8c81-a9572d752fb4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:45] WARNING  [agent_fsm:1224] [5e854826-38ff-4421-8c81-a9572d752fb4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:45] ERROR    [agent_fsm:1078] [5e854826-38ff-4421-8c81-a9572d752fb4] --- FSM STATE: ERROR ---
[2025-06-18 12:30:45] ERROR    [agent_fsm:1101] [5e854826-38ff-4421-8c81-a9572d752fb4] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:30:45] ERROR    [agent_fsm:1102] [5e854826-38ff-4421-8c81-a9572d752fb4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:45] WARNING  [agent_fsm:1224] [5e854826-38ff-4421-8c81-a9572d752fb4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:45] ERROR    [agent_fsm:1078] [5e854826-38ff-4421-8c81-a9572d752fb4] --- FSM STATE: ERROR ---
[2025-06-18 12:30:45] ERROR    [agent_fsm:1101] [5e854826-38ff-4421-8c81-a9572d752fb4] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:30:45] ERROR    [agent_fsm:1102] [5e854826-38ff-4421-8c81-a9572d752fb4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:45] WARNING  [agent_fsm:1224] [5e854826-38ff-4421-8c81-a9572d752fb4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:45] ERROR    [agent_fsm:1078] [5e854826-38ff-4421-8c81-a9572d752fb4] --- FSM STATE: ERROR ---
[2025-06-18 12:30:45] ERROR    [agent_fsm:1101] [5e854826-38ff-4421-8c81-a9572d752fb4] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:30:45] ERROR    [agent_fsm:1102] [5e854826-38ff-4421-8c81-a9572d752fb4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:45] WARNING  [agent_fsm:1224] [5e854826-38ff-4421-8c81-a9572d752fb4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:45] ERROR    [agent_fsm:1837] [5e854826-38ff-4421-8c81-a9572d752fb4] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:30:45] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 12:30:45] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 12:30:45] INFO     [agent_fsm:570] [bb5d213e-f2c6-440a-bbdb-4850e910ebcb] Building resilient FSM graph
[2025-06-18 12:30:45] INFO     [agent_fsm:572] [bb5d213e-f2c6-440a-bbdb-4850e910ebcb] FSMReActAgent graph built successfully
[2025-06-18 12:30:45] INFO     [agent_fsm:1752] [35d6dc08-6497-4ac1-bbee-80497de373f4] Starting resilient FSM execution
[2025-06-18 12:30:45] INFO     [agent_fsm:1807] [35d6dc08-6497-4ac1-bbee-80497de373f4] FSM STATE: INITIAL
[2025-06-18 12:30:45] INFO     [agent_fsm:665] [35d6dc08-6497-4ac1-bbee-80497de373f4] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:30:45] DEBUG    [agent_fsm:680] [35d6dc08-6497-4ac1-bbee-80497de373f4] Turn count: 1, Action history length: 1
[2025-06-18 12:30:46] WARNING  [agent_fsm:1521] [35d6dc08-6497-4ac1-bbee-80497de373f4] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:30:46] WARNING  [agent_fsm:1521] [35d6dc08-6497-4ac1-bbee-80497de373f4] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 12:30:46] WARNING  [agent_fsm:1521] [35d6dc08-6497-4ac1-bbee-80497de373f4] Failed to parse JSON parameters for step 9, using fallback parser
[2025-06-18 12:30:46] WARNING  [agent_fsm:1521] [35d6dc08-6497-4ac1-bbee-80497de373f4] Failed to parse JSON parameters for step 13, using fallback parser
[2025-06-18 12:30:46] ERROR    [agent_fsm:1359] [35d6dc08-6497-4ac1-bbee-80497de373f4] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:30:46] WARNING  [agent_fsm:1333] [35d6dc08-6497-4ac1-bbee-80497de373f4] Tool image_analyzer not found in registry, will use stub
[2025-06-18 12:30:46] ERROR    [agent_fsm:1359] [35d6dc08-6497-4ac1-bbee-80497de373f4] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:30:46] INFO     [agent_fsm:773] [35d6dc08-6497-4ac1-bbee-80497de373f4] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:30:46] INFO     [agent_fsm:820] [35d6dc08-6497-4ac1-bbee-80497de373f4] Executing tool: advanced_file_reader with input: {'filename': 'path/to/attached_excel_file.xlsx'}
[2025-06-18 12:30:46] INFO     [agent_fsm:922] [35d6dc08-6497-4ac1-bbee-80497de373f4] Tool execution completed
[2025-06-18 12:30:46] INFO     [agent_fsm:773] [35d6dc08-6497-4ac1-bbee-80497de373f4] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:30:46] WARNING  [agent_fsm:803] [35d6dc08-6497-4ac1-bbee-80497de373f4] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:30:46] INFO     [agent_fsm:665] [35d6dc08-6497-4ac1-bbee-80497de373f4] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:30:46] DEBUG    [agent_fsm:680] [35d6dc08-6497-4ac1-bbee-80497de373f4] Turn count: 2, Action history length: 2
[2025-06-18 12:30:47] INFO     [agent_fsm:955] [35d6dc08-6497-4ac1-bbee-80497de373f4] --- FSM STATE: SYNTHESIZING ---
[2025-06-18 12:30:48] INFO     [agent_fsm:1018] [35d6dc08-6497-4ac1-bbee-80497de373f4] --- FSM STATE: VERIFYING ---
[2025-06-18 12:30:48] INFO     [agent_fsm:1819] [35d6dc08-6497-4ac1-bbee-80497de373f4] FSM execution completed successfully
[2025-06-18 12:30:48] INFO     [agent_fsm:1752] [421c6156-ffe9-485f-94e9-a0830848d580] Starting resilient FSM execution
[2025-06-18 12:30:48] INFO     [agent_fsm:1807] [421c6156-ffe9-485f-94e9-a0830848d580] FSM STATE: INITIAL
[2025-06-18 12:30:48] INFO     [agent_fsm:665] [421c6156-ffe9-485f-94e9-a0830848d580] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:30:48] DEBUG    [agent_fsm:680] [421c6156-ffe9-485f-94e9-a0830848d580] Turn count: 1, Action history length: 1
[2025-06-18 12:30:49] WARNING  [agent_fsm:1333] [421c6156-ffe9-485f-94e9-a0830848d580] Tool image_analyzer not found in registry, will use stub
[2025-06-18 12:30:49] ERROR    [agent_fsm:1359] [421c6156-ffe9-485f-94e9-a0830848d580] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:30:49] INFO     [agent_fsm:773] [421c6156-ffe9-485f-94e9-a0830848d580] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:30:49] INFO     [agent_fsm:820] [421c6156-ffe9-485f-94e9-a0830848d580] Executing tool: video_analyzer with input: {'url': 'https://example.com/video.mp4', 'action': 'download_info'}
[2025-06-18 12:30:49] ERROR    [agent_fsm:840] [421c6156-ffe9-485f-94e9-a0830848d580] Tool execution failed: name 'video_analyzer' is not defined
[2025-06-18 12:30:49] INFO     [agent_fsm:853] [421c6156-ffe9-485f-94e9-a0830848d580] Trying alternative tool: gaia_video_analyzer
[2025-06-18 12:30:49] ERROR    [agent_fsm:860] [421c6156-ffe9-485f-94e9-a0830848d580] Alternative tool also failed: 1 validation error for gaia_video_analyzer
video_url
  Field required [type=missing, input_value={'url': 'https://example....ction': 'download_info'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
[2025-06-18 12:30:49] INFO     [agent_fsm:665] [421c6156-ffe9-485f-94e9-a0830848d580] --- FSM STATE: PLANNING (Step 1) ---
[2025-06-18 12:30:49] DEBUG    [agent_fsm:680] [421c6156-ffe9-485f-94e9-a0830848d580] Turn count: 2, Action history length: 2
[2025-06-18 12:30:50] WARNING  [agent_fsm:1521] [421c6156-ffe9-485f-94e9-a0830848d580] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:30:50] WARNING  [agent_fsm:1521] [421c6156-ffe9-485f-94e9-a0830848d580] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:30:50] INFO     [agent_fsm:773] [421c6156-ffe9-485f-94e9-a0830848d580] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:30:50] INFO     [agent_fsm:820] [421c6156-ffe9-485f-94e9-a0830848d580] Executing tool: video_analyzer with input: {'url': 'https://example.com/video.mp4', 'action': 'download_info'}
[2025-06-18 12:30:50] ERROR    [agent_fsm:840] [421c6156-ffe9-485f-94e9-a0830848d580] Tool execution failed: name 'video_analyzer' is not defined
[2025-06-18 12:30:50] INFO     [agent_fsm:853] [421c6156-ffe9-485f-94e9-a0830848d580] Trying alternative tool: gaia_video_analyzer
[2025-06-18 12:30:50] ERROR    [agent_fsm:860] [421c6156-ffe9-485f-94e9-a0830848d580] Alternative tool also failed: 1 validation error for gaia_video_analyzer
video_url
  Field required [type=missing, input_value={'url': 'https://example....ction': 'download_info'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
[2025-06-18 12:30:50] INFO     [agent_fsm:665] [421c6156-ffe9-485f-94e9-a0830848d580] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:30:50] DEBUG    [agent_fsm:680] [421c6156-ffe9-485f-94e9-a0830848d580] Turn count: 3, Action history length: 3
[2025-06-18 12:30:51] WARNING  [agent_fsm:1521] [421c6156-ffe9-485f-94e9-a0830848d580] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:30:51] WARNING  [agent_fsm:1521] [421c6156-ffe9-485f-94e9-a0830848d580] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:30:51] WARNING  [agent_fsm:1224] [421c6156-ffe9-485f-94e9-a0830848d580] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:51] ERROR    [agent_fsm:1078] [421c6156-ffe9-485f-94e9-a0830848d580] --- FSM STATE: ERROR ---
[2025-06-18 12:30:51] ERROR    [agent_fsm:1101] [421c6156-ffe9-485f-94e9-a0830848d580] Error category: TOOL_VALIDATION, Occurrences: 1
[2025-06-18 12:30:51] ERROR    [agent_fsm:1102] [421c6156-ffe9-485f-94e9-a0830848d580] Errors: ["Tool execution failed: name 'video_analyzer' is not defined, Alternative also failed: 1 validation error for gaia_video_analyzer\nvideo_url\n  Field required [type=missing, input_value={'url': 'https://example....ction': 'download_info'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing"]
[2025-06-18 12:30:51] WARNING  [agent_fsm:1224] [421c6156-ffe9-485f-94e9-a0830848d580] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:51] ERROR    [agent_fsm:1078] [421c6156-ffe9-485f-94e9-a0830848d580] --- FSM STATE: ERROR ---
[2025-06-18 12:30:51] ERROR    [agent_fsm:1101] [421c6156-ffe9-485f-94e9-a0830848d580] Error category: TOOL_VALIDATION, Occurrences: 2
[2025-06-18 12:30:51] ERROR    [agent_fsm:1102] [421c6156-ffe9-485f-94e9-a0830848d580] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:30:51] WARNING  [agent_fsm:1224] [421c6156-ffe9-485f-94e9-a0830848d580] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:51] ERROR    [agent_fsm:1078] [421c6156-ffe9-485f-94e9-a0830848d580] --- FSM STATE: ERROR ---
[2025-06-18 12:30:51] ERROR    [agent_fsm:1101] [421c6156-ffe9-485f-94e9-a0830848d580] Error category: TOOL_VALIDATION, Occurrences: 3
[2025-06-18 12:30:51] ERROR    [agent_fsm:1102] [421c6156-ffe9-485f-94e9-a0830848d580] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:30:51] WARNING  [agent_fsm:1224] [421c6156-ffe9-485f-94e9-a0830848d580] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:51] ERROR    [agent_fsm:1078] [421c6156-ffe9-485f-94e9-a0830848d580] --- FSM STATE: ERROR ---
[2025-06-18 12:30:51] ERROR    [agent_fsm:1101] [421c6156-ffe9-485f-94e9-a0830848d580] Error category: TOOL_VALIDATION, Occurrences: 4
[2025-06-18 12:30:51] ERROR    [agent_fsm:1102] [421c6156-ffe9-485f-94e9-a0830848d580] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:30:51] WARNING  [agent_fsm:1224] [421c6156-ffe9-485f-94e9-a0830848d580] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:51] ERROR    [agent_fsm:1078] [421c6156-ffe9-485f-94e9-a0830848d580] --- FSM STATE: ERROR ---
[2025-06-18 12:30:51] ERROR    [agent_fsm:1101] [421c6156-ffe9-485f-94e9-a0830848d580] Error category: TOOL_VALIDATION, Occurrences: 5
[2025-06-18 12:30:51] ERROR    [agent_fsm:1102] [421c6156-ffe9-485f-94e9-a0830848d580] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:30:51] WARNING  [agent_fsm:1224] [421c6156-ffe9-485f-94e9-a0830848d580] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:51] ERROR    [agent_fsm:1078] [421c6156-ffe9-485f-94e9-a0830848d580] --- FSM STATE: ERROR ---
[2025-06-18 12:30:51] ERROR    [agent_fsm:1101] [421c6156-ffe9-485f-94e9-a0830848d580] Error category: TOOL_VALIDATION, Occurrences: 6
[2025-06-18 12:30:51] ERROR    [agent_fsm:1102] [421c6156-ffe9-485f-94e9-a0830848d580] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:30:51] WARNING  [agent_fsm:1224] [421c6156-ffe9-485f-94e9-a0830848d580] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:51] ERROR    [agent_fsm:1078] [421c6156-ffe9-485f-94e9-a0830848d580] --- FSM STATE: ERROR ---
[2025-06-18 12:30:51] ERROR    [agent_fsm:1101] [421c6156-ffe9-485f-94e9-a0830848d580] Error category: TOOL_VALIDATION, Occurrences: 7
[2025-06-18 12:30:51] ERROR    [agent_fsm:1102] [421c6156-ffe9-485f-94e9-a0830848d580] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:30:51] WARNING  [agent_fsm:1224] [421c6156-ffe9-485f-94e9-a0830848d580] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:51] ERROR    [agent_fsm:1078] [421c6156-ffe9-485f-94e9-a0830848d580] --- FSM STATE: ERROR ---
[2025-06-18 12:30:51] ERROR    [agent_fsm:1101] [421c6156-ffe9-485f-94e9-a0830848d580] Error category: TOOL_VALIDATION, Occurrences: 8
[2025-06-18 12:30:51] ERROR    [agent_fsm:1102] [421c6156-ffe9-485f-94e9-a0830848d580] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:30:51] WARNING  [agent_fsm:1224] [421c6156-ffe9-485f-94e9-a0830848d580] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:51] ERROR    [agent_fsm:1078] [421c6156-ffe9-485f-94e9-a0830848d580] --- FSM STATE: ERROR ---
[2025-06-18 12:30:51] ERROR    [agent_fsm:1101] [421c6156-ffe9-485f-94e9-a0830848d580] Error category: TOOL_VALIDATION, Occurrences: 9
[2025-06-18 12:30:51] ERROR    [agent_fsm:1102] [421c6156-ffe9-485f-94e9-a0830848d580] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:30:51] WARNING  [agent_fsm:1224] [421c6156-ffe9-485f-94e9-a0830848d580] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:51] ERROR    [agent_fsm:1078] [421c6156-ffe9-485f-94e9-a0830848d580] --- FSM STATE: ERROR ---
[2025-06-18 12:30:51] ERROR    [agent_fsm:1101] [421c6156-ffe9-485f-94e9-a0830848d580] Error category: TOOL_VALIDATION, Occurrences: 10
[2025-06-18 12:30:51] ERROR    [agent_fsm:1102] [421c6156-ffe9-485f-94e9-a0830848d580] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:30:51] WARNING  [agent_fsm:1224] [421c6156-ffe9-485f-94e9-a0830848d580] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:51] ERROR    [agent_fsm:1078] [421c6156-ffe9-485f-94e9-a0830848d580] --- FSM STATE: ERROR ---
[2025-06-18 12:30:51] ERROR    [agent_fsm:1101] [421c6156-ffe9-485f-94e9-a0830848d580] Error category: TOOL_VALIDATION, Occurrences: 11
[2025-06-18 12:30:51] ERROR    [agent_fsm:1102] [421c6156-ffe9-485f-94e9-a0830848d580] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:30:51] WARNING  [agent_fsm:1224] [421c6156-ffe9-485f-94e9-a0830848d580] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:51] ERROR    [agent_fsm:1078] [421c6156-ffe9-485f-94e9-a0830848d580] --- FSM STATE: ERROR ---
[2025-06-18 12:30:51] ERROR    [agent_fsm:1101] [421c6156-ffe9-485f-94e9-a0830848d580] Error category: TOOL_VALIDATION, Occurrences: 12
[2025-06-18 12:30:51] ERROR    [agent_fsm:1102] [421c6156-ffe9-485f-94e9-a0830848d580] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:30:51] WARNING  [agent_fsm:1224] [421c6156-ffe9-485f-94e9-a0830848d580] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:51] ERROR    [agent_fsm:1078] [421c6156-ffe9-485f-94e9-a0830848d580] --- FSM STATE: ERROR ---
[2025-06-18 12:30:51] ERROR    [agent_fsm:1101] [421c6156-ffe9-485f-94e9-a0830848d580] Error category: TOOL_VALIDATION, Occurrences: 13
[2025-06-18 12:30:51] ERROR    [agent_fsm:1102] [421c6156-ffe9-485f-94e9-a0830848d580] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:30:51] WARNING  [agent_fsm:1224] [421c6156-ffe9-485f-94e9-a0830848d580] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:51] ERROR    [agent_fsm:1078] [421c6156-ffe9-485f-94e9-a0830848d580] --- FSM STATE: ERROR ---
[2025-06-18 12:30:51] ERROR    [agent_fsm:1101] [421c6156-ffe9-485f-94e9-a0830848d580] Error category: TOOL_VALIDATION, Occurrences: 14
[2025-06-18 12:30:51] ERROR    [agent_fsm:1102] [421c6156-ffe9-485f-94e9-a0830848d580] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:30:51] WARNING  [agent_fsm:1224] [421c6156-ffe9-485f-94e9-a0830848d580] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:51] ERROR    [agent_fsm:1078] [421c6156-ffe9-485f-94e9-a0830848d580] --- FSM STATE: ERROR ---
[2025-06-18 12:30:51] ERROR    [agent_fsm:1101] [421c6156-ffe9-485f-94e9-a0830848d580] Error category: TOOL_VALIDATION, Occurrences: 15
[2025-06-18 12:30:51] ERROR    [agent_fsm:1102] [421c6156-ffe9-485f-94e9-a0830848d580] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:30:51] WARNING  [agent_fsm:1224] [421c6156-ffe9-485f-94e9-a0830848d580] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:51] ERROR    [agent_fsm:1078] [421c6156-ffe9-485f-94e9-a0830848d580] --- FSM STATE: ERROR ---
[2025-06-18 12:30:51] ERROR    [agent_fsm:1101] [421c6156-ffe9-485f-94e9-a0830848d580] Error category: TOOL_VALIDATION, Occurrences: 16
[2025-06-18 12:30:51] ERROR    [agent_fsm:1102] [421c6156-ffe9-485f-94e9-a0830848d580] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:30:51] WARNING  [agent_fsm:1224] [421c6156-ffe9-485f-94e9-a0830848d580] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:51] ERROR    [agent_fsm:1078] [421c6156-ffe9-485f-94e9-a0830848d580] --- FSM STATE: ERROR ---
[2025-06-18 12:30:51] ERROR    [agent_fsm:1101] [421c6156-ffe9-485f-94e9-a0830848d580] Error category: TOOL_VALIDATION, Occurrences: 17
[2025-06-18 12:30:51] ERROR    [agent_fsm:1102] [421c6156-ffe9-485f-94e9-a0830848d580] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:30:51] WARNING  [agent_fsm:1224] [421c6156-ffe9-485f-94e9-a0830848d580] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:51] ERROR    [agent_fsm:1078] [421c6156-ffe9-485f-94e9-a0830848d580] --- FSM STATE: ERROR ---
[2025-06-18 12:30:51] ERROR    [agent_fsm:1101] [421c6156-ffe9-485f-94e9-a0830848d580] Error category: TOOL_VALIDATION, Occurrences: 18
[2025-06-18 12:30:51] ERROR    [agent_fsm:1102] [421c6156-ffe9-485f-94e9-a0830848d580] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:30:51] WARNING  [agent_fsm:1224] [421c6156-ffe9-485f-94e9-a0830848d580] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:51] ERROR    [agent_fsm:1078] [421c6156-ffe9-485f-94e9-a0830848d580] --- FSM STATE: ERROR ---
[2025-06-18 12:30:51] ERROR    [agent_fsm:1101] [421c6156-ffe9-485f-94e9-a0830848d580] Error category: TOOL_VALIDATION, Occurrences: 19
[2025-06-18 12:30:51] ERROR    [agent_fsm:1102] [421c6156-ffe9-485f-94e9-a0830848d580] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:30:51] WARNING  [agent_fsm:1224] [421c6156-ffe9-485f-94e9-a0830848d580] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:51] ERROR    [agent_fsm:1078] [421c6156-ffe9-485f-94e9-a0830848d580] --- FSM STATE: ERROR ---
[2025-06-18 12:30:51] ERROR    [agent_fsm:1101] [421c6156-ffe9-485f-94e9-a0830848d580] Error category: TOOL_VALIDATION, Occurrences: 20
[2025-06-18 12:30:51] ERROR    [agent_fsm:1102] [421c6156-ffe9-485f-94e9-a0830848d580] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:30:51] WARNING  [agent_fsm:1224] [421c6156-ffe9-485f-94e9-a0830848d580] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:51] ERROR    [agent_fsm:1837] [421c6156-ffe9-485f-94e9-a0830848d580] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:30:51] INFO     [agent_fsm:1752] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Starting resilient FSM execution
[2025-06-18 12:30:51] INFO     [agent_fsm:1807] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] FSM STATE: INITIAL
[2025-06-18 12:30:51] INFO     [agent_fsm:665] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:30:51] DEBUG    [agent_fsm:680] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Turn count: 1, Action history length: 1
[2025-06-18 12:30:52] WARNING  [agent_fsm:1521] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:30:52] WARNING  [agent_fsm:1521] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:30:52] INFO     [agent_fsm:773] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:30:52] INFO     [agent_fsm:820] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:30:52] INFO     [agent_fsm:922] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Tool execution completed
[2025-06-18 12:30:52] INFO     [agent_fsm:773] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:30:52] WARNING  [agent_fsm:803] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:30:52] INFO     [agent_fsm:665] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:30:52] DEBUG    [agent_fsm:680] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Turn count: 2, Action history length: 2
[2025-06-18 12:30:53] INFO     [agent_fsm:773] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:30:53] INFO     [agent_fsm:820] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Executing tool: python_interpreter with input: {'code': 'print(2 + 2)'}
[2025-06-18 12:30:53] INFO     [agent_fsm:922] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Tool execution completed
[2025-06-18 12:30:53] INFO     [agent_fsm:773] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:30:53] WARNING  [agent_fsm:803] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:30:53] INFO     [agent_fsm:665] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:30:53] DEBUG    [agent_fsm:680] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Turn count: 3, Action history length: 3
[2025-06-18 12:30:54] WARNING  [agent_fsm:1521] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:30:54] WARNING  [agent_fsm:1224] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:54] ERROR    [agent_fsm:1078] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] --- FSM STATE: ERROR ---
[2025-06-18 12:30:54] ERROR    [agent_fsm:1101] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:30:54] ERROR    [agent_fsm:1102] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:54] WARNING  [agent_fsm:1224] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:54] ERROR    [agent_fsm:1078] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] --- FSM STATE: ERROR ---
[2025-06-18 12:30:54] ERROR    [agent_fsm:1101] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:30:54] ERROR    [agent_fsm:1102] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:54] WARNING  [agent_fsm:1224] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:54] ERROR    [agent_fsm:1078] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] --- FSM STATE: ERROR ---
[2025-06-18 12:30:54] ERROR    [agent_fsm:1101] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:30:54] ERROR    [agent_fsm:1102] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:54] WARNING  [agent_fsm:1224] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:54] ERROR    [agent_fsm:1078] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] --- FSM STATE: ERROR ---
[2025-06-18 12:30:54] ERROR    [agent_fsm:1101] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:30:54] ERROR    [agent_fsm:1102] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:54] WARNING  [agent_fsm:1224] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:54] ERROR    [agent_fsm:1078] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] --- FSM STATE: ERROR ---
[2025-06-18 12:30:54] ERROR    [agent_fsm:1101] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:30:54] ERROR    [agent_fsm:1102] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:54] WARNING  [agent_fsm:1224] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:54] ERROR    [agent_fsm:1078] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] --- FSM STATE: ERROR ---
[2025-06-18 12:30:54] ERROR    [agent_fsm:1101] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:30:54] ERROR    [agent_fsm:1102] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:54] WARNING  [agent_fsm:1224] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:54] ERROR    [agent_fsm:1078] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] --- FSM STATE: ERROR ---
[2025-06-18 12:30:54] ERROR    [agent_fsm:1101] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:30:54] ERROR    [agent_fsm:1102] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:54] WARNING  [agent_fsm:1224] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:54] ERROR    [agent_fsm:1078] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] --- FSM STATE: ERROR ---
[2025-06-18 12:30:54] ERROR    [agent_fsm:1101] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:30:54] ERROR    [agent_fsm:1102] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:54] WARNING  [agent_fsm:1224] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:54] ERROR    [agent_fsm:1078] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] --- FSM STATE: ERROR ---
[2025-06-18 12:30:54] ERROR    [agent_fsm:1101] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:30:54] ERROR    [agent_fsm:1102] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:54] WARNING  [agent_fsm:1224] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:54] ERROR    [agent_fsm:1078] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] --- FSM STATE: ERROR ---
[2025-06-18 12:30:54] ERROR    [agent_fsm:1101] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:30:54] ERROR    [agent_fsm:1102] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:54] WARNING  [agent_fsm:1224] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:54] ERROR    [agent_fsm:1078] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] --- FSM STATE: ERROR ---
[2025-06-18 12:30:54] ERROR    [agent_fsm:1101] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:30:54] ERROR    [agent_fsm:1102] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:54] WARNING  [agent_fsm:1224] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:54] ERROR    [agent_fsm:1078] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] --- FSM STATE: ERROR ---
[2025-06-18 12:30:54] ERROR    [agent_fsm:1101] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:30:54] ERROR    [agent_fsm:1102] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:54] WARNING  [agent_fsm:1224] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:54] ERROR    [agent_fsm:1078] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] --- FSM STATE: ERROR ---
[2025-06-18 12:30:54] ERROR    [agent_fsm:1101] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:30:54] ERROR    [agent_fsm:1102] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:54] WARNING  [agent_fsm:1224] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:54] ERROR    [agent_fsm:1078] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] --- FSM STATE: ERROR ---
[2025-06-18 12:30:54] ERROR    [agent_fsm:1101] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:30:54] ERROR    [agent_fsm:1102] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:54] WARNING  [agent_fsm:1224] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:54] ERROR    [agent_fsm:1078] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] --- FSM STATE: ERROR ---
[2025-06-18 12:30:54] ERROR    [agent_fsm:1101] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:30:54] ERROR    [agent_fsm:1102] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:54] WARNING  [agent_fsm:1224] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:54] ERROR    [agent_fsm:1078] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] --- FSM STATE: ERROR ---
[2025-06-18 12:30:54] ERROR    [agent_fsm:1101] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:30:54] ERROR    [agent_fsm:1102] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:54] WARNING  [agent_fsm:1224] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:54] ERROR    [agent_fsm:1078] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] --- FSM STATE: ERROR ---
[2025-06-18 12:30:54] ERROR    [agent_fsm:1101] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:30:54] ERROR    [agent_fsm:1102] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:54] WARNING  [agent_fsm:1224] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:54] ERROR    [agent_fsm:1078] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] --- FSM STATE: ERROR ---
[2025-06-18 12:30:54] ERROR    [agent_fsm:1101] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:30:54] ERROR    [agent_fsm:1102] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:54] WARNING  [agent_fsm:1224] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:54] ERROR    [agent_fsm:1837] [9cbd8971-2264-4e23-a2f6-66cd65f9bada] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:30:54] INFO     [agent_fsm:1752] [41565db9-42b5-4817-9765-ce6df5f7b586] Starting resilient FSM execution
[2025-06-18 12:30:54] INFO     [agent_fsm:1807] [41565db9-42b5-4817-9765-ce6df5f7b586] FSM STATE: INITIAL
[2025-06-18 12:30:54] INFO     [agent_fsm:665] [41565db9-42b5-4817-9765-ce6df5f7b586] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:30:54] DEBUG    [agent_fsm:680] [41565db9-42b5-4817-9765-ce6df5f7b586] Turn count: 1, Action history length: 1
[2025-06-18 12:30:55] WARNING  [agent_fsm:1521] [41565db9-42b5-4817-9765-ce6df5f7b586] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:30:55] WARNING  [agent_fsm:1521] [41565db9-42b5-4817-9765-ce6df5f7b586] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:30:55] INFO     [agent_fsm:773] [41565db9-42b5-4817-9765-ce6df5f7b586] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:30:55] INFO     [agent_fsm:820] [41565db9-42b5-4817-9765-ce6df5f7b586] Executing tool: web_researcher with input: {'query': 'chess position analysis', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 12:30:55] INFO     [agent_fsm:922] [41565db9-42b5-4817-9765-ce6df5f7b586] Tool execution completed
[2025-06-18 12:30:55] INFO     [agent_fsm:773] [41565db9-42b5-4817-9765-ce6df5f7b586] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:30:55] WARNING  [agent_fsm:803] [41565db9-42b5-4817-9765-ce6df5f7b586] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:30:55] INFO     [agent_fsm:665] [41565db9-42b5-4817-9765-ce6df5f7b586] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:30:55] DEBUG    [agent_fsm:680] [41565db9-42b5-4817-9765-ce6df5f7b586] Turn count: 2, Action history length: 2
[2025-06-18 12:30:56] WARNING  [agent_fsm:1521] [41565db9-42b5-4817-9765-ce6df5f7b586] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:30:56] ERROR    [agent_fsm:1359] [41565db9-42b5-4817-9765-ce6df5f7b586] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:30:56] INFO     [agent_fsm:773] [41565db9-42b5-4817-9765-ce6df5f7b586] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:30:56] INFO     [agent_fsm:820] [41565db9-42b5-4817-9765-ce6df5f7b586] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:30:56] INFO     [agent_fsm:922] [41565db9-42b5-4817-9765-ce6df5f7b586] Tool execution completed
[2025-06-18 12:30:56] INFO     [agent_fsm:773] [41565db9-42b5-4817-9765-ce6df5f7b586] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:30:56] WARNING  [agent_fsm:803] [41565db9-42b5-4817-9765-ce6df5f7b586] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:30:56] INFO     [agent_fsm:665] [41565db9-42b5-4817-9765-ce6df5f7b586] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:30:56] DEBUG    [agent_fsm:680] [41565db9-42b5-4817-9765-ce6df5f7b586] Turn count: 3, Action history length: 3
[2025-06-18 12:30:57] WARNING  [agent_fsm:1521] [41565db9-42b5-4817-9765-ce6df5f7b586] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:30:57] ERROR    [agent_fsm:1359] [41565db9-42b5-4817-9765-ce6df5f7b586] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:30:57] WARNING  [agent_fsm:1224] [41565db9-42b5-4817-9765-ce6df5f7b586] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:57] ERROR    [agent_fsm:1078] [41565db9-42b5-4817-9765-ce6df5f7b586] --- FSM STATE: ERROR ---
[2025-06-18 12:30:57] ERROR    [agent_fsm:1101] [41565db9-42b5-4817-9765-ce6df5f7b586] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:30:57] ERROR    [agent_fsm:1102] [41565db9-42b5-4817-9765-ce6df5f7b586] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:57] WARNING  [agent_fsm:1224] [41565db9-42b5-4817-9765-ce6df5f7b586] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:57] ERROR    [agent_fsm:1078] [41565db9-42b5-4817-9765-ce6df5f7b586] --- FSM STATE: ERROR ---
[2025-06-18 12:30:57] ERROR    [agent_fsm:1101] [41565db9-42b5-4817-9765-ce6df5f7b586] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:30:57] ERROR    [agent_fsm:1102] [41565db9-42b5-4817-9765-ce6df5f7b586] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:57] WARNING  [agent_fsm:1224] [41565db9-42b5-4817-9765-ce6df5f7b586] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:57] ERROR    [agent_fsm:1078] [41565db9-42b5-4817-9765-ce6df5f7b586] --- FSM STATE: ERROR ---
[2025-06-18 12:30:57] ERROR    [agent_fsm:1101] [41565db9-42b5-4817-9765-ce6df5f7b586] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:30:57] ERROR    [agent_fsm:1102] [41565db9-42b5-4817-9765-ce6df5f7b586] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:57] WARNING  [agent_fsm:1224] [41565db9-42b5-4817-9765-ce6df5f7b586] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:57] ERROR    [agent_fsm:1078] [41565db9-42b5-4817-9765-ce6df5f7b586] --- FSM STATE: ERROR ---
[2025-06-18 12:30:57] ERROR    [agent_fsm:1101] [41565db9-42b5-4817-9765-ce6df5f7b586] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:30:57] ERROR    [agent_fsm:1102] [41565db9-42b5-4817-9765-ce6df5f7b586] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:57] WARNING  [agent_fsm:1224] [41565db9-42b5-4817-9765-ce6df5f7b586] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:57] ERROR    [agent_fsm:1078] [41565db9-42b5-4817-9765-ce6df5f7b586] --- FSM STATE: ERROR ---
[2025-06-18 12:30:57] ERROR    [agent_fsm:1101] [41565db9-42b5-4817-9765-ce6df5f7b586] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:30:57] ERROR    [agent_fsm:1102] [41565db9-42b5-4817-9765-ce6df5f7b586] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:57] WARNING  [agent_fsm:1224] [41565db9-42b5-4817-9765-ce6df5f7b586] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:57] ERROR    [agent_fsm:1078] [41565db9-42b5-4817-9765-ce6df5f7b586] --- FSM STATE: ERROR ---
[2025-06-18 12:30:57] ERROR    [agent_fsm:1101] [41565db9-42b5-4817-9765-ce6df5f7b586] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:30:57] ERROR    [agent_fsm:1102] [41565db9-42b5-4817-9765-ce6df5f7b586] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:57] WARNING  [agent_fsm:1224] [41565db9-42b5-4817-9765-ce6df5f7b586] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:57] ERROR    [agent_fsm:1078] [41565db9-42b5-4817-9765-ce6df5f7b586] --- FSM STATE: ERROR ---
[2025-06-18 12:30:57] ERROR    [agent_fsm:1101] [41565db9-42b5-4817-9765-ce6df5f7b586] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:30:57] ERROR    [agent_fsm:1102] [41565db9-42b5-4817-9765-ce6df5f7b586] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:57] WARNING  [agent_fsm:1224] [41565db9-42b5-4817-9765-ce6df5f7b586] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:57] ERROR    [agent_fsm:1078] [41565db9-42b5-4817-9765-ce6df5f7b586] --- FSM STATE: ERROR ---
[2025-06-18 12:30:57] ERROR    [agent_fsm:1101] [41565db9-42b5-4817-9765-ce6df5f7b586] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:30:57] ERROR    [agent_fsm:1102] [41565db9-42b5-4817-9765-ce6df5f7b586] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:57] WARNING  [agent_fsm:1224] [41565db9-42b5-4817-9765-ce6df5f7b586] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:57] ERROR    [agent_fsm:1078] [41565db9-42b5-4817-9765-ce6df5f7b586] --- FSM STATE: ERROR ---
[2025-06-18 12:30:57] ERROR    [agent_fsm:1101] [41565db9-42b5-4817-9765-ce6df5f7b586] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:30:57] ERROR    [agent_fsm:1102] [41565db9-42b5-4817-9765-ce6df5f7b586] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:57] WARNING  [agent_fsm:1224] [41565db9-42b5-4817-9765-ce6df5f7b586] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:57] ERROR    [agent_fsm:1078] [41565db9-42b5-4817-9765-ce6df5f7b586] --- FSM STATE: ERROR ---
[2025-06-18 12:30:57] ERROR    [agent_fsm:1101] [41565db9-42b5-4817-9765-ce6df5f7b586] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:30:57] ERROR    [agent_fsm:1102] [41565db9-42b5-4817-9765-ce6df5f7b586] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:57] WARNING  [agent_fsm:1224] [41565db9-42b5-4817-9765-ce6df5f7b586] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:57] ERROR    [agent_fsm:1078] [41565db9-42b5-4817-9765-ce6df5f7b586] --- FSM STATE: ERROR ---
[2025-06-18 12:30:57] ERROR    [agent_fsm:1101] [41565db9-42b5-4817-9765-ce6df5f7b586] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:30:57] ERROR    [agent_fsm:1102] [41565db9-42b5-4817-9765-ce6df5f7b586] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:57] WARNING  [agent_fsm:1224] [41565db9-42b5-4817-9765-ce6df5f7b586] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:57] ERROR    [agent_fsm:1078] [41565db9-42b5-4817-9765-ce6df5f7b586] --- FSM STATE: ERROR ---
[2025-06-18 12:30:57] ERROR    [agent_fsm:1101] [41565db9-42b5-4817-9765-ce6df5f7b586] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:30:57] ERROR    [agent_fsm:1102] [41565db9-42b5-4817-9765-ce6df5f7b586] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:57] WARNING  [agent_fsm:1224] [41565db9-42b5-4817-9765-ce6df5f7b586] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:57] ERROR    [agent_fsm:1078] [41565db9-42b5-4817-9765-ce6df5f7b586] --- FSM STATE: ERROR ---
[2025-06-18 12:30:57] ERROR    [agent_fsm:1101] [41565db9-42b5-4817-9765-ce6df5f7b586] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:30:57] ERROR    [agent_fsm:1102] [41565db9-42b5-4817-9765-ce6df5f7b586] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:57] WARNING  [agent_fsm:1224] [41565db9-42b5-4817-9765-ce6df5f7b586] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:57] ERROR    [agent_fsm:1078] [41565db9-42b5-4817-9765-ce6df5f7b586] --- FSM STATE: ERROR ---
[2025-06-18 12:30:57] ERROR    [agent_fsm:1101] [41565db9-42b5-4817-9765-ce6df5f7b586] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:30:57] ERROR    [agent_fsm:1102] [41565db9-42b5-4817-9765-ce6df5f7b586] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:57] WARNING  [agent_fsm:1224] [41565db9-42b5-4817-9765-ce6df5f7b586] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:57] ERROR    [agent_fsm:1078] [41565db9-42b5-4817-9765-ce6df5f7b586] --- FSM STATE: ERROR ---
[2025-06-18 12:30:57] ERROR    [agent_fsm:1101] [41565db9-42b5-4817-9765-ce6df5f7b586] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:30:57] ERROR    [agent_fsm:1102] [41565db9-42b5-4817-9765-ce6df5f7b586] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:57] WARNING  [agent_fsm:1224] [41565db9-42b5-4817-9765-ce6df5f7b586] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:57] ERROR    [agent_fsm:1078] [41565db9-42b5-4817-9765-ce6df5f7b586] --- FSM STATE: ERROR ---
[2025-06-18 12:30:57] ERROR    [agent_fsm:1101] [41565db9-42b5-4817-9765-ce6df5f7b586] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:30:57] ERROR    [agent_fsm:1102] [41565db9-42b5-4817-9765-ce6df5f7b586] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:57] WARNING  [agent_fsm:1224] [41565db9-42b5-4817-9765-ce6df5f7b586] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:57] ERROR    [agent_fsm:1078] [41565db9-42b5-4817-9765-ce6df5f7b586] --- FSM STATE: ERROR ---
[2025-06-18 12:30:57] ERROR    [agent_fsm:1101] [41565db9-42b5-4817-9765-ce6df5f7b586] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:30:57] ERROR    [agent_fsm:1102] [41565db9-42b5-4817-9765-ce6df5f7b586] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:57] WARNING  [agent_fsm:1224] [41565db9-42b5-4817-9765-ce6df5f7b586] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:57] ERROR    [agent_fsm:1078] [41565db9-42b5-4817-9765-ce6df5f7b586] --- FSM STATE: ERROR ---
[2025-06-18 12:30:57] ERROR    [agent_fsm:1101] [41565db9-42b5-4817-9765-ce6df5f7b586] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:30:57] ERROR    [agent_fsm:1102] [41565db9-42b5-4817-9765-ce6df5f7b586] Errors: ['Duplicate tool call detected']
[2025-06-18 12:30:57] WARNING  [agent_fsm:1224] [41565db9-42b5-4817-9765-ce6df5f7b586] Direct loop detected - same action repeated 3 times
[2025-06-18 12:30:57] ERROR    [agent_fsm:1837] [41565db9-42b5-4817-9765-ce6df5f7b586] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:30:57] INFO     [agent_fsm:1752] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Starting resilient FSM execution
[2025-06-18 12:30:57] INFO     [agent_fsm:1807] [6f28f7d9-a7ae-438a-884a-76ce7a926161] FSM STATE: INITIAL
[2025-06-18 12:30:57] INFO     [agent_fsm:665] [6f28f7d9-a7ae-438a-884a-76ce7a926161] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:30:57] DEBUG    [agent_fsm:680] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Turn count: 1, Action history length: 1
[2025-06-18 12:30:58] WARNING  [agent_fsm:1521] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:30:58] WARNING  [agent_fsm:1521] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:30:58] WARNING  [agent_fsm:1521] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:30:58] ERROR    [agent_fsm:1359] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:30:58] INFO     [agent_fsm:773] [6f28f7d9-a7ae-438a-884a-76ce7a926161] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:30:58] INFO     [agent_fsm:820] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Executing tool: web_researcher with input: {'query': 'Nobel Prize in Physics 2023 winner', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 12:30:58] INFO     [agent_fsm:922] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Tool execution completed
[2025-06-18 12:30:58] INFO     [agent_fsm:773] [6f28f7d9-a7ae-438a-884a-76ce7a926161] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:30:58] WARNING  [agent_fsm:803] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:30:58] INFO     [agent_fsm:665] [6f28f7d9-a7ae-438a-884a-76ce7a926161] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:30:58] DEBUG    [agent_fsm:680] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Turn count: 2, Action history length: 2
[2025-06-18 12:30:59] WARNING  [agent_fsm:1521] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:30:59] ERROR    [agent_fsm:1359] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:30:59] INFO     [agent_fsm:773] [6f28f7d9-a7ae-438a-884a-76ce7a926161] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:30:59] INFO     [agent_fsm:820] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Executing tool: semantic_search_tool with input: {'query': 'Nobel Prize in Physics 2023 winner', 'filename': 'knowledge_base.csv', 'top_k': 3}
[2025-06-18 12:30:59] INFO     [agent_fsm:922] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Tool execution completed
[2025-06-18 12:30:59] INFO     [agent_fsm:773] [6f28f7d9-a7ae-438a-884a-76ce7a926161] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:30:59] WARNING  [agent_fsm:803] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:30:59] INFO     [agent_fsm:665] [6f28f7d9-a7ae-438a-884a-76ce7a926161] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:30:59] DEBUG    [agent_fsm:680] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Turn count: 3, Action history length: 3
[2025-06-18 12:31:00] WARNING  [agent_fsm:1521] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:31:00] WARNING  [agent_fsm:1521] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:31:00] WARNING  [agent_fsm:1521] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:31:00] ERROR    [agent_fsm:1359] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:31:00] WARNING  [agent_fsm:1224] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:00] ERROR    [agent_fsm:1078] [6f28f7d9-a7ae-438a-884a-76ce7a926161] --- FSM STATE: ERROR ---
[2025-06-18 12:31:00] ERROR    [agent_fsm:1101] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:31:00] ERROR    [agent_fsm:1102] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:00] WARNING  [agent_fsm:1224] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:00] ERROR    [agent_fsm:1078] [6f28f7d9-a7ae-438a-884a-76ce7a926161] --- FSM STATE: ERROR ---
[2025-06-18 12:31:00] ERROR    [agent_fsm:1101] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:31:00] ERROR    [agent_fsm:1102] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:00] WARNING  [agent_fsm:1224] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:00] ERROR    [agent_fsm:1078] [6f28f7d9-a7ae-438a-884a-76ce7a926161] --- FSM STATE: ERROR ---
[2025-06-18 12:31:00] ERROR    [agent_fsm:1101] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:31:00] ERROR    [agent_fsm:1102] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:00] WARNING  [agent_fsm:1224] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:00] ERROR    [agent_fsm:1078] [6f28f7d9-a7ae-438a-884a-76ce7a926161] --- FSM STATE: ERROR ---
[2025-06-18 12:31:00] ERROR    [agent_fsm:1101] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:31:00] ERROR    [agent_fsm:1102] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:00] WARNING  [agent_fsm:1224] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:00] ERROR    [agent_fsm:1078] [6f28f7d9-a7ae-438a-884a-76ce7a926161] --- FSM STATE: ERROR ---
[2025-06-18 12:31:00] ERROR    [agent_fsm:1101] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:31:00] ERROR    [agent_fsm:1102] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:00] WARNING  [agent_fsm:1224] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:00] ERROR    [agent_fsm:1078] [6f28f7d9-a7ae-438a-884a-76ce7a926161] --- FSM STATE: ERROR ---
[2025-06-18 12:31:00] ERROR    [agent_fsm:1101] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:31:00] ERROR    [agent_fsm:1102] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:00] WARNING  [agent_fsm:1224] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:00] ERROR    [agent_fsm:1078] [6f28f7d9-a7ae-438a-884a-76ce7a926161] --- FSM STATE: ERROR ---
[2025-06-18 12:31:00] ERROR    [agent_fsm:1101] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:31:00] ERROR    [agent_fsm:1102] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:00] WARNING  [agent_fsm:1224] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:00] ERROR    [agent_fsm:1078] [6f28f7d9-a7ae-438a-884a-76ce7a926161] --- FSM STATE: ERROR ---
[2025-06-18 12:31:00] ERROR    [agent_fsm:1101] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:31:00] ERROR    [agent_fsm:1102] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:00] WARNING  [agent_fsm:1224] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:00] ERROR    [agent_fsm:1078] [6f28f7d9-a7ae-438a-884a-76ce7a926161] --- FSM STATE: ERROR ---
[2025-06-18 12:31:00] ERROR    [agent_fsm:1101] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:31:00] ERROR    [agent_fsm:1102] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:00] WARNING  [agent_fsm:1224] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:00] ERROR    [agent_fsm:1078] [6f28f7d9-a7ae-438a-884a-76ce7a926161] --- FSM STATE: ERROR ---
[2025-06-18 12:31:00] ERROR    [agent_fsm:1101] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:31:00] ERROR    [agent_fsm:1102] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:00] WARNING  [agent_fsm:1224] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:00] ERROR    [agent_fsm:1078] [6f28f7d9-a7ae-438a-884a-76ce7a926161] --- FSM STATE: ERROR ---
[2025-06-18 12:31:00] ERROR    [agent_fsm:1101] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:31:00] ERROR    [agent_fsm:1102] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:00] WARNING  [agent_fsm:1224] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:00] ERROR    [agent_fsm:1078] [6f28f7d9-a7ae-438a-884a-76ce7a926161] --- FSM STATE: ERROR ---
[2025-06-18 12:31:00] ERROR    [agent_fsm:1101] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:31:00] ERROR    [agent_fsm:1102] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:00] WARNING  [agent_fsm:1224] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:00] ERROR    [agent_fsm:1078] [6f28f7d9-a7ae-438a-884a-76ce7a926161] --- FSM STATE: ERROR ---
[2025-06-18 12:31:00] ERROR    [agent_fsm:1101] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:31:00] ERROR    [agent_fsm:1102] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:00] WARNING  [agent_fsm:1224] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:00] ERROR    [agent_fsm:1078] [6f28f7d9-a7ae-438a-884a-76ce7a926161] --- FSM STATE: ERROR ---
[2025-06-18 12:31:00] ERROR    [agent_fsm:1101] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:31:00] ERROR    [agent_fsm:1102] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:00] WARNING  [agent_fsm:1224] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:00] ERROR    [agent_fsm:1078] [6f28f7d9-a7ae-438a-884a-76ce7a926161] --- FSM STATE: ERROR ---
[2025-06-18 12:31:00] ERROR    [agent_fsm:1101] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:31:00] ERROR    [agent_fsm:1102] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:00] WARNING  [agent_fsm:1224] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:00] ERROR    [agent_fsm:1078] [6f28f7d9-a7ae-438a-884a-76ce7a926161] --- FSM STATE: ERROR ---
[2025-06-18 12:31:00] ERROR    [agent_fsm:1101] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:31:00] ERROR    [agent_fsm:1102] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:00] WARNING  [agent_fsm:1224] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:00] ERROR    [agent_fsm:1078] [6f28f7d9-a7ae-438a-884a-76ce7a926161] --- FSM STATE: ERROR ---
[2025-06-18 12:31:00] ERROR    [agent_fsm:1101] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:31:00] ERROR    [agent_fsm:1102] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:00] WARNING  [agent_fsm:1224] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:00] ERROR    [agent_fsm:1078] [6f28f7d9-a7ae-438a-884a-76ce7a926161] --- FSM STATE: ERROR ---
[2025-06-18 12:31:00] ERROR    [agent_fsm:1101] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:31:00] ERROR    [agent_fsm:1102] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:00] WARNING  [agent_fsm:1224] [6f28f7d9-a7ae-438a-884a-76ce7a926161] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:00] ERROR    [agent_fsm:1837] [6f28f7d9-a7ae-438a-884a-76ce7a926161] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:31:00] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 12:31:00] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 12:31:00] INFO     [agent_fsm:570] [529b56a0-342c-4126-a406-4703e22eb220] Building resilient FSM graph
[2025-06-18 12:31:00] INFO     [agent_fsm:572] [529b56a0-342c-4126-a406-4703e22eb220] FSMReActAgent graph built successfully
[2025-06-18 12:31:00] INFO     [agent_fsm:1752] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Starting resilient FSM execution
[2025-06-18 12:31:00] INFO     [agent_fsm:1807] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] FSM STATE: INITIAL
[2025-06-18 12:31:00] INFO     [agent_fsm:665] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:31:00] DEBUG    [agent_fsm:680] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Turn count: 1, Action history length: 1
[2025-06-18 12:31:01] WARNING  [agent_fsm:1521] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:31:01] WARNING  [agent_fsm:1521] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:31:01] INFO     [agent_fsm:773] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:31:01] INFO     [agent_fsm:820] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Executing tool: web_researcher with input: {'query': 'Mercedes Sosa discography', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 12:31:01] INFO     [agent_fsm:922] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Tool execution completed
[2025-06-18 12:31:01] INFO     [agent_fsm:773] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:31:01] WARNING  [agent_fsm:803] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:31:01] INFO     [agent_fsm:665] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:31:01] DEBUG    [agent_fsm:680] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Turn count: 2, Action history length: 2
[2025-06-18 12:31:02] WARNING  [agent_fsm:1521] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:31:02] WARNING  [agent_fsm:1521] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:31:02] INFO     [agent_fsm:773] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:31:02] INFO     [agent_fsm:820] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:31:02] INFO     [agent_fsm:922] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Tool execution completed
[2025-06-18 12:31:02] INFO     [agent_fsm:773] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:31:02] WARNING  [agent_fsm:803] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:31:02] INFO     [agent_fsm:665] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:31:02] DEBUG    [agent_fsm:680] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Turn count: 3, Action history length: 3
[2025-06-18 12:31:03] WARNING  [agent_fsm:1521] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:31:03] WARNING  [agent_fsm:1521] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:31:03] WARNING  [agent_fsm:1521] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:31:03] WARNING  [agent_fsm:1224] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:03] ERROR    [agent_fsm:1078] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] --- FSM STATE: ERROR ---
[2025-06-18 12:31:03] ERROR    [agent_fsm:1101] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:31:03] ERROR    [agent_fsm:1102] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:03] WARNING  [agent_fsm:1224] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:03] ERROR    [agent_fsm:1078] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] --- FSM STATE: ERROR ---
[2025-06-18 12:31:03] ERROR    [agent_fsm:1101] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:31:03] ERROR    [agent_fsm:1102] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:03] WARNING  [agent_fsm:1224] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:03] ERROR    [agent_fsm:1078] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] --- FSM STATE: ERROR ---
[2025-06-18 12:31:03] ERROR    [agent_fsm:1101] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:31:03] ERROR    [agent_fsm:1102] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:03] WARNING  [agent_fsm:1224] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:03] ERROR    [agent_fsm:1078] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] --- FSM STATE: ERROR ---
[2025-06-18 12:31:03] ERROR    [agent_fsm:1101] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:31:03] ERROR    [agent_fsm:1102] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:03] WARNING  [agent_fsm:1224] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:03] ERROR    [agent_fsm:1078] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] --- FSM STATE: ERROR ---
[2025-06-18 12:31:03] ERROR    [agent_fsm:1101] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:31:03] ERROR    [agent_fsm:1102] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:03] WARNING  [agent_fsm:1224] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:03] ERROR    [agent_fsm:1078] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] --- FSM STATE: ERROR ---
[2025-06-18 12:31:03] ERROR    [agent_fsm:1101] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:31:03] ERROR    [agent_fsm:1102] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:03] WARNING  [agent_fsm:1224] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:03] ERROR    [agent_fsm:1078] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] --- FSM STATE: ERROR ---
[2025-06-18 12:31:03] ERROR    [agent_fsm:1101] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:31:03] ERROR    [agent_fsm:1102] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:03] WARNING  [agent_fsm:1224] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:03] ERROR    [agent_fsm:1078] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] --- FSM STATE: ERROR ---
[2025-06-18 12:31:03] ERROR    [agent_fsm:1101] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:31:03] ERROR    [agent_fsm:1102] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:03] WARNING  [agent_fsm:1224] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:03] ERROR    [agent_fsm:1078] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] --- FSM STATE: ERROR ---
[2025-06-18 12:31:03] ERROR    [agent_fsm:1101] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:31:03] ERROR    [agent_fsm:1102] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:03] WARNING  [agent_fsm:1224] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:03] ERROR    [agent_fsm:1078] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] --- FSM STATE: ERROR ---
[2025-06-18 12:31:03] ERROR    [agent_fsm:1101] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:31:03] ERROR    [agent_fsm:1102] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:03] WARNING  [agent_fsm:1224] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:03] ERROR    [agent_fsm:1078] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] --- FSM STATE: ERROR ---
[2025-06-18 12:31:03] ERROR    [agent_fsm:1101] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:31:03] ERROR    [agent_fsm:1102] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:03] WARNING  [agent_fsm:1224] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:03] ERROR    [agent_fsm:1078] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] --- FSM STATE: ERROR ---
[2025-06-18 12:31:03] ERROR    [agent_fsm:1101] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:31:03] ERROR    [agent_fsm:1102] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:03] WARNING  [agent_fsm:1224] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:03] ERROR    [agent_fsm:1078] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] --- FSM STATE: ERROR ---
[2025-06-18 12:31:03] ERROR    [agent_fsm:1101] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:31:03] ERROR    [agent_fsm:1102] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:03] WARNING  [agent_fsm:1224] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:03] ERROR    [agent_fsm:1078] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] --- FSM STATE: ERROR ---
[2025-06-18 12:31:03] ERROR    [agent_fsm:1101] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:31:03] ERROR    [agent_fsm:1102] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:03] WARNING  [agent_fsm:1224] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:03] ERROR    [agent_fsm:1078] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] --- FSM STATE: ERROR ---
[2025-06-18 12:31:03] ERROR    [agent_fsm:1101] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:31:03] ERROR    [agent_fsm:1102] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:03] WARNING  [agent_fsm:1224] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:03] ERROR    [agent_fsm:1078] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] --- FSM STATE: ERROR ---
[2025-06-18 12:31:03] ERROR    [agent_fsm:1101] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:31:03] ERROR    [agent_fsm:1102] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:03] WARNING  [agent_fsm:1224] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:03] ERROR    [agent_fsm:1078] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] --- FSM STATE: ERROR ---
[2025-06-18 12:31:03] ERROR    [agent_fsm:1101] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:31:03] ERROR    [agent_fsm:1102] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:03] WARNING  [agent_fsm:1224] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:03] ERROR    [agent_fsm:1078] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] --- FSM STATE: ERROR ---
[2025-06-18 12:31:03] ERROR    [agent_fsm:1101] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:31:03] ERROR    [agent_fsm:1102] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:03] WARNING  [agent_fsm:1224] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:03] ERROR    [agent_fsm:1837] [3f8943f5-8628-495b-8ef6-2c49cc9810f8] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:31:03] INFO     [agent_fsm:1752] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Starting resilient FSM execution
[2025-06-18 12:31:03] INFO     [agent_fsm:1807] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] FSM STATE: INITIAL
[2025-06-18 12:31:03] INFO     [agent_fsm:665] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:31:03] DEBUG    [agent_fsm:680] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Turn count: 1, Action history length: 1
[2025-06-18 12:31:04] ERROR    [agent_fsm:1359] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:31:04] INFO     [agent_fsm:773] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:31:04] INFO     [agent_fsm:820] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Executing tool: web_researcher with input: {'query': 'extract video URL from YouTube link', 'date_range': None, 'search_type': 'general', 'source': 'search'}
[2025-06-18 12:31:04] INFO     [agent_fsm:922] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Tool execution completed
[2025-06-18 12:31:04] INFO     [agent_fsm:773] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:31:04] WARNING  [agent_fsm:803] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:31:04] INFO     [agent_fsm:665] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:31:04] DEBUG    [agent_fsm:680] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Turn count: 2, Action history length: 2
[2025-06-18 12:31:05] WARNING  [agent_fsm:1521] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:31:05] WARNING  [agent_fsm:1521] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Failed to parse JSON parameters for step 9, using fallback parser
[2025-06-18 12:31:05] INFO     [agent_fsm:773] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:31:05] INFO     [agent_fsm:820] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Executing tool: video_analyzer with input: {'url': 'https://www.youtube.com/watch?v=L1vXCYZAYYM', 'action': 'download_info'}
[2025-06-18 12:31:05] ERROR    [agent_fsm:840] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Tool execution failed: name 'video_analyzer' is not defined
[2025-06-18 12:31:05] INFO     [agent_fsm:853] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Trying alternative tool: gaia_video_analyzer
[2025-06-18 12:31:05] ERROR    [agent_fsm:860] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Alternative tool also failed: 1 validation error for gaia_video_analyzer
video_url
  Field required [type=missing, input_value={'url': 'https://www.yout...ction': 'download_info'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
[2025-06-18 12:31:05] INFO     [agent_fsm:665] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] --- FSM STATE: PLANNING (Step 3) ---
[2025-06-18 12:31:05] DEBUG    [agent_fsm:680] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Turn count: 3, Action history length: 3
[2025-06-18 12:31:06] WARNING  [agent_fsm:1521] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:31:06] WARNING  [agent_fsm:1521] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:31:06] WARNING  [agent_fsm:1224] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:06] ERROR    [agent_fsm:1078] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] --- FSM STATE: ERROR ---
[2025-06-18 12:31:06] ERROR    [agent_fsm:1101] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Error category: TOOL_VALIDATION, Occurrences: 1
[2025-06-18 12:31:06] ERROR    [agent_fsm:1102] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Errors: ["Tool execution failed: name 'video_analyzer' is not defined, Alternative also failed: 1 validation error for gaia_video_analyzer\nvideo_url\n  Field required [type=missing, input_value={'url': 'https://www.yout...ction': 'download_info'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.11/v/missing"]
[2025-06-18 12:31:06] WARNING  [agent_fsm:1224] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:06] ERROR    [agent_fsm:1078] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] --- FSM STATE: ERROR ---
[2025-06-18 12:31:06] ERROR    [agent_fsm:1101] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Error category: TOOL_VALIDATION, Occurrences: 2
[2025-06-18 12:31:06] ERROR    [agent_fsm:1102] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:31:06] WARNING  [agent_fsm:1224] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:06] ERROR    [agent_fsm:1078] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] --- FSM STATE: ERROR ---
[2025-06-18 12:31:06] ERROR    [agent_fsm:1101] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Error category: TOOL_VALIDATION, Occurrences: 3
[2025-06-18 12:31:06] ERROR    [agent_fsm:1102] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:31:06] WARNING  [agent_fsm:1224] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:06] ERROR    [agent_fsm:1078] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] --- FSM STATE: ERROR ---
[2025-06-18 12:31:06] ERROR    [agent_fsm:1101] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Error category: TOOL_VALIDATION, Occurrences: 4
[2025-06-18 12:31:06] ERROR    [agent_fsm:1102] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:31:06] WARNING  [agent_fsm:1224] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:06] ERROR    [agent_fsm:1078] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] --- FSM STATE: ERROR ---
[2025-06-18 12:31:06] ERROR    [agent_fsm:1101] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Error category: TOOL_VALIDATION, Occurrences: 5
[2025-06-18 12:31:06] ERROR    [agent_fsm:1102] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:31:06] WARNING  [agent_fsm:1224] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:06] ERROR    [agent_fsm:1078] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] --- FSM STATE: ERROR ---
[2025-06-18 12:31:06] ERROR    [agent_fsm:1101] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Error category: TOOL_VALIDATION, Occurrences: 6
[2025-06-18 12:31:06] ERROR    [agent_fsm:1102] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:31:06] WARNING  [agent_fsm:1224] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:06] ERROR    [agent_fsm:1078] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] --- FSM STATE: ERROR ---
[2025-06-18 12:31:06] ERROR    [agent_fsm:1101] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Error category: TOOL_VALIDATION, Occurrences: 7
[2025-06-18 12:31:06] ERROR    [agent_fsm:1102] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:31:06] WARNING  [agent_fsm:1224] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:06] ERROR    [agent_fsm:1078] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] --- FSM STATE: ERROR ---
[2025-06-18 12:31:06] ERROR    [agent_fsm:1101] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Error category: TOOL_VALIDATION, Occurrences: 8
[2025-06-18 12:31:06] ERROR    [agent_fsm:1102] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:31:06] WARNING  [agent_fsm:1224] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:06] ERROR    [agent_fsm:1078] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] --- FSM STATE: ERROR ---
[2025-06-18 12:31:06] ERROR    [agent_fsm:1101] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Error category: TOOL_VALIDATION, Occurrences: 9
[2025-06-18 12:31:06] ERROR    [agent_fsm:1102] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:31:06] WARNING  [agent_fsm:1224] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:06] ERROR    [agent_fsm:1078] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] --- FSM STATE: ERROR ---
[2025-06-18 12:31:06] ERROR    [agent_fsm:1101] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Error category: TOOL_VALIDATION, Occurrences: 10
[2025-06-18 12:31:06] ERROR    [agent_fsm:1102] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:31:06] WARNING  [agent_fsm:1224] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:06] ERROR    [agent_fsm:1078] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] --- FSM STATE: ERROR ---
[2025-06-18 12:31:06] ERROR    [agent_fsm:1101] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Error category: TOOL_VALIDATION, Occurrences: 11
[2025-06-18 12:31:06] ERROR    [agent_fsm:1102] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:31:06] WARNING  [agent_fsm:1224] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:06] ERROR    [agent_fsm:1078] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] --- FSM STATE: ERROR ---
[2025-06-18 12:31:06] ERROR    [agent_fsm:1101] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Error category: TOOL_VALIDATION, Occurrences: 12
[2025-06-18 12:31:06] ERROR    [agent_fsm:1102] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:31:06] WARNING  [agent_fsm:1224] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:06] ERROR    [agent_fsm:1078] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] --- FSM STATE: ERROR ---
[2025-06-18 12:31:06] ERROR    [agent_fsm:1101] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Error category: TOOL_VALIDATION, Occurrences: 13
[2025-06-18 12:31:06] ERROR    [agent_fsm:1102] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:31:06] WARNING  [agent_fsm:1224] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:06] ERROR    [agent_fsm:1078] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] --- FSM STATE: ERROR ---
[2025-06-18 12:31:06] ERROR    [agent_fsm:1101] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Error category: TOOL_VALIDATION, Occurrences: 14
[2025-06-18 12:31:06] ERROR    [agent_fsm:1102] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:31:06] WARNING  [agent_fsm:1224] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:06] ERROR    [agent_fsm:1078] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] --- FSM STATE: ERROR ---
[2025-06-18 12:31:06] ERROR    [agent_fsm:1101] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Error category: TOOL_VALIDATION, Occurrences: 15
[2025-06-18 12:31:06] ERROR    [agent_fsm:1102] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:31:06] WARNING  [agent_fsm:1224] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:06] ERROR    [agent_fsm:1078] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] --- FSM STATE: ERROR ---
[2025-06-18 12:31:06] ERROR    [agent_fsm:1101] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Error category: TOOL_VALIDATION, Occurrences: 16
[2025-06-18 12:31:06] ERROR    [agent_fsm:1102] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:31:06] WARNING  [agent_fsm:1224] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:06] ERROR    [agent_fsm:1078] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] --- FSM STATE: ERROR ---
[2025-06-18 12:31:06] ERROR    [agent_fsm:1101] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Error category: TOOL_VALIDATION, Occurrences: 17
[2025-06-18 12:31:06] ERROR    [agent_fsm:1102] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:31:06] WARNING  [agent_fsm:1224] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:06] ERROR    [agent_fsm:1078] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] --- FSM STATE: ERROR ---
[2025-06-18 12:31:06] ERROR    [agent_fsm:1101] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Error category: TOOL_VALIDATION, Occurrences: 18
[2025-06-18 12:31:06] ERROR    [agent_fsm:1102] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:31:06] WARNING  [agent_fsm:1224] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:06] ERROR    [agent_fsm:1078] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] --- FSM STATE: ERROR ---
[2025-06-18 12:31:06] ERROR    [agent_fsm:1101] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Error category: TOOL_VALIDATION, Occurrences: 19
[2025-06-18 12:31:06] ERROR    [agent_fsm:1102] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:31:06] WARNING  [agent_fsm:1224] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:06] ERROR    [agent_fsm:1837] [1ea66f1b-15d9-4364-90f0-5808a44ec26a] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:31:06] INFO     [agent_fsm:1752] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Starting resilient FSM execution
[2025-06-18 12:31:06] INFO     [agent_fsm:1807] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] FSM STATE: INITIAL
[2025-06-18 12:31:06] INFO     [agent_fsm:665] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:31:06] DEBUG    [agent_fsm:680] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Turn count: 1, Action history length: 1
[2025-06-18 12:31:07] WARNING  [agent_fsm:1521] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:31:07] WARNING  [agent_fsm:1521] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:31:07] WARNING  [agent_fsm:1521] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:31:07] WARNING  [agent_fsm:1521] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:31:07] WARNING  [agent_fsm:1521] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:31:07] ERROR    [agent_fsm:1359] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:31:07] INFO     [agent_fsm:773] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:31:07] INFO     [agent_fsm:820] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:31:07] INFO     [agent_fsm:922] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Tool execution completed
[2025-06-18 12:31:07] INFO     [agent_fsm:773] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:31:07] WARNING  [agent_fsm:803] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:31:07] INFO     [agent_fsm:665] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:31:07] DEBUG    [agent_fsm:680] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Turn count: 2, Action history length: 2
[2025-06-18 12:31:09] WARNING  [agent_fsm:1521] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:31:09] WARNING  [agent_fsm:1521] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Failed to parse JSON parameters for step 10, using fallback parser
[2025-06-18 12:31:09] INFO     [agent_fsm:773] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:31:09] INFO     [agent_fsm:820] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Executing tool: file_reader with input: {'filename': 'decoded_string.txt', 'lines': -1}
[2025-06-18 12:31:09] INFO     [agent_fsm:922] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Tool execution completed
[2025-06-18 12:31:09] INFO     [agent_fsm:773] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:31:09] WARNING  [agent_fsm:803] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:31:09] INFO     [agent_fsm:665] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:31:09] DEBUG    [agent_fsm:680] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Turn count: 3, Action history length: 3
[2025-06-18 12:31:11] WARNING  [agent_fsm:1521] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:31:11] WARNING  [agent_fsm:1521] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:31:11] WARNING  [agent_fsm:1521] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Failed to parse JSON parameters for step 9, using fallback parser
[2025-06-18 12:31:11] WARNING  [agent_fsm:1521] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:31:11] WARNING  [agent_fsm:1521] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:31:11] WARNING  [agent_fsm:1521] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Failed to parse JSON parameters for step 9, using fallback parser
[2025-06-18 12:31:11] WARNING  [agent_fsm:1224] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:11] ERROR    [agent_fsm:1078] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] --- FSM STATE: ERROR ---
[2025-06-18 12:31:11] ERROR    [agent_fsm:1101] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:31:11] ERROR    [agent_fsm:1102] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:11] WARNING  [agent_fsm:1224] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:11] ERROR    [agent_fsm:1078] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] --- FSM STATE: ERROR ---
[2025-06-18 12:31:11] ERROR    [agent_fsm:1101] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:31:11] ERROR    [agent_fsm:1102] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:11] WARNING  [agent_fsm:1224] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:11] ERROR    [agent_fsm:1078] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] --- FSM STATE: ERROR ---
[2025-06-18 12:31:11] ERROR    [agent_fsm:1101] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:31:11] ERROR    [agent_fsm:1102] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:11] WARNING  [agent_fsm:1224] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:11] ERROR    [agent_fsm:1078] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] --- FSM STATE: ERROR ---
[2025-06-18 12:31:11] ERROR    [agent_fsm:1101] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:31:11] ERROR    [agent_fsm:1102] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:11] WARNING  [agent_fsm:1224] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:11] ERROR    [agent_fsm:1078] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] --- FSM STATE: ERROR ---
[2025-06-18 12:31:11] ERROR    [agent_fsm:1101] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:31:11] ERROR    [agent_fsm:1102] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:11] WARNING  [agent_fsm:1224] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:11] ERROR    [agent_fsm:1078] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] --- FSM STATE: ERROR ---
[2025-06-18 12:31:11] ERROR    [agent_fsm:1101] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:31:11] ERROR    [agent_fsm:1102] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:11] WARNING  [agent_fsm:1224] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:11] ERROR    [agent_fsm:1078] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] --- FSM STATE: ERROR ---
[2025-06-18 12:31:11] ERROR    [agent_fsm:1101] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:31:11] ERROR    [agent_fsm:1102] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:11] WARNING  [agent_fsm:1224] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:11] ERROR    [agent_fsm:1078] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] --- FSM STATE: ERROR ---
[2025-06-18 12:31:11] ERROR    [agent_fsm:1101] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:31:11] ERROR    [agent_fsm:1102] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:11] WARNING  [agent_fsm:1224] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:11] ERROR    [agent_fsm:1078] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] --- FSM STATE: ERROR ---
[2025-06-18 12:31:11] ERROR    [agent_fsm:1101] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:31:11] ERROR    [agent_fsm:1102] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:11] WARNING  [agent_fsm:1224] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:11] ERROR    [agent_fsm:1078] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] --- FSM STATE: ERROR ---
[2025-06-18 12:31:11] ERROR    [agent_fsm:1101] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:31:11] ERROR    [agent_fsm:1102] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:11] WARNING  [agent_fsm:1224] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:11] ERROR    [agent_fsm:1078] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] --- FSM STATE: ERROR ---
[2025-06-18 12:31:11] ERROR    [agent_fsm:1101] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:31:11] ERROR    [agent_fsm:1102] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:11] WARNING  [agent_fsm:1224] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:11] ERROR    [agent_fsm:1078] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] --- FSM STATE: ERROR ---
[2025-06-18 12:31:11] ERROR    [agent_fsm:1101] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:31:11] ERROR    [agent_fsm:1102] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:11] WARNING  [agent_fsm:1224] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:11] ERROR    [agent_fsm:1078] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] --- FSM STATE: ERROR ---
[2025-06-18 12:31:11] ERROR    [agent_fsm:1101] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:31:11] ERROR    [agent_fsm:1102] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:11] WARNING  [agent_fsm:1224] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:11] ERROR    [agent_fsm:1078] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] --- FSM STATE: ERROR ---
[2025-06-18 12:31:11] ERROR    [agent_fsm:1101] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:31:11] ERROR    [agent_fsm:1102] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:11] WARNING  [agent_fsm:1224] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:11] ERROR    [agent_fsm:1078] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] --- FSM STATE: ERROR ---
[2025-06-18 12:31:11] ERROR    [agent_fsm:1101] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:31:11] ERROR    [agent_fsm:1102] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:11] WARNING  [agent_fsm:1224] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:11] ERROR    [agent_fsm:1078] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] --- FSM STATE: ERROR ---
[2025-06-18 12:31:11] ERROR    [agent_fsm:1101] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:31:11] ERROR    [agent_fsm:1102] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:11] WARNING  [agent_fsm:1224] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:11] ERROR    [agent_fsm:1078] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] --- FSM STATE: ERROR ---
[2025-06-18 12:31:11] ERROR    [agent_fsm:1101] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:31:11] ERROR    [agent_fsm:1102] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:11] WARNING  [agent_fsm:1224] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:11] ERROR    [agent_fsm:1078] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] --- FSM STATE: ERROR ---
[2025-06-18 12:31:11] ERROR    [agent_fsm:1101] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:31:11] ERROR    [agent_fsm:1102] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:11] WARNING  [agent_fsm:1224] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:11] ERROR    [agent_fsm:1837] [dc5af82c-fc03-4fe6-87a7-c570d4196b51] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:31:11] INFO     [agent_fsm:1752] [52cb06af-2751-49c7-8c68-0393b01d671e] Starting resilient FSM execution
[2025-06-18 12:31:11] INFO     [agent_fsm:1807] [52cb06af-2751-49c7-8c68-0393b01d671e] FSM STATE: INITIAL
[2025-06-18 12:31:11] INFO     [agent_fsm:665] [52cb06af-2751-49c7-8c68-0393b01d671e] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:31:11] DEBUG    [agent_fsm:680] [52cb06af-2751-49c7-8c68-0393b01d671e] Turn count: 1, Action history length: 1
[2025-06-18 12:31:12] WARNING  [agent_fsm:1521] [52cb06af-2751-49c7-8c68-0393b01d671e] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:31:12] WARNING  [agent_fsm:1521] [52cb06af-2751-49c7-8c68-0393b01d671e] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:31:12] WARNING  [agent_fsm:1521] [52cb06af-2751-49c7-8c68-0393b01d671e] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:31:12] WARNING  [agent_fsm:1521] [52cb06af-2751-49c7-8c68-0393b01d671e] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:31:12] WARNING  [agent_fsm:1521] [52cb06af-2751-49c7-8c68-0393b01d671e] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:31:12] WARNING  [agent_fsm:1521] [52cb06af-2751-49c7-8c68-0393b01d671e] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 12:31:12] INFO     [agent_fsm:773] [52cb06af-2751-49c7-8c68-0393b01d671e] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:31:12] INFO     [agent_fsm:820] [52cb06af-2751-49c7-8c68-0393b01d671e] Executing tool: advanced_file_reader with input: {'filename': 'path/to/sales_data.xlsx'}
[2025-06-18 12:31:12] INFO     [agent_fsm:922] [52cb06af-2751-49c7-8c68-0393b01d671e] Tool execution completed
[2025-06-18 12:31:12] INFO     [agent_fsm:773] [52cb06af-2751-49c7-8c68-0393b01d671e] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:31:12] WARNING  [agent_fsm:803] [52cb06af-2751-49c7-8c68-0393b01d671e] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:31:12] INFO     [agent_fsm:665] [52cb06af-2751-49c7-8c68-0393b01d671e] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:31:12] DEBUG    [agent_fsm:680] [52cb06af-2751-49c7-8c68-0393b01d671e] Turn count: 2, Action history length: 2
[2025-06-18 12:31:13] WARNING  [agent_fsm:1521] [52cb06af-2751-49c7-8c68-0393b01d671e] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:31:13] WARNING  [agent_fsm:1521] [52cb06af-2751-49c7-8c68-0393b01d671e] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:31:13] WARNING  [agent_fsm:1521] [52cb06af-2751-49c7-8c68-0393b01d671e] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:31:13] WARNING  [agent_fsm:1521] [52cb06af-2751-49c7-8c68-0393b01d671e] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:31:13] WARNING  [agent_fsm:1521] [52cb06af-2751-49c7-8c68-0393b01d671e] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:31:13] INFO     [agent_fsm:773] [52cb06af-2751-49c7-8c68-0393b01d671e] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:31:13] INFO     [agent_fsm:820] [52cb06af-2751-49c7-8c68-0393b01d671e] Executing tool: advanced_file_reader with input: {'filename': 'path/to/file.xlsx'}
[2025-06-18 12:31:13] INFO     [agent_fsm:922] [52cb06af-2751-49c7-8c68-0393b01d671e] Tool execution completed
[2025-06-18 12:31:13] INFO     [agent_fsm:773] [52cb06af-2751-49c7-8c68-0393b01d671e] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:31:13] WARNING  [agent_fsm:803] [52cb06af-2751-49c7-8c68-0393b01d671e] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:31:13] INFO     [agent_fsm:665] [52cb06af-2751-49c7-8c68-0393b01d671e] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:31:13] DEBUG    [agent_fsm:680] [52cb06af-2751-49c7-8c68-0393b01d671e] Turn count: 3, Action history length: 3
[2025-06-18 12:31:14] WARNING  [agent_fsm:1224] [52cb06af-2751-49c7-8c68-0393b01d671e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:14] ERROR    [agent_fsm:1078] [52cb06af-2751-49c7-8c68-0393b01d671e] --- FSM STATE: ERROR ---
[2025-06-18 12:31:14] ERROR    [agent_fsm:1101] [52cb06af-2751-49c7-8c68-0393b01d671e] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:31:14] ERROR    [agent_fsm:1102] [52cb06af-2751-49c7-8c68-0393b01d671e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:14] WARNING  [agent_fsm:1224] [52cb06af-2751-49c7-8c68-0393b01d671e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:14] ERROR    [agent_fsm:1078] [52cb06af-2751-49c7-8c68-0393b01d671e] --- FSM STATE: ERROR ---
[2025-06-18 12:31:14] ERROR    [agent_fsm:1101] [52cb06af-2751-49c7-8c68-0393b01d671e] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:31:14] ERROR    [agent_fsm:1102] [52cb06af-2751-49c7-8c68-0393b01d671e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:14] WARNING  [agent_fsm:1224] [52cb06af-2751-49c7-8c68-0393b01d671e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:14] ERROR    [agent_fsm:1078] [52cb06af-2751-49c7-8c68-0393b01d671e] --- FSM STATE: ERROR ---
[2025-06-18 12:31:14] ERROR    [agent_fsm:1101] [52cb06af-2751-49c7-8c68-0393b01d671e] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:31:14] ERROR    [agent_fsm:1102] [52cb06af-2751-49c7-8c68-0393b01d671e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:14] WARNING  [agent_fsm:1224] [52cb06af-2751-49c7-8c68-0393b01d671e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:14] ERROR    [agent_fsm:1078] [52cb06af-2751-49c7-8c68-0393b01d671e] --- FSM STATE: ERROR ---
[2025-06-18 12:31:14] ERROR    [agent_fsm:1101] [52cb06af-2751-49c7-8c68-0393b01d671e] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:31:14] ERROR    [agent_fsm:1102] [52cb06af-2751-49c7-8c68-0393b01d671e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:14] WARNING  [agent_fsm:1224] [52cb06af-2751-49c7-8c68-0393b01d671e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:14] ERROR    [agent_fsm:1078] [52cb06af-2751-49c7-8c68-0393b01d671e] --- FSM STATE: ERROR ---
[2025-06-18 12:31:14] ERROR    [agent_fsm:1101] [52cb06af-2751-49c7-8c68-0393b01d671e] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:31:14] ERROR    [agent_fsm:1102] [52cb06af-2751-49c7-8c68-0393b01d671e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:14] WARNING  [agent_fsm:1224] [52cb06af-2751-49c7-8c68-0393b01d671e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:14] ERROR    [agent_fsm:1078] [52cb06af-2751-49c7-8c68-0393b01d671e] --- FSM STATE: ERROR ---
[2025-06-18 12:31:14] ERROR    [agent_fsm:1101] [52cb06af-2751-49c7-8c68-0393b01d671e] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:31:14] ERROR    [agent_fsm:1102] [52cb06af-2751-49c7-8c68-0393b01d671e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:14] WARNING  [agent_fsm:1224] [52cb06af-2751-49c7-8c68-0393b01d671e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:14] ERROR    [agent_fsm:1078] [52cb06af-2751-49c7-8c68-0393b01d671e] --- FSM STATE: ERROR ---
[2025-06-18 12:31:14] ERROR    [agent_fsm:1101] [52cb06af-2751-49c7-8c68-0393b01d671e] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:31:14] ERROR    [agent_fsm:1102] [52cb06af-2751-49c7-8c68-0393b01d671e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:14] WARNING  [agent_fsm:1224] [52cb06af-2751-49c7-8c68-0393b01d671e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:14] ERROR    [agent_fsm:1078] [52cb06af-2751-49c7-8c68-0393b01d671e] --- FSM STATE: ERROR ---
[2025-06-18 12:31:14] ERROR    [agent_fsm:1101] [52cb06af-2751-49c7-8c68-0393b01d671e] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:31:14] ERROR    [agent_fsm:1102] [52cb06af-2751-49c7-8c68-0393b01d671e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:14] WARNING  [agent_fsm:1224] [52cb06af-2751-49c7-8c68-0393b01d671e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:14] ERROR    [agent_fsm:1078] [52cb06af-2751-49c7-8c68-0393b01d671e] --- FSM STATE: ERROR ---
[2025-06-18 12:31:14] ERROR    [agent_fsm:1101] [52cb06af-2751-49c7-8c68-0393b01d671e] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:31:14] ERROR    [agent_fsm:1102] [52cb06af-2751-49c7-8c68-0393b01d671e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:14] WARNING  [agent_fsm:1224] [52cb06af-2751-49c7-8c68-0393b01d671e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:14] ERROR    [agent_fsm:1078] [52cb06af-2751-49c7-8c68-0393b01d671e] --- FSM STATE: ERROR ---
[2025-06-18 12:31:14] ERROR    [agent_fsm:1101] [52cb06af-2751-49c7-8c68-0393b01d671e] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:31:14] ERROR    [agent_fsm:1102] [52cb06af-2751-49c7-8c68-0393b01d671e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:14] WARNING  [agent_fsm:1224] [52cb06af-2751-49c7-8c68-0393b01d671e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:14] ERROR    [agent_fsm:1078] [52cb06af-2751-49c7-8c68-0393b01d671e] --- FSM STATE: ERROR ---
[2025-06-18 12:31:14] ERROR    [agent_fsm:1101] [52cb06af-2751-49c7-8c68-0393b01d671e] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:31:14] ERROR    [agent_fsm:1102] [52cb06af-2751-49c7-8c68-0393b01d671e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:14] WARNING  [agent_fsm:1224] [52cb06af-2751-49c7-8c68-0393b01d671e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:14] ERROR    [agent_fsm:1078] [52cb06af-2751-49c7-8c68-0393b01d671e] --- FSM STATE: ERROR ---
[2025-06-18 12:31:14] ERROR    [agent_fsm:1101] [52cb06af-2751-49c7-8c68-0393b01d671e] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:31:14] ERROR    [agent_fsm:1102] [52cb06af-2751-49c7-8c68-0393b01d671e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:14] WARNING  [agent_fsm:1224] [52cb06af-2751-49c7-8c68-0393b01d671e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:14] ERROR    [agent_fsm:1078] [52cb06af-2751-49c7-8c68-0393b01d671e] --- FSM STATE: ERROR ---
[2025-06-18 12:31:14] ERROR    [agent_fsm:1101] [52cb06af-2751-49c7-8c68-0393b01d671e] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:31:14] ERROR    [agent_fsm:1102] [52cb06af-2751-49c7-8c68-0393b01d671e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:14] WARNING  [agent_fsm:1224] [52cb06af-2751-49c7-8c68-0393b01d671e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:14] ERROR    [agent_fsm:1078] [52cb06af-2751-49c7-8c68-0393b01d671e] --- FSM STATE: ERROR ---
[2025-06-18 12:31:14] ERROR    [agent_fsm:1101] [52cb06af-2751-49c7-8c68-0393b01d671e] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:31:14] ERROR    [agent_fsm:1102] [52cb06af-2751-49c7-8c68-0393b01d671e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:14] WARNING  [agent_fsm:1224] [52cb06af-2751-49c7-8c68-0393b01d671e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:14] ERROR    [agent_fsm:1078] [52cb06af-2751-49c7-8c68-0393b01d671e] --- FSM STATE: ERROR ---
[2025-06-18 12:31:14] ERROR    [agent_fsm:1101] [52cb06af-2751-49c7-8c68-0393b01d671e] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:31:14] ERROR    [agent_fsm:1102] [52cb06af-2751-49c7-8c68-0393b01d671e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:14] WARNING  [agent_fsm:1224] [52cb06af-2751-49c7-8c68-0393b01d671e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:14] ERROR    [agent_fsm:1078] [52cb06af-2751-49c7-8c68-0393b01d671e] --- FSM STATE: ERROR ---
[2025-06-18 12:31:14] ERROR    [agent_fsm:1101] [52cb06af-2751-49c7-8c68-0393b01d671e] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:31:14] ERROR    [agent_fsm:1102] [52cb06af-2751-49c7-8c68-0393b01d671e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:14] WARNING  [agent_fsm:1224] [52cb06af-2751-49c7-8c68-0393b01d671e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:14] ERROR    [agent_fsm:1078] [52cb06af-2751-49c7-8c68-0393b01d671e] --- FSM STATE: ERROR ---
[2025-06-18 12:31:14] ERROR    [agent_fsm:1101] [52cb06af-2751-49c7-8c68-0393b01d671e] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:31:14] ERROR    [agent_fsm:1102] [52cb06af-2751-49c7-8c68-0393b01d671e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:14] WARNING  [agent_fsm:1224] [52cb06af-2751-49c7-8c68-0393b01d671e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:14] ERROR    [agent_fsm:1078] [52cb06af-2751-49c7-8c68-0393b01d671e] --- FSM STATE: ERROR ---
[2025-06-18 12:31:14] ERROR    [agent_fsm:1101] [52cb06af-2751-49c7-8c68-0393b01d671e] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:31:14] ERROR    [agent_fsm:1102] [52cb06af-2751-49c7-8c68-0393b01d671e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:14] WARNING  [agent_fsm:1224] [52cb06af-2751-49c7-8c68-0393b01d671e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:14] ERROR    [agent_fsm:1837] [52cb06af-2751-49c7-8c68-0393b01d671e] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:31:14] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 12:31:14] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 12:31:14] INFO     [agent_fsm:570] [64d49578-47b7-4ca2-827e-7c3e54268f5a] Building resilient FSM graph
[2025-06-18 12:31:14] INFO     [agent_fsm:572] [64d49578-47b7-4ca2-827e-7c3e54268f5a] FSMReActAgent graph built successfully
[2025-06-18 12:31:14] INFO     [agent_fsm:1752] [02509797-398e-4be1-923f-9a2be0234726] Starting resilient FSM execution
[2025-06-18 12:31:14] WARNING  [agent_fsm:1759] [02509797-398e-4be1-923f-9a2be0234726] FSM agent rejecting invalid input: '{{' - 1 validation error for ValidatedQuery
query
  Value error, Invalid placeholder query received: '{{' [type=value_error, input_value='{{', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/value_error
[2025-06-18 12:31:14] INFO     [agent_fsm:1752] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Starting resilient FSM execution
[2025-06-18 12:31:14] INFO     [agent_fsm:1807] [bc0100ed-3a30-457a-ba67-cc6913a92b86] FSM STATE: INITIAL
[2025-06-18 12:31:14] INFO     [agent_fsm:665] [bc0100ed-3a30-457a-ba67-cc6913a92b86] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:31:14] DEBUG    [agent_fsm:680] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Turn count: 1, Action history length: 1
[2025-06-18 12:31:15] WARNING  [agent_fsm:1521] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:31:15] WARNING  [agent_fsm:1521] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 12:31:15] INFO     [agent_fsm:773] [bc0100ed-3a30-457a-ba67-cc6913a92b86] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:31:15] INFO     [agent_fsm:820] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:31:15] INFO     [agent_fsm:922] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Tool execution completed
[2025-06-18 12:31:15] INFO     [agent_fsm:773] [bc0100ed-3a30-457a-ba67-cc6913a92b86] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:31:15] WARNING  [agent_fsm:803] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:31:15] INFO     [agent_fsm:665] [bc0100ed-3a30-457a-ba67-cc6913a92b86] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:31:15] DEBUG    [agent_fsm:680] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Turn count: 2, Action history length: 2
[2025-06-18 12:31:16] INFO     [agent_fsm:773] [bc0100ed-3a30-457a-ba67-cc6913a92b86] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:31:16] INFO     [agent_fsm:820] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Executing tool: semantic_search_tool with input: {'query': 'definition of addition in mathematics', 'filename': 'knowledge_base.csv', 'top_k': 3}
[2025-06-18 12:31:16] INFO     [agent_fsm:922] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Tool execution completed
[2025-06-18 12:31:16] INFO     [agent_fsm:773] [bc0100ed-3a30-457a-ba67-cc6913a92b86] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:31:16] WARNING  [agent_fsm:803] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:31:16] INFO     [agent_fsm:665] [bc0100ed-3a30-457a-ba67-cc6913a92b86] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:31:16] DEBUG    [agent_fsm:680] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Turn count: 3, Action history length: 3
[2025-06-18 12:31:17] WARNING  [agent_fsm:1224] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:17] ERROR    [agent_fsm:1078] [bc0100ed-3a30-457a-ba67-cc6913a92b86] --- FSM STATE: ERROR ---
[2025-06-18 12:31:17] ERROR    [agent_fsm:1101] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:31:17] ERROR    [agent_fsm:1102] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:17] WARNING  [agent_fsm:1224] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:17] ERROR    [agent_fsm:1078] [bc0100ed-3a30-457a-ba67-cc6913a92b86] --- FSM STATE: ERROR ---
[2025-06-18 12:31:17] ERROR    [agent_fsm:1101] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:31:17] ERROR    [agent_fsm:1102] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:17] WARNING  [agent_fsm:1224] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:17] ERROR    [agent_fsm:1078] [bc0100ed-3a30-457a-ba67-cc6913a92b86] --- FSM STATE: ERROR ---
[2025-06-18 12:31:17] ERROR    [agent_fsm:1101] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:31:17] ERROR    [agent_fsm:1102] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:17] WARNING  [agent_fsm:1224] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:17] ERROR    [agent_fsm:1078] [bc0100ed-3a30-457a-ba67-cc6913a92b86] --- FSM STATE: ERROR ---
[2025-06-18 12:31:17] ERROR    [agent_fsm:1101] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:31:17] ERROR    [agent_fsm:1102] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:17] WARNING  [agent_fsm:1224] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:17] ERROR    [agent_fsm:1078] [bc0100ed-3a30-457a-ba67-cc6913a92b86] --- FSM STATE: ERROR ---
[2025-06-18 12:31:17] ERROR    [agent_fsm:1101] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:31:17] ERROR    [agent_fsm:1102] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:17] WARNING  [agent_fsm:1224] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:17] ERROR    [agent_fsm:1078] [bc0100ed-3a30-457a-ba67-cc6913a92b86] --- FSM STATE: ERROR ---
[2025-06-18 12:31:17] ERROR    [agent_fsm:1101] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:31:17] ERROR    [agent_fsm:1102] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:17] WARNING  [agent_fsm:1224] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:17] ERROR    [agent_fsm:1078] [bc0100ed-3a30-457a-ba67-cc6913a92b86] --- FSM STATE: ERROR ---
[2025-06-18 12:31:17] ERROR    [agent_fsm:1101] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:31:17] ERROR    [agent_fsm:1102] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:17] WARNING  [agent_fsm:1224] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:17] ERROR    [agent_fsm:1078] [bc0100ed-3a30-457a-ba67-cc6913a92b86] --- FSM STATE: ERROR ---
[2025-06-18 12:31:17] ERROR    [agent_fsm:1101] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:31:17] ERROR    [agent_fsm:1102] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:17] WARNING  [agent_fsm:1224] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:17] ERROR    [agent_fsm:1078] [bc0100ed-3a30-457a-ba67-cc6913a92b86] --- FSM STATE: ERROR ---
[2025-06-18 12:31:17] ERROR    [agent_fsm:1101] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:31:17] ERROR    [agent_fsm:1102] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:17] WARNING  [agent_fsm:1224] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:17] ERROR    [agent_fsm:1078] [bc0100ed-3a30-457a-ba67-cc6913a92b86] --- FSM STATE: ERROR ---
[2025-06-18 12:31:17] ERROR    [agent_fsm:1101] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:31:17] ERROR    [agent_fsm:1102] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:17] WARNING  [agent_fsm:1224] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:17] ERROR    [agent_fsm:1078] [bc0100ed-3a30-457a-ba67-cc6913a92b86] --- FSM STATE: ERROR ---
[2025-06-18 12:31:17] ERROR    [agent_fsm:1101] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:31:17] ERROR    [agent_fsm:1102] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:17] WARNING  [agent_fsm:1224] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:17] ERROR    [agent_fsm:1078] [bc0100ed-3a30-457a-ba67-cc6913a92b86] --- FSM STATE: ERROR ---
[2025-06-18 12:31:17] ERROR    [agent_fsm:1101] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:31:17] ERROR    [agent_fsm:1102] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:17] WARNING  [agent_fsm:1224] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:17] ERROR    [agent_fsm:1078] [bc0100ed-3a30-457a-ba67-cc6913a92b86] --- FSM STATE: ERROR ---
[2025-06-18 12:31:17] ERROR    [agent_fsm:1101] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:31:17] ERROR    [agent_fsm:1102] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:17] WARNING  [agent_fsm:1224] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:17] ERROR    [agent_fsm:1078] [bc0100ed-3a30-457a-ba67-cc6913a92b86] --- FSM STATE: ERROR ---
[2025-06-18 12:31:17] ERROR    [agent_fsm:1101] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:31:17] ERROR    [agent_fsm:1102] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:17] WARNING  [agent_fsm:1224] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:17] ERROR    [agent_fsm:1078] [bc0100ed-3a30-457a-ba67-cc6913a92b86] --- FSM STATE: ERROR ---
[2025-06-18 12:31:17] ERROR    [agent_fsm:1101] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:31:17] ERROR    [agent_fsm:1102] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:17] WARNING  [agent_fsm:1224] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:17] ERROR    [agent_fsm:1078] [bc0100ed-3a30-457a-ba67-cc6913a92b86] --- FSM STATE: ERROR ---
[2025-06-18 12:31:17] ERROR    [agent_fsm:1101] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:31:17] ERROR    [agent_fsm:1102] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:17] WARNING  [agent_fsm:1224] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:17] ERROR    [agent_fsm:1078] [bc0100ed-3a30-457a-ba67-cc6913a92b86] --- FSM STATE: ERROR ---
[2025-06-18 12:31:17] ERROR    [agent_fsm:1101] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:31:17] ERROR    [agent_fsm:1102] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:17] WARNING  [agent_fsm:1224] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:17] ERROR    [agent_fsm:1078] [bc0100ed-3a30-457a-ba67-cc6913a92b86] --- FSM STATE: ERROR ---
[2025-06-18 12:31:17] ERROR    [agent_fsm:1101] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:31:17] ERROR    [agent_fsm:1102] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Errors: ['Duplicate tool call detected']
[2025-06-18 12:31:17] WARNING  [agent_fsm:1224] [bc0100ed-3a30-457a-ba67-cc6913a92b86] Direct loop detected - same action repeated 3 times
[2025-06-18 12:31:17] ERROR    [agent_fsm:1837] [bc0100ed-3a30-457a-ba67-cc6913a92b86] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:31:17] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 12:31:17] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 12:31:17] INFO     [agent_fsm:570] [91617c05-cefa-467a-a9c6-e3493111a6e7] Building resilient FSM graph
[2025-06-18 12:31:17] INFO     [agent_fsm:572] [91617c05-cefa-467a-a9c6-e3493111a6e7] FSMReActAgent graph built successfully
[2025-06-18 12:36:09] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 12:36:09] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 12:36:09] INFO     [agent_fsm:570] [ce40da32-5eed-4013-8095-e070d3cf9e3e] Building resilient FSM graph
[2025-06-18 12:36:09] INFO     [agent_fsm:572] [ce40da32-5eed-4013-8095-e070d3cf9e3e] FSMReActAgent graph built successfully
[2025-06-18 12:36:09] INFO     [agent_fsm:1752] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Starting resilient FSM execution
[2025-06-18 12:36:09] INFO     [agent_fsm:1807] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] FSM STATE: INITIAL
[2025-06-18 12:36:09] INFO     [agent_fsm:665] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:36:09] DEBUG    [agent_fsm:680] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Turn count: 1, Action history length: 1
[2025-06-18 12:36:10] WARNING  [agent_fsm:1521] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:36:10] ERROR    [agent_fsm:1359] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:36:10] INFO     [agent_fsm:773] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:36:10] INFO     [agent_fsm:820] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Executing tool: web_researcher with input: {'query': 'capital of France', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 12:36:10] INFO     [agent_fsm:922] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Tool execution completed
[2025-06-18 12:36:10] INFO     [agent_fsm:773] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:36:10] WARNING  [agent_fsm:803] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:36:10] INFO     [agent_fsm:665] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:36:10] DEBUG    [agent_fsm:680] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Turn count: 2, Action history length: 2
[2025-06-18 12:36:11] WARNING  [agent_fsm:1521] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:36:11] ERROR    [agent_fsm:1359] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:36:11] INFO     [agent_fsm:773] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:36:11] INFO     [agent_fsm:820] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Executing tool: python_interpreter with input: {'code': 'result = tavily_search_result[0]; print(result)'}
[2025-06-18 12:36:11] INFO     [agent_fsm:922] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Tool execution completed
[2025-06-18 12:36:11] INFO     [agent_fsm:773] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:36:11] WARNING  [agent_fsm:803] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:36:11] INFO     [agent_fsm:665] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:36:11] DEBUG    [agent_fsm:680] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Turn count: 3, Action history length: 3
[2025-06-18 12:36:12] WARNING  [agent_fsm:1521] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:36:12] WARNING  [agent_fsm:1224] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:12] ERROR    [agent_fsm:1078] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] --- FSM STATE: ERROR ---
[2025-06-18 12:36:12] ERROR    [agent_fsm:1101] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:36:12] ERROR    [agent_fsm:1102] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:12] WARNING  [agent_fsm:1224] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:12] ERROR    [agent_fsm:1078] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] --- FSM STATE: ERROR ---
[2025-06-18 12:36:12] ERROR    [agent_fsm:1101] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:36:12] ERROR    [agent_fsm:1102] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:12] WARNING  [agent_fsm:1224] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:12] ERROR    [agent_fsm:1078] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] --- FSM STATE: ERROR ---
[2025-06-18 12:36:12] ERROR    [agent_fsm:1101] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:36:12] ERROR    [agent_fsm:1102] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:12] WARNING  [agent_fsm:1224] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:12] ERROR    [agent_fsm:1078] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] --- FSM STATE: ERROR ---
[2025-06-18 12:36:12] ERROR    [agent_fsm:1101] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:36:12] ERROR    [agent_fsm:1102] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:12] WARNING  [agent_fsm:1224] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:12] ERROR    [agent_fsm:1078] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] --- FSM STATE: ERROR ---
[2025-06-18 12:36:12] ERROR    [agent_fsm:1101] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:36:12] ERROR    [agent_fsm:1102] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:12] WARNING  [agent_fsm:1224] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:12] ERROR    [agent_fsm:1078] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] --- FSM STATE: ERROR ---
[2025-06-18 12:36:12] ERROR    [agent_fsm:1101] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:36:12] ERROR    [agent_fsm:1102] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:12] WARNING  [agent_fsm:1224] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:12] ERROR    [agent_fsm:1078] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] --- FSM STATE: ERROR ---
[2025-06-18 12:36:12] ERROR    [agent_fsm:1101] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:36:12] ERROR    [agent_fsm:1102] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:12] WARNING  [agent_fsm:1224] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:12] ERROR    [agent_fsm:1078] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] --- FSM STATE: ERROR ---
[2025-06-18 12:36:12] ERROR    [agent_fsm:1101] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:36:12] ERROR    [agent_fsm:1102] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:12] WARNING  [agent_fsm:1224] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:12] ERROR    [agent_fsm:1078] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] --- FSM STATE: ERROR ---
[2025-06-18 12:36:12] ERROR    [agent_fsm:1101] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:36:12] ERROR    [agent_fsm:1102] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:12] WARNING  [agent_fsm:1224] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:12] ERROR    [agent_fsm:1078] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] --- FSM STATE: ERROR ---
[2025-06-18 12:36:12] ERROR    [agent_fsm:1101] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:36:12] ERROR    [agent_fsm:1102] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:12] WARNING  [agent_fsm:1224] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:12] ERROR    [agent_fsm:1078] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] --- FSM STATE: ERROR ---
[2025-06-18 12:36:12] ERROR    [agent_fsm:1101] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:36:12] ERROR    [agent_fsm:1102] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:12] WARNING  [agent_fsm:1224] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:12] ERROR    [agent_fsm:1078] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] --- FSM STATE: ERROR ---
[2025-06-18 12:36:12] ERROR    [agent_fsm:1101] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:36:12] ERROR    [agent_fsm:1102] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:12] WARNING  [agent_fsm:1224] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:12] ERROR    [agent_fsm:1078] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] --- FSM STATE: ERROR ---
[2025-06-18 12:36:12] ERROR    [agent_fsm:1101] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:36:12] ERROR    [agent_fsm:1102] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:12] WARNING  [agent_fsm:1224] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:12] ERROR    [agent_fsm:1078] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] --- FSM STATE: ERROR ---
[2025-06-18 12:36:12] ERROR    [agent_fsm:1101] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:36:12] ERROR    [agent_fsm:1102] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:12] WARNING  [agent_fsm:1224] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:12] ERROR    [agent_fsm:1078] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] --- FSM STATE: ERROR ---
[2025-06-18 12:36:12] ERROR    [agent_fsm:1101] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:36:12] ERROR    [agent_fsm:1102] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:12] WARNING  [agent_fsm:1224] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:12] ERROR    [agent_fsm:1078] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] --- FSM STATE: ERROR ---
[2025-06-18 12:36:12] ERROR    [agent_fsm:1101] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:36:12] ERROR    [agent_fsm:1102] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:12] WARNING  [agent_fsm:1224] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:12] ERROR    [agent_fsm:1078] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] --- FSM STATE: ERROR ---
[2025-06-18 12:36:12] ERROR    [agent_fsm:1101] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:36:12] ERROR    [agent_fsm:1102] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:12] WARNING  [agent_fsm:1224] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:12] ERROR    [agent_fsm:1078] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] --- FSM STATE: ERROR ---
[2025-06-18 12:36:12] ERROR    [agent_fsm:1101] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:36:12] ERROR    [agent_fsm:1102] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:12] WARNING  [agent_fsm:1224] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:12] ERROR    [agent_fsm:1837] [a7bfd09f-0453-448c-bb8e-2e7f6cf0be52] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:36:12] INFO     [agent_fsm:1752] [432640e6-71e8-4ca6-805f-e676c34d7626] Starting resilient FSM execution
[2025-06-18 12:36:12] INFO     [agent_fsm:1807] [432640e6-71e8-4ca6-805f-e676c34d7626] FSM STATE: INITIAL
[2025-06-18 12:36:12] INFO     [agent_fsm:665] [432640e6-71e8-4ca6-805f-e676c34d7626] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:36:12] DEBUG    [agent_fsm:680] [432640e6-71e8-4ca6-805f-e676c34d7626] Turn count: 1, Action history length: 1
[2025-06-18 12:36:13] INFO     [agent_fsm:773] [432640e6-71e8-4ca6-805f-e676c34d7626] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:36:13] INFO     [agent_fsm:820] [432640e6-71e8-4ca6-805f-e676c34d7626] Executing tool: web_researcher with input: {'query': 'definition of a leap year', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 12:36:13] INFO     [agent_fsm:922] [432640e6-71e8-4ca6-805f-e676c34d7626] Tool execution completed
[2025-06-18 12:36:13] INFO     [agent_fsm:773] [432640e6-71e8-4ca6-805f-e676c34d7626] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:36:13] WARNING  [agent_fsm:803] [432640e6-71e8-4ca6-805f-e676c34d7626] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:36:13] INFO     [agent_fsm:665] [432640e6-71e8-4ca6-805f-e676c34d7626] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:36:13] DEBUG    [agent_fsm:680] [432640e6-71e8-4ca6-805f-e676c34d7626] Turn count: 2, Action history length: 2
[2025-06-18 12:36:14] ERROR    [agent_fsm:1359] [432640e6-71e8-4ca6-805f-e676c34d7626] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:36:14] INFO     [agent_fsm:773] [432640e6-71e8-4ca6-805f-e676c34d7626] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:36:14] INFO     [agent_fsm:820] [432640e6-71e8-4ca6-805f-e676c34d7626] Executing tool: semantic_search_tool with input: {'query': 'characteristics of a leap year', 'filename': 'knowledge_base.csv', 'top_k': 3}
[2025-06-18 12:36:14] INFO     [agent_fsm:922] [432640e6-71e8-4ca6-805f-e676c34d7626] Tool execution completed
[2025-06-18 12:36:14] INFO     [agent_fsm:773] [432640e6-71e8-4ca6-805f-e676c34d7626] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:36:14] WARNING  [agent_fsm:803] [432640e6-71e8-4ca6-805f-e676c34d7626] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:36:14] INFO     [agent_fsm:665] [432640e6-71e8-4ca6-805f-e676c34d7626] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:36:14] DEBUG    [agent_fsm:680] [432640e6-71e8-4ca6-805f-e676c34d7626] Turn count: 3, Action history length: 3
[2025-06-18 12:36:14] ERROR    [agent_fsm:1359] [432640e6-71e8-4ca6-805f-e676c34d7626] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:36:14] WARNING  [agent_fsm:1224] [432640e6-71e8-4ca6-805f-e676c34d7626] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:14] ERROR    [agent_fsm:1078] [432640e6-71e8-4ca6-805f-e676c34d7626] --- FSM STATE: ERROR ---
[2025-06-18 12:36:14] ERROR    [agent_fsm:1101] [432640e6-71e8-4ca6-805f-e676c34d7626] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:36:14] ERROR    [agent_fsm:1102] [432640e6-71e8-4ca6-805f-e676c34d7626] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:14] WARNING  [agent_fsm:1224] [432640e6-71e8-4ca6-805f-e676c34d7626] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:14] ERROR    [agent_fsm:1078] [432640e6-71e8-4ca6-805f-e676c34d7626] --- FSM STATE: ERROR ---
[2025-06-18 12:36:14] ERROR    [agent_fsm:1101] [432640e6-71e8-4ca6-805f-e676c34d7626] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:36:14] ERROR    [agent_fsm:1102] [432640e6-71e8-4ca6-805f-e676c34d7626] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:14] WARNING  [agent_fsm:1224] [432640e6-71e8-4ca6-805f-e676c34d7626] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:14] ERROR    [agent_fsm:1078] [432640e6-71e8-4ca6-805f-e676c34d7626] --- FSM STATE: ERROR ---
[2025-06-18 12:36:14] ERROR    [agent_fsm:1101] [432640e6-71e8-4ca6-805f-e676c34d7626] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:36:14] ERROR    [agent_fsm:1102] [432640e6-71e8-4ca6-805f-e676c34d7626] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:14] WARNING  [agent_fsm:1224] [432640e6-71e8-4ca6-805f-e676c34d7626] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:14] ERROR    [agent_fsm:1078] [432640e6-71e8-4ca6-805f-e676c34d7626] --- FSM STATE: ERROR ---
[2025-06-18 12:36:14] ERROR    [agent_fsm:1101] [432640e6-71e8-4ca6-805f-e676c34d7626] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:36:14] ERROR    [agent_fsm:1102] [432640e6-71e8-4ca6-805f-e676c34d7626] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:14] WARNING  [agent_fsm:1224] [432640e6-71e8-4ca6-805f-e676c34d7626] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:14] ERROR    [agent_fsm:1078] [432640e6-71e8-4ca6-805f-e676c34d7626] --- FSM STATE: ERROR ---
[2025-06-18 12:36:14] ERROR    [agent_fsm:1101] [432640e6-71e8-4ca6-805f-e676c34d7626] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:36:14] ERROR    [agent_fsm:1102] [432640e6-71e8-4ca6-805f-e676c34d7626] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:14] WARNING  [agent_fsm:1224] [432640e6-71e8-4ca6-805f-e676c34d7626] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:14] ERROR    [agent_fsm:1078] [432640e6-71e8-4ca6-805f-e676c34d7626] --- FSM STATE: ERROR ---
[2025-06-18 12:36:14] ERROR    [agent_fsm:1101] [432640e6-71e8-4ca6-805f-e676c34d7626] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:36:14] ERROR    [agent_fsm:1102] [432640e6-71e8-4ca6-805f-e676c34d7626] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:14] WARNING  [agent_fsm:1224] [432640e6-71e8-4ca6-805f-e676c34d7626] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:14] ERROR    [agent_fsm:1078] [432640e6-71e8-4ca6-805f-e676c34d7626] --- FSM STATE: ERROR ---
[2025-06-18 12:36:14] ERROR    [agent_fsm:1101] [432640e6-71e8-4ca6-805f-e676c34d7626] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:36:14] ERROR    [agent_fsm:1102] [432640e6-71e8-4ca6-805f-e676c34d7626] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:14] WARNING  [agent_fsm:1224] [432640e6-71e8-4ca6-805f-e676c34d7626] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:14] ERROR    [agent_fsm:1078] [432640e6-71e8-4ca6-805f-e676c34d7626] --- FSM STATE: ERROR ---
[2025-06-18 12:36:14] ERROR    [agent_fsm:1101] [432640e6-71e8-4ca6-805f-e676c34d7626] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:36:14] ERROR    [agent_fsm:1102] [432640e6-71e8-4ca6-805f-e676c34d7626] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:14] WARNING  [agent_fsm:1224] [432640e6-71e8-4ca6-805f-e676c34d7626] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:14] ERROR    [agent_fsm:1078] [432640e6-71e8-4ca6-805f-e676c34d7626] --- FSM STATE: ERROR ---
[2025-06-18 12:36:14] ERROR    [agent_fsm:1101] [432640e6-71e8-4ca6-805f-e676c34d7626] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:36:14] ERROR    [agent_fsm:1102] [432640e6-71e8-4ca6-805f-e676c34d7626] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:14] WARNING  [agent_fsm:1224] [432640e6-71e8-4ca6-805f-e676c34d7626] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:14] ERROR    [agent_fsm:1078] [432640e6-71e8-4ca6-805f-e676c34d7626] --- FSM STATE: ERROR ---
[2025-06-18 12:36:14] ERROR    [agent_fsm:1101] [432640e6-71e8-4ca6-805f-e676c34d7626] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:36:14] ERROR    [agent_fsm:1102] [432640e6-71e8-4ca6-805f-e676c34d7626] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:14] WARNING  [agent_fsm:1224] [432640e6-71e8-4ca6-805f-e676c34d7626] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:14] ERROR    [agent_fsm:1078] [432640e6-71e8-4ca6-805f-e676c34d7626] --- FSM STATE: ERROR ---
[2025-06-18 12:36:14] ERROR    [agent_fsm:1101] [432640e6-71e8-4ca6-805f-e676c34d7626] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:36:14] ERROR    [agent_fsm:1102] [432640e6-71e8-4ca6-805f-e676c34d7626] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:14] WARNING  [agent_fsm:1224] [432640e6-71e8-4ca6-805f-e676c34d7626] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:14] ERROR    [agent_fsm:1078] [432640e6-71e8-4ca6-805f-e676c34d7626] --- FSM STATE: ERROR ---
[2025-06-18 12:36:14] ERROR    [agent_fsm:1101] [432640e6-71e8-4ca6-805f-e676c34d7626] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:36:14] ERROR    [agent_fsm:1102] [432640e6-71e8-4ca6-805f-e676c34d7626] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:14] WARNING  [agent_fsm:1224] [432640e6-71e8-4ca6-805f-e676c34d7626] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:14] ERROR    [agent_fsm:1078] [432640e6-71e8-4ca6-805f-e676c34d7626] --- FSM STATE: ERROR ---
[2025-06-18 12:36:14] ERROR    [agent_fsm:1101] [432640e6-71e8-4ca6-805f-e676c34d7626] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:36:14] ERROR    [agent_fsm:1102] [432640e6-71e8-4ca6-805f-e676c34d7626] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:14] WARNING  [agent_fsm:1224] [432640e6-71e8-4ca6-805f-e676c34d7626] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:14] ERROR    [agent_fsm:1078] [432640e6-71e8-4ca6-805f-e676c34d7626] --- FSM STATE: ERROR ---
[2025-06-18 12:36:14] ERROR    [agent_fsm:1101] [432640e6-71e8-4ca6-805f-e676c34d7626] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:36:14] ERROR    [agent_fsm:1102] [432640e6-71e8-4ca6-805f-e676c34d7626] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:14] WARNING  [agent_fsm:1224] [432640e6-71e8-4ca6-805f-e676c34d7626] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:14] ERROR    [agent_fsm:1078] [432640e6-71e8-4ca6-805f-e676c34d7626] --- FSM STATE: ERROR ---
[2025-06-18 12:36:14] ERROR    [agent_fsm:1101] [432640e6-71e8-4ca6-805f-e676c34d7626] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:36:14] ERROR    [agent_fsm:1102] [432640e6-71e8-4ca6-805f-e676c34d7626] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:14] WARNING  [agent_fsm:1224] [432640e6-71e8-4ca6-805f-e676c34d7626] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:14] ERROR    [agent_fsm:1078] [432640e6-71e8-4ca6-805f-e676c34d7626] --- FSM STATE: ERROR ---
[2025-06-18 12:36:14] ERROR    [agent_fsm:1101] [432640e6-71e8-4ca6-805f-e676c34d7626] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:36:14] ERROR    [agent_fsm:1102] [432640e6-71e8-4ca6-805f-e676c34d7626] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:14] WARNING  [agent_fsm:1224] [432640e6-71e8-4ca6-805f-e676c34d7626] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:14] ERROR    [agent_fsm:1078] [432640e6-71e8-4ca6-805f-e676c34d7626] --- FSM STATE: ERROR ---
[2025-06-18 12:36:14] ERROR    [agent_fsm:1101] [432640e6-71e8-4ca6-805f-e676c34d7626] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:36:14] ERROR    [agent_fsm:1102] [432640e6-71e8-4ca6-805f-e676c34d7626] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:14] WARNING  [agent_fsm:1224] [432640e6-71e8-4ca6-805f-e676c34d7626] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:14] ERROR    [agent_fsm:1078] [432640e6-71e8-4ca6-805f-e676c34d7626] --- FSM STATE: ERROR ---
[2025-06-18 12:36:14] ERROR    [agent_fsm:1101] [432640e6-71e8-4ca6-805f-e676c34d7626] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:36:14] ERROR    [agent_fsm:1102] [432640e6-71e8-4ca6-805f-e676c34d7626] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:14] WARNING  [agent_fsm:1224] [432640e6-71e8-4ca6-805f-e676c34d7626] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:14] ERROR    [agent_fsm:1837] [432640e6-71e8-4ca6-805f-e676c34d7626] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:36:14] INFO     [agent_fsm:1752] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Starting resilient FSM execution
[2025-06-18 12:36:14] INFO     [agent_fsm:1807] [9b09c114-81a0-4abf-b670-56f2d2e4688d] FSM STATE: INITIAL
[2025-06-18 12:36:14] INFO     [agent_fsm:665] [9b09c114-81a0-4abf-b670-56f2d2e4688d] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:36:14] DEBUG    [agent_fsm:680] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Turn count: 1, Action history length: 1
[2025-06-18 12:36:15] WARNING  [agent_fsm:1521] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:36:15] WARNING  [agent_fsm:1521] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:36:15] WARNING  [agent_fsm:1521] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:36:15] INFO     [agent_fsm:773] [9b09c114-81a0-4abf-b670-56f2d2e4688d] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:36:15] INFO     [agent_fsm:820] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:36:15] INFO     [agent_fsm:922] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Tool execution completed
[2025-06-18 12:36:15] INFO     [agent_fsm:773] [9b09c114-81a0-4abf-b670-56f2d2e4688d] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:36:15] WARNING  [agent_fsm:803] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:36:15] INFO     [agent_fsm:665] [9b09c114-81a0-4abf-b670-56f2d2e4688d] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:36:15] DEBUG    [agent_fsm:680] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Turn count: 2, Action history length: 2
[2025-06-18 12:36:16] WARNING  [agent_fsm:1521] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:36:16] WARNING  [agent_fsm:1521] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:36:16] WARNING  [agent_fsm:1521] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:36:16] INFO     [agent_fsm:773] [9b09c114-81a0-4abf-b670-56f2d2e4688d] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:36:16] INFO     [agent_fsm:820] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Executing tool: file_reader with input: {'filename': 'output.txt', 'lines': 1}
[2025-06-18 12:36:16] INFO     [agent_fsm:922] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Tool execution completed
[2025-06-18 12:36:16] INFO     [agent_fsm:773] [9b09c114-81a0-4abf-b670-56f2d2e4688d] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:36:16] WARNING  [agent_fsm:803] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:36:16] INFO     [agent_fsm:665] [9b09c114-81a0-4abf-b670-56f2d2e4688d] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:36:16] DEBUG    [agent_fsm:680] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Turn count: 3, Action history length: 3
[2025-06-18 12:36:17] WARNING  [agent_fsm:1521] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:36:17] WARNING  [agent_fsm:1521] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:36:17] WARNING  [agent_fsm:1224] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:17] ERROR    [agent_fsm:1078] [9b09c114-81a0-4abf-b670-56f2d2e4688d] --- FSM STATE: ERROR ---
[2025-06-18 12:36:17] ERROR    [agent_fsm:1101] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:36:17] ERROR    [agent_fsm:1102] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:17] WARNING  [agent_fsm:1224] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:17] ERROR    [agent_fsm:1078] [9b09c114-81a0-4abf-b670-56f2d2e4688d] --- FSM STATE: ERROR ---
[2025-06-18 12:36:17] ERROR    [agent_fsm:1101] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:36:17] ERROR    [agent_fsm:1102] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:17] WARNING  [agent_fsm:1224] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:17] ERROR    [agent_fsm:1078] [9b09c114-81a0-4abf-b670-56f2d2e4688d] --- FSM STATE: ERROR ---
[2025-06-18 12:36:17] ERROR    [agent_fsm:1101] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:36:17] ERROR    [agent_fsm:1102] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:17] WARNING  [agent_fsm:1224] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:17] ERROR    [agent_fsm:1078] [9b09c114-81a0-4abf-b670-56f2d2e4688d] --- FSM STATE: ERROR ---
[2025-06-18 12:36:17] ERROR    [agent_fsm:1101] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:36:17] ERROR    [agent_fsm:1102] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:17] WARNING  [agent_fsm:1224] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:17] ERROR    [agent_fsm:1078] [9b09c114-81a0-4abf-b670-56f2d2e4688d] --- FSM STATE: ERROR ---
[2025-06-18 12:36:17] ERROR    [agent_fsm:1101] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:36:17] ERROR    [agent_fsm:1102] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:17] WARNING  [agent_fsm:1224] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:17] ERROR    [agent_fsm:1078] [9b09c114-81a0-4abf-b670-56f2d2e4688d] --- FSM STATE: ERROR ---
[2025-06-18 12:36:17] ERROR    [agent_fsm:1101] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:36:17] ERROR    [agent_fsm:1102] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:17] WARNING  [agent_fsm:1224] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:17] ERROR    [agent_fsm:1078] [9b09c114-81a0-4abf-b670-56f2d2e4688d] --- FSM STATE: ERROR ---
[2025-06-18 12:36:17] ERROR    [agent_fsm:1101] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:36:17] ERROR    [agent_fsm:1102] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:17] WARNING  [agent_fsm:1224] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:17] ERROR    [agent_fsm:1078] [9b09c114-81a0-4abf-b670-56f2d2e4688d] --- FSM STATE: ERROR ---
[2025-06-18 12:36:17] ERROR    [agent_fsm:1101] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:36:17] ERROR    [agent_fsm:1102] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:17] WARNING  [agent_fsm:1224] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:17] ERROR    [agent_fsm:1078] [9b09c114-81a0-4abf-b670-56f2d2e4688d] --- FSM STATE: ERROR ---
[2025-06-18 12:36:17] ERROR    [agent_fsm:1101] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:36:17] ERROR    [agent_fsm:1102] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:17] WARNING  [agent_fsm:1224] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:17] ERROR    [agent_fsm:1078] [9b09c114-81a0-4abf-b670-56f2d2e4688d] --- FSM STATE: ERROR ---
[2025-06-18 12:36:17] ERROR    [agent_fsm:1101] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:36:17] ERROR    [agent_fsm:1102] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:17] WARNING  [agent_fsm:1224] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:17] ERROR    [agent_fsm:1078] [9b09c114-81a0-4abf-b670-56f2d2e4688d] --- FSM STATE: ERROR ---
[2025-06-18 12:36:17] ERROR    [agent_fsm:1101] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:36:17] ERROR    [agent_fsm:1102] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:17] WARNING  [agent_fsm:1224] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:17] ERROR    [agent_fsm:1078] [9b09c114-81a0-4abf-b670-56f2d2e4688d] --- FSM STATE: ERROR ---
[2025-06-18 12:36:17] ERROR    [agent_fsm:1101] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:36:17] ERROR    [agent_fsm:1102] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:17] WARNING  [agent_fsm:1224] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:17] ERROR    [agent_fsm:1078] [9b09c114-81a0-4abf-b670-56f2d2e4688d] --- FSM STATE: ERROR ---
[2025-06-18 12:36:17] ERROR    [agent_fsm:1101] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:36:17] ERROR    [agent_fsm:1102] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:17] WARNING  [agent_fsm:1224] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:17] ERROR    [agent_fsm:1078] [9b09c114-81a0-4abf-b670-56f2d2e4688d] --- FSM STATE: ERROR ---
[2025-06-18 12:36:17] ERROR    [agent_fsm:1101] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:36:17] ERROR    [agent_fsm:1102] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:17] WARNING  [agent_fsm:1224] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:17] ERROR    [agent_fsm:1078] [9b09c114-81a0-4abf-b670-56f2d2e4688d] --- FSM STATE: ERROR ---
[2025-06-18 12:36:17] ERROR    [agent_fsm:1101] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:36:17] ERROR    [agent_fsm:1102] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:17] WARNING  [agent_fsm:1224] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:17] ERROR    [agent_fsm:1078] [9b09c114-81a0-4abf-b670-56f2d2e4688d] --- FSM STATE: ERROR ---
[2025-06-18 12:36:17] ERROR    [agent_fsm:1101] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:36:17] ERROR    [agent_fsm:1102] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:17] WARNING  [agent_fsm:1224] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:17] ERROR    [agent_fsm:1078] [9b09c114-81a0-4abf-b670-56f2d2e4688d] --- FSM STATE: ERROR ---
[2025-06-18 12:36:17] ERROR    [agent_fsm:1101] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:36:17] ERROR    [agent_fsm:1102] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:17] WARNING  [agent_fsm:1224] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:17] ERROR    [agent_fsm:1078] [9b09c114-81a0-4abf-b670-56f2d2e4688d] --- FSM STATE: ERROR ---
[2025-06-18 12:36:17] ERROR    [agent_fsm:1101] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:36:17] ERROR    [agent_fsm:1102] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:17] WARNING  [agent_fsm:1224] [9b09c114-81a0-4abf-b670-56f2d2e4688d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:17] ERROR    [agent_fsm:1837] [9b09c114-81a0-4abf-b670-56f2d2e4688d] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:36:17] INFO     [agent_fsm:1752] [7620937d-5008-4106-aaad-e75397b39d28] Starting resilient FSM execution
[2025-06-18 12:36:17] INFO     [agent_fsm:1807] [7620937d-5008-4106-aaad-e75397b39d28] FSM STATE: INITIAL
[2025-06-18 12:36:17] INFO     [agent_fsm:665] [7620937d-5008-4106-aaad-e75397b39d28] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:36:17] DEBUG    [agent_fsm:680] [7620937d-5008-4106-aaad-e75397b39d28] Turn count: 1, Action history length: 1
[2025-06-18 12:36:18] WARNING  [agent_fsm:1521] [7620937d-5008-4106-aaad-e75397b39d28] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:36:18] WARNING  [agent_fsm:1521] [7620937d-5008-4106-aaad-e75397b39d28] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:36:18] WARNING  [agent_fsm:1521] [7620937d-5008-4106-aaad-e75397b39d28] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:36:18] INFO     [agent_fsm:773] [7620937d-5008-4106-aaad-e75397b39d28] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:36:18] INFO     [agent_fsm:820] [7620937d-5008-4106-aaad-e75397b39d28] Executing tool: web_researcher with input: {'query': 'largest planet in our solar system', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 12:36:18] INFO     [agent_fsm:922] [7620937d-5008-4106-aaad-e75397b39d28] Tool execution completed
[2025-06-18 12:36:18] INFO     [agent_fsm:773] [7620937d-5008-4106-aaad-e75397b39d28] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:36:18] WARNING  [agent_fsm:803] [7620937d-5008-4106-aaad-e75397b39d28] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:36:18] INFO     [agent_fsm:665] [7620937d-5008-4106-aaad-e75397b39d28] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:36:18] DEBUG    [agent_fsm:680] [7620937d-5008-4106-aaad-e75397b39d28] Turn count: 2, Action history length: 2
[2025-06-18 12:36:19] WARNING  [agent_fsm:1521] [7620937d-5008-4106-aaad-e75397b39d28] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:36:19] WARNING  [agent_fsm:1521] [7620937d-5008-4106-aaad-e75397b39d28] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:36:19] WARNING  [agent_fsm:1521] [7620937d-5008-4106-aaad-e75397b39d28] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:36:19] INFO     [agent_fsm:773] [7620937d-5008-4106-aaad-e75397b39d28] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:36:19] INFO     [agent_fsm:820] [7620937d-5008-4106-aaad-e75397b39d28] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:36:19] INFO     [agent_fsm:922] [7620937d-5008-4106-aaad-e75397b39d28] Tool execution completed
[2025-06-18 12:36:19] INFO     [agent_fsm:773] [7620937d-5008-4106-aaad-e75397b39d28] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:36:19] WARNING  [agent_fsm:803] [7620937d-5008-4106-aaad-e75397b39d28] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:36:19] INFO     [agent_fsm:665] [7620937d-5008-4106-aaad-e75397b39d28] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:36:19] DEBUG    [agent_fsm:680] [7620937d-5008-4106-aaad-e75397b39d28] Turn count: 3, Action history length: 3
[2025-06-18 12:36:20] WARNING  [agent_fsm:1521] [7620937d-5008-4106-aaad-e75397b39d28] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:36:20] WARNING  [agent_fsm:1521] [7620937d-5008-4106-aaad-e75397b39d28] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:36:20] WARNING  [agent_fsm:1521] [7620937d-5008-4106-aaad-e75397b39d28] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:36:20] WARNING  [agent_fsm:1224] [7620937d-5008-4106-aaad-e75397b39d28] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:20] ERROR    [agent_fsm:1078] [7620937d-5008-4106-aaad-e75397b39d28] --- FSM STATE: ERROR ---
[2025-06-18 12:36:20] ERROR    [agent_fsm:1101] [7620937d-5008-4106-aaad-e75397b39d28] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:36:20] ERROR    [agent_fsm:1102] [7620937d-5008-4106-aaad-e75397b39d28] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:20] WARNING  [agent_fsm:1224] [7620937d-5008-4106-aaad-e75397b39d28] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:20] ERROR    [agent_fsm:1078] [7620937d-5008-4106-aaad-e75397b39d28] --- FSM STATE: ERROR ---
[2025-06-18 12:36:20] ERROR    [agent_fsm:1101] [7620937d-5008-4106-aaad-e75397b39d28] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:36:20] ERROR    [agent_fsm:1102] [7620937d-5008-4106-aaad-e75397b39d28] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:20] WARNING  [agent_fsm:1224] [7620937d-5008-4106-aaad-e75397b39d28] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:20] ERROR    [agent_fsm:1078] [7620937d-5008-4106-aaad-e75397b39d28] --- FSM STATE: ERROR ---
[2025-06-18 12:36:20] ERROR    [agent_fsm:1101] [7620937d-5008-4106-aaad-e75397b39d28] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:36:20] ERROR    [agent_fsm:1102] [7620937d-5008-4106-aaad-e75397b39d28] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:20] WARNING  [agent_fsm:1224] [7620937d-5008-4106-aaad-e75397b39d28] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:20] ERROR    [agent_fsm:1078] [7620937d-5008-4106-aaad-e75397b39d28] --- FSM STATE: ERROR ---
[2025-06-18 12:36:20] ERROR    [agent_fsm:1101] [7620937d-5008-4106-aaad-e75397b39d28] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:36:20] ERROR    [agent_fsm:1102] [7620937d-5008-4106-aaad-e75397b39d28] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:20] WARNING  [agent_fsm:1224] [7620937d-5008-4106-aaad-e75397b39d28] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:20] ERROR    [agent_fsm:1078] [7620937d-5008-4106-aaad-e75397b39d28] --- FSM STATE: ERROR ---
[2025-06-18 12:36:20] ERROR    [agent_fsm:1101] [7620937d-5008-4106-aaad-e75397b39d28] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:36:20] ERROR    [agent_fsm:1102] [7620937d-5008-4106-aaad-e75397b39d28] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:20] WARNING  [agent_fsm:1224] [7620937d-5008-4106-aaad-e75397b39d28] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:20] ERROR    [agent_fsm:1078] [7620937d-5008-4106-aaad-e75397b39d28] --- FSM STATE: ERROR ---
[2025-06-18 12:36:20] ERROR    [agent_fsm:1101] [7620937d-5008-4106-aaad-e75397b39d28] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:36:20] ERROR    [agent_fsm:1102] [7620937d-5008-4106-aaad-e75397b39d28] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:20] WARNING  [agent_fsm:1224] [7620937d-5008-4106-aaad-e75397b39d28] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:20] ERROR    [agent_fsm:1078] [7620937d-5008-4106-aaad-e75397b39d28] --- FSM STATE: ERROR ---
[2025-06-18 12:36:20] ERROR    [agent_fsm:1101] [7620937d-5008-4106-aaad-e75397b39d28] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:36:20] ERROR    [agent_fsm:1102] [7620937d-5008-4106-aaad-e75397b39d28] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:20] WARNING  [agent_fsm:1224] [7620937d-5008-4106-aaad-e75397b39d28] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:20] ERROR    [agent_fsm:1078] [7620937d-5008-4106-aaad-e75397b39d28] --- FSM STATE: ERROR ---
[2025-06-18 12:36:20] ERROR    [agent_fsm:1101] [7620937d-5008-4106-aaad-e75397b39d28] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:36:20] ERROR    [agent_fsm:1102] [7620937d-5008-4106-aaad-e75397b39d28] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:20] WARNING  [agent_fsm:1224] [7620937d-5008-4106-aaad-e75397b39d28] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:20] ERROR    [agent_fsm:1078] [7620937d-5008-4106-aaad-e75397b39d28] --- FSM STATE: ERROR ---
[2025-06-18 12:36:20] ERROR    [agent_fsm:1101] [7620937d-5008-4106-aaad-e75397b39d28] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:36:20] ERROR    [agent_fsm:1102] [7620937d-5008-4106-aaad-e75397b39d28] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:20] WARNING  [agent_fsm:1224] [7620937d-5008-4106-aaad-e75397b39d28] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:20] ERROR    [agent_fsm:1078] [7620937d-5008-4106-aaad-e75397b39d28] --- FSM STATE: ERROR ---
[2025-06-18 12:36:20] ERROR    [agent_fsm:1101] [7620937d-5008-4106-aaad-e75397b39d28] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:36:20] ERROR    [agent_fsm:1102] [7620937d-5008-4106-aaad-e75397b39d28] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:20] WARNING  [agent_fsm:1224] [7620937d-5008-4106-aaad-e75397b39d28] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:20] ERROR    [agent_fsm:1078] [7620937d-5008-4106-aaad-e75397b39d28] --- FSM STATE: ERROR ---
[2025-06-18 12:36:20] ERROR    [agent_fsm:1101] [7620937d-5008-4106-aaad-e75397b39d28] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:36:20] ERROR    [agent_fsm:1102] [7620937d-5008-4106-aaad-e75397b39d28] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:20] WARNING  [agent_fsm:1224] [7620937d-5008-4106-aaad-e75397b39d28] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:20] ERROR    [agent_fsm:1078] [7620937d-5008-4106-aaad-e75397b39d28] --- FSM STATE: ERROR ---
[2025-06-18 12:36:20] ERROR    [agent_fsm:1101] [7620937d-5008-4106-aaad-e75397b39d28] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:36:20] ERROR    [agent_fsm:1102] [7620937d-5008-4106-aaad-e75397b39d28] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:20] WARNING  [agent_fsm:1224] [7620937d-5008-4106-aaad-e75397b39d28] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:20] ERROR    [agent_fsm:1078] [7620937d-5008-4106-aaad-e75397b39d28] --- FSM STATE: ERROR ---
[2025-06-18 12:36:20] ERROR    [agent_fsm:1101] [7620937d-5008-4106-aaad-e75397b39d28] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:36:20] ERROR    [agent_fsm:1102] [7620937d-5008-4106-aaad-e75397b39d28] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:20] WARNING  [agent_fsm:1224] [7620937d-5008-4106-aaad-e75397b39d28] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:20] ERROR    [agent_fsm:1078] [7620937d-5008-4106-aaad-e75397b39d28] --- FSM STATE: ERROR ---
[2025-06-18 12:36:20] ERROR    [agent_fsm:1101] [7620937d-5008-4106-aaad-e75397b39d28] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:36:20] ERROR    [agent_fsm:1102] [7620937d-5008-4106-aaad-e75397b39d28] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:20] WARNING  [agent_fsm:1224] [7620937d-5008-4106-aaad-e75397b39d28] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:20] ERROR    [agent_fsm:1078] [7620937d-5008-4106-aaad-e75397b39d28] --- FSM STATE: ERROR ---
[2025-06-18 12:36:20] ERROR    [agent_fsm:1101] [7620937d-5008-4106-aaad-e75397b39d28] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:36:20] ERROR    [agent_fsm:1102] [7620937d-5008-4106-aaad-e75397b39d28] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:20] WARNING  [agent_fsm:1224] [7620937d-5008-4106-aaad-e75397b39d28] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:20] ERROR    [agent_fsm:1078] [7620937d-5008-4106-aaad-e75397b39d28] --- FSM STATE: ERROR ---
[2025-06-18 12:36:20] ERROR    [agent_fsm:1101] [7620937d-5008-4106-aaad-e75397b39d28] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:36:20] ERROR    [agent_fsm:1102] [7620937d-5008-4106-aaad-e75397b39d28] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:20] WARNING  [agent_fsm:1224] [7620937d-5008-4106-aaad-e75397b39d28] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:20] ERROR    [agent_fsm:1078] [7620937d-5008-4106-aaad-e75397b39d28] --- FSM STATE: ERROR ---
[2025-06-18 12:36:20] ERROR    [agent_fsm:1101] [7620937d-5008-4106-aaad-e75397b39d28] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:36:20] ERROR    [agent_fsm:1102] [7620937d-5008-4106-aaad-e75397b39d28] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:20] WARNING  [agent_fsm:1224] [7620937d-5008-4106-aaad-e75397b39d28] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:20] ERROR    [agent_fsm:1078] [7620937d-5008-4106-aaad-e75397b39d28] --- FSM STATE: ERROR ---
[2025-06-18 12:36:20] ERROR    [agent_fsm:1101] [7620937d-5008-4106-aaad-e75397b39d28] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:36:20] ERROR    [agent_fsm:1102] [7620937d-5008-4106-aaad-e75397b39d28] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:20] WARNING  [agent_fsm:1224] [7620937d-5008-4106-aaad-e75397b39d28] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:20] ERROR    [agent_fsm:1837] [7620937d-5008-4106-aaad-e75397b39d28] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:36:20] INFO     [agent_fsm:1752] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Starting resilient FSM execution
[2025-06-18 12:36:20] INFO     [agent_fsm:1807] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] FSM STATE: INITIAL
[2025-06-18 12:36:20] INFO     [agent_fsm:665] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:36:20] DEBUG    [agent_fsm:680] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Turn count: 1, Action history length: 1
[2025-06-18 12:36:23] WARNING  [agent_fsm:1521] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:36:23] WARNING  [agent_fsm:1521] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:36:23] WARNING  [agent_fsm:1521] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:36:23] WARNING  [agent_fsm:1521] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:36:23] WARNING  [agent_fsm:1521] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:36:23] WARNING  [agent_fsm:1521] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:36:23] WARNING  [agent_fsm:1521] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:36:23] WARNING  [agent_fsm:1521] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:36:23] WARNING  [agent_fsm:1521] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:36:23] WARNING  [agent_fsm:1521] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:36:23] WARNING  [agent_fsm:1521] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:36:23] WARNING  [agent_fsm:1521] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:36:23] WARNING  [agent_fsm:1521] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:36:23] WARNING  [agent_fsm:1521] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:36:23] WARNING  [agent_fsm:1521] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:36:23] INFO     [agent_fsm:773] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:36:23] INFO     [agent_fsm:820] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Executing tool: web_researcher with input: {'query': 'extract video URL from Google URL googleusercontent.com/costa-rica/birds', 'date_range': None, 'search_type': 'general', 'source': 'search'}
[2025-06-18 12:36:23] INFO     [agent_fsm:922] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Tool execution completed
[2025-06-18 12:36:23] INFO     [agent_fsm:773] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:36:23] WARNING  [agent_fsm:803] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:36:23] INFO     [agent_fsm:665] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:36:23] DEBUG    [agent_fsm:680] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Turn count: 2, Action history length: 2
[2025-06-18 12:36:25] WARNING  [agent_fsm:1521] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:36:25] WARNING  [agent_fsm:1521] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:36:25] WARNING  [agent_fsm:1521] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:36:25] WARNING  [agent_fsm:1521] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:36:25] WARNING  [agent_fsm:1521] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:36:25] WARNING  [agent_fsm:1521] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:36:25] WARNING  [agent_fsm:1521] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:36:25] WARNING  [agent_fsm:1521] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:36:25] WARNING  [agent_fsm:1521] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:36:25] INFO     [agent_fsm:773] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:36:25] INFO     [agent_fsm:820] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:36:25] INFO     [agent_fsm:922] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Tool execution completed
[2025-06-18 12:36:25] INFO     [agent_fsm:773] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:36:25] WARNING  [agent_fsm:803] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:36:25] INFO     [agent_fsm:665] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:36:25] DEBUG    [agent_fsm:680] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Turn count: 3, Action history length: 3
[2025-06-18 12:36:28] WARNING  [agent_fsm:1521] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:36:28] WARNING  [agent_fsm:1521] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:36:28] WARNING  [agent_fsm:1521] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:36:28] WARNING  [agent_fsm:1521] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:36:28] WARNING  [agent_fsm:1521] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:36:28] WARNING  [agent_fsm:1521] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:36:28] WARNING  [agent_fsm:1521] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:36:28] WARNING  [agent_fsm:1521] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:36:28] WARNING  [agent_fsm:1521] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:36:28] WARNING  [agent_fsm:1521] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:36:28] WARNING  [agent_fsm:1521] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:36:28] WARNING  [agent_fsm:1521] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:36:28] WARNING  [agent_fsm:1521] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:36:28] WARNING  [agent_fsm:1521] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:36:28] WARNING  [agent_fsm:1224] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:28] ERROR    [agent_fsm:1078] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] --- FSM STATE: ERROR ---
[2025-06-18 12:36:28] ERROR    [agent_fsm:1101] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:36:28] ERROR    [agent_fsm:1102] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:28] WARNING  [agent_fsm:1224] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:28] ERROR    [agent_fsm:1078] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] --- FSM STATE: ERROR ---
[2025-06-18 12:36:28] ERROR    [agent_fsm:1101] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:36:28] ERROR    [agent_fsm:1102] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:28] WARNING  [agent_fsm:1224] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:28] ERROR    [agent_fsm:1078] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] --- FSM STATE: ERROR ---
[2025-06-18 12:36:28] ERROR    [agent_fsm:1101] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:36:28] ERROR    [agent_fsm:1102] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:28] WARNING  [agent_fsm:1224] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:28] ERROR    [agent_fsm:1078] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] --- FSM STATE: ERROR ---
[2025-06-18 12:36:28] ERROR    [agent_fsm:1101] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:36:28] ERROR    [agent_fsm:1102] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:28] WARNING  [agent_fsm:1224] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:28] ERROR    [agent_fsm:1078] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] --- FSM STATE: ERROR ---
[2025-06-18 12:36:28] ERROR    [agent_fsm:1101] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:36:28] ERROR    [agent_fsm:1102] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:28] WARNING  [agent_fsm:1224] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:28] ERROR    [agent_fsm:1078] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] --- FSM STATE: ERROR ---
[2025-06-18 12:36:28] ERROR    [agent_fsm:1101] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:36:28] ERROR    [agent_fsm:1102] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:28] WARNING  [agent_fsm:1224] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:28] ERROR    [agent_fsm:1078] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] --- FSM STATE: ERROR ---
[2025-06-18 12:36:28] ERROR    [agent_fsm:1101] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:36:28] ERROR    [agent_fsm:1102] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:28] WARNING  [agent_fsm:1224] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:28] ERROR    [agent_fsm:1078] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] --- FSM STATE: ERROR ---
[2025-06-18 12:36:28] ERROR    [agent_fsm:1101] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:36:28] ERROR    [agent_fsm:1102] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:28] WARNING  [agent_fsm:1224] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:28] ERROR    [agent_fsm:1078] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] --- FSM STATE: ERROR ---
[2025-06-18 12:36:28] ERROR    [agent_fsm:1101] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:36:28] ERROR    [agent_fsm:1102] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:28] WARNING  [agent_fsm:1224] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:28] ERROR    [agent_fsm:1078] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] --- FSM STATE: ERROR ---
[2025-06-18 12:36:28] ERROR    [agent_fsm:1101] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:36:28] ERROR    [agent_fsm:1102] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:28] WARNING  [agent_fsm:1224] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:28] ERROR    [agent_fsm:1078] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] --- FSM STATE: ERROR ---
[2025-06-18 12:36:28] ERROR    [agent_fsm:1101] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:36:28] ERROR    [agent_fsm:1102] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:28] WARNING  [agent_fsm:1224] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:28] ERROR    [agent_fsm:1078] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] --- FSM STATE: ERROR ---
[2025-06-18 12:36:28] ERROR    [agent_fsm:1101] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:36:28] ERROR    [agent_fsm:1102] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:28] WARNING  [agent_fsm:1224] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:28] ERROR    [agent_fsm:1078] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] --- FSM STATE: ERROR ---
[2025-06-18 12:36:28] ERROR    [agent_fsm:1101] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:36:28] ERROR    [agent_fsm:1102] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:28] WARNING  [agent_fsm:1224] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:28] ERROR    [agent_fsm:1078] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] --- FSM STATE: ERROR ---
[2025-06-18 12:36:28] ERROR    [agent_fsm:1101] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:36:28] ERROR    [agent_fsm:1102] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:28] WARNING  [agent_fsm:1224] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:28] ERROR    [agent_fsm:1078] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] --- FSM STATE: ERROR ---
[2025-06-18 12:36:28] ERROR    [agent_fsm:1101] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:36:28] ERROR    [agent_fsm:1102] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:28] WARNING  [agent_fsm:1224] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:28] ERROR    [agent_fsm:1078] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] --- FSM STATE: ERROR ---
[2025-06-18 12:36:28] ERROR    [agent_fsm:1101] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:36:28] ERROR    [agent_fsm:1102] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:28] WARNING  [agent_fsm:1224] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:28] ERROR    [agent_fsm:1078] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] --- FSM STATE: ERROR ---
[2025-06-18 12:36:28] ERROR    [agent_fsm:1101] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:36:28] ERROR    [agent_fsm:1102] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:28] WARNING  [agent_fsm:1224] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:28] ERROR    [agent_fsm:1078] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] --- FSM STATE: ERROR ---
[2025-06-18 12:36:28] ERROR    [agent_fsm:1101] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:36:28] ERROR    [agent_fsm:1102] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:28] WARNING  [agent_fsm:1224] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:28] ERROR    [agent_fsm:1837] [50970efa-7715-4cf2-997e-ef41f8d1a7ca] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:36:28] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 12:36:28] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 12:36:28] INFO     [agent_fsm:570] [52f1dc89-c3b9-4616-993d-db9ae02b19ad] Building resilient FSM graph
[2025-06-18 12:36:28] INFO     [agent_fsm:572] [52f1dc89-c3b9-4616-993d-db9ae02b19ad] FSMReActAgent graph built successfully
[2025-06-18 12:36:28] INFO     [agent_fsm:1752] [b4d37bf7-fb22-410e-9a46-47723c395733] Starting resilient FSM execution
[2025-06-18 12:36:28] INFO     [agent_fsm:1807] [b4d37bf7-fb22-410e-9a46-47723c395733] FSM STATE: INITIAL
[2025-06-18 12:36:28] INFO     [agent_fsm:665] [b4d37bf7-fb22-410e-9a46-47723c395733] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:36:28] DEBUG    [agent_fsm:680] [b4d37bf7-fb22-410e-9a46-47723c395733] Turn count: 1, Action history length: 1
[2025-06-18 12:36:29] WARNING  [agent_fsm:1521] [b4d37bf7-fb22-410e-9a46-47723c395733] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:36:29] WARNING  [agent_fsm:1521] [b4d37bf7-fb22-410e-9a46-47723c395733] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 12:36:29] ERROR    [agent_fsm:1359] [b4d37bf7-fb22-410e-9a46-47723c395733] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:36:29] INFO     [agent_fsm:773] [b4d37bf7-fb22-410e-9a46-47723c395733] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:36:29] INFO     [agent_fsm:820] [b4d37bf7-fb22-410e-9a46-47723c395733] Executing tool: advanced_file_reader with input: {'filename': 'path/to/attached_excel_file.xlsx'}
[2025-06-18 12:36:29] INFO     [agent_fsm:922] [b4d37bf7-fb22-410e-9a46-47723c395733] Tool execution completed
[2025-06-18 12:36:29] INFO     [agent_fsm:773] [b4d37bf7-fb22-410e-9a46-47723c395733] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:36:29] WARNING  [agent_fsm:803] [b4d37bf7-fb22-410e-9a46-47723c395733] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:36:29] INFO     [agent_fsm:665] [b4d37bf7-fb22-410e-9a46-47723c395733] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:36:29] DEBUG    [agent_fsm:680] [b4d37bf7-fb22-410e-9a46-47723c395733] Turn count: 2, Action history length: 2
[2025-06-18 12:36:33] WARNING  [agent_fsm:1521] [b4d37bf7-fb22-410e-9a46-47723c395733] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:36:33] WARNING  [agent_fsm:1521] [b4d37bf7-fb22-410e-9a46-47723c395733] Failed to parse JSON parameters for step 20, using fallback parser
[2025-06-18 12:36:33] ERROR    [agent_fsm:1359] [b4d37bf7-fb22-410e-9a46-47723c395733] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:36:33] ERROR    [agent_fsm:1359] [b4d37bf7-fb22-410e-9a46-47723c395733] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:36:33] INFO     [agent_fsm:773] [b4d37bf7-fb22-410e-9a46-47723c395733] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:36:33] INFO     [agent_fsm:820] [b4d37bf7-fb22-410e-9a46-47723c395733] Executing tool: file_reader with input: {'filename': 'path/to/attached/excel/file.xlsx', 'lines': -1}
[2025-06-18 12:36:33] INFO     [agent_fsm:922] [b4d37bf7-fb22-410e-9a46-47723c395733] Tool execution completed
[2025-06-18 12:36:33] INFO     [agent_fsm:773] [b4d37bf7-fb22-410e-9a46-47723c395733] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:36:33] WARNING  [agent_fsm:803] [b4d37bf7-fb22-410e-9a46-47723c395733] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:36:33] INFO     [agent_fsm:665] [b4d37bf7-fb22-410e-9a46-47723c395733] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:36:33] DEBUG    [agent_fsm:680] [b4d37bf7-fb22-410e-9a46-47723c395733] Turn count: 3, Action history length: 3
[2025-06-18 12:36:34] WARNING  [agent_fsm:1521] [b4d37bf7-fb22-410e-9a46-47723c395733] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:36:34] WARNING  [agent_fsm:1521] [b4d37bf7-fb22-410e-9a46-47723c395733] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:36:34] WARNING  [agent_fsm:1224] [b4d37bf7-fb22-410e-9a46-47723c395733] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:34] ERROR    [agent_fsm:1078] [b4d37bf7-fb22-410e-9a46-47723c395733] --- FSM STATE: ERROR ---
[2025-06-18 12:36:34] ERROR    [agent_fsm:1101] [b4d37bf7-fb22-410e-9a46-47723c395733] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:36:34] ERROR    [agent_fsm:1102] [b4d37bf7-fb22-410e-9a46-47723c395733] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:34] WARNING  [agent_fsm:1224] [b4d37bf7-fb22-410e-9a46-47723c395733] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:34] ERROR    [agent_fsm:1078] [b4d37bf7-fb22-410e-9a46-47723c395733] --- FSM STATE: ERROR ---
[2025-06-18 12:36:34] ERROR    [agent_fsm:1101] [b4d37bf7-fb22-410e-9a46-47723c395733] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:36:34] ERROR    [agent_fsm:1102] [b4d37bf7-fb22-410e-9a46-47723c395733] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:34] WARNING  [agent_fsm:1224] [b4d37bf7-fb22-410e-9a46-47723c395733] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:34] ERROR    [agent_fsm:1078] [b4d37bf7-fb22-410e-9a46-47723c395733] --- FSM STATE: ERROR ---
[2025-06-18 12:36:34] ERROR    [agent_fsm:1101] [b4d37bf7-fb22-410e-9a46-47723c395733] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:36:34] ERROR    [agent_fsm:1102] [b4d37bf7-fb22-410e-9a46-47723c395733] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:34] WARNING  [agent_fsm:1224] [b4d37bf7-fb22-410e-9a46-47723c395733] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:34] ERROR    [agent_fsm:1078] [b4d37bf7-fb22-410e-9a46-47723c395733] --- FSM STATE: ERROR ---
[2025-06-18 12:36:34] ERROR    [agent_fsm:1101] [b4d37bf7-fb22-410e-9a46-47723c395733] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:36:34] ERROR    [agent_fsm:1102] [b4d37bf7-fb22-410e-9a46-47723c395733] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:34] WARNING  [agent_fsm:1224] [b4d37bf7-fb22-410e-9a46-47723c395733] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:34] ERROR    [agent_fsm:1078] [b4d37bf7-fb22-410e-9a46-47723c395733] --- FSM STATE: ERROR ---
[2025-06-18 12:36:34] ERROR    [agent_fsm:1101] [b4d37bf7-fb22-410e-9a46-47723c395733] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:36:34] ERROR    [agent_fsm:1102] [b4d37bf7-fb22-410e-9a46-47723c395733] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:34] WARNING  [agent_fsm:1224] [b4d37bf7-fb22-410e-9a46-47723c395733] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:34] ERROR    [agent_fsm:1078] [b4d37bf7-fb22-410e-9a46-47723c395733] --- FSM STATE: ERROR ---
[2025-06-18 12:36:34] ERROR    [agent_fsm:1101] [b4d37bf7-fb22-410e-9a46-47723c395733] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:36:34] ERROR    [agent_fsm:1102] [b4d37bf7-fb22-410e-9a46-47723c395733] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:34] WARNING  [agent_fsm:1224] [b4d37bf7-fb22-410e-9a46-47723c395733] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:34] ERROR    [agent_fsm:1078] [b4d37bf7-fb22-410e-9a46-47723c395733] --- FSM STATE: ERROR ---
[2025-06-18 12:36:34] ERROR    [agent_fsm:1101] [b4d37bf7-fb22-410e-9a46-47723c395733] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:36:34] ERROR    [agent_fsm:1102] [b4d37bf7-fb22-410e-9a46-47723c395733] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:34] WARNING  [agent_fsm:1224] [b4d37bf7-fb22-410e-9a46-47723c395733] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:34] ERROR    [agent_fsm:1078] [b4d37bf7-fb22-410e-9a46-47723c395733] --- FSM STATE: ERROR ---
[2025-06-18 12:36:34] ERROR    [agent_fsm:1101] [b4d37bf7-fb22-410e-9a46-47723c395733] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:36:34] ERROR    [agent_fsm:1102] [b4d37bf7-fb22-410e-9a46-47723c395733] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:34] WARNING  [agent_fsm:1224] [b4d37bf7-fb22-410e-9a46-47723c395733] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:34] ERROR    [agent_fsm:1078] [b4d37bf7-fb22-410e-9a46-47723c395733] --- FSM STATE: ERROR ---
[2025-06-18 12:36:34] ERROR    [agent_fsm:1101] [b4d37bf7-fb22-410e-9a46-47723c395733] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:36:34] ERROR    [agent_fsm:1102] [b4d37bf7-fb22-410e-9a46-47723c395733] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:34] WARNING  [agent_fsm:1224] [b4d37bf7-fb22-410e-9a46-47723c395733] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:34] ERROR    [agent_fsm:1078] [b4d37bf7-fb22-410e-9a46-47723c395733] --- FSM STATE: ERROR ---
[2025-06-18 12:36:34] ERROR    [agent_fsm:1101] [b4d37bf7-fb22-410e-9a46-47723c395733] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:36:34] ERROR    [agent_fsm:1102] [b4d37bf7-fb22-410e-9a46-47723c395733] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:34] WARNING  [agent_fsm:1224] [b4d37bf7-fb22-410e-9a46-47723c395733] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:34] ERROR    [agent_fsm:1078] [b4d37bf7-fb22-410e-9a46-47723c395733] --- FSM STATE: ERROR ---
[2025-06-18 12:36:34] ERROR    [agent_fsm:1101] [b4d37bf7-fb22-410e-9a46-47723c395733] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:36:34] ERROR    [agent_fsm:1102] [b4d37bf7-fb22-410e-9a46-47723c395733] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:34] WARNING  [agent_fsm:1224] [b4d37bf7-fb22-410e-9a46-47723c395733] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:34] ERROR    [agent_fsm:1078] [b4d37bf7-fb22-410e-9a46-47723c395733] --- FSM STATE: ERROR ---
[2025-06-18 12:36:34] ERROR    [agent_fsm:1101] [b4d37bf7-fb22-410e-9a46-47723c395733] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:36:34] ERROR    [agent_fsm:1102] [b4d37bf7-fb22-410e-9a46-47723c395733] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:34] WARNING  [agent_fsm:1224] [b4d37bf7-fb22-410e-9a46-47723c395733] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:34] ERROR    [agent_fsm:1078] [b4d37bf7-fb22-410e-9a46-47723c395733] --- FSM STATE: ERROR ---
[2025-06-18 12:36:34] ERROR    [agent_fsm:1101] [b4d37bf7-fb22-410e-9a46-47723c395733] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:36:34] ERROR    [agent_fsm:1102] [b4d37bf7-fb22-410e-9a46-47723c395733] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:34] WARNING  [agent_fsm:1224] [b4d37bf7-fb22-410e-9a46-47723c395733] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:34] ERROR    [agent_fsm:1078] [b4d37bf7-fb22-410e-9a46-47723c395733] --- FSM STATE: ERROR ---
[2025-06-18 12:36:34] ERROR    [agent_fsm:1101] [b4d37bf7-fb22-410e-9a46-47723c395733] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:36:34] ERROR    [agent_fsm:1102] [b4d37bf7-fb22-410e-9a46-47723c395733] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:34] WARNING  [agent_fsm:1224] [b4d37bf7-fb22-410e-9a46-47723c395733] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:34] ERROR    [agent_fsm:1078] [b4d37bf7-fb22-410e-9a46-47723c395733] --- FSM STATE: ERROR ---
[2025-06-18 12:36:34] ERROR    [agent_fsm:1101] [b4d37bf7-fb22-410e-9a46-47723c395733] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:36:34] ERROR    [agent_fsm:1102] [b4d37bf7-fb22-410e-9a46-47723c395733] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:34] WARNING  [agent_fsm:1224] [b4d37bf7-fb22-410e-9a46-47723c395733] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:34] ERROR    [agent_fsm:1078] [b4d37bf7-fb22-410e-9a46-47723c395733] --- FSM STATE: ERROR ---
[2025-06-18 12:36:34] ERROR    [agent_fsm:1101] [b4d37bf7-fb22-410e-9a46-47723c395733] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:36:34] ERROR    [agent_fsm:1102] [b4d37bf7-fb22-410e-9a46-47723c395733] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:34] WARNING  [agent_fsm:1224] [b4d37bf7-fb22-410e-9a46-47723c395733] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:34] ERROR    [agent_fsm:1078] [b4d37bf7-fb22-410e-9a46-47723c395733] --- FSM STATE: ERROR ---
[2025-06-18 12:36:34] ERROR    [agent_fsm:1101] [b4d37bf7-fb22-410e-9a46-47723c395733] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:36:34] ERROR    [agent_fsm:1102] [b4d37bf7-fb22-410e-9a46-47723c395733] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:34] WARNING  [agent_fsm:1224] [b4d37bf7-fb22-410e-9a46-47723c395733] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:34] ERROR    [agent_fsm:1078] [b4d37bf7-fb22-410e-9a46-47723c395733] --- FSM STATE: ERROR ---
[2025-06-18 12:36:34] ERROR    [agent_fsm:1101] [b4d37bf7-fb22-410e-9a46-47723c395733] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:36:34] ERROR    [agent_fsm:1102] [b4d37bf7-fb22-410e-9a46-47723c395733] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:34] WARNING  [agent_fsm:1224] [b4d37bf7-fb22-410e-9a46-47723c395733] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:34] ERROR    [agent_fsm:1837] [b4d37bf7-fb22-410e-9a46-47723c395733] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:36:34] INFO     [agent_fsm:1752] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Starting resilient FSM execution
[2025-06-18 12:36:34] INFO     [agent_fsm:1807] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] FSM STATE: INITIAL
[2025-06-18 12:36:34] INFO     [agent_fsm:665] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:36:34] DEBUG    [agent_fsm:680] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Turn count: 1, Action history length: 1
[2025-06-18 12:36:35] ERROR    [agent_fsm:1359] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:36:35] WARNING  [agent_fsm:1333] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Tool image_analyzer not found in registry, will use stub
[2025-06-18 12:36:35] INFO     [agent_fsm:773] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:36:35] INFO     [agent_fsm:820] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Executing tool: video_analyzer with input: {'url': 'https://example.com/video.mp4', 'action': 'download_info'}
[2025-06-18 12:36:35] INFO     [agent_fsm:922] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Tool execution completed
[2025-06-18 12:36:35] INFO     [agent_fsm:773] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:36:35] WARNING  [agent_fsm:803] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:36:35] INFO     [agent_fsm:665] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:36:35] DEBUG    [agent_fsm:680] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Turn count: 2, Action history length: 2
[2025-06-18 12:36:36] WARNING  [agent_fsm:1521] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:36:36] WARNING  [agent_fsm:1521] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:36:36] WARNING  [agent_fsm:1521] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Failed to parse JSON parameters for step 8, using fallback parser
[2025-06-18 12:36:36] INFO     [agent_fsm:773] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:36:36] INFO     [agent_fsm:820] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:36:36] INFO     [agent_fsm:922] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Tool execution completed
[2025-06-18 12:36:36] INFO     [agent_fsm:773] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:36:36] WARNING  [agent_fsm:803] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:36:36] INFO     [agent_fsm:665] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:36:36] DEBUG    [agent_fsm:680] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Turn count: 3, Action history length: 3
[2025-06-18 12:36:38] WARNING  [agent_fsm:1521] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:36:38] WARNING  [agent_fsm:1521] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:36:38] WARNING  [agent_fsm:1521] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:36:38] WARNING  [agent_fsm:1521] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 12:36:38] WARNING  [agent_fsm:1521] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Failed to parse JSON parameters for step 9, using fallback parser
[2025-06-18 12:36:38] WARNING  [agent_fsm:1521] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Failed to parse JSON parameters for step 11, using fallback parser
[2025-06-18 12:36:38] WARNING  [agent_fsm:1224] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:38] ERROR    [agent_fsm:1078] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] --- FSM STATE: ERROR ---
[2025-06-18 12:36:38] ERROR    [agent_fsm:1101] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:36:38] ERROR    [agent_fsm:1102] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:38] WARNING  [agent_fsm:1224] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:38] ERROR    [agent_fsm:1078] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] --- FSM STATE: ERROR ---
[2025-06-18 12:36:38] ERROR    [agent_fsm:1101] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:36:38] ERROR    [agent_fsm:1102] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:38] WARNING  [agent_fsm:1224] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:38] ERROR    [agent_fsm:1078] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] --- FSM STATE: ERROR ---
[2025-06-18 12:36:38] ERROR    [agent_fsm:1101] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:36:38] ERROR    [agent_fsm:1102] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:38] WARNING  [agent_fsm:1224] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:38] ERROR    [agent_fsm:1078] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] --- FSM STATE: ERROR ---
[2025-06-18 12:36:38] ERROR    [agent_fsm:1101] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:36:38] ERROR    [agent_fsm:1102] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:38] WARNING  [agent_fsm:1224] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:38] ERROR    [agent_fsm:1078] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] --- FSM STATE: ERROR ---
[2025-06-18 12:36:38] ERROR    [agent_fsm:1101] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:36:38] ERROR    [agent_fsm:1102] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:38] WARNING  [agent_fsm:1224] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:38] ERROR    [agent_fsm:1078] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] --- FSM STATE: ERROR ---
[2025-06-18 12:36:38] ERROR    [agent_fsm:1101] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:36:38] ERROR    [agent_fsm:1102] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:38] WARNING  [agent_fsm:1224] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:38] ERROR    [agent_fsm:1078] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] --- FSM STATE: ERROR ---
[2025-06-18 12:36:38] ERROR    [agent_fsm:1101] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:36:38] ERROR    [agent_fsm:1102] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:38] WARNING  [agent_fsm:1224] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:38] ERROR    [agent_fsm:1078] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] --- FSM STATE: ERROR ---
[2025-06-18 12:36:38] ERROR    [agent_fsm:1101] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:36:38] ERROR    [agent_fsm:1102] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:38] WARNING  [agent_fsm:1224] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:38] ERROR    [agent_fsm:1078] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] --- FSM STATE: ERROR ---
[2025-06-18 12:36:38] ERROR    [agent_fsm:1101] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:36:38] ERROR    [agent_fsm:1102] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:38] WARNING  [agent_fsm:1224] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:38] ERROR    [agent_fsm:1078] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] --- FSM STATE: ERROR ---
[2025-06-18 12:36:38] ERROR    [agent_fsm:1101] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:36:38] ERROR    [agent_fsm:1102] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:38] WARNING  [agent_fsm:1224] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:38] ERROR    [agent_fsm:1078] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] --- FSM STATE: ERROR ---
[2025-06-18 12:36:38] ERROR    [agent_fsm:1101] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:36:38] ERROR    [agent_fsm:1102] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:38] WARNING  [agent_fsm:1224] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:38] ERROR    [agent_fsm:1078] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] --- FSM STATE: ERROR ---
[2025-06-18 12:36:38] ERROR    [agent_fsm:1101] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:36:38] ERROR    [agent_fsm:1102] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:38] WARNING  [agent_fsm:1224] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:38] ERROR    [agent_fsm:1078] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] --- FSM STATE: ERROR ---
[2025-06-18 12:36:38] ERROR    [agent_fsm:1101] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:36:38] ERROR    [agent_fsm:1102] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:38] WARNING  [agent_fsm:1224] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:38] ERROR    [agent_fsm:1078] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] --- FSM STATE: ERROR ---
[2025-06-18 12:36:38] ERROR    [agent_fsm:1101] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:36:38] ERROR    [agent_fsm:1102] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:38] WARNING  [agent_fsm:1224] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:38] ERROR    [agent_fsm:1078] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] --- FSM STATE: ERROR ---
[2025-06-18 12:36:38] ERROR    [agent_fsm:1101] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:36:38] ERROR    [agent_fsm:1102] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:38] WARNING  [agent_fsm:1224] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:38] ERROR    [agent_fsm:1078] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] --- FSM STATE: ERROR ---
[2025-06-18 12:36:38] ERROR    [agent_fsm:1101] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:36:38] ERROR    [agent_fsm:1102] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:38] WARNING  [agent_fsm:1224] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:38] ERROR    [agent_fsm:1078] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] --- FSM STATE: ERROR ---
[2025-06-18 12:36:38] ERROR    [agent_fsm:1101] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:36:38] ERROR    [agent_fsm:1102] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:38] WARNING  [agent_fsm:1224] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:38] ERROR    [agent_fsm:1078] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] --- FSM STATE: ERROR ---
[2025-06-18 12:36:38] ERROR    [agent_fsm:1101] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:36:38] ERROR    [agent_fsm:1102] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:38] WARNING  [agent_fsm:1224] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:38] ERROR    [agent_fsm:1837] [dab0b0fe-151d-4cb7-8ff1-a8847f4cb852] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:36:38] INFO     [agent_fsm:1752] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Starting resilient FSM execution
[2025-06-18 12:36:38] INFO     [agent_fsm:1807] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] FSM STATE: INITIAL
[2025-06-18 12:36:38] INFO     [agent_fsm:665] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:36:38] DEBUG    [agent_fsm:680] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Turn count: 1, Action history length: 1
[2025-06-18 12:36:39] INFO     [agent_fsm:773] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:36:39] INFO     [agent_fsm:820] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Executing tool: web_researcher with input: {'query': 'What is 2 + 2?', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 12:36:39] INFO     [agent_fsm:922] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Tool execution completed
[2025-06-18 12:36:39] INFO     [agent_fsm:773] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:36:39] WARNING  [agent_fsm:803] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:36:39] INFO     [agent_fsm:665] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:36:39] DEBUG    [agent_fsm:680] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Turn count: 2, Action history length: 2
[2025-06-18 12:36:40] ERROR    [agent_fsm:1359] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:36:40] INFO     [agent_fsm:773] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:36:40] INFO     [agent_fsm:820] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Executing tool: semantic_search_tool with input: {'query': '2 + 2', 'filename': 'knowledge_base.csv', 'top_k': 3}
[2025-06-18 12:36:40] INFO     [agent_fsm:922] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Tool execution completed
[2025-06-18 12:36:40] INFO     [agent_fsm:773] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:36:40] WARNING  [agent_fsm:803] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:36:40] INFO     [agent_fsm:665] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:36:40] DEBUG    [agent_fsm:680] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Turn count: 3, Action history length: 3
[2025-06-18 12:36:42] ERROR    [agent_fsm:1359] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:36:42] WARNING  [agent_fsm:1333] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Tool image_analyzer not found in registry, will use stub
[2025-06-18 12:36:42] WARNING  [agent_fsm:1224] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:42] ERROR    [agent_fsm:1078] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] --- FSM STATE: ERROR ---
[2025-06-18 12:36:42] ERROR    [agent_fsm:1101] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:36:42] ERROR    [agent_fsm:1102] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:42] WARNING  [agent_fsm:1224] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:42] ERROR    [agent_fsm:1078] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] --- FSM STATE: ERROR ---
[2025-06-18 12:36:42] ERROR    [agent_fsm:1101] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:36:42] ERROR    [agent_fsm:1102] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:42] WARNING  [agent_fsm:1224] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:42] ERROR    [agent_fsm:1078] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] --- FSM STATE: ERROR ---
[2025-06-18 12:36:42] ERROR    [agent_fsm:1101] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:36:42] ERROR    [agent_fsm:1102] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:42] WARNING  [agent_fsm:1224] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:42] ERROR    [agent_fsm:1078] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] --- FSM STATE: ERROR ---
[2025-06-18 12:36:42] ERROR    [agent_fsm:1101] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:36:42] ERROR    [agent_fsm:1102] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:42] WARNING  [agent_fsm:1224] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:42] ERROR    [agent_fsm:1078] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] --- FSM STATE: ERROR ---
[2025-06-18 12:36:42] ERROR    [agent_fsm:1101] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:36:42] ERROR    [agent_fsm:1102] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:42] WARNING  [agent_fsm:1224] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:42] ERROR    [agent_fsm:1078] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] --- FSM STATE: ERROR ---
[2025-06-18 12:36:42] ERROR    [agent_fsm:1101] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:36:42] ERROR    [agent_fsm:1102] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:42] WARNING  [agent_fsm:1224] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:42] ERROR    [agent_fsm:1078] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] --- FSM STATE: ERROR ---
[2025-06-18 12:36:42] ERROR    [agent_fsm:1101] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:36:42] ERROR    [agent_fsm:1102] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:42] WARNING  [agent_fsm:1224] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:42] ERROR    [agent_fsm:1078] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] --- FSM STATE: ERROR ---
[2025-06-18 12:36:42] ERROR    [agent_fsm:1101] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:36:42] ERROR    [agent_fsm:1102] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:42] WARNING  [agent_fsm:1224] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:42] ERROR    [agent_fsm:1078] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] --- FSM STATE: ERROR ---
[2025-06-18 12:36:42] ERROR    [agent_fsm:1101] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:36:42] ERROR    [agent_fsm:1102] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:42] WARNING  [agent_fsm:1224] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:42] ERROR    [agent_fsm:1078] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] --- FSM STATE: ERROR ---
[2025-06-18 12:36:42] ERROR    [agent_fsm:1101] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:36:42] ERROR    [agent_fsm:1102] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:42] WARNING  [agent_fsm:1224] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:42] ERROR    [agent_fsm:1078] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] --- FSM STATE: ERROR ---
[2025-06-18 12:36:42] ERROR    [agent_fsm:1101] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:36:42] ERROR    [agent_fsm:1102] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:42] WARNING  [agent_fsm:1224] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:42] ERROR    [agent_fsm:1078] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] --- FSM STATE: ERROR ---
[2025-06-18 12:36:42] ERROR    [agent_fsm:1101] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:36:42] ERROR    [agent_fsm:1102] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:42] WARNING  [agent_fsm:1224] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:42] ERROR    [agent_fsm:1078] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] --- FSM STATE: ERROR ---
[2025-06-18 12:36:42] ERROR    [agent_fsm:1101] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:36:42] ERROR    [agent_fsm:1102] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:42] WARNING  [agent_fsm:1224] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:42] ERROR    [agent_fsm:1078] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] --- FSM STATE: ERROR ---
[2025-06-18 12:36:42] ERROR    [agent_fsm:1101] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:36:42] ERROR    [agent_fsm:1102] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:42] WARNING  [agent_fsm:1224] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:42] ERROR    [agent_fsm:1078] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] --- FSM STATE: ERROR ---
[2025-06-18 12:36:42] ERROR    [agent_fsm:1101] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:36:42] ERROR    [agent_fsm:1102] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:42] WARNING  [agent_fsm:1224] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:42] ERROR    [agent_fsm:1078] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] --- FSM STATE: ERROR ---
[2025-06-18 12:36:42] ERROR    [agent_fsm:1101] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:36:42] ERROR    [agent_fsm:1102] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:42] WARNING  [agent_fsm:1224] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:42] ERROR    [agent_fsm:1078] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] --- FSM STATE: ERROR ---
[2025-06-18 12:36:42] ERROR    [agent_fsm:1101] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:36:42] ERROR    [agent_fsm:1102] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:42] WARNING  [agent_fsm:1224] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:42] ERROR    [agent_fsm:1078] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] --- FSM STATE: ERROR ---
[2025-06-18 12:36:42] ERROR    [agent_fsm:1101] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:36:42] ERROR    [agent_fsm:1102] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:42] WARNING  [agent_fsm:1224] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:42] ERROR    [agent_fsm:1837] [f0999d0d-3acc-4452-bd00-cd6b3f1adeda] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:36:42] INFO     [agent_fsm:1752] [a598ab16-b998-4a33-a23c-63eba83757e8] Starting resilient FSM execution
[2025-06-18 12:36:42] INFO     [agent_fsm:1807] [a598ab16-b998-4a33-a23c-63eba83757e8] FSM STATE: INITIAL
[2025-06-18 12:36:42] INFO     [agent_fsm:665] [a598ab16-b998-4a33-a23c-63eba83757e8] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:36:42] DEBUG    [agent_fsm:680] [a598ab16-b998-4a33-a23c-63eba83757e8] Turn count: 1, Action history length: 1
[2025-06-18 12:36:43] WARNING  [agent_fsm:1521] [a598ab16-b998-4a33-a23c-63eba83757e8] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:36:43] WARNING  [agent_fsm:1521] [a598ab16-b998-4a33-a23c-63eba83757e8] Failed to parse JSON parameters for step 8, using fallback parser
[2025-06-18 12:36:43] INFO     [agent_fsm:773] [a598ab16-b998-4a33-a23c-63eba83757e8] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:36:43] INFO     [agent_fsm:820] [a598ab16-b998-4a33-a23c-63eba83757e8] Executing tool: web_researcher with input: {'query': 'chess position analysis', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 12:36:43] INFO     [agent_fsm:922] [a598ab16-b998-4a33-a23c-63eba83757e8] Tool execution completed
[2025-06-18 12:36:43] INFO     [agent_fsm:773] [a598ab16-b998-4a33-a23c-63eba83757e8] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:36:43] WARNING  [agent_fsm:803] [a598ab16-b998-4a33-a23c-63eba83757e8] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:36:43] INFO     [agent_fsm:665] [a598ab16-b998-4a33-a23c-63eba83757e8] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:36:43] DEBUG    [agent_fsm:680] [a598ab16-b998-4a33-a23c-63eba83757e8] Turn count: 2, Action history length: 2
[2025-06-18 12:36:44] WARNING  [agent_fsm:1521] [a598ab16-b998-4a33-a23c-63eba83757e8] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:36:44] WARNING  [agent_fsm:1521] [a598ab16-b998-4a33-a23c-63eba83757e8] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:36:44] INFO     [agent_fsm:773] [a598ab16-b998-4a33-a23c-63eba83757e8] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:36:44] INFO     [agent_fsm:820] [a598ab16-b998-4a33-a23c-63eba83757e8] Executing tool: semantic_search_tool with input: {'query': 'chess position analysis', 'filename': 'knowledge_base.csv', 'top_k': 3}
[2025-06-18 12:36:44] INFO     [agent_fsm:922] [a598ab16-b998-4a33-a23c-63eba83757e8] Tool execution completed
[2025-06-18 12:36:44] INFO     [agent_fsm:773] [a598ab16-b998-4a33-a23c-63eba83757e8] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:36:44] WARNING  [agent_fsm:803] [a598ab16-b998-4a33-a23c-63eba83757e8] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:36:44] INFO     [agent_fsm:665] [a598ab16-b998-4a33-a23c-63eba83757e8] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:36:44] DEBUG    [agent_fsm:680] [a598ab16-b998-4a33-a23c-63eba83757e8] Turn count: 3, Action history length: 3
[2025-06-18 12:36:45] ERROR    [agent_fsm:1359] [a598ab16-b998-4a33-a23c-63eba83757e8] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:36:45] WARNING  [agent_fsm:1224] [a598ab16-b998-4a33-a23c-63eba83757e8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:45] ERROR    [agent_fsm:1078] [a598ab16-b998-4a33-a23c-63eba83757e8] --- FSM STATE: ERROR ---
[2025-06-18 12:36:45] ERROR    [agent_fsm:1101] [a598ab16-b998-4a33-a23c-63eba83757e8] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:36:45] ERROR    [agent_fsm:1102] [a598ab16-b998-4a33-a23c-63eba83757e8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:45] WARNING  [agent_fsm:1224] [a598ab16-b998-4a33-a23c-63eba83757e8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:45] ERROR    [agent_fsm:1078] [a598ab16-b998-4a33-a23c-63eba83757e8] --- FSM STATE: ERROR ---
[2025-06-18 12:36:45] ERROR    [agent_fsm:1101] [a598ab16-b998-4a33-a23c-63eba83757e8] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:36:45] ERROR    [agent_fsm:1102] [a598ab16-b998-4a33-a23c-63eba83757e8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:45] WARNING  [agent_fsm:1224] [a598ab16-b998-4a33-a23c-63eba83757e8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:45] ERROR    [agent_fsm:1078] [a598ab16-b998-4a33-a23c-63eba83757e8] --- FSM STATE: ERROR ---
[2025-06-18 12:36:45] ERROR    [agent_fsm:1101] [a598ab16-b998-4a33-a23c-63eba83757e8] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:36:45] ERROR    [agent_fsm:1102] [a598ab16-b998-4a33-a23c-63eba83757e8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:45] WARNING  [agent_fsm:1224] [a598ab16-b998-4a33-a23c-63eba83757e8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:45] ERROR    [agent_fsm:1078] [a598ab16-b998-4a33-a23c-63eba83757e8] --- FSM STATE: ERROR ---
[2025-06-18 12:36:45] ERROR    [agent_fsm:1101] [a598ab16-b998-4a33-a23c-63eba83757e8] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:36:45] ERROR    [agent_fsm:1102] [a598ab16-b998-4a33-a23c-63eba83757e8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:45] WARNING  [agent_fsm:1224] [a598ab16-b998-4a33-a23c-63eba83757e8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:45] ERROR    [agent_fsm:1078] [a598ab16-b998-4a33-a23c-63eba83757e8] --- FSM STATE: ERROR ---
[2025-06-18 12:36:45] ERROR    [agent_fsm:1101] [a598ab16-b998-4a33-a23c-63eba83757e8] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:36:45] ERROR    [agent_fsm:1102] [a598ab16-b998-4a33-a23c-63eba83757e8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:45] WARNING  [agent_fsm:1224] [a598ab16-b998-4a33-a23c-63eba83757e8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:45] ERROR    [agent_fsm:1078] [a598ab16-b998-4a33-a23c-63eba83757e8] --- FSM STATE: ERROR ---
[2025-06-18 12:36:45] ERROR    [agent_fsm:1101] [a598ab16-b998-4a33-a23c-63eba83757e8] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:36:45] ERROR    [agent_fsm:1102] [a598ab16-b998-4a33-a23c-63eba83757e8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:45] WARNING  [agent_fsm:1224] [a598ab16-b998-4a33-a23c-63eba83757e8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:45] ERROR    [agent_fsm:1078] [a598ab16-b998-4a33-a23c-63eba83757e8] --- FSM STATE: ERROR ---
[2025-06-18 12:36:45] ERROR    [agent_fsm:1101] [a598ab16-b998-4a33-a23c-63eba83757e8] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:36:45] ERROR    [agent_fsm:1102] [a598ab16-b998-4a33-a23c-63eba83757e8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:45] WARNING  [agent_fsm:1224] [a598ab16-b998-4a33-a23c-63eba83757e8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:45] ERROR    [agent_fsm:1078] [a598ab16-b998-4a33-a23c-63eba83757e8] --- FSM STATE: ERROR ---
[2025-06-18 12:36:45] ERROR    [agent_fsm:1101] [a598ab16-b998-4a33-a23c-63eba83757e8] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:36:45] ERROR    [agent_fsm:1102] [a598ab16-b998-4a33-a23c-63eba83757e8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:45] WARNING  [agent_fsm:1224] [a598ab16-b998-4a33-a23c-63eba83757e8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:45] ERROR    [agent_fsm:1078] [a598ab16-b998-4a33-a23c-63eba83757e8] --- FSM STATE: ERROR ---
[2025-06-18 12:36:45] ERROR    [agent_fsm:1101] [a598ab16-b998-4a33-a23c-63eba83757e8] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:36:45] ERROR    [agent_fsm:1102] [a598ab16-b998-4a33-a23c-63eba83757e8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:45] WARNING  [agent_fsm:1224] [a598ab16-b998-4a33-a23c-63eba83757e8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:45] ERROR    [agent_fsm:1078] [a598ab16-b998-4a33-a23c-63eba83757e8] --- FSM STATE: ERROR ---
[2025-06-18 12:36:45] ERROR    [agent_fsm:1101] [a598ab16-b998-4a33-a23c-63eba83757e8] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:36:45] ERROR    [agent_fsm:1102] [a598ab16-b998-4a33-a23c-63eba83757e8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:45] WARNING  [agent_fsm:1224] [a598ab16-b998-4a33-a23c-63eba83757e8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:45] ERROR    [agent_fsm:1078] [a598ab16-b998-4a33-a23c-63eba83757e8] --- FSM STATE: ERROR ---
[2025-06-18 12:36:45] ERROR    [agent_fsm:1101] [a598ab16-b998-4a33-a23c-63eba83757e8] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:36:45] ERROR    [agent_fsm:1102] [a598ab16-b998-4a33-a23c-63eba83757e8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:45] WARNING  [agent_fsm:1224] [a598ab16-b998-4a33-a23c-63eba83757e8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:45] ERROR    [agent_fsm:1078] [a598ab16-b998-4a33-a23c-63eba83757e8] --- FSM STATE: ERROR ---
[2025-06-18 12:36:45] ERROR    [agent_fsm:1101] [a598ab16-b998-4a33-a23c-63eba83757e8] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:36:45] ERROR    [agent_fsm:1102] [a598ab16-b998-4a33-a23c-63eba83757e8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:45] WARNING  [agent_fsm:1224] [a598ab16-b998-4a33-a23c-63eba83757e8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:45] ERROR    [agent_fsm:1078] [a598ab16-b998-4a33-a23c-63eba83757e8] --- FSM STATE: ERROR ---
[2025-06-18 12:36:45] ERROR    [agent_fsm:1101] [a598ab16-b998-4a33-a23c-63eba83757e8] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:36:45] ERROR    [agent_fsm:1102] [a598ab16-b998-4a33-a23c-63eba83757e8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:45] WARNING  [agent_fsm:1224] [a598ab16-b998-4a33-a23c-63eba83757e8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:45] ERROR    [agent_fsm:1078] [a598ab16-b998-4a33-a23c-63eba83757e8] --- FSM STATE: ERROR ---
[2025-06-18 12:36:45] ERROR    [agent_fsm:1101] [a598ab16-b998-4a33-a23c-63eba83757e8] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:36:45] ERROR    [agent_fsm:1102] [a598ab16-b998-4a33-a23c-63eba83757e8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:45] WARNING  [agent_fsm:1224] [a598ab16-b998-4a33-a23c-63eba83757e8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:45] ERROR    [agent_fsm:1078] [a598ab16-b998-4a33-a23c-63eba83757e8] --- FSM STATE: ERROR ---
[2025-06-18 12:36:45] ERROR    [agent_fsm:1101] [a598ab16-b998-4a33-a23c-63eba83757e8] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:36:45] ERROR    [agent_fsm:1102] [a598ab16-b998-4a33-a23c-63eba83757e8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:45] WARNING  [agent_fsm:1224] [a598ab16-b998-4a33-a23c-63eba83757e8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:45] ERROR    [agent_fsm:1078] [a598ab16-b998-4a33-a23c-63eba83757e8] --- FSM STATE: ERROR ---
[2025-06-18 12:36:45] ERROR    [agent_fsm:1101] [a598ab16-b998-4a33-a23c-63eba83757e8] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:36:45] ERROR    [agent_fsm:1102] [a598ab16-b998-4a33-a23c-63eba83757e8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:45] WARNING  [agent_fsm:1224] [a598ab16-b998-4a33-a23c-63eba83757e8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:45] ERROR    [agent_fsm:1078] [a598ab16-b998-4a33-a23c-63eba83757e8] --- FSM STATE: ERROR ---
[2025-06-18 12:36:45] ERROR    [agent_fsm:1101] [a598ab16-b998-4a33-a23c-63eba83757e8] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:36:45] ERROR    [agent_fsm:1102] [a598ab16-b998-4a33-a23c-63eba83757e8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:45] WARNING  [agent_fsm:1224] [a598ab16-b998-4a33-a23c-63eba83757e8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:45] ERROR    [agent_fsm:1078] [a598ab16-b998-4a33-a23c-63eba83757e8] --- FSM STATE: ERROR ---
[2025-06-18 12:36:45] ERROR    [agent_fsm:1101] [a598ab16-b998-4a33-a23c-63eba83757e8] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:36:45] ERROR    [agent_fsm:1102] [a598ab16-b998-4a33-a23c-63eba83757e8] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:45] WARNING  [agent_fsm:1224] [a598ab16-b998-4a33-a23c-63eba83757e8] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:45] ERROR    [agent_fsm:1837] [a598ab16-b998-4a33-a23c-63eba83757e8] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:36:45] INFO     [agent_fsm:1752] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Starting resilient FSM execution
[2025-06-18 12:36:45] INFO     [agent_fsm:1807] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] FSM STATE: INITIAL
[2025-06-18 12:36:45] INFO     [agent_fsm:665] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:36:45] DEBUG    [agent_fsm:680] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Turn count: 1, Action history length: 1
[2025-06-18 12:36:46] WARNING  [agent_fsm:1521] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:36:46] WARNING  [agent_fsm:1521] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:36:46] WARNING  [agent_fsm:1521] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 12:36:46] WARNING  [agent_fsm:1521] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Failed to parse JSON parameters for step 8, using fallback parser
[2025-06-18 12:36:46] ERROR    [agent_fsm:1359] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:36:46] INFO     [agent_fsm:773] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:36:46] INFO     [agent_fsm:820] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Executing tool: web_researcher with input: {'query': 'Nobel Prize in Physics 2023', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 12:36:46] INFO     [agent_fsm:922] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Tool execution completed
[2025-06-18 12:36:46] INFO     [agent_fsm:773] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:36:46] WARNING  [agent_fsm:803] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:36:46] INFO     [agent_fsm:665] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:36:46] DEBUG    [agent_fsm:680] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Turn count: 2, Action history length: 2
[2025-06-18 12:36:47] WARNING  [agent_fsm:1521] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:36:47] ERROR    [agent_fsm:1359] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:36:47] INFO     [agent_fsm:773] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:36:47] INFO     [agent_fsm:820] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Executing tool: semantic_search_tool with input: {'query': 'Nobel Prize in Physics 2023 winner', 'filename': 'knowledge_base.csv', 'top_k': 3}
[2025-06-18 12:36:47] INFO     [agent_fsm:922] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Tool execution completed
[2025-06-18 12:36:47] INFO     [agent_fsm:773] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:36:47] WARNING  [agent_fsm:803] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:36:47] INFO     [agent_fsm:665] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:36:47] DEBUG    [agent_fsm:680] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Turn count: 3, Action history length: 3
[2025-06-18 12:36:48] WARNING  [agent_fsm:1521] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:36:48] WARNING  [agent_fsm:1521] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:36:48] WARNING  [agent_fsm:1521] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:36:48] ERROR    [agent_fsm:1359] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:36:48] WARNING  [agent_fsm:1224] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:48] ERROR    [agent_fsm:1078] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] --- FSM STATE: ERROR ---
[2025-06-18 12:36:48] ERROR    [agent_fsm:1101] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:36:48] ERROR    [agent_fsm:1102] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:48] WARNING  [agent_fsm:1224] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:48] ERROR    [agent_fsm:1078] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] --- FSM STATE: ERROR ---
[2025-06-18 12:36:48] ERROR    [agent_fsm:1101] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:36:48] ERROR    [agent_fsm:1102] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:48] WARNING  [agent_fsm:1224] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:48] ERROR    [agent_fsm:1078] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] --- FSM STATE: ERROR ---
[2025-06-18 12:36:48] ERROR    [agent_fsm:1101] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:36:48] ERROR    [agent_fsm:1102] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:48] WARNING  [agent_fsm:1224] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:48] ERROR    [agent_fsm:1078] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] --- FSM STATE: ERROR ---
[2025-06-18 12:36:48] ERROR    [agent_fsm:1101] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:36:48] ERROR    [agent_fsm:1102] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:48] WARNING  [agent_fsm:1224] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:48] ERROR    [agent_fsm:1078] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] --- FSM STATE: ERROR ---
[2025-06-18 12:36:48] ERROR    [agent_fsm:1101] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:36:48] ERROR    [agent_fsm:1102] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:48] WARNING  [agent_fsm:1224] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:48] ERROR    [agent_fsm:1078] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] --- FSM STATE: ERROR ---
[2025-06-18 12:36:48] ERROR    [agent_fsm:1101] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:36:48] ERROR    [agent_fsm:1102] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:48] WARNING  [agent_fsm:1224] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:48] ERROR    [agent_fsm:1078] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] --- FSM STATE: ERROR ---
[2025-06-18 12:36:48] ERROR    [agent_fsm:1101] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:36:48] ERROR    [agent_fsm:1102] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:48] WARNING  [agent_fsm:1224] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:48] ERROR    [agent_fsm:1078] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] --- FSM STATE: ERROR ---
[2025-06-18 12:36:48] ERROR    [agent_fsm:1101] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:36:48] ERROR    [agent_fsm:1102] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:48] WARNING  [agent_fsm:1224] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:48] ERROR    [agent_fsm:1078] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] --- FSM STATE: ERROR ---
[2025-06-18 12:36:48] ERROR    [agent_fsm:1101] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:36:48] ERROR    [agent_fsm:1102] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:48] WARNING  [agent_fsm:1224] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:48] ERROR    [agent_fsm:1078] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] --- FSM STATE: ERROR ---
[2025-06-18 12:36:48] ERROR    [agent_fsm:1101] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:36:48] ERROR    [agent_fsm:1102] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:48] WARNING  [agent_fsm:1224] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:48] ERROR    [agent_fsm:1078] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] --- FSM STATE: ERROR ---
[2025-06-18 12:36:48] ERROR    [agent_fsm:1101] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:36:48] ERROR    [agent_fsm:1102] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:48] WARNING  [agent_fsm:1224] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:48] ERROR    [agent_fsm:1078] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] --- FSM STATE: ERROR ---
[2025-06-18 12:36:48] ERROR    [agent_fsm:1101] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:36:48] ERROR    [agent_fsm:1102] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:48] WARNING  [agent_fsm:1224] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:48] ERROR    [agent_fsm:1078] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] --- FSM STATE: ERROR ---
[2025-06-18 12:36:48] ERROR    [agent_fsm:1101] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:36:48] ERROR    [agent_fsm:1102] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:48] WARNING  [agent_fsm:1224] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:48] ERROR    [agent_fsm:1078] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] --- FSM STATE: ERROR ---
[2025-06-18 12:36:48] ERROR    [agent_fsm:1101] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:36:48] ERROR    [agent_fsm:1102] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:48] WARNING  [agent_fsm:1224] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:48] ERROR    [agent_fsm:1078] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] --- FSM STATE: ERROR ---
[2025-06-18 12:36:48] ERROR    [agent_fsm:1101] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:36:48] ERROR    [agent_fsm:1102] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:48] WARNING  [agent_fsm:1224] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:48] ERROR    [agent_fsm:1078] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] --- FSM STATE: ERROR ---
[2025-06-18 12:36:48] ERROR    [agent_fsm:1101] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:36:48] ERROR    [agent_fsm:1102] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:48] WARNING  [agent_fsm:1224] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:48] ERROR    [agent_fsm:1078] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] --- FSM STATE: ERROR ---
[2025-06-18 12:36:48] ERROR    [agent_fsm:1101] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:36:48] ERROR    [agent_fsm:1102] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:48] WARNING  [agent_fsm:1224] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:48] ERROR    [agent_fsm:1078] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] --- FSM STATE: ERROR ---
[2025-06-18 12:36:48] ERROR    [agent_fsm:1101] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:36:48] ERROR    [agent_fsm:1102] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:48] WARNING  [agent_fsm:1224] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:48] ERROR    [agent_fsm:1837] [b2bf52ec-ff62-4e8d-a1fd-5fb6eeef23e7] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:36:48] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 12:36:48] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 12:36:48] INFO     [agent_fsm:570] [e9f74087-6394-4c0a-b57d-f3b5345b0b29] Building resilient FSM graph
[2025-06-18 12:36:48] INFO     [agent_fsm:572] [e9f74087-6394-4c0a-b57d-f3b5345b0b29] FSMReActAgent graph built successfully
[2025-06-18 12:36:48] INFO     [agent_fsm:1752] [59b4b6c5-8606-4844-baed-313392e3b26c] Starting resilient FSM execution
[2025-06-18 12:36:48] INFO     [agent_fsm:1807] [59b4b6c5-8606-4844-baed-313392e3b26c] FSM STATE: INITIAL
[2025-06-18 12:36:48] INFO     [agent_fsm:665] [59b4b6c5-8606-4844-baed-313392e3b26c] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:36:48] DEBUG    [agent_fsm:680] [59b4b6c5-8606-4844-baed-313392e3b26c] Turn count: 1, Action history length: 1
[2025-06-18 12:36:49] WARNING  [agent_fsm:1521] [59b4b6c5-8606-4844-baed-313392e3b26c] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:36:49] WARNING  [agent_fsm:1521] [59b4b6c5-8606-4844-baed-313392e3b26c] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:36:49] INFO     [agent_fsm:773] [59b4b6c5-8606-4844-baed-313392e3b26c] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:36:49] INFO     [agent_fsm:820] [59b4b6c5-8606-4844-baed-313392e3b26c] Executing tool: web_researcher with input: {'query': 'Mercedes Sosa discography', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 12:36:49] INFO     [agent_fsm:922] [59b4b6c5-8606-4844-baed-313392e3b26c] Tool execution completed
[2025-06-18 12:36:49] INFO     [agent_fsm:773] [59b4b6c5-8606-4844-baed-313392e3b26c] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:36:49] WARNING  [agent_fsm:803] [59b4b6c5-8606-4844-baed-313392e3b26c] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:36:49] INFO     [agent_fsm:665] [59b4b6c5-8606-4844-baed-313392e3b26c] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:36:49] DEBUG    [agent_fsm:680] [59b4b6c5-8606-4844-baed-313392e3b26c] Turn count: 2, Action history length: 2
[2025-06-18 12:36:50] WARNING  [agent_fsm:1521] [59b4b6c5-8606-4844-baed-313392e3b26c] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:36:50] WARNING  [agent_fsm:1521] [59b4b6c5-8606-4844-baed-313392e3b26c] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:36:50] WARNING  [agent_fsm:1521] [59b4b6c5-8606-4844-baed-313392e3b26c] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:36:50] INFO     [agent_fsm:773] [59b4b6c5-8606-4844-baed-313392e3b26c] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:36:50] INFO     [agent_fsm:820] [59b4b6c5-8606-4844-baed-313392e3b26c] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:36:50] INFO     [agent_fsm:922] [59b4b6c5-8606-4844-baed-313392e3b26c] Tool execution completed
[2025-06-18 12:36:50] INFO     [agent_fsm:773] [59b4b6c5-8606-4844-baed-313392e3b26c] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:36:50] WARNING  [agent_fsm:803] [59b4b6c5-8606-4844-baed-313392e3b26c] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:36:50] INFO     [agent_fsm:665] [59b4b6c5-8606-4844-baed-313392e3b26c] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:36:50] DEBUG    [agent_fsm:680] [59b4b6c5-8606-4844-baed-313392e3b26c] Turn count: 3, Action history length: 3
[2025-06-18 12:36:51] WARNING  [agent_fsm:1521] [59b4b6c5-8606-4844-baed-313392e3b26c] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:36:51] WARNING  [agent_fsm:1521] [59b4b6c5-8606-4844-baed-313392e3b26c] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:36:51] WARNING  [agent_fsm:1521] [59b4b6c5-8606-4844-baed-313392e3b26c] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:36:51] WARNING  [agent_fsm:1224] [59b4b6c5-8606-4844-baed-313392e3b26c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:51] ERROR    [agent_fsm:1078] [59b4b6c5-8606-4844-baed-313392e3b26c] --- FSM STATE: ERROR ---
[2025-06-18 12:36:51] ERROR    [agent_fsm:1101] [59b4b6c5-8606-4844-baed-313392e3b26c] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:36:51] ERROR    [agent_fsm:1102] [59b4b6c5-8606-4844-baed-313392e3b26c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:51] WARNING  [agent_fsm:1224] [59b4b6c5-8606-4844-baed-313392e3b26c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:51] ERROR    [agent_fsm:1078] [59b4b6c5-8606-4844-baed-313392e3b26c] --- FSM STATE: ERROR ---
[2025-06-18 12:36:51] ERROR    [agent_fsm:1101] [59b4b6c5-8606-4844-baed-313392e3b26c] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:36:51] ERROR    [agent_fsm:1102] [59b4b6c5-8606-4844-baed-313392e3b26c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:51] WARNING  [agent_fsm:1224] [59b4b6c5-8606-4844-baed-313392e3b26c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:51] ERROR    [agent_fsm:1078] [59b4b6c5-8606-4844-baed-313392e3b26c] --- FSM STATE: ERROR ---
[2025-06-18 12:36:51] ERROR    [agent_fsm:1101] [59b4b6c5-8606-4844-baed-313392e3b26c] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:36:51] ERROR    [agent_fsm:1102] [59b4b6c5-8606-4844-baed-313392e3b26c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:51] WARNING  [agent_fsm:1224] [59b4b6c5-8606-4844-baed-313392e3b26c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:51] ERROR    [agent_fsm:1078] [59b4b6c5-8606-4844-baed-313392e3b26c] --- FSM STATE: ERROR ---
[2025-06-18 12:36:51] ERROR    [agent_fsm:1101] [59b4b6c5-8606-4844-baed-313392e3b26c] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:36:51] ERROR    [agent_fsm:1102] [59b4b6c5-8606-4844-baed-313392e3b26c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:51] WARNING  [agent_fsm:1224] [59b4b6c5-8606-4844-baed-313392e3b26c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:51] ERROR    [agent_fsm:1078] [59b4b6c5-8606-4844-baed-313392e3b26c] --- FSM STATE: ERROR ---
[2025-06-18 12:36:51] ERROR    [agent_fsm:1101] [59b4b6c5-8606-4844-baed-313392e3b26c] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:36:51] ERROR    [agent_fsm:1102] [59b4b6c5-8606-4844-baed-313392e3b26c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:51] WARNING  [agent_fsm:1224] [59b4b6c5-8606-4844-baed-313392e3b26c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:51] ERROR    [agent_fsm:1078] [59b4b6c5-8606-4844-baed-313392e3b26c] --- FSM STATE: ERROR ---
[2025-06-18 12:36:51] ERROR    [agent_fsm:1101] [59b4b6c5-8606-4844-baed-313392e3b26c] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:36:51] ERROR    [agent_fsm:1102] [59b4b6c5-8606-4844-baed-313392e3b26c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:51] WARNING  [agent_fsm:1224] [59b4b6c5-8606-4844-baed-313392e3b26c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:51] ERROR    [agent_fsm:1078] [59b4b6c5-8606-4844-baed-313392e3b26c] --- FSM STATE: ERROR ---
[2025-06-18 12:36:51] ERROR    [agent_fsm:1101] [59b4b6c5-8606-4844-baed-313392e3b26c] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:36:51] ERROR    [agent_fsm:1102] [59b4b6c5-8606-4844-baed-313392e3b26c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:51] WARNING  [agent_fsm:1224] [59b4b6c5-8606-4844-baed-313392e3b26c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:51] ERROR    [agent_fsm:1078] [59b4b6c5-8606-4844-baed-313392e3b26c] --- FSM STATE: ERROR ---
[2025-06-18 12:36:51] ERROR    [agent_fsm:1101] [59b4b6c5-8606-4844-baed-313392e3b26c] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:36:51] ERROR    [agent_fsm:1102] [59b4b6c5-8606-4844-baed-313392e3b26c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:51] WARNING  [agent_fsm:1224] [59b4b6c5-8606-4844-baed-313392e3b26c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:51] ERROR    [agent_fsm:1078] [59b4b6c5-8606-4844-baed-313392e3b26c] --- FSM STATE: ERROR ---
[2025-06-18 12:36:51] ERROR    [agent_fsm:1101] [59b4b6c5-8606-4844-baed-313392e3b26c] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:36:51] ERROR    [agent_fsm:1102] [59b4b6c5-8606-4844-baed-313392e3b26c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:51] WARNING  [agent_fsm:1224] [59b4b6c5-8606-4844-baed-313392e3b26c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:51] ERROR    [agent_fsm:1078] [59b4b6c5-8606-4844-baed-313392e3b26c] --- FSM STATE: ERROR ---
[2025-06-18 12:36:51] ERROR    [agent_fsm:1101] [59b4b6c5-8606-4844-baed-313392e3b26c] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:36:51] ERROR    [agent_fsm:1102] [59b4b6c5-8606-4844-baed-313392e3b26c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:51] WARNING  [agent_fsm:1224] [59b4b6c5-8606-4844-baed-313392e3b26c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:51] ERROR    [agent_fsm:1078] [59b4b6c5-8606-4844-baed-313392e3b26c] --- FSM STATE: ERROR ---
[2025-06-18 12:36:51] ERROR    [agent_fsm:1101] [59b4b6c5-8606-4844-baed-313392e3b26c] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:36:51] ERROR    [agent_fsm:1102] [59b4b6c5-8606-4844-baed-313392e3b26c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:51] WARNING  [agent_fsm:1224] [59b4b6c5-8606-4844-baed-313392e3b26c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:51] ERROR    [agent_fsm:1078] [59b4b6c5-8606-4844-baed-313392e3b26c] --- FSM STATE: ERROR ---
[2025-06-18 12:36:51] ERROR    [agent_fsm:1101] [59b4b6c5-8606-4844-baed-313392e3b26c] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:36:51] ERROR    [agent_fsm:1102] [59b4b6c5-8606-4844-baed-313392e3b26c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:51] WARNING  [agent_fsm:1224] [59b4b6c5-8606-4844-baed-313392e3b26c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:51] ERROR    [agent_fsm:1078] [59b4b6c5-8606-4844-baed-313392e3b26c] --- FSM STATE: ERROR ---
[2025-06-18 12:36:51] ERROR    [agent_fsm:1101] [59b4b6c5-8606-4844-baed-313392e3b26c] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:36:51] ERROR    [agent_fsm:1102] [59b4b6c5-8606-4844-baed-313392e3b26c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:51] WARNING  [agent_fsm:1224] [59b4b6c5-8606-4844-baed-313392e3b26c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:51] ERROR    [agent_fsm:1078] [59b4b6c5-8606-4844-baed-313392e3b26c] --- FSM STATE: ERROR ---
[2025-06-18 12:36:51] ERROR    [agent_fsm:1101] [59b4b6c5-8606-4844-baed-313392e3b26c] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:36:51] ERROR    [agent_fsm:1102] [59b4b6c5-8606-4844-baed-313392e3b26c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:51] WARNING  [agent_fsm:1224] [59b4b6c5-8606-4844-baed-313392e3b26c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:51] ERROR    [agent_fsm:1078] [59b4b6c5-8606-4844-baed-313392e3b26c] --- FSM STATE: ERROR ---
[2025-06-18 12:36:51] ERROR    [agent_fsm:1101] [59b4b6c5-8606-4844-baed-313392e3b26c] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:36:51] ERROR    [agent_fsm:1102] [59b4b6c5-8606-4844-baed-313392e3b26c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:51] WARNING  [agent_fsm:1224] [59b4b6c5-8606-4844-baed-313392e3b26c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:51] ERROR    [agent_fsm:1078] [59b4b6c5-8606-4844-baed-313392e3b26c] --- FSM STATE: ERROR ---
[2025-06-18 12:36:51] ERROR    [agent_fsm:1101] [59b4b6c5-8606-4844-baed-313392e3b26c] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:36:51] ERROR    [agent_fsm:1102] [59b4b6c5-8606-4844-baed-313392e3b26c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:51] WARNING  [agent_fsm:1224] [59b4b6c5-8606-4844-baed-313392e3b26c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:51] ERROR    [agent_fsm:1078] [59b4b6c5-8606-4844-baed-313392e3b26c] --- FSM STATE: ERROR ---
[2025-06-18 12:36:51] ERROR    [agent_fsm:1101] [59b4b6c5-8606-4844-baed-313392e3b26c] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:36:51] ERROR    [agent_fsm:1102] [59b4b6c5-8606-4844-baed-313392e3b26c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:51] WARNING  [agent_fsm:1224] [59b4b6c5-8606-4844-baed-313392e3b26c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:51] ERROR    [agent_fsm:1078] [59b4b6c5-8606-4844-baed-313392e3b26c] --- FSM STATE: ERROR ---
[2025-06-18 12:36:51] ERROR    [agent_fsm:1101] [59b4b6c5-8606-4844-baed-313392e3b26c] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:36:51] ERROR    [agent_fsm:1102] [59b4b6c5-8606-4844-baed-313392e3b26c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:51] WARNING  [agent_fsm:1224] [59b4b6c5-8606-4844-baed-313392e3b26c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:51] ERROR    [agent_fsm:1837] [59b4b6c5-8606-4844-baed-313392e3b26c] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:36:51] INFO     [agent_fsm:1752] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Starting resilient FSM execution
[2025-06-18 12:36:51] INFO     [agent_fsm:1807] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] FSM STATE: INITIAL
[2025-06-18 12:36:51] INFO     [agent_fsm:665] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:36:51] DEBUG    [agent_fsm:680] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Turn count: 1, Action history length: 1
[2025-06-18 12:36:53] WARNING  [agent_fsm:1521] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:36:53] WARNING  [agent_fsm:1521] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:36:53] WARNING  [agent_fsm:1521] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:36:53] WARNING  [agent_fsm:1521] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:36:53] WARNING  [agent_fsm:1521] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 12:36:53] WARNING  [agent_fsm:1521] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Failed to parse JSON parameters for step 8, using fallback parser
[2025-06-18 12:36:53] INFO     [agent_fsm:773] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:36:53] INFO     [agent_fsm:820] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:36:53] INFO     [agent_fsm:922] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Tool execution completed
[2025-06-18 12:36:53] INFO     [agent_fsm:773] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:36:53] WARNING  [agent_fsm:803] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:36:53] INFO     [agent_fsm:665] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:36:53] DEBUG    [agent_fsm:680] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Turn count: 2, Action history length: 2
[2025-06-18 12:36:54] WARNING  [agent_fsm:1521] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:36:54] WARNING  [agent_fsm:1521] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:36:54] WARNING  [agent_fsm:1521] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:36:54] INFO     [agent_fsm:773] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:36:54] INFO     [agent_fsm:820] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Executing tool: gaia_video_analyzer with input: {'video_url': 'https://www.youtube.com/watch?v=L1vXCYZAYYM'}
[2025-06-18 12:36:54] INFO     [agent_fsm:922] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Tool execution completed
[2025-06-18 12:36:54] INFO     [agent_fsm:773] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:36:54] WARNING  [agent_fsm:803] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:36:54] INFO     [agent_fsm:665] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:36:54] DEBUG    [agent_fsm:680] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Turn count: 3, Action history length: 3
[2025-06-18 12:36:55] WARNING  [agent_fsm:1521] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:36:55] WARNING  [agent_fsm:1521] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:36:55] WARNING  [agent_fsm:1521] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:36:55] WARNING  [agent_fsm:1224] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:55] ERROR    [agent_fsm:1078] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] --- FSM STATE: ERROR ---
[2025-06-18 12:36:55] ERROR    [agent_fsm:1101] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:36:55] ERROR    [agent_fsm:1102] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:55] WARNING  [agent_fsm:1224] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:55] ERROR    [agent_fsm:1078] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] --- FSM STATE: ERROR ---
[2025-06-18 12:36:55] ERROR    [agent_fsm:1101] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:36:55] ERROR    [agent_fsm:1102] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:55] WARNING  [agent_fsm:1224] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:55] ERROR    [agent_fsm:1078] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] --- FSM STATE: ERROR ---
[2025-06-18 12:36:55] ERROR    [agent_fsm:1101] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:36:55] ERROR    [agent_fsm:1102] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:55] WARNING  [agent_fsm:1224] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:55] ERROR    [agent_fsm:1078] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] --- FSM STATE: ERROR ---
[2025-06-18 12:36:55] ERROR    [agent_fsm:1101] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:36:55] ERROR    [agent_fsm:1102] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:55] WARNING  [agent_fsm:1224] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:55] ERROR    [agent_fsm:1078] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] --- FSM STATE: ERROR ---
[2025-06-18 12:36:55] ERROR    [agent_fsm:1101] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:36:55] ERROR    [agent_fsm:1102] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:55] WARNING  [agent_fsm:1224] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:55] ERROR    [agent_fsm:1078] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] --- FSM STATE: ERROR ---
[2025-06-18 12:36:55] ERROR    [agent_fsm:1101] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:36:55] ERROR    [agent_fsm:1102] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:55] WARNING  [agent_fsm:1224] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:55] ERROR    [agent_fsm:1078] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] --- FSM STATE: ERROR ---
[2025-06-18 12:36:55] ERROR    [agent_fsm:1101] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:36:55] ERROR    [agent_fsm:1102] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:55] WARNING  [agent_fsm:1224] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:55] ERROR    [agent_fsm:1078] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] --- FSM STATE: ERROR ---
[2025-06-18 12:36:55] ERROR    [agent_fsm:1101] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:36:55] ERROR    [agent_fsm:1102] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:55] WARNING  [agent_fsm:1224] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:55] ERROR    [agent_fsm:1078] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] --- FSM STATE: ERROR ---
[2025-06-18 12:36:55] ERROR    [agent_fsm:1101] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:36:55] ERROR    [agent_fsm:1102] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:55] WARNING  [agent_fsm:1224] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:55] ERROR    [agent_fsm:1078] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] --- FSM STATE: ERROR ---
[2025-06-18 12:36:55] ERROR    [agent_fsm:1101] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:36:55] ERROR    [agent_fsm:1102] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:55] WARNING  [agent_fsm:1224] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:55] ERROR    [agent_fsm:1078] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] --- FSM STATE: ERROR ---
[2025-06-18 12:36:55] ERROR    [agent_fsm:1101] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:36:55] ERROR    [agent_fsm:1102] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:55] WARNING  [agent_fsm:1224] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:55] ERROR    [agent_fsm:1078] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] --- FSM STATE: ERROR ---
[2025-06-18 12:36:55] ERROR    [agent_fsm:1101] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:36:55] ERROR    [agent_fsm:1102] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:55] WARNING  [agent_fsm:1224] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:55] ERROR    [agent_fsm:1078] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] --- FSM STATE: ERROR ---
[2025-06-18 12:36:55] ERROR    [agent_fsm:1101] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:36:55] ERROR    [agent_fsm:1102] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:55] WARNING  [agent_fsm:1224] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:55] ERROR    [agent_fsm:1078] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] --- FSM STATE: ERROR ---
[2025-06-18 12:36:55] ERROR    [agent_fsm:1101] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:36:55] ERROR    [agent_fsm:1102] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:55] WARNING  [agent_fsm:1224] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:55] ERROR    [agent_fsm:1078] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] --- FSM STATE: ERROR ---
[2025-06-18 12:36:55] ERROR    [agent_fsm:1101] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:36:55] ERROR    [agent_fsm:1102] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:55] WARNING  [agent_fsm:1224] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:55] ERROR    [agent_fsm:1078] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] --- FSM STATE: ERROR ---
[2025-06-18 12:36:55] ERROR    [agent_fsm:1101] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:36:55] ERROR    [agent_fsm:1102] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:55] WARNING  [agent_fsm:1224] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:55] ERROR    [agent_fsm:1078] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] --- FSM STATE: ERROR ---
[2025-06-18 12:36:55] ERROR    [agent_fsm:1101] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:36:55] ERROR    [agent_fsm:1102] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:55] WARNING  [agent_fsm:1224] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:55] ERROR    [agent_fsm:1078] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] --- FSM STATE: ERROR ---
[2025-06-18 12:36:55] ERROR    [agent_fsm:1101] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:36:55] ERROR    [agent_fsm:1102] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:55] WARNING  [agent_fsm:1224] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:55] ERROR    [agent_fsm:1837] [0fa1c489-3fb5-4643-8eae-2ec9ea47e697] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:36:55] INFO     [agent_fsm:1752] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Starting resilient FSM execution
[2025-06-18 12:36:55] INFO     [agent_fsm:1807] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] FSM STATE: INITIAL
[2025-06-18 12:36:55] INFO     [agent_fsm:665] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:36:55] DEBUG    [agent_fsm:680] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Turn count: 1, Action history length: 1
[2025-06-18 12:36:57] WARNING  [agent_fsm:1521] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:36:57] WARNING  [agent_fsm:1521] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:36:57] WARNING  [agent_fsm:1521] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:36:57] WARNING  [agent_fsm:1521] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:36:57] WARNING  [agent_fsm:1521] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:36:57] WARNING  [agent_fsm:1521] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 12:36:57] WARNING  [agent_fsm:1521] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Failed to parse JSON parameters for step 8, using fallback parser
[2025-06-18 12:36:57] WARNING  [agent_fsm:1521] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Failed to parse JSON parameters for step 9, using fallback parser
[2025-06-18 12:36:57] WARNING  [agent_fsm:1521] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Failed to parse JSON parameters for step 10, using fallback parser
[2025-06-18 12:36:57] WARNING  [agent_fsm:1521] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:36:57] WARNING  [agent_fsm:1521] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:36:57] ERROR    [agent_fsm:1359] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:36:57] WARNING  [agent_fsm:1333] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Tool image_analyzer not found in registry, will use stub
[2025-06-18 12:36:57] INFO     [agent_fsm:773] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:36:57] INFO     [agent_fsm:820] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:36:57] INFO     [agent_fsm:922] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Tool execution completed
[2025-06-18 12:36:57] INFO     [agent_fsm:773] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:36:57] WARNING  [agent_fsm:803] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:36:57] INFO     [agent_fsm:665] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:36:57] DEBUG    [agent_fsm:680] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Turn count: 2, Action history length: 2
[2025-06-18 12:36:58] WARNING  [agent_fsm:1521] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:36:58] ERROR    [agent_fsm:1359] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:36:58] INFO     [agent_fsm:773] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:36:58] WARNING  [agent_fsm:803] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:36:58] INFO     [agent_fsm:665] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] --- FSM STATE: PLANNING (Step 3) ---
[2025-06-18 12:36:58] DEBUG    [agent_fsm:680] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Turn count: 3, Action history length: 3
[2025-06-18 12:36:59] WARNING  [agent_fsm:1521] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:36:59] WARNING  [agent_fsm:1521] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:36:59] WARNING  [agent_fsm:1224] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:59] ERROR    [agent_fsm:1078] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] --- FSM STATE: ERROR ---
[2025-06-18 12:36:59] ERROR    [agent_fsm:1101] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:36:59] ERROR    [agent_fsm:1102] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:59] WARNING  [agent_fsm:1224] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:59] ERROR    [agent_fsm:1078] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] --- FSM STATE: ERROR ---
[2025-06-18 12:36:59] ERROR    [agent_fsm:1101] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:36:59] ERROR    [agent_fsm:1102] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:59] WARNING  [agent_fsm:1224] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:59] ERROR    [agent_fsm:1078] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] --- FSM STATE: ERROR ---
[2025-06-18 12:36:59] ERROR    [agent_fsm:1101] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:36:59] ERROR    [agent_fsm:1102] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:59] WARNING  [agent_fsm:1224] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:59] ERROR    [agent_fsm:1078] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] --- FSM STATE: ERROR ---
[2025-06-18 12:36:59] ERROR    [agent_fsm:1101] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:36:59] ERROR    [agent_fsm:1102] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:59] WARNING  [agent_fsm:1224] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:59] ERROR    [agent_fsm:1078] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] --- FSM STATE: ERROR ---
[2025-06-18 12:36:59] ERROR    [agent_fsm:1101] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:36:59] ERROR    [agent_fsm:1102] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:59] WARNING  [agent_fsm:1224] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:59] ERROR    [agent_fsm:1078] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] --- FSM STATE: ERROR ---
[2025-06-18 12:36:59] ERROR    [agent_fsm:1101] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:36:59] ERROR    [agent_fsm:1102] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:59] WARNING  [agent_fsm:1224] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:59] ERROR    [agent_fsm:1078] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] --- FSM STATE: ERROR ---
[2025-06-18 12:36:59] ERROR    [agent_fsm:1101] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:36:59] ERROR    [agent_fsm:1102] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:59] WARNING  [agent_fsm:1224] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:59] ERROR    [agent_fsm:1078] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] --- FSM STATE: ERROR ---
[2025-06-18 12:36:59] ERROR    [agent_fsm:1101] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:36:59] ERROR    [agent_fsm:1102] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:59] WARNING  [agent_fsm:1224] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:59] ERROR    [agent_fsm:1078] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] --- FSM STATE: ERROR ---
[2025-06-18 12:36:59] ERROR    [agent_fsm:1101] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:36:59] ERROR    [agent_fsm:1102] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:59] WARNING  [agent_fsm:1224] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:59] ERROR    [agent_fsm:1078] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] --- FSM STATE: ERROR ---
[2025-06-18 12:36:59] ERROR    [agent_fsm:1101] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:36:59] ERROR    [agent_fsm:1102] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:59] WARNING  [agent_fsm:1224] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:59] ERROR    [agent_fsm:1078] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] --- FSM STATE: ERROR ---
[2025-06-18 12:36:59] ERROR    [agent_fsm:1101] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:36:59] ERROR    [agent_fsm:1102] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:59] WARNING  [agent_fsm:1224] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:59] ERROR    [agent_fsm:1078] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] --- FSM STATE: ERROR ---
[2025-06-18 12:36:59] ERROR    [agent_fsm:1101] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:36:59] ERROR    [agent_fsm:1102] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:59] WARNING  [agent_fsm:1224] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:59] ERROR    [agent_fsm:1078] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] --- FSM STATE: ERROR ---
[2025-06-18 12:36:59] ERROR    [agent_fsm:1101] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:36:59] ERROR    [agent_fsm:1102] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:59] WARNING  [agent_fsm:1224] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:59] ERROR    [agent_fsm:1078] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] --- FSM STATE: ERROR ---
[2025-06-18 12:36:59] ERROR    [agent_fsm:1101] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:36:59] ERROR    [agent_fsm:1102] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:59] WARNING  [agent_fsm:1224] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:59] ERROR    [agent_fsm:1078] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] --- FSM STATE: ERROR ---
[2025-06-18 12:36:59] ERROR    [agent_fsm:1101] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:36:59] ERROR    [agent_fsm:1102] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:59] WARNING  [agent_fsm:1224] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:59] ERROR    [agent_fsm:1078] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] --- FSM STATE: ERROR ---
[2025-06-18 12:36:59] ERROR    [agent_fsm:1101] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:36:59] ERROR    [agent_fsm:1102] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:59] WARNING  [agent_fsm:1224] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:59] ERROR    [agent_fsm:1078] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] --- FSM STATE: ERROR ---
[2025-06-18 12:36:59] ERROR    [agent_fsm:1101] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:36:59] ERROR    [agent_fsm:1102] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:59] WARNING  [agent_fsm:1224] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:59] ERROR    [agent_fsm:1078] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] --- FSM STATE: ERROR ---
[2025-06-18 12:36:59] ERROR    [agent_fsm:1101] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:36:59] ERROR    [agent_fsm:1102] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:59] WARNING  [agent_fsm:1224] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:59] ERROR    [agent_fsm:1078] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] --- FSM STATE: ERROR ---
[2025-06-18 12:36:59] ERROR    [agent_fsm:1101] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Error category: GENERAL, Occurrences: 19
[2025-06-18 12:36:59] ERROR    [agent_fsm:1102] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Errors: ['Duplicate tool call detected']
[2025-06-18 12:36:59] WARNING  [agent_fsm:1224] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] Direct loop detected - same action repeated 3 times
[2025-06-18 12:36:59] ERROR    [agent_fsm:1837] [056abe5a-cb7b-422b-a2e4-3f6f9bb86acf] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:36:59] INFO     [agent_fsm:1752] [45b019ba-4612-4784-bbcd-a9fb49180477] Starting resilient FSM execution
[2025-06-18 12:36:59] INFO     [agent_fsm:1807] [45b019ba-4612-4784-bbcd-a9fb49180477] FSM STATE: INITIAL
[2025-06-18 12:36:59] INFO     [agent_fsm:665] [45b019ba-4612-4784-bbcd-a9fb49180477] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:36:59] DEBUG    [agent_fsm:680] [45b019ba-4612-4784-bbcd-a9fb49180477] Turn count: 1, Action history length: 1
[2025-06-18 12:37:01] WARNING  [agent_fsm:1521] [45b019ba-4612-4784-bbcd-a9fb49180477] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:37:01] WARNING  [agent_fsm:1521] [45b019ba-4612-4784-bbcd-a9fb49180477] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 12:37:01] WARNING  [agent_fsm:1521] [45b019ba-4612-4784-bbcd-a9fb49180477] Failed to parse JSON parameters for step 8, using fallback parser
[2025-06-18 12:37:01] ERROR    [agent_fsm:1359] [45b019ba-4612-4784-bbcd-a9fb49180477] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:37:01] INFO     [agent_fsm:773] [45b019ba-4612-4784-bbcd-a9fb49180477] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:37:01] INFO     [agent_fsm:820] [45b019ba-4612-4784-bbcd-a9fb49180477] Executing tool: advanced_file_reader with input: {'filename': 'path/to/sales_data.xlsx'}
[2025-06-18 12:37:01] INFO     [agent_fsm:922] [45b019ba-4612-4784-bbcd-a9fb49180477] Tool execution completed
[2025-06-18 12:37:01] INFO     [agent_fsm:773] [45b019ba-4612-4784-bbcd-a9fb49180477] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:37:01] WARNING  [agent_fsm:803] [45b019ba-4612-4784-bbcd-a9fb49180477] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:37:01] INFO     [agent_fsm:665] [45b019ba-4612-4784-bbcd-a9fb49180477] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:37:01] DEBUG    [agent_fsm:680] [45b019ba-4612-4784-bbcd-a9fb49180477] Turn count: 2, Action history length: 2
[2025-06-18 12:37:02] INFO     [agent_fsm:955] [45b019ba-4612-4784-bbcd-a9fb49180477] --- FSM STATE: SYNTHESIZING ---
[2025-06-18 12:37:02] ERROR    [agent_fsm:1010] [45b019ba-4612-4784-bbcd-a9fb49180477] Error in synthesizing node: Error code: 400 - {'error': {'message': "Failed to call a function. Please adjust your prompt. See 'failed_generation' for more details.", 'type': 'invalid_request_error', 'code': 'tool_use_failed', 'failed_generation': '<function=FinalStringAnswer>answer unavailable</function>'}}
[2025-06-18 12:37:02] ERROR    [agent_fsm:1078] [45b019ba-4612-4784-bbcd-a9fb49180477] --- FSM STATE: ERROR ---
[2025-06-18 12:37:02] ERROR    [agent_fsm:1101] [45b019ba-4612-4784-bbcd-a9fb49180477] Error category: TOOL_VALIDATION, Occurrences: 1
[2025-06-18 12:37:02] ERROR    [agent_fsm:1102] [45b019ba-4612-4784-bbcd-a9fb49180477] Errors: ['Error code: 400 - {\'error\': {\'message\': "Failed to call a function. Please adjust your prompt. See \'failed_generation\' for more details.", \'type\': \'invalid_request_error\', \'code\': \'tool_use_failed\', \'failed_generation\': \'<function=FinalStringAnswer>answer unavailable</function>\'}}']
[2025-06-18 12:37:02] INFO     [agent_fsm:665] [45b019ba-4612-4784-bbcd-a9fb49180477] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:37:02] DEBUG    [agent_fsm:680] [45b019ba-4612-4784-bbcd-a9fb49180477] Turn count: 3, Action history length: 3
[2025-06-18 12:37:04] WARNING  [agent_fsm:1521] [45b019ba-4612-4784-bbcd-a9fb49180477] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 12:37:04] WARNING  [agent_fsm:1521] [45b019ba-4612-4784-bbcd-a9fb49180477] Failed to parse JSON parameters for step 8, using fallback parser
[2025-06-18 12:37:04] WARNING  [agent_fsm:1521] [45b019ba-4612-4784-bbcd-a9fb49180477] Failed to parse JSON parameters for step 9, using fallback parser
[2025-06-18 12:37:04] ERROR    [agent_fsm:1359] [45b019ba-4612-4784-bbcd-a9fb49180477] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:37:04] WARNING  [agent_fsm:1224] [45b019ba-4612-4784-bbcd-a9fb49180477] Direct loop detected - same action repeated 3 times
[2025-06-18 12:37:04] ERROR    [agent_fsm:1078] [45b019ba-4612-4784-bbcd-a9fb49180477] --- FSM STATE: ERROR ---
[2025-06-18 12:37:04] ERROR    [agent_fsm:1101] [45b019ba-4612-4784-bbcd-a9fb49180477] Error category: TOOL_VALIDATION, Occurrences: 2
[2025-06-18 12:37:04] ERROR    [agent_fsm:1102] [45b019ba-4612-4784-bbcd-a9fb49180477] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:37:04] WARNING  [agent_fsm:1224] [45b019ba-4612-4784-bbcd-a9fb49180477] Direct loop detected - same action repeated 3 times
[2025-06-18 12:37:04] ERROR    [agent_fsm:1078] [45b019ba-4612-4784-bbcd-a9fb49180477] --- FSM STATE: ERROR ---
[2025-06-18 12:37:04] ERROR    [agent_fsm:1101] [45b019ba-4612-4784-bbcd-a9fb49180477] Error category: TOOL_VALIDATION, Occurrences: 3
[2025-06-18 12:37:04] ERROR    [agent_fsm:1102] [45b019ba-4612-4784-bbcd-a9fb49180477] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:37:04] WARNING  [agent_fsm:1224] [45b019ba-4612-4784-bbcd-a9fb49180477] Direct loop detected - same action repeated 3 times
[2025-06-18 12:37:04] ERROR    [agent_fsm:1078] [45b019ba-4612-4784-bbcd-a9fb49180477] --- FSM STATE: ERROR ---
[2025-06-18 12:37:04] ERROR    [agent_fsm:1101] [45b019ba-4612-4784-bbcd-a9fb49180477] Error category: TOOL_VALIDATION, Occurrences: 4
[2025-06-18 12:37:04] ERROR    [agent_fsm:1102] [45b019ba-4612-4784-bbcd-a9fb49180477] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:37:04] WARNING  [agent_fsm:1224] [45b019ba-4612-4784-bbcd-a9fb49180477] Direct loop detected - same action repeated 3 times
[2025-06-18 12:37:04] ERROR    [agent_fsm:1078] [45b019ba-4612-4784-bbcd-a9fb49180477] --- FSM STATE: ERROR ---
[2025-06-18 12:37:04] ERROR    [agent_fsm:1101] [45b019ba-4612-4784-bbcd-a9fb49180477] Error category: TOOL_VALIDATION, Occurrences: 5
[2025-06-18 12:37:04] ERROR    [agent_fsm:1102] [45b019ba-4612-4784-bbcd-a9fb49180477] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:37:04] WARNING  [agent_fsm:1224] [45b019ba-4612-4784-bbcd-a9fb49180477] Direct loop detected - same action repeated 3 times
[2025-06-18 12:37:04] ERROR    [agent_fsm:1078] [45b019ba-4612-4784-bbcd-a9fb49180477] --- FSM STATE: ERROR ---
[2025-06-18 12:37:04] ERROR    [agent_fsm:1101] [45b019ba-4612-4784-bbcd-a9fb49180477] Error category: TOOL_VALIDATION, Occurrences: 6
[2025-06-18 12:37:04] ERROR    [agent_fsm:1102] [45b019ba-4612-4784-bbcd-a9fb49180477] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:37:04] WARNING  [agent_fsm:1224] [45b019ba-4612-4784-bbcd-a9fb49180477] Direct loop detected - same action repeated 3 times
[2025-06-18 12:37:04] ERROR    [agent_fsm:1078] [45b019ba-4612-4784-bbcd-a9fb49180477] --- FSM STATE: ERROR ---
[2025-06-18 12:37:04] ERROR    [agent_fsm:1101] [45b019ba-4612-4784-bbcd-a9fb49180477] Error category: TOOL_VALIDATION, Occurrences: 7
[2025-06-18 12:37:04] ERROR    [agent_fsm:1102] [45b019ba-4612-4784-bbcd-a9fb49180477] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:37:04] WARNING  [agent_fsm:1224] [45b019ba-4612-4784-bbcd-a9fb49180477] Direct loop detected - same action repeated 3 times
[2025-06-18 12:37:04] ERROR    [agent_fsm:1078] [45b019ba-4612-4784-bbcd-a9fb49180477] --- FSM STATE: ERROR ---
[2025-06-18 12:37:04] ERROR    [agent_fsm:1101] [45b019ba-4612-4784-bbcd-a9fb49180477] Error category: TOOL_VALIDATION, Occurrences: 8
[2025-06-18 12:37:04] ERROR    [agent_fsm:1102] [45b019ba-4612-4784-bbcd-a9fb49180477] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:37:04] WARNING  [agent_fsm:1224] [45b019ba-4612-4784-bbcd-a9fb49180477] Direct loop detected - same action repeated 3 times
[2025-06-18 12:37:04] ERROR    [agent_fsm:1078] [45b019ba-4612-4784-bbcd-a9fb49180477] --- FSM STATE: ERROR ---
[2025-06-18 12:37:04] ERROR    [agent_fsm:1101] [45b019ba-4612-4784-bbcd-a9fb49180477] Error category: TOOL_VALIDATION, Occurrences: 9
[2025-06-18 12:37:04] ERROR    [agent_fsm:1102] [45b019ba-4612-4784-bbcd-a9fb49180477] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:37:04] WARNING  [agent_fsm:1224] [45b019ba-4612-4784-bbcd-a9fb49180477] Direct loop detected - same action repeated 3 times
[2025-06-18 12:37:04] ERROR    [agent_fsm:1078] [45b019ba-4612-4784-bbcd-a9fb49180477] --- FSM STATE: ERROR ---
[2025-06-18 12:37:04] ERROR    [agent_fsm:1101] [45b019ba-4612-4784-bbcd-a9fb49180477] Error category: TOOL_VALIDATION, Occurrences: 10
[2025-06-18 12:37:04] ERROR    [agent_fsm:1102] [45b019ba-4612-4784-bbcd-a9fb49180477] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:37:04] WARNING  [agent_fsm:1224] [45b019ba-4612-4784-bbcd-a9fb49180477] Direct loop detected - same action repeated 3 times
[2025-06-18 12:37:04] ERROR    [agent_fsm:1078] [45b019ba-4612-4784-bbcd-a9fb49180477] --- FSM STATE: ERROR ---
[2025-06-18 12:37:04] ERROR    [agent_fsm:1101] [45b019ba-4612-4784-bbcd-a9fb49180477] Error category: TOOL_VALIDATION, Occurrences: 11
[2025-06-18 12:37:04] ERROR    [agent_fsm:1102] [45b019ba-4612-4784-bbcd-a9fb49180477] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:37:04] WARNING  [agent_fsm:1224] [45b019ba-4612-4784-bbcd-a9fb49180477] Direct loop detected - same action repeated 3 times
[2025-06-18 12:37:04] ERROR    [agent_fsm:1078] [45b019ba-4612-4784-bbcd-a9fb49180477] --- FSM STATE: ERROR ---
[2025-06-18 12:37:04] ERROR    [agent_fsm:1101] [45b019ba-4612-4784-bbcd-a9fb49180477] Error category: TOOL_VALIDATION, Occurrences: 12
[2025-06-18 12:37:04] ERROR    [agent_fsm:1102] [45b019ba-4612-4784-bbcd-a9fb49180477] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:37:04] WARNING  [agent_fsm:1224] [45b019ba-4612-4784-bbcd-a9fb49180477] Direct loop detected - same action repeated 3 times
[2025-06-18 12:37:04] ERROR    [agent_fsm:1078] [45b019ba-4612-4784-bbcd-a9fb49180477] --- FSM STATE: ERROR ---
[2025-06-18 12:37:04] ERROR    [agent_fsm:1101] [45b019ba-4612-4784-bbcd-a9fb49180477] Error category: TOOL_VALIDATION, Occurrences: 13
[2025-06-18 12:37:04] ERROR    [agent_fsm:1102] [45b019ba-4612-4784-bbcd-a9fb49180477] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:37:04] WARNING  [agent_fsm:1224] [45b019ba-4612-4784-bbcd-a9fb49180477] Direct loop detected - same action repeated 3 times
[2025-06-18 12:37:04] ERROR    [agent_fsm:1078] [45b019ba-4612-4784-bbcd-a9fb49180477] --- FSM STATE: ERROR ---
[2025-06-18 12:37:04] ERROR    [agent_fsm:1101] [45b019ba-4612-4784-bbcd-a9fb49180477] Error category: TOOL_VALIDATION, Occurrences: 14
[2025-06-18 12:37:04] ERROR    [agent_fsm:1102] [45b019ba-4612-4784-bbcd-a9fb49180477] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:37:04] WARNING  [agent_fsm:1224] [45b019ba-4612-4784-bbcd-a9fb49180477] Direct loop detected - same action repeated 3 times
[2025-06-18 12:37:04] ERROR    [agent_fsm:1078] [45b019ba-4612-4784-bbcd-a9fb49180477] --- FSM STATE: ERROR ---
[2025-06-18 12:37:04] ERROR    [agent_fsm:1101] [45b019ba-4612-4784-bbcd-a9fb49180477] Error category: TOOL_VALIDATION, Occurrences: 15
[2025-06-18 12:37:04] ERROR    [agent_fsm:1102] [45b019ba-4612-4784-bbcd-a9fb49180477] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:37:04] WARNING  [agent_fsm:1224] [45b019ba-4612-4784-bbcd-a9fb49180477] Direct loop detected - same action repeated 3 times
[2025-06-18 12:37:04] ERROR    [agent_fsm:1078] [45b019ba-4612-4784-bbcd-a9fb49180477] --- FSM STATE: ERROR ---
[2025-06-18 12:37:04] ERROR    [agent_fsm:1101] [45b019ba-4612-4784-bbcd-a9fb49180477] Error category: TOOL_VALIDATION, Occurrences: 16
[2025-06-18 12:37:04] ERROR    [agent_fsm:1102] [45b019ba-4612-4784-bbcd-a9fb49180477] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:37:04] WARNING  [agent_fsm:1224] [45b019ba-4612-4784-bbcd-a9fb49180477] Direct loop detected - same action repeated 3 times
[2025-06-18 12:37:04] ERROR    [agent_fsm:1078] [45b019ba-4612-4784-bbcd-a9fb49180477] --- FSM STATE: ERROR ---
[2025-06-18 12:37:04] ERROR    [agent_fsm:1101] [45b019ba-4612-4784-bbcd-a9fb49180477] Error category: TOOL_VALIDATION, Occurrences: 17
[2025-06-18 12:37:04] ERROR    [agent_fsm:1102] [45b019ba-4612-4784-bbcd-a9fb49180477] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:37:04] WARNING  [agent_fsm:1224] [45b019ba-4612-4784-bbcd-a9fb49180477] Direct loop detected - same action repeated 3 times
[2025-06-18 12:37:04] ERROR    [agent_fsm:1078] [45b019ba-4612-4784-bbcd-a9fb49180477] --- FSM STATE: ERROR ---
[2025-06-18 12:37:04] ERROR    [agent_fsm:1101] [45b019ba-4612-4784-bbcd-a9fb49180477] Error category: TOOL_VALIDATION, Occurrences: 18
[2025-06-18 12:37:04] ERROR    [agent_fsm:1102] [45b019ba-4612-4784-bbcd-a9fb49180477] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:37:04] WARNING  [agent_fsm:1224] [45b019ba-4612-4784-bbcd-a9fb49180477] Direct loop detected - same action repeated 3 times
[2025-06-18 12:37:04] ERROR    [agent_fsm:1078] [45b019ba-4612-4784-bbcd-a9fb49180477] --- FSM STATE: ERROR ---
[2025-06-18 12:37:04] ERROR    [agent_fsm:1101] [45b019ba-4612-4784-bbcd-a9fb49180477] Error category: TOOL_VALIDATION, Occurrences: 19
[2025-06-18 12:37:04] ERROR    [agent_fsm:1102] [45b019ba-4612-4784-bbcd-a9fb49180477] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:37:04] WARNING  [agent_fsm:1224] [45b019ba-4612-4784-bbcd-a9fb49180477] Direct loop detected - same action repeated 3 times
[2025-06-18 12:37:04] ERROR    [agent_fsm:1837] [45b019ba-4612-4784-bbcd-a9fb49180477] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:37:04] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 12:37:04] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 12:37:04] INFO     [agent_fsm:570] [059fc739-917b-4e2b-bb03-4ecd4423e618] Building resilient FSM graph
[2025-06-18 12:37:04] INFO     [agent_fsm:572] [059fc739-917b-4e2b-bb03-4ecd4423e618] FSMReActAgent graph built successfully
[2025-06-18 12:37:04] INFO     [agent_fsm:1752] [61aa0c6b-d592-4985-8fba-a5247213ca3a] Starting resilient FSM execution
[2025-06-18 12:37:04] WARNING  [agent_fsm:1759] [61aa0c6b-d592-4985-8fba-a5247213ca3a] FSM agent rejecting invalid input: '{{' - 1 validation error for ValidatedQuery
query
  Value error, Invalid placeholder query received: '{{' [type=value_error, input_value='{{', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/value_error
[2025-06-18 12:37:04] INFO     [agent_fsm:1752] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Starting resilient FSM execution
[2025-06-18 12:37:04] INFO     [agent_fsm:1807] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] FSM STATE: INITIAL
[2025-06-18 12:37:04] INFO     [agent_fsm:665] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:37:04] DEBUG    [agent_fsm:680] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Turn count: 1, Action history length: 1
[2025-06-18 12:37:05] WARNING  [agent_fsm:1521] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:37:05] WARNING  [agent_fsm:1521] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:37:05] INFO     [agent_fsm:773] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:37:05] INFO     [agent_fsm:820] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:37:05] INFO     [agent_fsm:922] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Tool execution completed
[2025-06-18 12:37:05] INFO     [agent_fsm:773] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:37:05] WARNING  [agent_fsm:803] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:37:05] INFO     [agent_fsm:665] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:37:05] DEBUG    [agent_fsm:680] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Turn count: 2, Action history length: 2
[2025-06-18 12:37:06] INFO     [agent_fsm:773] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:37:06] INFO     [agent_fsm:820] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Executing tool: python_interpreter with input: {'code': 'str(2 + 2)'}
[2025-06-18 12:37:06] INFO     [agent_fsm:922] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Tool execution completed
[2025-06-18 12:37:06] INFO     [agent_fsm:773] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:37:06] WARNING  [agent_fsm:803] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:37:06] INFO     [agent_fsm:665] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:37:06] DEBUG    [agent_fsm:680] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Turn count: 3, Action history length: 3
[2025-06-18 12:37:07] WARNING  [agent_fsm:1224] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Direct loop detected - same action repeated 3 times
[2025-06-18 12:37:07] ERROR    [agent_fsm:1078] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] --- FSM STATE: ERROR ---
[2025-06-18 12:37:07] ERROR    [agent_fsm:1101] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:37:07] ERROR    [agent_fsm:1102] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Errors: ['Duplicate tool call detected']
[2025-06-18 12:37:07] WARNING  [agent_fsm:1224] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Direct loop detected - same action repeated 3 times
[2025-06-18 12:37:07] ERROR    [agent_fsm:1078] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] --- FSM STATE: ERROR ---
[2025-06-18 12:37:07] ERROR    [agent_fsm:1101] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:37:07] ERROR    [agent_fsm:1102] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Errors: ['Duplicate tool call detected']
[2025-06-18 12:37:07] WARNING  [agent_fsm:1224] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Direct loop detected - same action repeated 3 times
[2025-06-18 12:37:07] ERROR    [agent_fsm:1078] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] --- FSM STATE: ERROR ---
[2025-06-18 12:37:07] ERROR    [agent_fsm:1101] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:37:07] ERROR    [agent_fsm:1102] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Errors: ['Duplicate tool call detected']
[2025-06-18 12:37:07] WARNING  [agent_fsm:1224] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Direct loop detected - same action repeated 3 times
[2025-06-18 12:37:07] ERROR    [agent_fsm:1078] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] --- FSM STATE: ERROR ---
[2025-06-18 12:37:07] ERROR    [agent_fsm:1101] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:37:07] ERROR    [agent_fsm:1102] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Errors: ['Duplicate tool call detected']
[2025-06-18 12:37:07] WARNING  [agent_fsm:1224] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Direct loop detected - same action repeated 3 times
[2025-06-18 12:37:07] ERROR    [agent_fsm:1078] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] --- FSM STATE: ERROR ---
[2025-06-18 12:37:07] ERROR    [agent_fsm:1101] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:37:07] ERROR    [agent_fsm:1102] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Errors: ['Duplicate tool call detected']
[2025-06-18 12:37:07] WARNING  [agent_fsm:1224] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Direct loop detected - same action repeated 3 times
[2025-06-18 12:37:07] ERROR    [agent_fsm:1078] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] --- FSM STATE: ERROR ---
[2025-06-18 12:37:07] ERROR    [agent_fsm:1101] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:37:07] ERROR    [agent_fsm:1102] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Errors: ['Duplicate tool call detected']
[2025-06-18 12:37:07] WARNING  [agent_fsm:1224] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Direct loop detected - same action repeated 3 times
[2025-06-18 12:37:07] ERROR    [agent_fsm:1078] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] --- FSM STATE: ERROR ---
[2025-06-18 12:37:07] ERROR    [agent_fsm:1101] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:37:07] ERROR    [agent_fsm:1102] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Errors: ['Duplicate tool call detected']
[2025-06-18 12:37:07] WARNING  [agent_fsm:1224] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Direct loop detected - same action repeated 3 times
[2025-06-18 12:37:07] ERROR    [agent_fsm:1078] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] --- FSM STATE: ERROR ---
[2025-06-18 12:37:07] ERROR    [agent_fsm:1101] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:37:07] ERROR    [agent_fsm:1102] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Errors: ['Duplicate tool call detected']
[2025-06-18 12:37:07] WARNING  [agent_fsm:1224] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Direct loop detected - same action repeated 3 times
[2025-06-18 12:37:07] ERROR    [agent_fsm:1078] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] --- FSM STATE: ERROR ---
[2025-06-18 12:37:07] ERROR    [agent_fsm:1101] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:37:07] ERROR    [agent_fsm:1102] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Errors: ['Duplicate tool call detected']
[2025-06-18 12:37:07] WARNING  [agent_fsm:1224] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Direct loop detected - same action repeated 3 times
[2025-06-18 12:37:07] ERROR    [agent_fsm:1078] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] --- FSM STATE: ERROR ---
[2025-06-18 12:37:07] ERROR    [agent_fsm:1101] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:37:07] ERROR    [agent_fsm:1102] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Errors: ['Duplicate tool call detected']
[2025-06-18 12:37:07] WARNING  [agent_fsm:1224] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Direct loop detected - same action repeated 3 times
[2025-06-18 12:37:07] ERROR    [agent_fsm:1078] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] --- FSM STATE: ERROR ---
[2025-06-18 12:37:07] ERROR    [agent_fsm:1101] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:37:07] ERROR    [agent_fsm:1102] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Errors: ['Duplicate tool call detected']
[2025-06-18 12:37:07] WARNING  [agent_fsm:1224] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Direct loop detected - same action repeated 3 times
[2025-06-18 12:37:07] ERROR    [agent_fsm:1078] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] --- FSM STATE: ERROR ---
[2025-06-18 12:37:07] ERROR    [agent_fsm:1101] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:37:07] ERROR    [agent_fsm:1102] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Errors: ['Duplicate tool call detected']
[2025-06-18 12:37:07] WARNING  [agent_fsm:1224] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Direct loop detected - same action repeated 3 times
[2025-06-18 12:37:07] ERROR    [agent_fsm:1078] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] --- FSM STATE: ERROR ---
[2025-06-18 12:37:07] ERROR    [agent_fsm:1101] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:37:07] ERROR    [agent_fsm:1102] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Errors: ['Duplicate tool call detected']
[2025-06-18 12:37:07] WARNING  [agent_fsm:1224] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Direct loop detected - same action repeated 3 times
[2025-06-18 12:37:07] ERROR    [agent_fsm:1078] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] --- FSM STATE: ERROR ---
[2025-06-18 12:37:07] ERROR    [agent_fsm:1101] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:37:07] ERROR    [agent_fsm:1102] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Errors: ['Duplicate tool call detected']
[2025-06-18 12:37:07] WARNING  [agent_fsm:1224] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Direct loop detected - same action repeated 3 times
[2025-06-18 12:37:07] ERROR    [agent_fsm:1078] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] --- FSM STATE: ERROR ---
[2025-06-18 12:37:07] ERROR    [agent_fsm:1101] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:37:07] ERROR    [agent_fsm:1102] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Errors: ['Duplicate tool call detected']
[2025-06-18 12:37:07] WARNING  [agent_fsm:1224] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Direct loop detected - same action repeated 3 times
[2025-06-18 12:37:07] ERROR    [agent_fsm:1078] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] --- FSM STATE: ERROR ---
[2025-06-18 12:37:07] ERROR    [agent_fsm:1101] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:37:07] ERROR    [agent_fsm:1102] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Errors: ['Duplicate tool call detected']
[2025-06-18 12:37:07] WARNING  [agent_fsm:1224] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Direct loop detected - same action repeated 3 times
[2025-06-18 12:37:07] ERROR    [agent_fsm:1078] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] --- FSM STATE: ERROR ---
[2025-06-18 12:37:07] ERROR    [agent_fsm:1101] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:37:07] ERROR    [agent_fsm:1102] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Errors: ['Duplicate tool call detected']
[2025-06-18 12:37:07] WARNING  [agent_fsm:1224] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Direct loop detected - same action repeated 3 times
[2025-06-18 12:37:07] ERROR    [agent_fsm:1078] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] --- FSM STATE: ERROR ---
[2025-06-18 12:37:07] ERROR    [agent_fsm:1101] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:37:07] ERROR    [agent_fsm:1102] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Errors: ['Duplicate tool call detected']
[2025-06-18 12:37:07] WARNING  [agent_fsm:1224] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] Direct loop detected - same action repeated 3 times
[2025-06-18 12:37:07] ERROR    [agent_fsm:1837] [9a9d07e6-43a7-4a93-9ef0-447240a12f19] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:37:07] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 12:37:07] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 12:37:07] INFO     [agent_fsm:570] [adfec25f-4be3-438a-98fa-59faaec29799] Building resilient FSM graph
[2025-06-18 12:37:07] INFO     [agent_fsm:572] [adfec25f-4be3-438a-98fa-59faaec29799] FSMReActAgent graph built successfully
[2025-06-18 12:44:51] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 12:44:51] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 12:44:51] INFO     [agent_fsm:570] [46c6d000-750d-43f2-9005-5a4875877547] Building resilient FSM graph
[2025-06-18 12:44:51] INFO     [agent_fsm:572] [46c6d000-750d-43f2-9005-5a4875877547] FSMReActAgent graph built successfully
[2025-06-18 12:44:51] INFO     [agent_fsm:1752] [0114eea8-904e-477a-9698-f8423f635d45] Starting resilient FSM execution
[2025-06-18 12:44:51] INFO     [agent_fsm:1807] [0114eea8-904e-477a-9698-f8423f635d45] FSM STATE: INITIAL
[2025-06-18 12:44:51] INFO     [agent_fsm:665] [0114eea8-904e-477a-9698-f8423f635d45] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:44:51] DEBUG    [agent_fsm:680] [0114eea8-904e-477a-9698-f8423f635d45] Turn count: 1, Action history length: 1
[2025-06-18 12:44:52] ERROR    [agent_fsm:1359] [0114eea8-904e-477a-9698-f8423f635d45] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:44:52] INFO     [agent_fsm:773] [0114eea8-904e-477a-9698-f8423f635d45] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:44:52] INFO     [agent_fsm:820] [0114eea8-904e-477a-9698-f8423f635d45] Executing tool: web_researcher with input: {'query': 'Capital of France', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 12:44:52] INFO     [agent_fsm:922] [0114eea8-904e-477a-9698-f8423f635d45] Tool execution completed
[2025-06-18 12:44:52] INFO     [agent_fsm:773] [0114eea8-904e-477a-9698-f8423f635d45] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:44:52] WARNING  [agent_fsm:803] [0114eea8-904e-477a-9698-f8423f635d45] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:44:52] INFO     [agent_fsm:665] [0114eea8-904e-477a-9698-f8423f635d45] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:44:52] DEBUG    [agent_fsm:680] [0114eea8-904e-477a-9698-f8423f635d45] Turn count: 2, Action history length: 2
[2025-06-18 12:44:53] WARNING  [agent_fsm:1521] [0114eea8-904e-477a-9698-f8423f635d45] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:44:53] WARNING  [agent_fsm:1521] [0114eea8-904e-477a-9698-f8423f635d45] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:44:53] ERROR    [agent_fsm:1359] [0114eea8-904e-477a-9698-f8423f635d45] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:44:53] INFO     [agent_fsm:773] [0114eea8-904e-477a-9698-f8423f635d45] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:44:53] WARNING  [agent_fsm:803] [0114eea8-904e-477a-9698-f8423f635d45] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:44:53] INFO     [agent_fsm:665] [0114eea8-904e-477a-9698-f8423f635d45] --- FSM STATE: PLANNING (Step 3) ---
[2025-06-18 12:44:53] DEBUG    [agent_fsm:680] [0114eea8-904e-477a-9698-f8423f635d45] Turn count: 3, Action history length: 3
[2025-06-18 12:44:54] WARNING  [agent_fsm:1521] [0114eea8-904e-477a-9698-f8423f635d45] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:44:54] WARNING  [agent_fsm:1521] [0114eea8-904e-477a-9698-f8423f635d45] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:44:54] ERROR    [agent_fsm:1359] [0114eea8-904e-477a-9698-f8423f635d45] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:44:54] WARNING  [agent_fsm:1224] [0114eea8-904e-477a-9698-f8423f635d45] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:54] ERROR    [agent_fsm:1078] [0114eea8-904e-477a-9698-f8423f635d45] --- FSM STATE: ERROR ---
[2025-06-18 12:44:54] ERROR    [agent_fsm:1101] [0114eea8-904e-477a-9698-f8423f635d45] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:44:54] ERROR    [agent_fsm:1102] [0114eea8-904e-477a-9698-f8423f635d45] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:54] WARNING  [agent_fsm:1224] [0114eea8-904e-477a-9698-f8423f635d45] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:54] ERROR    [agent_fsm:1078] [0114eea8-904e-477a-9698-f8423f635d45] --- FSM STATE: ERROR ---
[2025-06-18 12:44:54] ERROR    [agent_fsm:1101] [0114eea8-904e-477a-9698-f8423f635d45] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:44:54] ERROR    [agent_fsm:1102] [0114eea8-904e-477a-9698-f8423f635d45] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:54] WARNING  [agent_fsm:1224] [0114eea8-904e-477a-9698-f8423f635d45] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:54] ERROR    [agent_fsm:1078] [0114eea8-904e-477a-9698-f8423f635d45] --- FSM STATE: ERROR ---
[2025-06-18 12:44:54] ERROR    [agent_fsm:1101] [0114eea8-904e-477a-9698-f8423f635d45] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:44:54] ERROR    [agent_fsm:1102] [0114eea8-904e-477a-9698-f8423f635d45] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:54] WARNING  [agent_fsm:1224] [0114eea8-904e-477a-9698-f8423f635d45] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:54] ERROR    [agent_fsm:1078] [0114eea8-904e-477a-9698-f8423f635d45] --- FSM STATE: ERROR ---
[2025-06-18 12:44:54] ERROR    [agent_fsm:1101] [0114eea8-904e-477a-9698-f8423f635d45] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:44:54] ERROR    [agent_fsm:1102] [0114eea8-904e-477a-9698-f8423f635d45] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:54] WARNING  [agent_fsm:1224] [0114eea8-904e-477a-9698-f8423f635d45] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:54] ERROR    [agent_fsm:1078] [0114eea8-904e-477a-9698-f8423f635d45] --- FSM STATE: ERROR ---
[2025-06-18 12:44:54] ERROR    [agent_fsm:1101] [0114eea8-904e-477a-9698-f8423f635d45] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:44:54] ERROR    [agent_fsm:1102] [0114eea8-904e-477a-9698-f8423f635d45] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:54] WARNING  [agent_fsm:1224] [0114eea8-904e-477a-9698-f8423f635d45] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:54] ERROR    [agent_fsm:1078] [0114eea8-904e-477a-9698-f8423f635d45] --- FSM STATE: ERROR ---
[2025-06-18 12:44:54] ERROR    [agent_fsm:1101] [0114eea8-904e-477a-9698-f8423f635d45] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:44:54] ERROR    [agent_fsm:1102] [0114eea8-904e-477a-9698-f8423f635d45] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:54] WARNING  [agent_fsm:1224] [0114eea8-904e-477a-9698-f8423f635d45] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:54] ERROR    [agent_fsm:1078] [0114eea8-904e-477a-9698-f8423f635d45] --- FSM STATE: ERROR ---
[2025-06-18 12:44:54] ERROR    [agent_fsm:1101] [0114eea8-904e-477a-9698-f8423f635d45] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:44:54] ERROR    [agent_fsm:1102] [0114eea8-904e-477a-9698-f8423f635d45] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:54] WARNING  [agent_fsm:1224] [0114eea8-904e-477a-9698-f8423f635d45] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:54] ERROR    [agent_fsm:1078] [0114eea8-904e-477a-9698-f8423f635d45] --- FSM STATE: ERROR ---
[2025-06-18 12:44:54] ERROR    [agent_fsm:1101] [0114eea8-904e-477a-9698-f8423f635d45] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:44:54] ERROR    [agent_fsm:1102] [0114eea8-904e-477a-9698-f8423f635d45] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:54] WARNING  [agent_fsm:1224] [0114eea8-904e-477a-9698-f8423f635d45] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:54] ERROR    [agent_fsm:1078] [0114eea8-904e-477a-9698-f8423f635d45] --- FSM STATE: ERROR ---
[2025-06-18 12:44:54] ERROR    [agent_fsm:1101] [0114eea8-904e-477a-9698-f8423f635d45] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:44:54] ERROR    [agent_fsm:1102] [0114eea8-904e-477a-9698-f8423f635d45] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:54] WARNING  [agent_fsm:1224] [0114eea8-904e-477a-9698-f8423f635d45] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:54] ERROR    [agent_fsm:1078] [0114eea8-904e-477a-9698-f8423f635d45] --- FSM STATE: ERROR ---
[2025-06-18 12:44:54] ERROR    [agent_fsm:1101] [0114eea8-904e-477a-9698-f8423f635d45] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:44:54] ERROR    [agent_fsm:1102] [0114eea8-904e-477a-9698-f8423f635d45] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:54] WARNING  [agent_fsm:1224] [0114eea8-904e-477a-9698-f8423f635d45] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:54] ERROR    [agent_fsm:1078] [0114eea8-904e-477a-9698-f8423f635d45] --- FSM STATE: ERROR ---
[2025-06-18 12:44:54] ERROR    [agent_fsm:1101] [0114eea8-904e-477a-9698-f8423f635d45] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:44:54] ERROR    [agent_fsm:1102] [0114eea8-904e-477a-9698-f8423f635d45] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:54] WARNING  [agent_fsm:1224] [0114eea8-904e-477a-9698-f8423f635d45] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:54] ERROR    [agent_fsm:1078] [0114eea8-904e-477a-9698-f8423f635d45] --- FSM STATE: ERROR ---
[2025-06-18 12:44:54] ERROR    [agent_fsm:1101] [0114eea8-904e-477a-9698-f8423f635d45] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:44:54] ERROR    [agent_fsm:1102] [0114eea8-904e-477a-9698-f8423f635d45] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:54] WARNING  [agent_fsm:1224] [0114eea8-904e-477a-9698-f8423f635d45] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:54] ERROR    [agent_fsm:1078] [0114eea8-904e-477a-9698-f8423f635d45] --- FSM STATE: ERROR ---
[2025-06-18 12:44:54] ERROR    [agent_fsm:1101] [0114eea8-904e-477a-9698-f8423f635d45] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:44:54] ERROR    [agent_fsm:1102] [0114eea8-904e-477a-9698-f8423f635d45] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:54] WARNING  [agent_fsm:1224] [0114eea8-904e-477a-9698-f8423f635d45] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:54] ERROR    [agent_fsm:1078] [0114eea8-904e-477a-9698-f8423f635d45] --- FSM STATE: ERROR ---
[2025-06-18 12:44:54] ERROR    [agent_fsm:1101] [0114eea8-904e-477a-9698-f8423f635d45] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:44:54] ERROR    [agent_fsm:1102] [0114eea8-904e-477a-9698-f8423f635d45] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:54] WARNING  [agent_fsm:1224] [0114eea8-904e-477a-9698-f8423f635d45] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:54] ERROR    [agent_fsm:1078] [0114eea8-904e-477a-9698-f8423f635d45] --- FSM STATE: ERROR ---
[2025-06-18 12:44:54] ERROR    [agent_fsm:1101] [0114eea8-904e-477a-9698-f8423f635d45] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:44:54] ERROR    [agent_fsm:1102] [0114eea8-904e-477a-9698-f8423f635d45] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:54] WARNING  [agent_fsm:1224] [0114eea8-904e-477a-9698-f8423f635d45] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:54] ERROR    [agent_fsm:1078] [0114eea8-904e-477a-9698-f8423f635d45] --- FSM STATE: ERROR ---
[2025-06-18 12:44:54] ERROR    [agent_fsm:1101] [0114eea8-904e-477a-9698-f8423f635d45] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:44:54] ERROR    [agent_fsm:1102] [0114eea8-904e-477a-9698-f8423f635d45] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:54] WARNING  [agent_fsm:1224] [0114eea8-904e-477a-9698-f8423f635d45] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:54] ERROR    [agent_fsm:1078] [0114eea8-904e-477a-9698-f8423f635d45] --- FSM STATE: ERROR ---
[2025-06-18 12:44:54] ERROR    [agent_fsm:1101] [0114eea8-904e-477a-9698-f8423f635d45] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:44:54] ERROR    [agent_fsm:1102] [0114eea8-904e-477a-9698-f8423f635d45] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:54] WARNING  [agent_fsm:1224] [0114eea8-904e-477a-9698-f8423f635d45] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:54] ERROR    [agent_fsm:1078] [0114eea8-904e-477a-9698-f8423f635d45] --- FSM STATE: ERROR ---
[2025-06-18 12:44:54] ERROR    [agent_fsm:1101] [0114eea8-904e-477a-9698-f8423f635d45] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:44:54] ERROR    [agent_fsm:1102] [0114eea8-904e-477a-9698-f8423f635d45] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:54] WARNING  [agent_fsm:1224] [0114eea8-904e-477a-9698-f8423f635d45] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:54] ERROR    [agent_fsm:1078] [0114eea8-904e-477a-9698-f8423f635d45] --- FSM STATE: ERROR ---
[2025-06-18 12:44:54] ERROR    [agent_fsm:1101] [0114eea8-904e-477a-9698-f8423f635d45] Error category: GENERAL, Occurrences: 19
[2025-06-18 12:44:54] ERROR    [agent_fsm:1102] [0114eea8-904e-477a-9698-f8423f635d45] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:54] WARNING  [agent_fsm:1224] [0114eea8-904e-477a-9698-f8423f635d45] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:54] ERROR    [agent_fsm:1837] [0114eea8-904e-477a-9698-f8423f635d45] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:44:54] INFO     [agent_fsm:1752] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Starting resilient FSM execution
[2025-06-18 12:44:54] INFO     [agent_fsm:1807] [68964d46-5d83-46aa-93bd-1e2d9fabc430] FSM STATE: INITIAL
[2025-06-18 12:44:54] INFO     [agent_fsm:665] [68964d46-5d83-46aa-93bd-1e2d9fabc430] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:44:54] DEBUG    [agent_fsm:680] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Turn count: 1, Action history length: 1
[2025-06-18 12:44:55] INFO     [agent_fsm:773] [68964d46-5d83-46aa-93bd-1e2d9fabc430] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:44:55] INFO     [agent_fsm:820] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Executing tool: web_researcher with input: {'query': 'definition of a leap year', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 12:44:55] INFO     [agent_fsm:922] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Tool execution completed
[2025-06-18 12:44:55] INFO     [agent_fsm:773] [68964d46-5d83-46aa-93bd-1e2d9fabc430] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:44:55] WARNING  [agent_fsm:803] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:44:55] INFO     [agent_fsm:665] [68964d46-5d83-46aa-93bd-1e2d9fabc430] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:44:55] DEBUG    [agent_fsm:680] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Turn count: 2, Action history length: 2
[2025-06-18 12:44:56] WARNING  [agent_fsm:1521] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:44:56] ERROR    [agent_fsm:1359] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:44:56] INFO     [agent_fsm:773] [68964d46-5d83-46aa-93bd-1e2d9fabc430] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:44:56] INFO     [agent_fsm:820] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Executing tool: semantic_search_tool with input: {'query': 'characteristics of a leap year', 'filename': 'knowledge_base.csv', 'top_k': 3}
[2025-06-18 12:44:56] INFO     [agent_fsm:922] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Tool execution completed
[2025-06-18 12:44:56] INFO     [agent_fsm:773] [68964d46-5d83-46aa-93bd-1e2d9fabc430] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:44:56] WARNING  [agent_fsm:803] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:44:56] INFO     [agent_fsm:665] [68964d46-5d83-46aa-93bd-1e2d9fabc430] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:44:56] DEBUG    [agent_fsm:680] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Turn count: 3, Action history length: 3
[2025-06-18 12:44:57] ERROR    [agent_fsm:1359] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:44:57] WARNING  [agent_fsm:1224] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:57] ERROR    [agent_fsm:1078] [68964d46-5d83-46aa-93bd-1e2d9fabc430] --- FSM STATE: ERROR ---
[2025-06-18 12:44:57] ERROR    [agent_fsm:1101] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:44:57] ERROR    [agent_fsm:1102] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:57] WARNING  [agent_fsm:1224] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:57] ERROR    [agent_fsm:1078] [68964d46-5d83-46aa-93bd-1e2d9fabc430] --- FSM STATE: ERROR ---
[2025-06-18 12:44:57] ERROR    [agent_fsm:1101] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:44:57] ERROR    [agent_fsm:1102] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:57] WARNING  [agent_fsm:1224] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:57] ERROR    [agent_fsm:1078] [68964d46-5d83-46aa-93bd-1e2d9fabc430] --- FSM STATE: ERROR ---
[2025-06-18 12:44:57] ERROR    [agent_fsm:1101] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:44:57] ERROR    [agent_fsm:1102] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:57] WARNING  [agent_fsm:1224] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:57] ERROR    [agent_fsm:1078] [68964d46-5d83-46aa-93bd-1e2d9fabc430] --- FSM STATE: ERROR ---
[2025-06-18 12:44:57] ERROR    [agent_fsm:1101] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:44:57] ERROR    [agent_fsm:1102] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:57] WARNING  [agent_fsm:1224] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:57] ERROR    [agent_fsm:1078] [68964d46-5d83-46aa-93bd-1e2d9fabc430] --- FSM STATE: ERROR ---
[2025-06-18 12:44:57] ERROR    [agent_fsm:1101] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:44:57] ERROR    [agent_fsm:1102] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:57] WARNING  [agent_fsm:1224] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:57] ERROR    [agent_fsm:1078] [68964d46-5d83-46aa-93bd-1e2d9fabc430] --- FSM STATE: ERROR ---
[2025-06-18 12:44:57] ERROR    [agent_fsm:1101] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:44:57] ERROR    [agent_fsm:1102] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:57] WARNING  [agent_fsm:1224] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:57] ERROR    [agent_fsm:1078] [68964d46-5d83-46aa-93bd-1e2d9fabc430] --- FSM STATE: ERROR ---
[2025-06-18 12:44:57] ERROR    [agent_fsm:1101] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:44:57] ERROR    [agent_fsm:1102] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:57] WARNING  [agent_fsm:1224] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:57] ERROR    [agent_fsm:1078] [68964d46-5d83-46aa-93bd-1e2d9fabc430] --- FSM STATE: ERROR ---
[2025-06-18 12:44:57] ERROR    [agent_fsm:1101] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:44:57] ERROR    [agent_fsm:1102] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:57] WARNING  [agent_fsm:1224] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:57] ERROR    [agent_fsm:1078] [68964d46-5d83-46aa-93bd-1e2d9fabc430] --- FSM STATE: ERROR ---
[2025-06-18 12:44:57] ERROR    [agent_fsm:1101] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:44:57] ERROR    [agent_fsm:1102] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:57] WARNING  [agent_fsm:1224] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:57] ERROR    [agent_fsm:1078] [68964d46-5d83-46aa-93bd-1e2d9fabc430] --- FSM STATE: ERROR ---
[2025-06-18 12:44:57] ERROR    [agent_fsm:1101] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:44:57] ERROR    [agent_fsm:1102] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:57] WARNING  [agent_fsm:1224] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:57] ERROR    [agent_fsm:1078] [68964d46-5d83-46aa-93bd-1e2d9fabc430] --- FSM STATE: ERROR ---
[2025-06-18 12:44:57] ERROR    [agent_fsm:1101] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:44:57] ERROR    [agent_fsm:1102] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:57] WARNING  [agent_fsm:1224] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:57] ERROR    [agent_fsm:1078] [68964d46-5d83-46aa-93bd-1e2d9fabc430] --- FSM STATE: ERROR ---
[2025-06-18 12:44:57] ERROR    [agent_fsm:1101] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:44:57] ERROR    [agent_fsm:1102] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:57] WARNING  [agent_fsm:1224] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:57] ERROR    [agent_fsm:1078] [68964d46-5d83-46aa-93bd-1e2d9fabc430] --- FSM STATE: ERROR ---
[2025-06-18 12:44:57] ERROR    [agent_fsm:1101] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:44:57] ERROR    [agent_fsm:1102] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:57] WARNING  [agent_fsm:1224] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:57] ERROR    [agent_fsm:1078] [68964d46-5d83-46aa-93bd-1e2d9fabc430] --- FSM STATE: ERROR ---
[2025-06-18 12:44:57] ERROR    [agent_fsm:1101] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:44:57] ERROR    [agent_fsm:1102] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:57] WARNING  [agent_fsm:1224] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:57] ERROR    [agent_fsm:1078] [68964d46-5d83-46aa-93bd-1e2d9fabc430] --- FSM STATE: ERROR ---
[2025-06-18 12:44:57] ERROR    [agent_fsm:1101] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:44:57] ERROR    [agent_fsm:1102] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:57] WARNING  [agent_fsm:1224] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:57] ERROR    [agent_fsm:1078] [68964d46-5d83-46aa-93bd-1e2d9fabc430] --- FSM STATE: ERROR ---
[2025-06-18 12:44:57] ERROR    [agent_fsm:1101] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:44:57] ERROR    [agent_fsm:1102] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:57] WARNING  [agent_fsm:1224] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:57] ERROR    [agent_fsm:1078] [68964d46-5d83-46aa-93bd-1e2d9fabc430] --- FSM STATE: ERROR ---
[2025-06-18 12:44:57] ERROR    [agent_fsm:1101] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:44:57] ERROR    [agent_fsm:1102] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:57] WARNING  [agent_fsm:1224] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:57] ERROR    [agent_fsm:1078] [68964d46-5d83-46aa-93bd-1e2d9fabc430] --- FSM STATE: ERROR ---
[2025-06-18 12:44:57] ERROR    [agent_fsm:1101] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:44:57] ERROR    [agent_fsm:1102] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:57] WARNING  [agent_fsm:1224] [68964d46-5d83-46aa-93bd-1e2d9fabc430] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:57] ERROR    [agent_fsm:1837] [68964d46-5d83-46aa-93bd-1e2d9fabc430] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:44:57] INFO     [agent_fsm:1752] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Starting resilient FSM execution
[2025-06-18 12:44:57] INFO     [agent_fsm:1807] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] FSM STATE: INITIAL
[2025-06-18 12:44:57] INFO     [agent_fsm:665] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:44:57] DEBUG    [agent_fsm:680] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Turn count: 1, Action history length: 1
[2025-06-18 12:44:57] WARNING  [agent_fsm:1521] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:44:57] INFO     [agent_fsm:773] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:44:57] INFO     [agent_fsm:820] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:44:57] INFO     [agent_fsm:922] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Tool execution completed
[2025-06-18 12:44:57] INFO     [agent_fsm:773] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:44:57] WARNING  [agent_fsm:803] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:44:57] INFO     [agent_fsm:665] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:44:57] DEBUG    [agent_fsm:680] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Turn count: 2, Action history length: 2
[2025-06-18 12:44:58] WARNING  [agent_fsm:1521] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:44:58] WARNING  [agent_fsm:1521] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:44:58] INFO     [agent_fsm:773] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:44:58] WARNING  [agent_fsm:803] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:44:58] INFO     [agent_fsm:665] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] --- FSM STATE: PLANNING (Step 3) ---
[2025-06-18 12:44:58] DEBUG    [agent_fsm:680] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Turn count: 3, Action history length: 3
[2025-06-18 12:44:59] WARNING  [agent_fsm:1521] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:44:59] WARNING  [agent_fsm:1224] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:59] ERROR    [agent_fsm:1078] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] --- FSM STATE: ERROR ---
[2025-06-18 12:44:59] ERROR    [agent_fsm:1101] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:44:59] ERROR    [agent_fsm:1102] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:59] WARNING  [agent_fsm:1224] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:59] ERROR    [agent_fsm:1078] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] --- FSM STATE: ERROR ---
[2025-06-18 12:44:59] ERROR    [agent_fsm:1101] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:44:59] ERROR    [agent_fsm:1102] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:59] WARNING  [agent_fsm:1224] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:59] ERROR    [agent_fsm:1078] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] --- FSM STATE: ERROR ---
[2025-06-18 12:44:59] ERROR    [agent_fsm:1101] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:44:59] ERROR    [agent_fsm:1102] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:59] WARNING  [agent_fsm:1224] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:59] ERROR    [agent_fsm:1078] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] --- FSM STATE: ERROR ---
[2025-06-18 12:44:59] ERROR    [agent_fsm:1101] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:44:59] ERROR    [agent_fsm:1102] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:59] WARNING  [agent_fsm:1224] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:59] ERROR    [agent_fsm:1078] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] --- FSM STATE: ERROR ---
[2025-06-18 12:44:59] ERROR    [agent_fsm:1101] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:44:59] ERROR    [agent_fsm:1102] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:59] WARNING  [agent_fsm:1224] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:59] ERROR    [agent_fsm:1078] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] --- FSM STATE: ERROR ---
[2025-06-18 12:44:59] ERROR    [agent_fsm:1101] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:44:59] ERROR    [agent_fsm:1102] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:59] WARNING  [agent_fsm:1224] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:59] ERROR    [agent_fsm:1078] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] --- FSM STATE: ERROR ---
[2025-06-18 12:44:59] ERROR    [agent_fsm:1101] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:44:59] ERROR    [agent_fsm:1102] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:59] WARNING  [agent_fsm:1224] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:59] ERROR    [agent_fsm:1078] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] --- FSM STATE: ERROR ---
[2025-06-18 12:44:59] ERROR    [agent_fsm:1101] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:44:59] ERROR    [agent_fsm:1102] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:59] WARNING  [agent_fsm:1224] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:59] ERROR    [agent_fsm:1078] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] --- FSM STATE: ERROR ---
[2025-06-18 12:44:59] ERROR    [agent_fsm:1101] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:44:59] ERROR    [agent_fsm:1102] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:59] WARNING  [agent_fsm:1224] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:59] ERROR    [agent_fsm:1078] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] --- FSM STATE: ERROR ---
[2025-06-18 12:44:59] ERROR    [agent_fsm:1101] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:44:59] ERROR    [agent_fsm:1102] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:59] WARNING  [agent_fsm:1224] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:59] ERROR    [agent_fsm:1078] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] --- FSM STATE: ERROR ---
[2025-06-18 12:44:59] ERROR    [agent_fsm:1101] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:44:59] ERROR    [agent_fsm:1102] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:59] WARNING  [agent_fsm:1224] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:59] ERROR    [agent_fsm:1078] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] --- FSM STATE: ERROR ---
[2025-06-18 12:44:59] ERROR    [agent_fsm:1101] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:44:59] ERROR    [agent_fsm:1102] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:59] WARNING  [agent_fsm:1224] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:59] ERROR    [agent_fsm:1078] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] --- FSM STATE: ERROR ---
[2025-06-18 12:44:59] ERROR    [agent_fsm:1101] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:44:59] ERROR    [agent_fsm:1102] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:59] WARNING  [agent_fsm:1224] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:59] ERROR    [agent_fsm:1078] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] --- FSM STATE: ERROR ---
[2025-06-18 12:44:59] ERROR    [agent_fsm:1101] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:44:59] ERROR    [agent_fsm:1102] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:59] WARNING  [agent_fsm:1224] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:59] ERROR    [agent_fsm:1078] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] --- FSM STATE: ERROR ---
[2025-06-18 12:44:59] ERROR    [agent_fsm:1101] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:44:59] ERROR    [agent_fsm:1102] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:59] WARNING  [agent_fsm:1224] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:59] ERROR    [agent_fsm:1078] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] --- FSM STATE: ERROR ---
[2025-06-18 12:44:59] ERROR    [agent_fsm:1101] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:44:59] ERROR    [agent_fsm:1102] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:59] WARNING  [agent_fsm:1224] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:59] ERROR    [agent_fsm:1078] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] --- FSM STATE: ERROR ---
[2025-06-18 12:44:59] ERROR    [agent_fsm:1101] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:44:59] ERROR    [agent_fsm:1102] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:59] WARNING  [agent_fsm:1224] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:59] ERROR    [agent_fsm:1078] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] --- FSM STATE: ERROR ---
[2025-06-18 12:44:59] ERROR    [agent_fsm:1101] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:44:59] ERROR    [agent_fsm:1102] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:59] WARNING  [agent_fsm:1224] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:59] ERROR    [agent_fsm:1078] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] --- FSM STATE: ERROR ---
[2025-06-18 12:44:59] ERROR    [agent_fsm:1101] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Error category: GENERAL, Occurrences: 19
[2025-06-18 12:44:59] ERROR    [agent_fsm:1102] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:44:59] WARNING  [agent_fsm:1224] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:44:59] ERROR    [agent_fsm:1837] [8ffd9d47-52f3-4d2e-80fa-81de594aa1e2] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:44:59] INFO     [agent_fsm:1752] [24b7d48c-8167-468a-be8c-821247d3af8c] Starting resilient FSM execution
[2025-06-18 12:44:59] INFO     [agent_fsm:1807] [24b7d48c-8167-468a-be8c-821247d3af8c] FSM STATE: INITIAL
[2025-06-18 12:44:59] INFO     [agent_fsm:665] [24b7d48c-8167-468a-be8c-821247d3af8c] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:44:59] DEBUG    [agent_fsm:680] [24b7d48c-8167-468a-be8c-821247d3af8c] Turn count: 1, Action history length: 1
[2025-06-18 12:45:00] WARNING  [agent_fsm:1521] [24b7d48c-8167-468a-be8c-821247d3af8c] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:45:00] WARNING  [agent_fsm:1521] [24b7d48c-8167-468a-be8c-821247d3af8c] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:45:00] WARNING  [agent_fsm:1521] [24b7d48c-8167-468a-be8c-821247d3af8c] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:45:00] INFO     [agent_fsm:773] [24b7d48c-8167-468a-be8c-821247d3af8c] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:45:00] INFO     [agent_fsm:820] [24b7d48c-8167-468a-be8c-821247d3af8c] Executing tool: web_researcher with input: {'query': 'largest planet in our solar system', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 12:45:00] INFO     [agent_fsm:922] [24b7d48c-8167-468a-be8c-821247d3af8c] Tool execution completed
[2025-06-18 12:45:00] INFO     [agent_fsm:773] [24b7d48c-8167-468a-be8c-821247d3af8c] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:45:00] WARNING  [agent_fsm:803] [24b7d48c-8167-468a-be8c-821247d3af8c] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:45:00] INFO     [agent_fsm:665] [24b7d48c-8167-468a-be8c-821247d3af8c] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:45:00] DEBUG    [agent_fsm:680] [24b7d48c-8167-468a-be8c-821247d3af8c] Turn count: 2, Action history length: 2
[2025-06-18 12:45:00] WARNING  [agent_fsm:1521] [24b7d48c-8167-468a-be8c-821247d3af8c] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:45:00] WARNING  [agent_fsm:1521] [24b7d48c-8167-468a-be8c-821247d3af8c] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:45:00] WARNING  [agent_fsm:1521] [24b7d48c-8167-468a-be8c-821247d3af8c] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:45:00] INFO     [agent_fsm:773] [24b7d48c-8167-468a-be8c-821247d3af8c] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:45:00] INFO     [agent_fsm:820] [24b7d48c-8167-468a-be8c-821247d3af8c] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:45:00] INFO     [agent_fsm:922] [24b7d48c-8167-468a-be8c-821247d3af8c] Tool execution completed
[2025-06-18 12:45:00] INFO     [agent_fsm:773] [24b7d48c-8167-468a-be8c-821247d3af8c] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:45:00] WARNING  [agent_fsm:803] [24b7d48c-8167-468a-be8c-821247d3af8c] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:45:00] INFO     [agent_fsm:665] [24b7d48c-8167-468a-be8c-821247d3af8c] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:45:00] DEBUG    [agent_fsm:680] [24b7d48c-8167-468a-be8c-821247d3af8c] Turn count: 3, Action history length: 3
[2025-06-18 12:45:01] WARNING  [agent_fsm:1521] [24b7d48c-8167-468a-be8c-821247d3af8c] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:45:01] WARNING  [agent_fsm:1521] [24b7d48c-8167-468a-be8c-821247d3af8c] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:45:01] WARNING  [agent_fsm:1521] [24b7d48c-8167-468a-be8c-821247d3af8c] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:45:01] WARNING  [agent_fsm:1224] [24b7d48c-8167-468a-be8c-821247d3af8c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:01] ERROR    [agent_fsm:1078] [24b7d48c-8167-468a-be8c-821247d3af8c] --- FSM STATE: ERROR ---
[2025-06-18 12:45:01] ERROR    [agent_fsm:1101] [24b7d48c-8167-468a-be8c-821247d3af8c] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:45:01] ERROR    [agent_fsm:1102] [24b7d48c-8167-468a-be8c-821247d3af8c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:01] WARNING  [agent_fsm:1224] [24b7d48c-8167-468a-be8c-821247d3af8c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:01] ERROR    [agent_fsm:1078] [24b7d48c-8167-468a-be8c-821247d3af8c] --- FSM STATE: ERROR ---
[2025-06-18 12:45:01] ERROR    [agent_fsm:1101] [24b7d48c-8167-468a-be8c-821247d3af8c] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:45:01] ERROR    [agent_fsm:1102] [24b7d48c-8167-468a-be8c-821247d3af8c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:01] WARNING  [agent_fsm:1224] [24b7d48c-8167-468a-be8c-821247d3af8c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:01] ERROR    [agent_fsm:1078] [24b7d48c-8167-468a-be8c-821247d3af8c] --- FSM STATE: ERROR ---
[2025-06-18 12:45:01] ERROR    [agent_fsm:1101] [24b7d48c-8167-468a-be8c-821247d3af8c] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:45:01] ERROR    [agent_fsm:1102] [24b7d48c-8167-468a-be8c-821247d3af8c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:01] WARNING  [agent_fsm:1224] [24b7d48c-8167-468a-be8c-821247d3af8c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:01] ERROR    [agent_fsm:1078] [24b7d48c-8167-468a-be8c-821247d3af8c] --- FSM STATE: ERROR ---
[2025-06-18 12:45:01] ERROR    [agent_fsm:1101] [24b7d48c-8167-468a-be8c-821247d3af8c] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:45:01] ERROR    [agent_fsm:1102] [24b7d48c-8167-468a-be8c-821247d3af8c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:01] WARNING  [agent_fsm:1224] [24b7d48c-8167-468a-be8c-821247d3af8c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:01] ERROR    [agent_fsm:1078] [24b7d48c-8167-468a-be8c-821247d3af8c] --- FSM STATE: ERROR ---
[2025-06-18 12:45:01] ERROR    [agent_fsm:1101] [24b7d48c-8167-468a-be8c-821247d3af8c] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:45:01] ERROR    [agent_fsm:1102] [24b7d48c-8167-468a-be8c-821247d3af8c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:01] WARNING  [agent_fsm:1224] [24b7d48c-8167-468a-be8c-821247d3af8c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:01] ERROR    [agent_fsm:1078] [24b7d48c-8167-468a-be8c-821247d3af8c] --- FSM STATE: ERROR ---
[2025-06-18 12:45:01] ERROR    [agent_fsm:1101] [24b7d48c-8167-468a-be8c-821247d3af8c] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:45:01] ERROR    [agent_fsm:1102] [24b7d48c-8167-468a-be8c-821247d3af8c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:01] WARNING  [agent_fsm:1224] [24b7d48c-8167-468a-be8c-821247d3af8c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:01] ERROR    [agent_fsm:1078] [24b7d48c-8167-468a-be8c-821247d3af8c] --- FSM STATE: ERROR ---
[2025-06-18 12:45:01] ERROR    [agent_fsm:1101] [24b7d48c-8167-468a-be8c-821247d3af8c] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:45:01] ERROR    [agent_fsm:1102] [24b7d48c-8167-468a-be8c-821247d3af8c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:01] WARNING  [agent_fsm:1224] [24b7d48c-8167-468a-be8c-821247d3af8c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:01] ERROR    [agent_fsm:1078] [24b7d48c-8167-468a-be8c-821247d3af8c] --- FSM STATE: ERROR ---
[2025-06-18 12:45:01] ERROR    [agent_fsm:1101] [24b7d48c-8167-468a-be8c-821247d3af8c] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:45:01] ERROR    [agent_fsm:1102] [24b7d48c-8167-468a-be8c-821247d3af8c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:01] WARNING  [agent_fsm:1224] [24b7d48c-8167-468a-be8c-821247d3af8c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:01] ERROR    [agent_fsm:1078] [24b7d48c-8167-468a-be8c-821247d3af8c] --- FSM STATE: ERROR ---
[2025-06-18 12:45:01] ERROR    [agent_fsm:1101] [24b7d48c-8167-468a-be8c-821247d3af8c] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:45:01] ERROR    [agent_fsm:1102] [24b7d48c-8167-468a-be8c-821247d3af8c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:01] WARNING  [agent_fsm:1224] [24b7d48c-8167-468a-be8c-821247d3af8c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:01] ERROR    [agent_fsm:1078] [24b7d48c-8167-468a-be8c-821247d3af8c] --- FSM STATE: ERROR ---
[2025-06-18 12:45:01] ERROR    [agent_fsm:1101] [24b7d48c-8167-468a-be8c-821247d3af8c] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:45:01] ERROR    [agent_fsm:1102] [24b7d48c-8167-468a-be8c-821247d3af8c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:01] WARNING  [agent_fsm:1224] [24b7d48c-8167-468a-be8c-821247d3af8c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:01] ERROR    [agent_fsm:1078] [24b7d48c-8167-468a-be8c-821247d3af8c] --- FSM STATE: ERROR ---
[2025-06-18 12:45:01] ERROR    [agent_fsm:1101] [24b7d48c-8167-468a-be8c-821247d3af8c] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:45:01] ERROR    [agent_fsm:1102] [24b7d48c-8167-468a-be8c-821247d3af8c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:01] WARNING  [agent_fsm:1224] [24b7d48c-8167-468a-be8c-821247d3af8c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:01] ERROR    [agent_fsm:1078] [24b7d48c-8167-468a-be8c-821247d3af8c] --- FSM STATE: ERROR ---
[2025-06-18 12:45:01] ERROR    [agent_fsm:1101] [24b7d48c-8167-468a-be8c-821247d3af8c] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:45:01] ERROR    [agent_fsm:1102] [24b7d48c-8167-468a-be8c-821247d3af8c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:01] WARNING  [agent_fsm:1224] [24b7d48c-8167-468a-be8c-821247d3af8c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:01] ERROR    [agent_fsm:1078] [24b7d48c-8167-468a-be8c-821247d3af8c] --- FSM STATE: ERROR ---
[2025-06-18 12:45:01] ERROR    [agent_fsm:1101] [24b7d48c-8167-468a-be8c-821247d3af8c] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:45:01] ERROR    [agent_fsm:1102] [24b7d48c-8167-468a-be8c-821247d3af8c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:01] WARNING  [agent_fsm:1224] [24b7d48c-8167-468a-be8c-821247d3af8c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:01] ERROR    [agent_fsm:1078] [24b7d48c-8167-468a-be8c-821247d3af8c] --- FSM STATE: ERROR ---
[2025-06-18 12:45:01] ERROR    [agent_fsm:1101] [24b7d48c-8167-468a-be8c-821247d3af8c] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:45:01] ERROR    [agent_fsm:1102] [24b7d48c-8167-468a-be8c-821247d3af8c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:01] WARNING  [agent_fsm:1224] [24b7d48c-8167-468a-be8c-821247d3af8c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:01] ERROR    [agent_fsm:1078] [24b7d48c-8167-468a-be8c-821247d3af8c] --- FSM STATE: ERROR ---
[2025-06-18 12:45:01] ERROR    [agent_fsm:1101] [24b7d48c-8167-468a-be8c-821247d3af8c] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:45:01] ERROR    [agent_fsm:1102] [24b7d48c-8167-468a-be8c-821247d3af8c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:01] WARNING  [agent_fsm:1224] [24b7d48c-8167-468a-be8c-821247d3af8c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:01] ERROR    [agent_fsm:1078] [24b7d48c-8167-468a-be8c-821247d3af8c] --- FSM STATE: ERROR ---
[2025-06-18 12:45:01] ERROR    [agent_fsm:1101] [24b7d48c-8167-468a-be8c-821247d3af8c] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:45:01] ERROR    [agent_fsm:1102] [24b7d48c-8167-468a-be8c-821247d3af8c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:01] WARNING  [agent_fsm:1224] [24b7d48c-8167-468a-be8c-821247d3af8c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:01] ERROR    [agent_fsm:1078] [24b7d48c-8167-468a-be8c-821247d3af8c] --- FSM STATE: ERROR ---
[2025-06-18 12:45:01] ERROR    [agent_fsm:1101] [24b7d48c-8167-468a-be8c-821247d3af8c] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:45:01] ERROR    [agent_fsm:1102] [24b7d48c-8167-468a-be8c-821247d3af8c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:01] WARNING  [agent_fsm:1224] [24b7d48c-8167-468a-be8c-821247d3af8c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:01] ERROR    [agent_fsm:1078] [24b7d48c-8167-468a-be8c-821247d3af8c] --- FSM STATE: ERROR ---
[2025-06-18 12:45:01] ERROR    [agent_fsm:1101] [24b7d48c-8167-468a-be8c-821247d3af8c] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:45:01] ERROR    [agent_fsm:1102] [24b7d48c-8167-468a-be8c-821247d3af8c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:01] WARNING  [agent_fsm:1224] [24b7d48c-8167-468a-be8c-821247d3af8c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:01] ERROR    [agent_fsm:1837] [24b7d48c-8167-468a-be8c-821247d3af8c] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:45:01] INFO     [agent_fsm:1752] [e9f6c45b-7513-4d64-a148-d2283775bec4] Starting resilient FSM execution
[2025-06-18 12:45:01] INFO     [agent_fsm:1807] [e9f6c45b-7513-4d64-a148-d2283775bec4] FSM STATE: INITIAL
[2025-06-18 12:45:01] INFO     [agent_fsm:665] [e9f6c45b-7513-4d64-a148-d2283775bec4] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:45:01] DEBUG    [agent_fsm:680] [e9f6c45b-7513-4d64-a148-d2283775bec4] Turn count: 1, Action history length: 1
[2025-06-18 12:45:02] INFO     [agent_fsm:773] [e9f6c45b-7513-4d64-a148-d2283775bec4] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:45:02] INFO     [agent_fsm:820] [e9f6c45b-7513-4d64-a148-d2283775bec4] Executing tool: web_researcher with input: {'query': 'extract video URL from googleusercontent.com/costa-rica/birds', 'date_range': None, 'search_type': 'general', 'source': 'search'}
[2025-06-18 12:45:02] INFO     [agent_fsm:922] [e9f6c45b-7513-4d64-a148-d2283775bec4] Tool execution completed
[2025-06-18 12:45:02] INFO     [agent_fsm:773] [e9f6c45b-7513-4d64-a148-d2283775bec4] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:45:02] WARNING  [agent_fsm:803] [e9f6c45b-7513-4d64-a148-d2283775bec4] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:45:02] INFO     [agent_fsm:665] [e9f6c45b-7513-4d64-a148-d2283775bec4] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:45:02] DEBUG    [agent_fsm:680] [e9f6c45b-7513-4d64-a148-d2283775bec4] Turn count: 2, Action history length: 2
[2025-06-18 12:45:02] WARNING  [agent_fsm:1521] [e9f6c45b-7513-4d64-a148-d2283775bec4] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:45:02] INFO     [agent_fsm:773] [e9f6c45b-7513-4d64-a148-d2283775bec4] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:45:02] INFO     [agent_fsm:820] [e9f6c45b-7513-4d64-a148-d2283775bec4] Executing tool: gaia_video_analyzer with input: {'video_url': 'https://googleusercontent.com/costa-rica/birds'}
[2025-06-18 12:45:02] INFO     [agent_fsm:922] [e9f6c45b-7513-4d64-a148-d2283775bec4] Tool execution completed
[2025-06-18 12:45:02] INFO     [agent_fsm:773] [e9f6c45b-7513-4d64-a148-d2283775bec4] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:45:02] WARNING  [agent_fsm:803] [e9f6c45b-7513-4d64-a148-d2283775bec4] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:45:02] INFO     [agent_fsm:665] [e9f6c45b-7513-4d64-a148-d2283775bec4] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:45:02] DEBUG    [agent_fsm:680] [e9f6c45b-7513-4d64-a148-d2283775bec4] Turn count: 3, Action history length: 3
[2025-06-18 12:45:04] WARNING  [agent_fsm:1521] [e9f6c45b-7513-4d64-a148-d2283775bec4] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:45:04] WARNING  [agent_fsm:1521] [e9f6c45b-7513-4d64-a148-d2283775bec4] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:45:04] WARNING  [agent_fsm:1521] [e9f6c45b-7513-4d64-a148-d2283775bec4] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:45:04] WARNING  [agent_fsm:1521] [e9f6c45b-7513-4d64-a148-d2283775bec4] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:45:04] WARNING  [agent_fsm:1224] [e9f6c45b-7513-4d64-a148-d2283775bec4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:04] ERROR    [agent_fsm:1078] [e9f6c45b-7513-4d64-a148-d2283775bec4] --- FSM STATE: ERROR ---
[2025-06-18 12:45:04] ERROR    [agent_fsm:1101] [e9f6c45b-7513-4d64-a148-d2283775bec4] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:45:04] ERROR    [agent_fsm:1102] [e9f6c45b-7513-4d64-a148-d2283775bec4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:04] WARNING  [agent_fsm:1224] [e9f6c45b-7513-4d64-a148-d2283775bec4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:04] ERROR    [agent_fsm:1078] [e9f6c45b-7513-4d64-a148-d2283775bec4] --- FSM STATE: ERROR ---
[2025-06-18 12:45:04] ERROR    [agent_fsm:1101] [e9f6c45b-7513-4d64-a148-d2283775bec4] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:45:04] ERROR    [agent_fsm:1102] [e9f6c45b-7513-4d64-a148-d2283775bec4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:04] WARNING  [agent_fsm:1224] [e9f6c45b-7513-4d64-a148-d2283775bec4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:04] ERROR    [agent_fsm:1078] [e9f6c45b-7513-4d64-a148-d2283775bec4] --- FSM STATE: ERROR ---
[2025-06-18 12:45:04] ERROR    [agent_fsm:1101] [e9f6c45b-7513-4d64-a148-d2283775bec4] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:45:04] ERROR    [agent_fsm:1102] [e9f6c45b-7513-4d64-a148-d2283775bec4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:04] WARNING  [agent_fsm:1224] [e9f6c45b-7513-4d64-a148-d2283775bec4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:04] ERROR    [agent_fsm:1078] [e9f6c45b-7513-4d64-a148-d2283775bec4] --- FSM STATE: ERROR ---
[2025-06-18 12:45:04] ERROR    [agent_fsm:1101] [e9f6c45b-7513-4d64-a148-d2283775bec4] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:45:04] ERROR    [agent_fsm:1102] [e9f6c45b-7513-4d64-a148-d2283775bec4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:04] WARNING  [agent_fsm:1224] [e9f6c45b-7513-4d64-a148-d2283775bec4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:04] ERROR    [agent_fsm:1078] [e9f6c45b-7513-4d64-a148-d2283775bec4] --- FSM STATE: ERROR ---
[2025-06-18 12:45:04] ERROR    [agent_fsm:1101] [e9f6c45b-7513-4d64-a148-d2283775bec4] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:45:04] ERROR    [agent_fsm:1102] [e9f6c45b-7513-4d64-a148-d2283775bec4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:04] WARNING  [agent_fsm:1224] [e9f6c45b-7513-4d64-a148-d2283775bec4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:04] ERROR    [agent_fsm:1078] [e9f6c45b-7513-4d64-a148-d2283775bec4] --- FSM STATE: ERROR ---
[2025-06-18 12:45:04] ERROR    [agent_fsm:1101] [e9f6c45b-7513-4d64-a148-d2283775bec4] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:45:04] ERROR    [agent_fsm:1102] [e9f6c45b-7513-4d64-a148-d2283775bec4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:04] WARNING  [agent_fsm:1224] [e9f6c45b-7513-4d64-a148-d2283775bec4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:04] ERROR    [agent_fsm:1078] [e9f6c45b-7513-4d64-a148-d2283775bec4] --- FSM STATE: ERROR ---
[2025-06-18 12:45:04] ERROR    [agent_fsm:1101] [e9f6c45b-7513-4d64-a148-d2283775bec4] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:45:04] ERROR    [agent_fsm:1102] [e9f6c45b-7513-4d64-a148-d2283775bec4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:04] WARNING  [agent_fsm:1224] [e9f6c45b-7513-4d64-a148-d2283775bec4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:04] ERROR    [agent_fsm:1078] [e9f6c45b-7513-4d64-a148-d2283775bec4] --- FSM STATE: ERROR ---
[2025-06-18 12:45:04] ERROR    [agent_fsm:1101] [e9f6c45b-7513-4d64-a148-d2283775bec4] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:45:04] ERROR    [agent_fsm:1102] [e9f6c45b-7513-4d64-a148-d2283775bec4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:04] WARNING  [agent_fsm:1224] [e9f6c45b-7513-4d64-a148-d2283775bec4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:04] ERROR    [agent_fsm:1078] [e9f6c45b-7513-4d64-a148-d2283775bec4] --- FSM STATE: ERROR ---
[2025-06-18 12:45:04] ERROR    [agent_fsm:1101] [e9f6c45b-7513-4d64-a148-d2283775bec4] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:45:04] ERROR    [agent_fsm:1102] [e9f6c45b-7513-4d64-a148-d2283775bec4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:04] WARNING  [agent_fsm:1224] [e9f6c45b-7513-4d64-a148-d2283775bec4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:04] ERROR    [agent_fsm:1078] [e9f6c45b-7513-4d64-a148-d2283775bec4] --- FSM STATE: ERROR ---
[2025-06-18 12:45:04] ERROR    [agent_fsm:1101] [e9f6c45b-7513-4d64-a148-d2283775bec4] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:45:04] ERROR    [agent_fsm:1102] [e9f6c45b-7513-4d64-a148-d2283775bec4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:04] WARNING  [agent_fsm:1224] [e9f6c45b-7513-4d64-a148-d2283775bec4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:04] ERROR    [agent_fsm:1078] [e9f6c45b-7513-4d64-a148-d2283775bec4] --- FSM STATE: ERROR ---
[2025-06-18 12:45:04] ERROR    [agent_fsm:1101] [e9f6c45b-7513-4d64-a148-d2283775bec4] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:45:04] ERROR    [agent_fsm:1102] [e9f6c45b-7513-4d64-a148-d2283775bec4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:04] WARNING  [agent_fsm:1224] [e9f6c45b-7513-4d64-a148-d2283775bec4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:04] ERROR    [agent_fsm:1078] [e9f6c45b-7513-4d64-a148-d2283775bec4] --- FSM STATE: ERROR ---
[2025-06-18 12:45:04] ERROR    [agent_fsm:1101] [e9f6c45b-7513-4d64-a148-d2283775bec4] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:45:04] ERROR    [agent_fsm:1102] [e9f6c45b-7513-4d64-a148-d2283775bec4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:04] WARNING  [agent_fsm:1224] [e9f6c45b-7513-4d64-a148-d2283775bec4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:04] ERROR    [agent_fsm:1078] [e9f6c45b-7513-4d64-a148-d2283775bec4] --- FSM STATE: ERROR ---
[2025-06-18 12:45:04] ERROR    [agent_fsm:1101] [e9f6c45b-7513-4d64-a148-d2283775bec4] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:45:04] ERROR    [agent_fsm:1102] [e9f6c45b-7513-4d64-a148-d2283775bec4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:04] WARNING  [agent_fsm:1224] [e9f6c45b-7513-4d64-a148-d2283775bec4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:04] ERROR    [agent_fsm:1078] [e9f6c45b-7513-4d64-a148-d2283775bec4] --- FSM STATE: ERROR ---
[2025-06-18 12:45:04] ERROR    [agent_fsm:1101] [e9f6c45b-7513-4d64-a148-d2283775bec4] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:45:04] ERROR    [agent_fsm:1102] [e9f6c45b-7513-4d64-a148-d2283775bec4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:04] WARNING  [agent_fsm:1224] [e9f6c45b-7513-4d64-a148-d2283775bec4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:04] ERROR    [agent_fsm:1078] [e9f6c45b-7513-4d64-a148-d2283775bec4] --- FSM STATE: ERROR ---
[2025-06-18 12:45:04] ERROR    [agent_fsm:1101] [e9f6c45b-7513-4d64-a148-d2283775bec4] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:45:04] ERROR    [agent_fsm:1102] [e9f6c45b-7513-4d64-a148-d2283775bec4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:04] WARNING  [agent_fsm:1224] [e9f6c45b-7513-4d64-a148-d2283775bec4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:04] ERROR    [agent_fsm:1078] [e9f6c45b-7513-4d64-a148-d2283775bec4] --- FSM STATE: ERROR ---
[2025-06-18 12:45:04] ERROR    [agent_fsm:1101] [e9f6c45b-7513-4d64-a148-d2283775bec4] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:45:04] ERROR    [agent_fsm:1102] [e9f6c45b-7513-4d64-a148-d2283775bec4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:04] WARNING  [agent_fsm:1224] [e9f6c45b-7513-4d64-a148-d2283775bec4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:04] ERROR    [agent_fsm:1078] [e9f6c45b-7513-4d64-a148-d2283775bec4] --- FSM STATE: ERROR ---
[2025-06-18 12:45:04] ERROR    [agent_fsm:1101] [e9f6c45b-7513-4d64-a148-d2283775bec4] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:45:04] ERROR    [agent_fsm:1102] [e9f6c45b-7513-4d64-a148-d2283775bec4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:04] WARNING  [agent_fsm:1224] [e9f6c45b-7513-4d64-a148-d2283775bec4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:04] ERROR    [agent_fsm:1078] [e9f6c45b-7513-4d64-a148-d2283775bec4] --- FSM STATE: ERROR ---
[2025-06-18 12:45:04] ERROR    [agent_fsm:1101] [e9f6c45b-7513-4d64-a148-d2283775bec4] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:45:04] ERROR    [agent_fsm:1102] [e9f6c45b-7513-4d64-a148-d2283775bec4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:04] WARNING  [agent_fsm:1224] [e9f6c45b-7513-4d64-a148-d2283775bec4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:04] ERROR    [agent_fsm:1837] [e9f6c45b-7513-4d64-a148-d2283775bec4] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:45:04] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 12:45:04] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 12:45:04] INFO     [agent_fsm:570] [4ffcdd04-e57d-4b9a-9862-04b2e9acbff7] Building resilient FSM graph
[2025-06-18 12:45:04] INFO     [agent_fsm:572] [4ffcdd04-e57d-4b9a-9862-04b2e9acbff7] FSMReActAgent graph built successfully
[2025-06-18 12:45:04] INFO     [agent_fsm:1752] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Starting resilient FSM execution
[2025-06-18 12:45:04] INFO     [agent_fsm:1807] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] FSM STATE: INITIAL
[2025-06-18 12:45:04] INFO     [agent_fsm:665] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:45:04] DEBUG    [agent_fsm:680] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Turn count: 1, Action history length: 1
[2025-06-18 12:45:05] WARNING  [agent_fsm:1521] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:45:05] WARNING  [agent_fsm:1521] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:45:05] WARNING  [agent_fsm:1521] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Failed to parse JSON parameters for step 8, using fallback parser
[2025-06-18 12:45:05] WARNING  [agent_fsm:1521] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Failed to parse JSON parameters for step 10, using fallback parser
[2025-06-18 12:45:05] ERROR    [agent_fsm:1359] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:45:05] WARNING  [agent_fsm:1333] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Tool image_analyzer not found in registry, will use stub
[2025-06-18 12:45:05] INFO     [agent_fsm:773] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:45:05] INFO     [agent_fsm:820] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Executing tool: advanced_file_reader with input: {'filename': 'path/to/attached_excel_file.xlsx'}
[2025-06-18 12:45:05] INFO     [agent_fsm:922] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Tool execution completed
[2025-06-18 12:45:05] INFO     [agent_fsm:773] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:45:05] WARNING  [agent_fsm:803] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:45:05] INFO     [agent_fsm:665] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:45:05] DEBUG    [agent_fsm:680] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Turn count: 2, Action history length: 2
[2025-06-18 12:45:06] WARNING  [agent_fsm:1521] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:45:06] INFO     [agent_fsm:773] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:45:06] INFO     [agent_fsm:820] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Executing tool: file_reader with input: {'filename': 'path/to/attached/excel/file.xlsx', 'lines': -1}
[2025-06-18 12:45:06] INFO     [agent_fsm:922] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Tool execution completed
[2025-06-18 12:45:06] INFO     [agent_fsm:773] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:45:06] WARNING  [agent_fsm:803] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:45:06] INFO     [agent_fsm:665] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:45:06] DEBUG    [agent_fsm:680] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Turn count: 3, Action history length: 3
[2025-06-18 12:45:08] WARNING  [agent_fsm:1521] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:45:08] WARNING  [agent_fsm:1224] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:08] ERROR    [agent_fsm:1078] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] --- FSM STATE: ERROR ---
[2025-06-18 12:45:08] ERROR    [agent_fsm:1101] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:45:08] ERROR    [agent_fsm:1102] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:08] WARNING  [agent_fsm:1224] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:08] ERROR    [agent_fsm:1078] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] --- FSM STATE: ERROR ---
[2025-06-18 12:45:08] ERROR    [agent_fsm:1101] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:45:08] ERROR    [agent_fsm:1102] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:08] WARNING  [agent_fsm:1224] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:08] ERROR    [agent_fsm:1078] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] --- FSM STATE: ERROR ---
[2025-06-18 12:45:08] ERROR    [agent_fsm:1101] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:45:08] ERROR    [agent_fsm:1102] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:08] WARNING  [agent_fsm:1224] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:08] ERROR    [agent_fsm:1078] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] --- FSM STATE: ERROR ---
[2025-06-18 12:45:08] ERROR    [agent_fsm:1101] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:45:08] ERROR    [agent_fsm:1102] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:08] WARNING  [agent_fsm:1224] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:08] ERROR    [agent_fsm:1078] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] --- FSM STATE: ERROR ---
[2025-06-18 12:45:08] ERROR    [agent_fsm:1101] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:45:08] ERROR    [agent_fsm:1102] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:08] WARNING  [agent_fsm:1224] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:08] ERROR    [agent_fsm:1078] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] --- FSM STATE: ERROR ---
[2025-06-18 12:45:08] ERROR    [agent_fsm:1101] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:45:08] ERROR    [agent_fsm:1102] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:08] WARNING  [agent_fsm:1224] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:08] ERROR    [agent_fsm:1078] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] --- FSM STATE: ERROR ---
[2025-06-18 12:45:08] ERROR    [agent_fsm:1101] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:45:08] ERROR    [agent_fsm:1102] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:08] WARNING  [agent_fsm:1224] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:08] ERROR    [agent_fsm:1078] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] --- FSM STATE: ERROR ---
[2025-06-18 12:45:08] ERROR    [agent_fsm:1101] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:45:08] ERROR    [agent_fsm:1102] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:08] WARNING  [agent_fsm:1224] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:08] ERROR    [agent_fsm:1078] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] --- FSM STATE: ERROR ---
[2025-06-18 12:45:08] ERROR    [agent_fsm:1101] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:45:08] ERROR    [agent_fsm:1102] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:08] WARNING  [agent_fsm:1224] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:08] ERROR    [agent_fsm:1078] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] --- FSM STATE: ERROR ---
[2025-06-18 12:45:08] ERROR    [agent_fsm:1101] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:45:08] ERROR    [agent_fsm:1102] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:08] WARNING  [agent_fsm:1224] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:08] ERROR    [agent_fsm:1078] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] --- FSM STATE: ERROR ---
[2025-06-18 12:45:08] ERROR    [agent_fsm:1101] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:45:08] ERROR    [agent_fsm:1102] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:08] WARNING  [agent_fsm:1224] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:08] ERROR    [agent_fsm:1078] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] --- FSM STATE: ERROR ---
[2025-06-18 12:45:08] ERROR    [agent_fsm:1101] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:45:08] ERROR    [agent_fsm:1102] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:08] WARNING  [agent_fsm:1224] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:08] ERROR    [agent_fsm:1078] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] --- FSM STATE: ERROR ---
[2025-06-18 12:45:08] ERROR    [agent_fsm:1101] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:45:08] ERROR    [agent_fsm:1102] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:08] WARNING  [agent_fsm:1224] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:08] ERROR    [agent_fsm:1078] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] --- FSM STATE: ERROR ---
[2025-06-18 12:45:08] ERROR    [agent_fsm:1101] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:45:08] ERROR    [agent_fsm:1102] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:08] WARNING  [agent_fsm:1224] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:08] ERROR    [agent_fsm:1078] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] --- FSM STATE: ERROR ---
[2025-06-18 12:45:08] ERROR    [agent_fsm:1101] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:45:08] ERROR    [agent_fsm:1102] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:08] WARNING  [agent_fsm:1224] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:08] ERROR    [agent_fsm:1078] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] --- FSM STATE: ERROR ---
[2025-06-18 12:45:08] ERROR    [agent_fsm:1101] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:45:08] ERROR    [agent_fsm:1102] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:08] WARNING  [agent_fsm:1224] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:08] ERROR    [agent_fsm:1078] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] --- FSM STATE: ERROR ---
[2025-06-18 12:45:08] ERROR    [agent_fsm:1101] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:45:08] ERROR    [agent_fsm:1102] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:08] WARNING  [agent_fsm:1224] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:08] ERROR    [agent_fsm:1078] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] --- FSM STATE: ERROR ---
[2025-06-18 12:45:08] ERROR    [agent_fsm:1101] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:45:08] ERROR    [agent_fsm:1102] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:08] WARNING  [agent_fsm:1224] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:08] ERROR    [agent_fsm:1837] [34c03781-e46b-4a4b-9a7e-2d71cad295c1] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:45:08] INFO     [agent_fsm:1752] [bfa11a78-8045-4803-91ea-471d96ed3c07] Starting resilient FSM execution
[2025-06-18 12:45:08] INFO     [agent_fsm:1807] [bfa11a78-8045-4803-91ea-471d96ed3c07] FSM STATE: INITIAL
[2025-06-18 12:45:08] INFO     [agent_fsm:665] [bfa11a78-8045-4803-91ea-471d96ed3c07] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:45:08] DEBUG    [agent_fsm:680] [bfa11a78-8045-4803-91ea-471d96ed3c07] Turn count: 1, Action history length: 1
[2025-06-18 12:45:09] WARNING  [agent_fsm:1521] [bfa11a78-8045-4803-91ea-471d96ed3c07] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:45:09] WARNING  [agent_fsm:1521] [bfa11a78-8045-4803-91ea-471d96ed3c07] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:45:09] WARNING  [agent_fsm:1521] [bfa11a78-8045-4803-91ea-471d96ed3c07] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:45:09] WARNING  [agent_fsm:1521] [bfa11a78-8045-4803-91ea-471d96ed3c07] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:45:09] WARNING  [agent_fsm:1521] [bfa11a78-8045-4803-91ea-471d96ed3c07] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:45:09] WARNING  [agent_fsm:1521] [bfa11a78-8045-4803-91ea-471d96ed3c07] Failed to parse JSON parameters for step 8, using fallback parser
[2025-06-18 12:45:09] INFO     [agent_fsm:773] [bfa11a78-8045-4803-91ea-471d96ed3c07] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:45:09] INFO     [agent_fsm:820] [bfa11a78-8045-4803-91ea-471d96ed3c07] Executing tool: video_analyzer with input: {'url': 'https://example.com/video.mp4', 'action': 'download_info'}
[2025-06-18 12:45:09] INFO     [agent_fsm:922] [bfa11a78-8045-4803-91ea-471d96ed3c07] Tool execution completed
[2025-06-18 12:45:09] INFO     [agent_fsm:773] [bfa11a78-8045-4803-91ea-471d96ed3c07] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:45:09] WARNING  [agent_fsm:803] [bfa11a78-8045-4803-91ea-471d96ed3c07] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:45:09] INFO     [agent_fsm:665] [bfa11a78-8045-4803-91ea-471d96ed3c07] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:45:09] DEBUG    [agent_fsm:680] [bfa11a78-8045-4803-91ea-471d96ed3c07] Turn count: 2, Action history length: 2
[2025-06-18 12:45:10] WARNING  [agent_fsm:1521] [bfa11a78-8045-4803-91ea-471d96ed3c07] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:45:10] WARNING  [agent_fsm:1521] [bfa11a78-8045-4803-91ea-471d96ed3c07] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:45:10] WARNING  [agent_fsm:1333] [bfa11a78-8045-4803-91ea-471d96ed3c07] Tool chosen_video_analyzer not found in registry, will use stub
[2025-06-18 12:45:10] WARNING  [agent_fsm:1333] [bfa11a78-8045-4803-91ea-471d96ed3c07] Tool chosen_video_analyzer not found in registry, will use stub
[2025-06-18 12:45:10] WARNING  [agent_fsm:1333] [bfa11a78-8045-4803-91ea-471d96ed3c07] Tool chosen_video_analyzer not found in registry, will use stub
[2025-06-18 12:45:10] INFO     [agent_fsm:773] [bfa11a78-8045-4803-91ea-471d96ed3c07] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:45:10] INFO     [agent_fsm:820] [bfa11a78-8045-4803-91ea-471d96ed3c07] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:45:10] INFO     [agent_fsm:922] [bfa11a78-8045-4803-91ea-471d96ed3c07] Tool execution completed
[2025-06-18 12:45:10] INFO     [agent_fsm:773] [bfa11a78-8045-4803-91ea-471d96ed3c07] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:45:10] WARNING  [agent_fsm:803] [bfa11a78-8045-4803-91ea-471d96ed3c07] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:45:10] INFO     [agent_fsm:665] [bfa11a78-8045-4803-91ea-471d96ed3c07] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:45:10] DEBUG    [agent_fsm:680] [bfa11a78-8045-4803-91ea-471d96ed3c07] Turn count: 3, Action history length: 3
[2025-06-18 12:45:12] WARNING  [agent_fsm:1521] [bfa11a78-8045-4803-91ea-471d96ed3c07] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:45:12] WARNING  [agent_fsm:1521] [bfa11a78-8045-4803-91ea-471d96ed3c07] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:45:12] WARNING  [agent_fsm:1521] [bfa11a78-8045-4803-91ea-471d96ed3c07] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:45:12] WARNING  [agent_fsm:1521] [bfa11a78-8045-4803-91ea-471d96ed3c07] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:45:12] WARNING  [agent_fsm:1521] [bfa11a78-8045-4803-91ea-471d96ed3c07] Failed to parse JSON parameters for step 20, using fallback parser
[2025-06-18 12:45:12] WARNING  [agent_fsm:1224] [bfa11a78-8045-4803-91ea-471d96ed3c07] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:12] ERROR    [agent_fsm:1078] [bfa11a78-8045-4803-91ea-471d96ed3c07] --- FSM STATE: ERROR ---
[2025-06-18 12:45:12] ERROR    [agent_fsm:1101] [bfa11a78-8045-4803-91ea-471d96ed3c07] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:45:12] ERROR    [agent_fsm:1102] [bfa11a78-8045-4803-91ea-471d96ed3c07] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:12] WARNING  [agent_fsm:1224] [bfa11a78-8045-4803-91ea-471d96ed3c07] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:12] ERROR    [agent_fsm:1078] [bfa11a78-8045-4803-91ea-471d96ed3c07] --- FSM STATE: ERROR ---
[2025-06-18 12:45:12] ERROR    [agent_fsm:1101] [bfa11a78-8045-4803-91ea-471d96ed3c07] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:45:12] ERROR    [agent_fsm:1102] [bfa11a78-8045-4803-91ea-471d96ed3c07] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:12] WARNING  [agent_fsm:1224] [bfa11a78-8045-4803-91ea-471d96ed3c07] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:12] ERROR    [agent_fsm:1078] [bfa11a78-8045-4803-91ea-471d96ed3c07] --- FSM STATE: ERROR ---
[2025-06-18 12:45:12] ERROR    [agent_fsm:1101] [bfa11a78-8045-4803-91ea-471d96ed3c07] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:45:12] ERROR    [agent_fsm:1102] [bfa11a78-8045-4803-91ea-471d96ed3c07] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:12] WARNING  [agent_fsm:1224] [bfa11a78-8045-4803-91ea-471d96ed3c07] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:12] ERROR    [agent_fsm:1078] [bfa11a78-8045-4803-91ea-471d96ed3c07] --- FSM STATE: ERROR ---
[2025-06-18 12:45:12] ERROR    [agent_fsm:1101] [bfa11a78-8045-4803-91ea-471d96ed3c07] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:45:12] ERROR    [agent_fsm:1102] [bfa11a78-8045-4803-91ea-471d96ed3c07] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:12] WARNING  [agent_fsm:1224] [bfa11a78-8045-4803-91ea-471d96ed3c07] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:12] ERROR    [agent_fsm:1078] [bfa11a78-8045-4803-91ea-471d96ed3c07] --- FSM STATE: ERROR ---
[2025-06-18 12:45:12] ERROR    [agent_fsm:1101] [bfa11a78-8045-4803-91ea-471d96ed3c07] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:45:12] ERROR    [agent_fsm:1102] [bfa11a78-8045-4803-91ea-471d96ed3c07] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:12] WARNING  [agent_fsm:1224] [bfa11a78-8045-4803-91ea-471d96ed3c07] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:12] ERROR    [agent_fsm:1078] [bfa11a78-8045-4803-91ea-471d96ed3c07] --- FSM STATE: ERROR ---
[2025-06-18 12:45:12] ERROR    [agent_fsm:1101] [bfa11a78-8045-4803-91ea-471d96ed3c07] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:45:12] ERROR    [agent_fsm:1102] [bfa11a78-8045-4803-91ea-471d96ed3c07] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:12] WARNING  [agent_fsm:1224] [bfa11a78-8045-4803-91ea-471d96ed3c07] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:12] ERROR    [agent_fsm:1078] [bfa11a78-8045-4803-91ea-471d96ed3c07] --- FSM STATE: ERROR ---
[2025-06-18 12:45:12] ERROR    [agent_fsm:1101] [bfa11a78-8045-4803-91ea-471d96ed3c07] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:45:12] ERROR    [agent_fsm:1102] [bfa11a78-8045-4803-91ea-471d96ed3c07] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:12] WARNING  [agent_fsm:1224] [bfa11a78-8045-4803-91ea-471d96ed3c07] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:12] ERROR    [agent_fsm:1078] [bfa11a78-8045-4803-91ea-471d96ed3c07] --- FSM STATE: ERROR ---
[2025-06-18 12:45:12] ERROR    [agent_fsm:1101] [bfa11a78-8045-4803-91ea-471d96ed3c07] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:45:12] ERROR    [agent_fsm:1102] [bfa11a78-8045-4803-91ea-471d96ed3c07] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:12] WARNING  [agent_fsm:1224] [bfa11a78-8045-4803-91ea-471d96ed3c07] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:12] ERROR    [agent_fsm:1078] [bfa11a78-8045-4803-91ea-471d96ed3c07] --- FSM STATE: ERROR ---
[2025-06-18 12:45:12] ERROR    [agent_fsm:1101] [bfa11a78-8045-4803-91ea-471d96ed3c07] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:45:12] ERROR    [agent_fsm:1102] [bfa11a78-8045-4803-91ea-471d96ed3c07] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:12] WARNING  [agent_fsm:1224] [bfa11a78-8045-4803-91ea-471d96ed3c07] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:12] ERROR    [agent_fsm:1078] [bfa11a78-8045-4803-91ea-471d96ed3c07] --- FSM STATE: ERROR ---
[2025-06-18 12:45:12] ERROR    [agent_fsm:1101] [bfa11a78-8045-4803-91ea-471d96ed3c07] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:45:12] ERROR    [agent_fsm:1102] [bfa11a78-8045-4803-91ea-471d96ed3c07] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:12] WARNING  [agent_fsm:1224] [bfa11a78-8045-4803-91ea-471d96ed3c07] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:12] ERROR    [agent_fsm:1078] [bfa11a78-8045-4803-91ea-471d96ed3c07] --- FSM STATE: ERROR ---
[2025-06-18 12:45:12] ERROR    [agent_fsm:1101] [bfa11a78-8045-4803-91ea-471d96ed3c07] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:45:12] ERROR    [agent_fsm:1102] [bfa11a78-8045-4803-91ea-471d96ed3c07] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:12] WARNING  [agent_fsm:1224] [bfa11a78-8045-4803-91ea-471d96ed3c07] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:12] ERROR    [agent_fsm:1078] [bfa11a78-8045-4803-91ea-471d96ed3c07] --- FSM STATE: ERROR ---
[2025-06-18 12:45:12] ERROR    [agent_fsm:1101] [bfa11a78-8045-4803-91ea-471d96ed3c07] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:45:12] ERROR    [agent_fsm:1102] [bfa11a78-8045-4803-91ea-471d96ed3c07] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:12] WARNING  [agent_fsm:1224] [bfa11a78-8045-4803-91ea-471d96ed3c07] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:12] ERROR    [agent_fsm:1078] [bfa11a78-8045-4803-91ea-471d96ed3c07] --- FSM STATE: ERROR ---
[2025-06-18 12:45:12] ERROR    [agent_fsm:1101] [bfa11a78-8045-4803-91ea-471d96ed3c07] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:45:12] ERROR    [agent_fsm:1102] [bfa11a78-8045-4803-91ea-471d96ed3c07] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:12] WARNING  [agent_fsm:1224] [bfa11a78-8045-4803-91ea-471d96ed3c07] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:12] ERROR    [agent_fsm:1078] [bfa11a78-8045-4803-91ea-471d96ed3c07] --- FSM STATE: ERROR ---
[2025-06-18 12:45:12] ERROR    [agent_fsm:1101] [bfa11a78-8045-4803-91ea-471d96ed3c07] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:45:12] ERROR    [agent_fsm:1102] [bfa11a78-8045-4803-91ea-471d96ed3c07] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:12] WARNING  [agent_fsm:1224] [bfa11a78-8045-4803-91ea-471d96ed3c07] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:12] ERROR    [agent_fsm:1078] [bfa11a78-8045-4803-91ea-471d96ed3c07] --- FSM STATE: ERROR ---
[2025-06-18 12:45:12] ERROR    [agent_fsm:1101] [bfa11a78-8045-4803-91ea-471d96ed3c07] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:45:12] ERROR    [agent_fsm:1102] [bfa11a78-8045-4803-91ea-471d96ed3c07] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:12] WARNING  [agent_fsm:1224] [bfa11a78-8045-4803-91ea-471d96ed3c07] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:12] ERROR    [agent_fsm:1078] [bfa11a78-8045-4803-91ea-471d96ed3c07] --- FSM STATE: ERROR ---
[2025-06-18 12:45:12] ERROR    [agent_fsm:1101] [bfa11a78-8045-4803-91ea-471d96ed3c07] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:45:12] ERROR    [agent_fsm:1102] [bfa11a78-8045-4803-91ea-471d96ed3c07] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:12] WARNING  [agent_fsm:1224] [bfa11a78-8045-4803-91ea-471d96ed3c07] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:12] ERROR    [agent_fsm:1078] [bfa11a78-8045-4803-91ea-471d96ed3c07] --- FSM STATE: ERROR ---
[2025-06-18 12:45:12] ERROR    [agent_fsm:1101] [bfa11a78-8045-4803-91ea-471d96ed3c07] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:45:12] ERROR    [agent_fsm:1102] [bfa11a78-8045-4803-91ea-471d96ed3c07] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:12] WARNING  [agent_fsm:1224] [bfa11a78-8045-4803-91ea-471d96ed3c07] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:12] ERROR    [agent_fsm:1078] [bfa11a78-8045-4803-91ea-471d96ed3c07] --- FSM STATE: ERROR ---
[2025-06-18 12:45:12] ERROR    [agent_fsm:1101] [bfa11a78-8045-4803-91ea-471d96ed3c07] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:45:12] ERROR    [agent_fsm:1102] [bfa11a78-8045-4803-91ea-471d96ed3c07] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:12] WARNING  [agent_fsm:1224] [bfa11a78-8045-4803-91ea-471d96ed3c07] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:12] ERROR    [agent_fsm:1837] [bfa11a78-8045-4803-91ea-471d96ed3c07] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:45:12] INFO     [agent_fsm:1752] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Starting resilient FSM execution
[2025-06-18 12:45:12] INFO     [agent_fsm:1807] [12d29331-fdf9-41b1-80dd-8899fcff93c9] FSM STATE: INITIAL
[2025-06-18 12:45:12] INFO     [agent_fsm:665] [12d29331-fdf9-41b1-80dd-8899fcff93c9] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:45:12] DEBUG    [agent_fsm:680] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Turn count: 1, Action history length: 1
[2025-06-18 12:45:13] WARNING  [agent_fsm:1521] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:45:13] WARNING  [agent_fsm:1521] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:45:13] INFO     [agent_fsm:773] [12d29331-fdf9-41b1-80dd-8899fcff93c9] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:45:13] INFO     [agent_fsm:820] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:45:13] INFO     [agent_fsm:922] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Tool execution completed
[2025-06-18 12:45:13] INFO     [agent_fsm:773] [12d29331-fdf9-41b1-80dd-8899fcff93c9] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:45:13] WARNING  [agent_fsm:803] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:45:13] INFO     [agent_fsm:665] [12d29331-fdf9-41b1-80dd-8899fcff93c9] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:45:13] DEBUG    [agent_fsm:680] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Turn count: 2, Action history length: 2
[2025-06-18 12:45:14] WARNING  [agent_fsm:1521] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:45:14] INFO     [agent_fsm:773] [12d29331-fdf9-41b1-80dd-8899fcff93c9] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:45:14] INFO     [agent_fsm:820] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Executing tool: semantic_search_tool with input: {'query': 'mathematical operation for 2 + 2', 'filename': 'knowledge_base.csv', 'top_k': 3}
[2025-06-18 12:45:14] INFO     [agent_fsm:922] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Tool execution completed
[2025-06-18 12:45:14] INFO     [agent_fsm:773] [12d29331-fdf9-41b1-80dd-8899fcff93c9] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:45:14] WARNING  [agent_fsm:803] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:45:14] INFO     [agent_fsm:665] [12d29331-fdf9-41b1-80dd-8899fcff93c9] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:45:14] DEBUG    [agent_fsm:680] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Turn count: 3, Action history length: 3
[2025-06-18 12:45:15] WARNING  [agent_fsm:1224] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:15] ERROR    [agent_fsm:1078] [12d29331-fdf9-41b1-80dd-8899fcff93c9] --- FSM STATE: ERROR ---
[2025-06-18 12:45:15] ERROR    [agent_fsm:1101] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:45:15] ERROR    [agent_fsm:1102] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:15] WARNING  [agent_fsm:1224] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:15] ERROR    [agent_fsm:1078] [12d29331-fdf9-41b1-80dd-8899fcff93c9] --- FSM STATE: ERROR ---
[2025-06-18 12:45:15] ERROR    [agent_fsm:1101] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:45:15] ERROR    [agent_fsm:1102] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:15] WARNING  [agent_fsm:1224] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:15] ERROR    [agent_fsm:1078] [12d29331-fdf9-41b1-80dd-8899fcff93c9] --- FSM STATE: ERROR ---
[2025-06-18 12:45:15] ERROR    [agent_fsm:1101] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:45:15] ERROR    [agent_fsm:1102] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:15] WARNING  [agent_fsm:1224] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:15] ERROR    [agent_fsm:1078] [12d29331-fdf9-41b1-80dd-8899fcff93c9] --- FSM STATE: ERROR ---
[2025-06-18 12:45:15] ERROR    [agent_fsm:1101] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:45:15] ERROR    [agent_fsm:1102] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:15] WARNING  [agent_fsm:1224] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:15] ERROR    [agent_fsm:1078] [12d29331-fdf9-41b1-80dd-8899fcff93c9] --- FSM STATE: ERROR ---
[2025-06-18 12:45:15] ERROR    [agent_fsm:1101] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:45:15] ERROR    [agent_fsm:1102] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:15] WARNING  [agent_fsm:1224] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:15] ERROR    [agent_fsm:1078] [12d29331-fdf9-41b1-80dd-8899fcff93c9] --- FSM STATE: ERROR ---
[2025-06-18 12:45:15] ERROR    [agent_fsm:1101] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:45:15] ERROR    [agent_fsm:1102] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:15] WARNING  [agent_fsm:1224] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:15] ERROR    [agent_fsm:1078] [12d29331-fdf9-41b1-80dd-8899fcff93c9] --- FSM STATE: ERROR ---
[2025-06-18 12:45:15] ERROR    [agent_fsm:1101] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:45:15] ERROR    [agent_fsm:1102] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:15] WARNING  [agent_fsm:1224] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:15] ERROR    [agent_fsm:1078] [12d29331-fdf9-41b1-80dd-8899fcff93c9] --- FSM STATE: ERROR ---
[2025-06-18 12:45:15] ERROR    [agent_fsm:1101] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:45:15] ERROR    [agent_fsm:1102] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:15] WARNING  [agent_fsm:1224] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:15] ERROR    [agent_fsm:1078] [12d29331-fdf9-41b1-80dd-8899fcff93c9] --- FSM STATE: ERROR ---
[2025-06-18 12:45:15] ERROR    [agent_fsm:1101] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:45:15] ERROR    [agent_fsm:1102] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:15] WARNING  [agent_fsm:1224] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:15] ERROR    [agent_fsm:1078] [12d29331-fdf9-41b1-80dd-8899fcff93c9] --- FSM STATE: ERROR ---
[2025-06-18 12:45:15] ERROR    [agent_fsm:1101] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:45:15] ERROR    [agent_fsm:1102] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:15] WARNING  [agent_fsm:1224] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:15] ERROR    [agent_fsm:1078] [12d29331-fdf9-41b1-80dd-8899fcff93c9] --- FSM STATE: ERROR ---
[2025-06-18 12:45:15] ERROR    [agent_fsm:1101] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:45:15] ERROR    [agent_fsm:1102] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:15] WARNING  [agent_fsm:1224] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:15] ERROR    [agent_fsm:1078] [12d29331-fdf9-41b1-80dd-8899fcff93c9] --- FSM STATE: ERROR ---
[2025-06-18 12:45:15] ERROR    [agent_fsm:1101] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:45:15] ERROR    [agent_fsm:1102] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:15] WARNING  [agent_fsm:1224] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:15] ERROR    [agent_fsm:1078] [12d29331-fdf9-41b1-80dd-8899fcff93c9] --- FSM STATE: ERROR ---
[2025-06-18 12:45:15] ERROR    [agent_fsm:1101] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:45:15] ERROR    [agent_fsm:1102] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:15] WARNING  [agent_fsm:1224] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:15] ERROR    [agent_fsm:1078] [12d29331-fdf9-41b1-80dd-8899fcff93c9] --- FSM STATE: ERROR ---
[2025-06-18 12:45:15] ERROR    [agent_fsm:1101] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:45:15] ERROR    [agent_fsm:1102] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:15] WARNING  [agent_fsm:1224] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:15] ERROR    [agent_fsm:1078] [12d29331-fdf9-41b1-80dd-8899fcff93c9] --- FSM STATE: ERROR ---
[2025-06-18 12:45:15] ERROR    [agent_fsm:1101] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:45:15] ERROR    [agent_fsm:1102] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:15] WARNING  [agent_fsm:1224] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:15] ERROR    [agent_fsm:1078] [12d29331-fdf9-41b1-80dd-8899fcff93c9] --- FSM STATE: ERROR ---
[2025-06-18 12:45:15] ERROR    [agent_fsm:1101] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:45:15] ERROR    [agent_fsm:1102] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:15] WARNING  [agent_fsm:1224] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:15] ERROR    [agent_fsm:1078] [12d29331-fdf9-41b1-80dd-8899fcff93c9] --- FSM STATE: ERROR ---
[2025-06-18 12:45:15] ERROR    [agent_fsm:1101] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:45:15] ERROR    [agent_fsm:1102] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:15] WARNING  [agent_fsm:1224] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:15] ERROR    [agent_fsm:1078] [12d29331-fdf9-41b1-80dd-8899fcff93c9] --- FSM STATE: ERROR ---
[2025-06-18 12:45:15] ERROR    [agent_fsm:1101] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:45:15] ERROR    [agent_fsm:1102] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:15] WARNING  [agent_fsm:1224] [12d29331-fdf9-41b1-80dd-8899fcff93c9] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:15] ERROR    [agent_fsm:1837] [12d29331-fdf9-41b1-80dd-8899fcff93c9] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:45:15] INFO     [agent_fsm:1752] [51203008-1a69-4638-9b93-3f1fd2a00909] Starting resilient FSM execution
[2025-06-18 12:45:15] INFO     [agent_fsm:1807] [51203008-1a69-4638-9b93-3f1fd2a00909] FSM STATE: INITIAL
[2025-06-18 12:45:15] INFO     [agent_fsm:665] [51203008-1a69-4638-9b93-3f1fd2a00909] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:45:15] DEBUG    [agent_fsm:680] [51203008-1a69-4638-9b93-3f1fd2a00909] Turn count: 1, Action history length: 1
[2025-06-18 12:45:16] WARNING  [agent_fsm:1521] [51203008-1a69-4638-9b93-3f1fd2a00909] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:45:16] INFO     [agent_fsm:773] [51203008-1a69-4638-9b93-3f1fd2a00909] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:45:16] INFO     [agent_fsm:820] [51203008-1a69-4638-9b93-3f1fd2a00909] Executing tool: web_researcher with input: {'query': 'chess position analysis', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 12:45:16] INFO     [agent_fsm:922] [51203008-1a69-4638-9b93-3f1fd2a00909] Tool execution completed
[2025-06-18 12:45:16] INFO     [agent_fsm:773] [51203008-1a69-4638-9b93-3f1fd2a00909] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:45:16] WARNING  [agent_fsm:803] [51203008-1a69-4638-9b93-3f1fd2a00909] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:45:16] INFO     [agent_fsm:665] [51203008-1a69-4638-9b93-3f1fd2a00909] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:45:16] DEBUG    [agent_fsm:680] [51203008-1a69-4638-9b93-3f1fd2a00909] Turn count: 2, Action history length: 2
[2025-06-18 12:45:17] ERROR    [agent_fsm:1359] [51203008-1a69-4638-9b93-3f1fd2a00909] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:45:17] INFO     [agent_fsm:773] [51203008-1a69-4638-9b93-3f1fd2a00909] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:45:17] INFO     [agent_fsm:820] [51203008-1a69-4638-9b93-3f1fd2a00909] Executing tool: python_interpreter with input: {'code': 'langchain-tavily install'}
[2025-06-18 12:45:17] INFO     [agent_fsm:922] [51203008-1a69-4638-9b93-3f1fd2a00909] Tool execution completed
[2025-06-18 12:45:17] INFO     [agent_fsm:773] [51203008-1a69-4638-9b93-3f1fd2a00909] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:45:17] WARNING  [agent_fsm:803] [51203008-1a69-4638-9b93-3f1fd2a00909] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:45:17] INFO     [agent_fsm:665] [51203008-1a69-4638-9b93-3f1fd2a00909] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:45:17] DEBUG    [agent_fsm:680] [51203008-1a69-4638-9b93-3f1fd2a00909] Turn count: 3, Action history length: 3
[2025-06-18 12:45:19] WARNING  [agent_fsm:1521] [51203008-1a69-4638-9b93-3f1fd2a00909] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:45:19] ERROR    [agent_fsm:1359] [51203008-1a69-4638-9b93-3f1fd2a00909] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:45:19] WARNING  [agent_fsm:1224] [51203008-1a69-4638-9b93-3f1fd2a00909] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:19] ERROR    [agent_fsm:1078] [51203008-1a69-4638-9b93-3f1fd2a00909] --- FSM STATE: ERROR ---
[2025-06-18 12:45:19] ERROR    [agent_fsm:1101] [51203008-1a69-4638-9b93-3f1fd2a00909] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:45:19] ERROR    [agent_fsm:1102] [51203008-1a69-4638-9b93-3f1fd2a00909] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:19] WARNING  [agent_fsm:1224] [51203008-1a69-4638-9b93-3f1fd2a00909] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:19] ERROR    [agent_fsm:1078] [51203008-1a69-4638-9b93-3f1fd2a00909] --- FSM STATE: ERROR ---
[2025-06-18 12:45:19] ERROR    [agent_fsm:1101] [51203008-1a69-4638-9b93-3f1fd2a00909] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:45:19] ERROR    [agent_fsm:1102] [51203008-1a69-4638-9b93-3f1fd2a00909] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:19] WARNING  [agent_fsm:1224] [51203008-1a69-4638-9b93-3f1fd2a00909] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:19] ERROR    [agent_fsm:1078] [51203008-1a69-4638-9b93-3f1fd2a00909] --- FSM STATE: ERROR ---
[2025-06-18 12:45:19] ERROR    [agent_fsm:1101] [51203008-1a69-4638-9b93-3f1fd2a00909] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:45:19] ERROR    [agent_fsm:1102] [51203008-1a69-4638-9b93-3f1fd2a00909] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:19] WARNING  [agent_fsm:1224] [51203008-1a69-4638-9b93-3f1fd2a00909] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:19] ERROR    [agent_fsm:1078] [51203008-1a69-4638-9b93-3f1fd2a00909] --- FSM STATE: ERROR ---
[2025-06-18 12:45:19] ERROR    [agent_fsm:1101] [51203008-1a69-4638-9b93-3f1fd2a00909] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:45:19] ERROR    [agent_fsm:1102] [51203008-1a69-4638-9b93-3f1fd2a00909] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:19] WARNING  [agent_fsm:1224] [51203008-1a69-4638-9b93-3f1fd2a00909] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:19] ERROR    [agent_fsm:1078] [51203008-1a69-4638-9b93-3f1fd2a00909] --- FSM STATE: ERROR ---
[2025-06-18 12:45:19] ERROR    [agent_fsm:1101] [51203008-1a69-4638-9b93-3f1fd2a00909] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:45:19] ERROR    [agent_fsm:1102] [51203008-1a69-4638-9b93-3f1fd2a00909] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:19] WARNING  [agent_fsm:1224] [51203008-1a69-4638-9b93-3f1fd2a00909] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:19] ERROR    [agent_fsm:1078] [51203008-1a69-4638-9b93-3f1fd2a00909] --- FSM STATE: ERROR ---
[2025-06-18 12:45:19] ERROR    [agent_fsm:1101] [51203008-1a69-4638-9b93-3f1fd2a00909] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:45:19] ERROR    [agent_fsm:1102] [51203008-1a69-4638-9b93-3f1fd2a00909] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:19] WARNING  [agent_fsm:1224] [51203008-1a69-4638-9b93-3f1fd2a00909] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:19] ERROR    [agent_fsm:1078] [51203008-1a69-4638-9b93-3f1fd2a00909] --- FSM STATE: ERROR ---
[2025-06-18 12:45:19] ERROR    [agent_fsm:1101] [51203008-1a69-4638-9b93-3f1fd2a00909] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:45:19] ERROR    [agent_fsm:1102] [51203008-1a69-4638-9b93-3f1fd2a00909] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:19] WARNING  [agent_fsm:1224] [51203008-1a69-4638-9b93-3f1fd2a00909] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:19] ERROR    [agent_fsm:1078] [51203008-1a69-4638-9b93-3f1fd2a00909] --- FSM STATE: ERROR ---
[2025-06-18 12:45:19] ERROR    [agent_fsm:1101] [51203008-1a69-4638-9b93-3f1fd2a00909] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:45:19] ERROR    [agent_fsm:1102] [51203008-1a69-4638-9b93-3f1fd2a00909] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:19] WARNING  [agent_fsm:1224] [51203008-1a69-4638-9b93-3f1fd2a00909] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:19] ERROR    [agent_fsm:1078] [51203008-1a69-4638-9b93-3f1fd2a00909] --- FSM STATE: ERROR ---
[2025-06-18 12:45:19] ERROR    [agent_fsm:1101] [51203008-1a69-4638-9b93-3f1fd2a00909] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:45:19] ERROR    [agent_fsm:1102] [51203008-1a69-4638-9b93-3f1fd2a00909] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:19] WARNING  [agent_fsm:1224] [51203008-1a69-4638-9b93-3f1fd2a00909] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:19] ERROR    [agent_fsm:1078] [51203008-1a69-4638-9b93-3f1fd2a00909] --- FSM STATE: ERROR ---
[2025-06-18 12:45:19] ERROR    [agent_fsm:1101] [51203008-1a69-4638-9b93-3f1fd2a00909] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:45:19] ERROR    [agent_fsm:1102] [51203008-1a69-4638-9b93-3f1fd2a00909] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:19] WARNING  [agent_fsm:1224] [51203008-1a69-4638-9b93-3f1fd2a00909] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:19] ERROR    [agent_fsm:1078] [51203008-1a69-4638-9b93-3f1fd2a00909] --- FSM STATE: ERROR ---
[2025-06-18 12:45:19] ERROR    [agent_fsm:1101] [51203008-1a69-4638-9b93-3f1fd2a00909] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:45:19] ERROR    [agent_fsm:1102] [51203008-1a69-4638-9b93-3f1fd2a00909] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:19] WARNING  [agent_fsm:1224] [51203008-1a69-4638-9b93-3f1fd2a00909] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:19] ERROR    [agent_fsm:1078] [51203008-1a69-4638-9b93-3f1fd2a00909] --- FSM STATE: ERROR ---
[2025-06-18 12:45:19] ERROR    [agent_fsm:1101] [51203008-1a69-4638-9b93-3f1fd2a00909] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:45:19] ERROR    [agent_fsm:1102] [51203008-1a69-4638-9b93-3f1fd2a00909] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:19] WARNING  [agent_fsm:1224] [51203008-1a69-4638-9b93-3f1fd2a00909] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:19] ERROR    [agent_fsm:1078] [51203008-1a69-4638-9b93-3f1fd2a00909] --- FSM STATE: ERROR ---
[2025-06-18 12:45:19] ERROR    [agent_fsm:1101] [51203008-1a69-4638-9b93-3f1fd2a00909] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:45:19] ERROR    [agent_fsm:1102] [51203008-1a69-4638-9b93-3f1fd2a00909] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:19] WARNING  [agent_fsm:1224] [51203008-1a69-4638-9b93-3f1fd2a00909] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:19] ERROR    [agent_fsm:1078] [51203008-1a69-4638-9b93-3f1fd2a00909] --- FSM STATE: ERROR ---
[2025-06-18 12:45:19] ERROR    [agent_fsm:1101] [51203008-1a69-4638-9b93-3f1fd2a00909] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:45:19] ERROR    [agent_fsm:1102] [51203008-1a69-4638-9b93-3f1fd2a00909] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:19] WARNING  [agent_fsm:1224] [51203008-1a69-4638-9b93-3f1fd2a00909] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:19] ERROR    [agent_fsm:1078] [51203008-1a69-4638-9b93-3f1fd2a00909] --- FSM STATE: ERROR ---
[2025-06-18 12:45:19] ERROR    [agent_fsm:1101] [51203008-1a69-4638-9b93-3f1fd2a00909] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:45:19] ERROR    [agent_fsm:1102] [51203008-1a69-4638-9b93-3f1fd2a00909] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:19] WARNING  [agent_fsm:1224] [51203008-1a69-4638-9b93-3f1fd2a00909] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:19] ERROR    [agent_fsm:1078] [51203008-1a69-4638-9b93-3f1fd2a00909] --- FSM STATE: ERROR ---
[2025-06-18 12:45:19] ERROR    [agent_fsm:1101] [51203008-1a69-4638-9b93-3f1fd2a00909] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:45:19] ERROR    [agent_fsm:1102] [51203008-1a69-4638-9b93-3f1fd2a00909] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:19] WARNING  [agent_fsm:1224] [51203008-1a69-4638-9b93-3f1fd2a00909] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:19] ERROR    [agent_fsm:1078] [51203008-1a69-4638-9b93-3f1fd2a00909] --- FSM STATE: ERROR ---
[2025-06-18 12:45:19] ERROR    [agent_fsm:1101] [51203008-1a69-4638-9b93-3f1fd2a00909] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:45:19] ERROR    [agent_fsm:1102] [51203008-1a69-4638-9b93-3f1fd2a00909] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:19] WARNING  [agent_fsm:1224] [51203008-1a69-4638-9b93-3f1fd2a00909] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:19] ERROR    [agent_fsm:1078] [51203008-1a69-4638-9b93-3f1fd2a00909] --- FSM STATE: ERROR ---
[2025-06-18 12:45:19] ERROR    [agent_fsm:1101] [51203008-1a69-4638-9b93-3f1fd2a00909] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:45:19] ERROR    [agent_fsm:1102] [51203008-1a69-4638-9b93-3f1fd2a00909] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:19] WARNING  [agent_fsm:1224] [51203008-1a69-4638-9b93-3f1fd2a00909] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:19] ERROR    [agent_fsm:1837] [51203008-1a69-4638-9b93-3f1fd2a00909] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:45:19] INFO     [agent_fsm:1752] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Starting resilient FSM execution
[2025-06-18 12:45:19] INFO     [agent_fsm:1807] [738e580a-aafd-4c04-b9a3-f93b6a43b567] FSM STATE: INITIAL
[2025-06-18 12:45:19] INFO     [agent_fsm:665] [738e580a-aafd-4c04-b9a3-f93b6a43b567] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:45:19] DEBUG    [agent_fsm:680] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Turn count: 1, Action history length: 1
[2025-06-18 12:45:20] WARNING  [agent_fsm:1521] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:45:20] WARNING  [agent_fsm:1521] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:45:20] WARNING  [agent_fsm:1521] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:45:20] WARNING  [agent_fsm:1521] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:45:20] WARNING  [agent_fsm:1521] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:45:20] ERROR    [agent_fsm:1359] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:45:20] INFO     [agent_fsm:773] [738e580a-aafd-4c04-b9a3-f93b6a43b567] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:45:20] INFO     [agent_fsm:820] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Executing tool: web_researcher with input: {'query': 'Nobel Prize in Physics 2023', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 12:45:20] INFO     [agent_fsm:922] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Tool execution completed
[2025-06-18 12:45:20] INFO     [agent_fsm:773] [738e580a-aafd-4c04-b9a3-f93b6a43b567] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:45:20] WARNING  [agent_fsm:803] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:45:20] INFO     [agent_fsm:665] [738e580a-aafd-4c04-b9a3-f93b6a43b567] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:45:20] DEBUG    [agent_fsm:680] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Turn count: 2, Action history length: 2
[2025-06-18 12:45:21] WARNING  [agent_fsm:1521] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:45:21] WARNING  [agent_fsm:1521] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:45:21] ERROR    [agent_fsm:1359] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:45:21] INFO     [agent_fsm:773] [738e580a-aafd-4c04-b9a3-f93b6a43b567] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:45:21] INFO     [agent_fsm:820] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Executing tool: semantic_search_tool with input: {'query': 'Nobel Prize in Physics 2023 winner', 'filename': 'knowledge_base.csv', 'top_k': 3}
[2025-06-18 12:45:21] INFO     [agent_fsm:922] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Tool execution completed
[2025-06-18 12:45:21] INFO     [agent_fsm:773] [738e580a-aafd-4c04-b9a3-f93b6a43b567] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:45:21] WARNING  [agent_fsm:803] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:45:21] INFO     [agent_fsm:665] [738e580a-aafd-4c04-b9a3-f93b6a43b567] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:45:21] DEBUG    [agent_fsm:680] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Turn count: 3, Action history length: 3
[2025-06-18 12:45:22] WARNING  [agent_fsm:1521] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:45:22] WARNING  [agent_fsm:1521] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:45:22] ERROR    [agent_fsm:1359] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:45:22] WARNING  [agent_fsm:1224] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:22] ERROR    [agent_fsm:1078] [738e580a-aafd-4c04-b9a3-f93b6a43b567] --- FSM STATE: ERROR ---
[2025-06-18 12:45:22] ERROR    [agent_fsm:1101] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:45:22] ERROR    [agent_fsm:1102] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:22] WARNING  [agent_fsm:1224] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:22] ERROR    [agent_fsm:1078] [738e580a-aafd-4c04-b9a3-f93b6a43b567] --- FSM STATE: ERROR ---
[2025-06-18 12:45:22] ERROR    [agent_fsm:1101] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:45:22] ERROR    [agent_fsm:1102] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:22] WARNING  [agent_fsm:1224] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:22] ERROR    [agent_fsm:1078] [738e580a-aafd-4c04-b9a3-f93b6a43b567] --- FSM STATE: ERROR ---
[2025-06-18 12:45:22] ERROR    [agent_fsm:1101] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:45:22] ERROR    [agent_fsm:1102] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:22] WARNING  [agent_fsm:1224] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:22] ERROR    [agent_fsm:1078] [738e580a-aafd-4c04-b9a3-f93b6a43b567] --- FSM STATE: ERROR ---
[2025-06-18 12:45:22] ERROR    [agent_fsm:1101] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:45:22] ERROR    [agent_fsm:1102] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:22] WARNING  [agent_fsm:1224] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:22] ERROR    [agent_fsm:1078] [738e580a-aafd-4c04-b9a3-f93b6a43b567] --- FSM STATE: ERROR ---
[2025-06-18 12:45:22] ERROR    [agent_fsm:1101] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:45:22] ERROR    [agent_fsm:1102] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:22] WARNING  [agent_fsm:1224] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:22] ERROR    [agent_fsm:1078] [738e580a-aafd-4c04-b9a3-f93b6a43b567] --- FSM STATE: ERROR ---
[2025-06-18 12:45:22] ERROR    [agent_fsm:1101] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:45:22] ERROR    [agent_fsm:1102] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:22] WARNING  [agent_fsm:1224] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:22] ERROR    [agent_fsm:1078] [738e580a-aafd-4c04-b9a3-f93b6a43b567] --- FSM STATE: ERROR ---
[2025-06-18 12:45:22] ERROR    [agent_fsm:1101] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:45:22] ERROR    [agent_fsm:1102] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:22] WARNING  [agent_fsm:1224] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:22] ERROR    [agent_fsm:1078] [738e580a-aafd-4c04-b9a3-f93b6a43b567] --- FSM STATE: ERROR ---
[2025-06-18 12:45:22] ERROR    [agent_fsm:1101] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:45:22] ERROR    [agent_fsm:1102] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:22] WARNING  [agent_fsm:1224] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:22] ERROR    [agent_fsm:1078] [738e580a-aafd-4c04-b9a3-f93b6a43b567] --- FSM STATE: ERROR ---
[2025-06-18 12:45:22] ERROR    [agent_fsm:1101] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:45:22] ERROR    [agent_fsm:1102] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:22] WARNING  [agent_fsm:1224] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:22] ERROR    [agent_fsm:1078] [738e580a-aafd-4c04-b9a3-f93b6a43b567] --- FSM STATE: ERROR ---
[2025-06-18 12:45:22] ERROR    [agent_fsm:1101] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:45:22] ERROR    [agent_fsm:1102] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:22] WARNING  [agent_fsm:1224] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:22] ERROR    [agent_fsm:1078] [738e580a-aafd-4c04-b9a3-f93b6a43b567] --- FSM STATE: ERROR ---
[2025-06-18 12:45:22] ERROR    [agent_fsm:1101] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:45:22] ERROR    [agent_fsm:1102] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:22] WARNING  [agent_fsm:1224] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:22] ERROR    [agent_fsm:1078] [738e580a-aafd-4c04-b9a3-f93b6a43b567] --- FSM STATE: ERROR ---
[2025-06-18 12:45:22] ERROR    [agent_fsm:1101] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:45:22] ERROR    [agent_fsm:1102] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:22] WARNING  [agent_fsm:1224] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:22] ERROR    [agent_fsm:1078] [738e580a-aafd-4c04-b9a3-f93b6a43b567] --- FSM STATE: ERROR ---
[2025-06-18 12:45:22] ERROR    [agent_fsm:1101] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:45:22] ERROR    [agent_fsm:1102] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:22] WARNING  [agent_fsm:1224] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:22] ERROR    [agent_fsm:1078] [738e580a-aafd-4c04-b9a3-f93b6a43b567] --- FSM STATE: ERROR ---
[2025-06-18 12:45:22] ERROR    [agent_fsm:1101] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:45:22] ERROR    [agent_fsm:1102] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:22] WARNING  [agent_fsm:1224] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:22] ERROR    [agent_fsm:1078] [738e580a-aafd-4c04-b9a3-f93b6a43b567] --- FSM STATE: ERROR ---
[2025-06-18 12:45:22] ERROR    [agent_fsm:1101] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:45:22] ERROR    [agent_fsm:1102] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:22] WARNING  [agent_fsm:1224] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:22] ERROR    [agent_fsm:1078] [738e580a-aafd-4c04-b9a3-f93b6a43b567] --- FSM STATE: ERROR ---
[2025-06-18 12:45:22] ERROR    [agent_fsm:1101] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:45:22] ERROR    [agent_fsm:1102] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:22] WARNING  [agent_fsm:1224] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:22] ERROR    [agent_fsm:1078] [738e580a-aafd-4c04-b9a3-f93b6a43b567] --- FSM STATE: ERROR ---
[2025-06-18 12:45:22] ERROR    [agent_fsm:1101] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:45:22] ERROR    [agent_fsm:1102] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:22] WARNING  [agent_fsm:1224] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:22] ERROR    [agent_fsm:1078] [738e580a-aafd-4c04-b9a3-f93b6a43b567] --- FSM STATE: ERROR ---
[2025-06-18 12:45:22] ERROR    [agent_fsm:1101] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:45:22] ERROR    [agent_fsm:1102] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:22] WARNING  [agent_fsm:1224] [738e580a-aafd-4c04-b9a3-f93b6a43b567] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:22] ERROR    [agent_fsm:1837] [738e580a-aafd-4c04-b9a3-f93b6a43b567] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:45:22] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 12:45:22] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 12:45:22] INFO     [agent_fsm:570] [28d30736-1ec8-4bea-b9e1-60672b0582bd] Building resilient FSM graph
[2025-06-18 12:45:22] INFO     [agent_fsm:572] [28d30736-1ec8-4bea-b9e1-60672b0582bd] FSMReActAgent graph built successfully
[2025-06-18 12:45:22] INFO     [agent_fsm:1752] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Starting resilient FSM execution
[2025-06-18 12:45:22] INFO     [agent_fsm:1807] [3987611b-3790-4fb3-9837-ebd1cba69a6b] FSM STATE: INITIAL
[2025-06-18 12:45:22] INFO     [agent_fsm:665] [3987611b-3790-4fb3-9837-ebd1cba69a6b] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:45:22] DEBUG    [agent_fsm:680] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Turn count: 1, Action history length: 1
[2025-06-18 12:45:23] WARNING  [agent_fsm:1521] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:45:23] INFO     [agent_fsm:773] [3987611b-3790-4fb3-9837-ebd1cba69a6b] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:45:23] INFO     [agent_fsm:820] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Executing tool: web_researcher with input: {'query': 'Mercedes Sosa discography', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 12:45:23] INFO     [agent_fsm:922] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Tool execution completed
[2025-06-18 12:45:23] INFO     [agent_fsm:773] [3987611b-3790-4fb3-9837-ebd1cba69a6b] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:45:23] WARNING  [agent_fsm:803] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:45:23] INFO     [agent_fsm:665] [3987611b-3790-4fb3-9837-ebd1cba69a6b] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:45:23] DEBUG    [agent_fsm:680] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Turn count: 2, Action history length: 2
[2025-06-18 12:45:23] WARNING  [agent_fsm:1521] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:45:23] WARNING  [agent_fsm:1521] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:45:23] WARNING  [agent_fsm:1521] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:45:23] INFO     [agent_fsm:773] [3987611b-3790-4fb3-9837-ebd1cba69a6b] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:45:23] INFO     [agent_fsm:820] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:45:23] INFO     [agent_fsm:922] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Tool execution completed
[2025-06-18 12:45:23] INFO     [agent_fsm:773] [3987611b-3790-4fb3-9837-ebd1cba69a6b] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:45:23] WARNING  [agent_fsm:803] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:45:23] INFO     [agent_fsm:665] [3987611b-3790-4fb3-9837-ebd1cba69a6b] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:45:23] DEBUG    [agent_fsm:680] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Turn count: 3, Action history length: 3
[2025-06-18 12:45:24] WARNING  [agent_fsm:1224] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:24] ERROR    [agent_fsm:1078] [3987611b-3790-4fb3-9837-ebd1cba69a6b] --- FSM STATE: ERROR ---
[2025-06-18 12:45:24] ERROR    [agent_fsm:1101] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:45:24] ERROR    [agent_fsm:1102] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:24] WARNING  [agent_fsm:1224] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:24] ERROR    [agent_fsm:1078] [3987611b-3790-4fb3-9837-ebd1cba69a6b] --- FSM STATE: ERROR ---
[2025-06-18 12:45:24] ERROR    [agent_fsm:1101] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:45:24] ERROR    [agent_fsm:1102] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:24] WARNING  [agent_fsm:1224] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:24] ERROR    [agent_fsm:1078] [3987611b-3790-4fb3-9837-ebd1cba69a6b] --- FSM STATE: ERROR ---
[2025-06-18 12:45:24] ERROR    [agent_fsm:1101] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:45:24] ERROR    [agent_fsm:1102] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:24] WARNING  [agent_fsm:1224] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:24] ERROR    [agent_fsm:1078] [3987611b-3790-4fb3-9837-ebd1cba69a6b] --- FSM STATE: ERROR ---
[2025-06-18 12:45:24] ERROR    [agent_fsm:1101] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:45:24] ERROR    [agent_fsm:1102] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:24] WARNING  [agent_fsm:1224] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:24] ERROR    [agent_fsm:1078] [3987611b-3790-4fb3-9837-ebd1cba69a6b] --- FSM STATE: ERROR ---
[2025-06-18 12:45:24] ERROR    [agent_fsm:1101] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:45:24] ERROR    [agent_fsm:1102] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:24] WARNING  [agent_fsm:1224] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:24] ERROR    [agent_fsm:1078] [3987611b-3790-4fb3-9837-ebd1cba69a6b] --- FSM STATE: ERROR ---
[2025-06-18 12:45:24] ERROR    [agent_fsm:1101] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:45:24] ERROR    [agent_fsm:1102] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:24] WARNING  [agent_fsm:1224] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:24] ERROR    [agent_fsm:1078] [3987611b-3790-4fb3-9837-ebd1cba69a6b] --- FSM STATE: ERROR ---
[2025-06-18 12:45:24] ERROR    [agent_fsm:1101] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:45:24] ERROR    [agent_fsm:1102] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:24] WARNING  [agent_fsm:1224] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:24] ERROR    [agent_fsm:1078] [3987611b-3790-4fb3-9837-ebd1cba69a6b] --- FSM STATE: ERROR ---
[2025-06-18 12:45:24] ERROR    [agent_fsm:1101] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:45:24] ERROR    [agent_fsm:1102] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:24] WARNING  [agent_fsm:1224] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:24] ERROR    [agent_fsm:1078] [3987611b-3790-4fb3-9837-ebd1cba69a6b] --- FSM STATE: ERROR ---
[2025-06-18 12:45:24] ERROR    [agent_fsm:1101] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:45:24] ERROR    [agent_fsm:1102] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:24] WARNING  [agent_fsm:1224] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:24] ERROR    [agent_fsm:1078] [3987611b-3790-4fb3-9837-ebd1cba69a6b] --- FSM STATE: ERROR ---
[2025-06-18 12:45:24] ERROR    [agent_fsm:1101] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:45:24] ERROR    [agent_fsm:1102] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:24] WARNING  [agent_fsm:1224] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:24] ERROR    [agent_fsm:1078] [3987611b-3790-4fb3-9837-ebd1cba69a6b] --- FSM STATE: ERROR ---
[2025-06-18 12:45:24] ERROR    [agent_fsm:1101] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:45:24] ERROR    [agent_fsm:1102] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:24] WARNING  [agent_fsm:1224] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:24] ERROR    [agent_fsm:1078] [3987611b-3790-4fb3-9837-ebd1cba69a6b] --- FSM STATE: ERROR ---
[2025-06-18 12:45:24] ERROR    [agent_fsm:1101] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:45:24] ERROR    [agent_fsm:1102] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:24] WARNING  [agent_fsm:1224] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:24] ERROR    [agent_fsm:1078] [3987611b-3790-4fb3-9837-ebd1cba69a6b] --- FSM STATE: ERROR ---
[2025-06-18 12:45:24] ERROR    [agent_fsm:1101] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:45:24] ERROR    [agent_fsm:1102] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:24] WARNING  [agent_fsm:1224] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:24] ERROR    [agent_fsm:1078] [3987611b-3790-4fb3-9837-ebd1cba69a6b] --- FSM STATE: ERROR ---
[2025-06-18 12:45:24] ERROR    [agent_fsm:1101] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:45:24] ERROR    [agent_fsm:1102] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:24] WARNING  [agent_fsm:1224] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:24] ERROR    [agent_fsm:1078] [3987611b-3790-4fb3-9837-ebd1cba69a6b] --- FSM STATE: ERROR ---
[2025-06-18 12:45:24] ERROR    [agent_fsm:1101] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:45:24] ERROR    [agent_fsm:1102] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:24] WARNING  [agent_fsm:1224] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:24] ERROR    [agent_fsm:1078] [3987611b-3790-4fb3-9837-ebd1cba69a6b] --- FSM STATE: ERROR ---
[2025-06-18 12:45:24] ERROR    [agent_fsm:1101] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:45:24] ERROR    [agent_fsm:1102] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:24] WARNING  [agent_fsm:1224] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:24] ERROR    [agent_fsm:1078] [3987611b-3790-4fb3-9837-ebd1cba69a6b] --- FSM STATE: ERROR ---
[2025-06-18 12:45:24] ERROR    [agent_fsm:1101] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:45:24] ERROR    [agent_fsm:1102] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:24] WARNING  [agent_fsm:1224] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:24] ERROR    [agent_fsm:1078] [3987611b-3790-4fb3-9837-ebd1cba69a6b] --- FSM STATE: ERROR ---
[2025-06-18 12:45:24] ERROR    [agent_fsm:1101] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:45:24] ERROR    [agent_fsm:1102] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:24] WARNING  [agent_fsm:1224] [3987611b-3790-4fb3-9837-ebd1cba69a6b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:24] ERROR    [agent_fsm:1837] [3987611b-3790-4fb3-9837-ebd1cba69a6b] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:45:24] INFO     [agent_fsm:1752] [5f66223b-3a7d-417d-bbea-55e63f69265e] Starting resilient FSM execution
[2025-06-18 12:45:24] INFO     [agent_fsm:1807] [5f66223b-3a7d-417d-bbea-55e63f69265e] FSM STATE: INITIAL
[2025-06-18 12:45:24] INFO     [agent_fsm:665] [5f66223b-3a7d-417d-bbea-55e63f69265e] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:45:24] DEBUG    [agent_fsm:680] [5f66223b-3a7d-417d-bbea-55e63f69265e] Turn count: 1, Action history length: 1
[2025-06-18 12:45:26] WARNING  [agent_fsm:1521] [5f66223b-3a7d-417d-bbea-55e63f69265e] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:45:26] WARNING  [agent_fsm:1521] [5f66223b-3a7d-417d-bbea-55e63f69265e] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:45:26] WARNING  [agent_fsm:1521] [5f66223b-3a7d-417d-bbea-55e63f69265e] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:45:26] WARNING  [agent_fsm:1521] [5f66223b-3a7d-417d-bbea-55e63f69265e] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:45:26] WARNING  [agent_fsm:1521] [5f66223b-3a7d-417d-bbea-55e63f69265e] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:45:26] WARNING  [agent_fsm:1521] [5f66223b-3a7d-417d-bbea-55e63f69265e] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 12:45:26] INFO     [agent_fsm:773] [5f66223b-3a7d-417d-bbea-55e63f69265e] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:45:26] INFO     [agent_fsm:820] [5f66223b-3a7d-417d-bbea-55e63f69265e] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:45:26] INFO     [agent_fsm:922] [5f66223b-3a7d-417d-bbea-55e63f69265e] Tool execution completed
[2025-06-18 12:45:26] INFO     [agent_fsm:773] [5f66223b-3a7d-417d-bbea-55e63f69265e] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:45:26] WARNING  [agent_fsm:803] [5f66223b-3a7d-417d-bbea-55e63f69265e] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:45:26] INFO     [agent_fsm:665] [5f66223b-3a7d-417d-bbea-55e63f69265e] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:45:26] DEBUG    [agent_fsm:680] [5f66223b-3a7d-417d-bbea-55e63f69265e] Turn count: 2, Action history length: 2
[2025-06-18 12:45:27] WARNING  [agent_fsm:1521] [5f66223b-3a7d-417d-bbea-55e63f69265e] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:45:27] INFO     [agent_fsm:773] [5f66223b-3a7d-417d-bbea-55e63f69265e] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:45:27] INFO     [agent_fsm:820] [5f66223b-3a7d-417d-bbea-55e63f69265e] Executing tool: gaia_video_analyzer with input: {'video_url': 'https://www.youtube.com/watch?v=L1vXCYZAYYM'}
[2025-06-18 12:45:27] INFO     [agent_fsm:922] [5f66223b-3a7d-417d-bbea-55e63f69265e] Tool execution completed
[2025-06-18 12:45:27] INFO     [agent_fsm:773] [5f66223b-3a7d-417d-bbea-55e63f69265e] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:45:27] WARNING  [agent_fsm:803] [5f66223b-3a7d-417d-bbea-55e63f69265e] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:45:27] INFO     [agent_fsm:665] [5f66223b-3a7d-417d-bbea-55e63f69265e] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:45:27] DEBUG    [agent_fsm:680] [5f66223b-3a7d-417d-bbea-55e63f69265e] Turn count: 3, Action history length: 3
[2025-06-18 12:45:28] WARNING  [agent_fsm:1521] [5f66223b-3a7d-417d-bbea-55e63f69265e] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:45:28] WARNING  [agent_fsm:1521] [5f66223b-3a7d-417d-bbea-55e63f69265e] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:45:28] WARNING  [agent_fsm:1521] [5f66223b-3a7d-417d-bbea-55e63f69265e] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:45:28] WARNING  [agent_fsm:1224] [5f66223b-3a7d-417d-bbea-55e63f69265e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:28] ERROR    [agent_fsm:1078] [5f66223b-3a7d-417d-bbea-55e63f69265e] --- FSM STATE: ERROR ---
[2025-06-18 12:45:28] ERROR    [agent_fsm:1101] [5f66223b-3a7d-417d-bbea-55e63f69265e] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:45:28] ERROR    [agent_fsm:1102] [5f66223b-3a7d-417d-bbea-55e63f69265e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:28] WARNING  [agent_fsm:1224] [5f66223b-3a7d-417d-bbea-55e63f69265e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:28] ERROR    [agent_fsm:1078] [5f66223b-3a7d-417d-bbea-55e63f69265e] --- FSM STATE: ERROR ---
[2025-06-18 12:45:28] ERROR    [agent_fsm:1101] [5f66223b-3a7d-417d-bbea-55e63f69265e] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:45:28] ERROR    [agent_fsm:1102] [5f66223b-3a7d-417d-bbea-55e63f69265e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:28] WARNING  [agent_fsm:1224] [5f66223b-3a7d-417d-bbea-55e63f69265e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:28] ERROR    [agent_fsm:1078] [5f66223b-3a7d-417d-bbea-55e63f69265e] --- FSM STATE: ERROR ---
[2025-06-18 12:45:28] ERROR    [agent_fsm:1101] [5f66223b-3a7d-417d-bbea-55e63f69265e] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:45:28] ERROR    [agent_fsm:1102] [5f66223b-3a7d-417d-bbea-55e63f69265e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:28] WARNING  [agent_fsm:1224] [5f66223b-3a7d-417d-bbea-55e63f69265e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:28] ERROR    [agent_fsm:1078] [5f66223b-3a7d-417d-bbea-55e63f69265e] --- FSM STATE: ERROR ---
[2025-06-18 12:45:28] ERROR    [agent_fsm:1101] [5f66223b-3a7d-417d-bbea-55e63f69265e] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:45:28] ERROR    [agent_fsm:1102] [5f66223b-3a7d-417d-bbea-55e63f69265e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:28] WARNING  [agent_fsm:1224] [5f66223b-3a7d-417d-bbea-55e63f69265e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:28] ERROR    [agent_fsm:1078] [5f66223b-3a7d-417d-bbea-55e63f69265e] --- FSM STATE: ERROR ---
[2025-06-18 12:45:28] ERROR    [agent_fsm:1101] [5f66223b-3a7d-417d-bbea-55e63f69265e] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:45:28] ERROR    [agent_fsm:1102] [5f66223b-3a7d-417d-bbea-55e63f69265e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:28] WARNING  [agent_fsm:1224] [5f66223b-3a7d-417d-bbea-55e63f69265e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:28] ERROR    [agent_fsm:1078] [5f66223b-3a7d-417d-bbea-55e63f69265e] --- FSM STATE: ERROR ---
[2025-06-18 12:45:28] ERROR    [agent_fsm:1101] [5f66223b-3a7d-417d-bbea-55e63f69265e] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:45:28] ERROR    [agent_fsm:1102] [5f66223b-3a7d-417d-bbea-55e63f69265e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:28] WARNING  [agent_fsm:1224] [5f66223b-3a7d-417d-bbea-55e63f69265e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:28] ERROR    [agent_fsm:1078] [5f66223b-3a7d-417d-bbea-55e63f69265e] --- FSM STATE: ERROR ---
[2025-06-18 12:45:28] ERROR    [agent_fsm:1101] [5f66223b-3a7d-417d-bbea-55e63f69265e] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:45:28] ERROR    [agent_fsm:1102] [5f66223b-3a7d-417d-bbea-55e63f69265e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:28] WARNING  [agent_fsm:1224] [5f66223b-3a7d-417d-bbea-55e63f69265e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:28] ERROR    [agent_fsm:1078] [5f66223b-3a7d-417d-bbea-55e63f69265e] --- FSM STATE: ERROR ---
[2025-06-18 12:45:28] ERROR    [agent_fsm:1101] [5f66223b-3a7d-417d-bbea-55e63f69265e] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:45:28] ERROR    [agent_fsm:1102] [5f66223b-3a7d-417d-bbea-55e63f69265e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:28] WARNING  [agent_fsm:1224] [5f66223b-3a7d-417d-bbea-55e63f69265e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:28] ERROR    [agent_fsm:1078] [5f66223b-3a7d-417d-bbea-55e63f69265e] --- FSM STATE: ERROR ---
[2025-06-18 12:45:28] ERROR    [agent_fsm:1101] [5f66223b-3a7d-417d-bbea-55e63f69265e] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:45:28] ERROR    [agent_fsm:1102] [5f66223b-3a7d-417d-bbea-55e63f69265e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:28] WARNING  [agent_fsm:1224] [5f66223b-3a7d-417d-bbea-55e63f69265e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:28] ERROR    [agent_fsm:1078] [5f66223b-3a7d-417d-bbea-55e63f69265e] --- FSM STATE: ERROR ---
[2025-06-18 12:45:28] ERROR    [agent_fsm:1101] [5f66223b-3a7d-417d-bbea-55e63f69265e] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:45:28] ERROR    [agent_fsm:1102] [5f66223b-3a7d-417d-bbea-55e63f69265e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:28] WARNING  [agent_fsm:1224] [5f66223b-3a7d-417d-bbea-55e63f69265e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:28] ERROR    [agent_fsm:1078] [5f66223b-3a7d-417d-bbea-55e63f69265e] --- FSM STATE: ERROR ---
[2025-06-18 12:45:28] ERROR    [agent_fsm:1101] [5f66223b-3a7d-417d-bbea-55e63f69265e] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:45:28] ERROR    [agent_fsm:1102] [5f66223b-3a7d-417d-bbea-55e63f69265e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:28] WARNING  [agent_fsm:1224] [5f66223b-3a7d-417d-bbea-55e63f69265e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:28] ERROR    [agent_fsm:1078] [5f66223b-3a7d-417d-bbea-55e63f69265e] --- FSM STATE: ERROR ---
[2025-06-18 12:45:28] ERROR    [agent_fsm:1101] [5f66223b-3a7d-417d-bbea-55e63f69265e] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:45:28] ERROR    [agent_fsm:1102] [5f66223b-3a7d-417d-bbea-55e63f69265e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:28] WARNING  [agent_fsm:1224] [5f66223b-3a7d-417d-bbea-55e63f69265e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:28] ERROR    [agent_fsm:1078] [5f66223b-3a7d-417d-bbea-55e63f69265e] --- FSM STATE: ERROR ---
[2025-06-18 12:45:28] ERROR    [agent_fsm:1101] [5f66223b-3a7d-417d-bbea-55e63f69265e] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:45:28] ERROR    [agent_fsm:1102] [5f66223b-3a7d-417d-bbea-55e63f69265e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:28] WARNING  [agent_fsm:1224] [5f66223b-3a7d-417d-bbea-55e63f69265e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:28] ERROR    [agent_fsm:1078] [5f66223b-3a7d-417d-bbea-55e63f69265e] --- FSM STATE: ERROR ---
[2025-06-18 12:45:28] ERROR    [agent_fsm:1101] [5f66223b-3a7d-417d-bbea-55e63f69265e] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:45:28] ERROR    [agent_fsm:1102] [5f66223b-3a7d-417d-bbea-55e63f69265e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:28] WARNING  [agent_fsm:1224] [5f66223b-3a7d-417d-bbea-55e63f69265e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:28] ERROR    [agent_fsm:1078] [5f66223b-3a7d-417d-bbea-55e63f69265e] --- FSM STATE: ERROR ---
[2025-06-18 12:45:28] ERROR    [agent_fsm:1101] [5f66223b-3a7d-417d-bbea-55e63f69265e] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:45:28] ERROR    [agent_fsm:1102] [5f66223b-3a7d-417d-bbea-55e63f69265e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:28] WARNING  [agent_fsm:1224] [5f66223b-3a7d-417d-bbea-55e63f69265e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:28] ERROR    [agent_fsm:1078] [5f66223b-3a7d-417d-bbea-55e63f69265e] --- FSM STATE: ERROR ---
[2025-06-18 12:45:28] ERROR    [agent_fsm:1101] [5f66223b-3a7d-417d-bbea-55e63f69265e] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:45:28] ERROR    [agent_fsm:1102] [5f66223b-3a7d-417d-bbea-55e63f69265e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:28] WARNING  [agent_fsm:1224] [5f66223b-3a7d-417d-bbea-55e63f69265e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:28] ERROR    [agent_fsm:1078] [5f66223b-3a7d-417d-bbea-55e63f69265e] --- FSM STATE: ERROR ---
[2025-06-18 12:45:28] ERROR    [agent_fsm:1101] [5f66223b-3a7d-417d-bbea-55e63f69265e] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:45:28] ERROR    [agent_fsm:1102] [5f66223b-3a7d-417d-bbea-55e63f69265e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:28] WARNING  [agent_fsm:1224] [5f66223b-3a7d-417d-bbea-55e63f69265e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:28] ERROR    [agent_fsm:1078] [5f66223b-3a7d-417d-bbea-55e63f69265e] --- FSM STATE: ERROR ---
[2025-06-18 12:45:28] ERROR    [agent_fsm:1101] [5f66223b-3a7d-417d-bbea-55e63f69265e] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:45:28] ERROR    [agent_fsm:1102] [5f66223b-3a7d-417d-bbea-55e63f69265e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:28] WARNING  [agent_fsm:1224] [5f66223b-3a7d-417d-bbea-55e63f69265e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:28] ERROR    [agent_fsm:1837] [5f66223b-3a7d-417d-bbea-55e63f69265e] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:45:28] INFO     [agent_fsm:1752] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Starting resilient FSM execution
[2025-06-18 12:45:28] INFO     [agent_fsm:1807] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] FSM STATE: INITIAL
[2025-06-18 12:45:28] INFO     [agent_fsm:665] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:45:28] DEBUG    [agent_fsm:680] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Turn count: 1, Action history length: 1
[2025-06-18 12:45:29] WARNING  [agent_fsm:1521] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:45:29] WARNING  [agent_fsm:1521] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 12:45:29] WARNING  [agent_fsm:1521] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Failed to parse JSON parameters for step 8, using fallback parser
[2025-06-18 12:45:29] WARNING  [agent_fsm:1521] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Failed to parse JSON parameters for step 9, using fallback parser
[2025-06-18 12:45:29] ERROR    [agent_fsm:1359] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:45:29] INFO     [agent_fsm:773] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:45:29] INFO     [agent_fsm:820] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:45:29] INFO     [agent_fsm:922] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Tool execution completed
[2025-06-18 12:45:29] INFO     [agent_fsm:773] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:45:29] WARNING  [agent_fsm:803] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:45:29] INFO     [agent_fsm:665] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:45:29] DEBUG    [agent_fsm:680] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Turn count: 2, Action history length: 2
[2025-06-18 12:45:30] WARNING  [agent_fsm:1521] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:45:30] WARNING  [agent_fsm:1521] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Failed to parse JSON parameters for step 8, using fallback parser
[2025-06-18 12:45:30] ERROR    [agent_fsm:1359] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:45:30] INFO     [agent_fsm:773] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:45:30] INFO     [agent_fsm:820] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Executing tool: file_reader with input: {'filename': 'decoded_string.txt', 'lines': -1}
[2025-06-18 12:45:30] INFO     [agent_fsm:922] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Tool execution completed
[2025-06-18 12:45:30] INFO     [agent_fsm:773] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:45:30] WARNING  [agent_fsm:803] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:45:30] INFO     [agent_fsm:665] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:45:30] DEBUG    [agent_fsm:680] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Turn count: 3, Action history length: 3
[2025-06-18 12:45:32] WARNING  [agent_fsm:1521] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:45:32] WARNING  [agent_fsm:1521] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 12:45:32] WARNING  [agent_fsm:1521] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Failed to parse JSON parameters for step 8, using fallback parser
[2025-06-18 12:45:32] WARNING  [agent_fsm:1521] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Failed to parse JSON parameters for step 9, using fallback parser
[2025-06-18 12:45:32] ERROR    [agent_fsm:1359] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:45:32] WARNING  [agent_fsm:1224] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:32] ERROR    [agent_fsm:1078] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] --- FSM STATE: ERROR ---
[2025-06-18 12:45:32] ERROR    [agent_fsm:1101] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:45:32] ERROR    [agent_fsm:1102] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:32] WARNING  [agent_fsm:1224] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:32] ERROR    [agent_fsm:1078] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] --- FSM STATE: ERROR ---
[2025-06-18 12:45:32] ERROR    [agent_fsm:1101] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:45:32] ERROR    [agent_fsm:1102] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:32] WARNING  [agent_fsm:1224] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:32] ERROR    [agent_fsm:1078] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] --- FSM STATE: ERROR ---
[2025-06-18 12:45:32] ERROR    [agent_fsm:1101] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:45:32] ERROR    [agent_fsm:1102] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:32] WARNING  [agent_fsm:1224] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:32] ERROR    [agent_fsm:1078] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] --- FSM STATE: ERROR ---
[2025-06-18 12:45:32] ERROR    [agent_fsm:1101] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:45:32] ERROR    [agent_fsm:1102] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:32] WARNING  [agent_fsm:1224] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:32] ERROR    [agent_fsm:1078] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] --- FSM STATE: ERROR ---
[2025-06-18 12:45:32] ERROR    [agent_fsm:1101] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:45:32] ERROR    [agent_fsm:1102] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:32] WARNING  [agent_fsm:1224] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:32] ERROR    [agent_fsm:1078] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] --- FSM STATE: ERROR ---
[2025-06-18 12:45:32] ERROR    [agent_fsm:1101] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:45:32] ERROR    [agent_fsm:1102] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:32] WARNING  [agent_fsm:1224] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:32] ERROR    [agent_fsm:1078] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] --- FSM STATE: ERROR ---
[2025-06-18 12:45:32] ERROR    [agent_fsm:1101] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:45:32] ERROR    [agent_fsm:1102] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:32] WARNING  [agent_fsm:1224] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:32] ERROR    [agent_fsm:1078] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] --- FSM STATE: ERROR ---
[2025-06-18 12:45:32] ERROR    [agent_fsm:1101] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:45:32] ERROR    [agent_fsm:1102] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:32] WARNING  [agent_fsm:1224] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:32] ERROR    [agent_fsm:1078] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] --- FSM STATE: ERROR ---
[2025-06-18 12:45:32] ERROR    [agent_fsm:1101] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:45:32] ERROR    [agent_fsm:1102] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:32] WARNING  [agent_fsm:1224] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:32] ERROR    [agent_fsm:1078] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] --- FSM STATE: ERROR ---
[2025-06-18 12:45:32] ERROR    [agent_fsm:1101] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:45:32] ERROR    [agent_fsm:1102] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:32] WARNING  [agent_fsm:1224] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:32] ERROR    [agent_fsm:1078] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] --- FSM STATE: ERROR ---
[2025-06-18 12:45:32] ERROR    [agent_fsm:1101] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:45:32] ERROR    [agent_fsm:1102] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:32] WARNING  [agent_fsm:1224] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:32] ERROR    [agent_fsm:1078] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] --- FSM STATE: ERROR ---
[2025-06-18 12:45:32] ERROR    [agent_fsm:1101] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:45:32] ERROR    [agent_fsm:1102] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:32] WARNING  [agent_fsm:1224] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:32] ERROR    [agent_fsm:1078] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] --- FSM STATE: ERROR ---
[2025-06-18 12:45:32] ERROR    [agent_fsm:1101] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:45:32] ERROR    [agent_fsm:1102] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:32] WARNING  [agent_fsm:1224] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:32] ERROR    [agent_fsm:1078] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] --- FSM STATE: ERROR ---
[2025-06-18 12:45:32] ERROR    [agent_fsm:1101] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:45:32] ERROR    [agent_fsm:1102] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:32] WARNING  [agent_fsm:1224] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:32] ERROR    [agent_fsm:1078] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] --- FSM STATE: ERROR ---
[2025-06-18 12:45:32] ERROR    [agent_fsm:1101] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:45:32] ERROR    [agent_fsm:1102] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:32] WARNING  [agent_fsm:1224] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:32] ERROR    [agent_fsm:1078] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] --- FSM STATE: ERROR ---
[2025-06-18 12:45:32] ERROR    [agent_fsm:1101] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:45:32] ERROR    [agent_fsm:1102] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:32] WARNING  [agent_fsm:1224] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:32] ERROR    [agent_fsm:1078] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] --- FSM STATE: ERROR ---
[2025-06-18 12:45:32] ERROR    [agent_fsm:1101] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:45:32] ERROR    [agent_fsm:1102] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:32] WARNING  [agent_fsm:1224] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:32] ERROR    [agent_fsm:1078] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] --- FSM STATE: ERROR ---
[2025-06-18 12:45:32] ERROR    [agent_fsm:1101] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:45:32] ERROR    [agent_fsm:1102] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:32] WARNING  [agent_fsm:1224] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:32] ERROR    [agent_fsm:1837] [bcf0583f-31eb-4771-bb2e-2fdd2d5b13ea] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:45:32] INFO     [agent_fsm:1752] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Starting resilient FSM execution
[2025-06-18 12:45:32] INFO     [agent_fsm:1807] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] FSM STATE: INITIAL
[2025-06-18 12:45:32] INFO     [agent_fsm:665] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:45:32] DEBUG    [agent_fsm:680] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Turn count: 1, Action history length: 1
[2025-06-18 12:45:33] WARNING  [agent_fsm:1521] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:45:33] WARNING  [agent_fsm:1521] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:45:33] WARNING  [agent_fsm:1521] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:45:33] WARNING  [agent_fsm:1521] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:45:33] INFO     [agent_fsm:773] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:45:33] INFO     [agent_fsm:820] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Executing tool: advanced_file_reader with input: {'filename': 'path/to/sales_data.xlsx'}
[2025-06-18 12:45:33] INFO     [agent_fsm:922] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Tool execution completed
[2025-06-18 12:45:33] INFO     [agent_fsm:773] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:45:33] WARNING  [agent_fsm:803] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:45:33] INFO     [agent_fsm:665] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:45:33] DEBUG    [agent_fsm:680] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Turn count: 2, Action history length: 2
[2025-06-18 12:45:34] WARNING  [agent_fsm:1521] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:45:34] WARNING  [agent_fsm:1521] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:45:34] WARNING  [agent_fsm:1521] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:45:34] WARNING  [agent_fsm:1521] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:45:34] WARNING  [agent_fsm:1521] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:45:34] INFO     [agent_fsm:773] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:45:34] INFO     [agent_fsm:820] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Executing tool: advanced_file_reader with input: {'filename': 'path/to/file.xlsx'}
[2025-06-18 12:45:34] INFO     [agent_fsm:922] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Tool execution completed
[2025-06-18 12:45:34] INFO     [agent_fsm:773] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:45:34] WARNING  [agent_fsm:803] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:45:34] INFO     [agent_fsm:665] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:45:34] DEBUG    [agent_fsm:680] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Turn count: 3, Action history length: 3
[2025-06-18 12:45:36] WARNING  [agent_fsm:1224] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:36] ERROR    [agent_fsm:1078] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] --- FSM STATE: ERROR ---
[2025-06-18 12:45:36] ERROR    [agent_fsm:1101] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:45:36] ERROR    [agent_fsm:1102] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:36] WARNING  [agent_fsm:1224] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:36] ERROR    [agent_fsm:1078] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] --- FSM STATE: ERROR ---
[2025-06-18 12:45:36] ERROR    [agent_fsm:1101] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:45:36] ERROR    [agent_fsm:1102] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:36] WARNING  [agent_fsm:1224] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:36] ERROR    [agent_fsm:1078] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] --- FSM STATE: ERROR ---
[2025-06-18 12:45:36] ERROR    [agent_fsm:1101] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:45:36] ERROR    [agent_fsm:1102] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:36] WARNING  [agent_fsm:1224] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:36] ERROR    [agent_fsm:1078] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] --- FSM STATE: ERROR ---
[2025-06-18 12:45:36] ERROR    [agent_fsm:1101] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:45:36] ERROR    [agent_fsm:1102] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:36] WARNING  [agent_fsm:1224] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:36] ERROR    [agent_fsm:1078] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] --- FSM STATE: ERROR ---
[2025-06-18 12:45:36] ERROR    [agent_fsm:1101] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:45:36] ERROR    [agent_fsm:1102] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:36] WARNING  [agent_fsm:1224] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:36] ERROR    [agent_fsm:1078] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] --- FSM STATE: ERROR ---
[2025-06-18 12:45:36] ERROR    [agent_fsm:1101] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:45:36] ERROR    [agent_fsm:1102] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:36] WARNING  [agent_fsm:1224] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:36] ERROR    [agent_fsm:1078] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] --- FSM STATE: ERROR ---
[2025-06-18 12:45:36] ERROR    [agent_fsm:1101] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:45:36] ERROR    [agent_fsm:1102] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:36] WARNING  [agent_fsm:1224] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:36] ERROR    [agent_fsm:1078] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] --- FSM STATE: ERROR ---
[2025-06-18 12:45:36] ERROR    [agent_fsm:1101] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:45:36] ERROR    [agent_fsm:1102] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:36] WARNING  [agent_fsm:1224] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:36] ERROR    [agent_fsm:1078] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] --- FSM STATE: ERROR ---
[2025-06-18 12:45:36] ERROR    [agent_fsm:1101] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:45:36] ERROR    [agent_fsm:1102] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:36] WARNING  [agent_fsm:1224] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:36] ERROR    [agent_fsm:1078] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] --- FSM STATE: ERROR ---
[2025-06-18 12:45:36] ERROR    [agent_fsm:1101] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:45:36] ERROR    [agent_fsm:1102] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:36] WARNING  [agent_fsm:1224] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:36] ERROR    [agent_fsm:1078] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] --- FSM STATE: ERROR ---
[2025-06-18 12:45:36] ERROR    [agent_fsm:1101] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:45:36] ERROR    [agent_fsm:1102] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:36] WARNING  [agent_fsm:1224] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:36] ERROR    [agent_fsm:1078] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] --- FSM STATE: ERROR ---
[2025-06-18 12:45:36] ERROR    [agent_fsm:1101] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:45:36] ERROR    [agent_fsm:1102] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:36] WARNING  [agent_fsm:1224] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:36] ERROR    [agent_fsm:1078] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] --- FSM STATE: ERROR ---
[2025-06-18 12:45:36] ERROR    [agent_fsm:1101] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:45:36] ERROR    [agent_fsm:1102] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:36] WARNING  [agent_fsm:1224] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:36] ERROR    [agent_fsm:1078] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] --- FSM STATE: ERROR ---
[2025-06-18 12:45:36] ERROR    [agent_fsm:1101] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:45:36] ERROR    [agent_fsm:1102] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:36] WARNING  [agent_fsm:1224] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:36] ERROR    [agent_fsm:1078] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] --- FSM STATE: ERROR ---
[2025-06-18 12:45:36] ERROR    [agent_fsm:1101] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:45:36] ERROR    [agent_fsm:1102] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:36] WARNING  [agent_fsm:1224] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:36] ERROR    [agent_fsm:1078] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] --- FSM STATE: ERROR ---
[2025-06-18 12:45:36] ERROR    [agent_fsm:1101] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:45:36] ERROR    [agent_fsm:1102] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:36] WARNING  [agent_fsm:1224] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:36] ERROR    [agent_fsm:1078] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] --- FSM STATE: ERROR ---
[2025-06-18 12:45:36] ERROR    [agent_fsm:1101] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:45:36] ERROR    [agent_fsm:1102] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:36] WARNING  [agent_fsm:1224] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:36] ERROR    [agent_fsm:1078] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] --- FSM STATE: ERROR ---
[2025-06-18 12:45:36] ERROR    [agent_fsm:1101] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:45:36] ERROR    [agent_fsm:1102] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:36] WARNING  [agent_fsm:1224] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:36] ERROR    [agent_fsm:1837] [6d81db87-abe1-4bd9-81cf-a7365b96ba62] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:45:36] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 12:45:36] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 12:45:36] INFO     [agent_fsm:570] [4de3e4f9-e718-49b1-be69-0e72045b77b3] Building resilient FSM graph
[2025-06-18 12:45:36] INFO     [agent_fsm:572] [4de3e4f9-e718-49b1-be69-0e72045b77b3] FSMReActAgent graph built successfully
[2025-06-18 12:45:36] INFO     [agent_fsm:1752] [818f28cc-2431-4422-8166-4faabf004f14] Starting resilient FSM execution
[2025-06-18 12:45:36] WARNING  [agent_fsm:1759] [818f28cc-2431-4422-8166-4faabf004f14] FSM agent rejecting invalid input: '{{' - 1 validation error for ValidatedQuery
query
  Value error, Invalid placeholder query received: '{{' [type=value_error, input_value='{{', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/value_error
[2025-06-18 12:45:36] INFO     [agent_fsm:1752] [863e0b65-d225-46c3-8007-dfeacee00740] Starting resilient FSM execution
[2025-06-18 12:45:36] INFO     [agent_fsm:1807] [863e0b65-d225-46c3-8007-dfeacee00740] FSM STATE: INITIAL
[2025-06-18 12:45:36] INFO     [agent_fsm:665] [863e0b65-d225-46c3-8007-dfeacee00740] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:45:36] DEBUG    [agent_fsm:680] [863e0b65-d225-46c3-8007-dfeacee00740] Turn count: 1, Action history length: 1
[2025-06-18 12:45:37] ERROR    [agent_fsm:1359] [863e0b65-d225-46c3-8007-dfeacee00740] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:45:37] WARNING  [agent_fsm:1333] [863e0b65-d225-46c3-8007-dfeacee00740] Tool image_analyzer not found in registry, will use stub
[2025-06-18 12:45:37] INFO     [agent_fsm:773] [863e0b65-d225-46c3-8007-dfeacee00740] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:45:37] INFO     [agent_fsm:820] [863e0b65-d225-46c3-8007-dfeacee00740] Executing tool: web_researcher with input: {'query': 'What is 2 + 2?', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 12:45:37] INFO     [agent_fsm:922] [863e0b65-d225-46c3-8007-dfeacee00740] Tool execution completed
[2025-06-18 12:45:37] INFO     [agent_fsm:773] [863e0b65-d225-46c3-8007-dfeacee00740] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:45:37] WARNING  [agent_fsm:803] [863e0b65-d225-46c3-8007-dfeacee00740] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:45:37] INFO     [agent_fsm:665] [863e0b65-d225-46c3-8007-dfeacee00740] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:45:37] DEBUG    [agent_fsm:680] [863e0b65-d225-46c3-8007-dfeacee00740] Turn count: 2, Action history length: 2
[2025-06-18 12:45:39] ERROR    [agent_fsm:1359] [863e0b65-d225-46c3-8007-dfeacee00740] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:45:39] INFO     [agent_fsm:773] [863e0b65-d225-46c3-8007-dfeacee00740] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:45:39] INFO     [agent_fsm:820] [863e0b65-d225-46c3-8007-dfeacee00740] Executing tool: semantic_search_tool with input: {'query': '2 + 2', 'filename': 'knowledge_base.csv', 'top_k': 3}
[2025-06-18 12:45:39] INFO     [agent_fsm:922] [863e0b65-d225-46c3-8007-dfeacee00740] Tool execution completed
[2025-06-18 12:45:39] INFO     [agent_fsm:773] [863e0b65-d225-46c3-8007-dfeacee00740] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:45:39] WARNING  [agent_fsm:803] [863e0b65-d225-46c3-8007-dfeacee00740] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:45:39] INFO     [agent_fsm:665] [863e0b65-d225-46c3-8007-dfeacee00740] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:45:39] DEBUG    [agent_fsm:680] [863e0b65-d225-46c3-8007-dfeacee00740] Turn count: 3, Action history length: 3
[2025-06-18 12:45:40] WARNING  [agent_fsm:1521] [863e0b65-d225-46c3-8007-dfeacee00740] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:45:40] ERROR    [agent_fsm:1359] [863e0b65-d225-46c3-8007-dfeacee00740] Error validating tool tavily_search: 'NoneType' object has no attribute 'model_validate'
[2025-06-18 12:45:40] WARNING  [agent_fsm:1224] [863e0b65-d225-46c3-8007-dfeacee00740] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:40] ERROR    [agent_fsm:1078] [863e0b65-d225-46c3-8007-dfeacee00740] --- FSM STATE: ERROR ---
[2025-06-18 12:45:40] ERROR    [agent_fsm:1101] [863e0b65-d225-46c3-8007-dfeacee00740] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:45:40] ERROR    [agent_fsm:1102] [863e0b65-d225-46c3-8007-dfeacee00740] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:40] WARNING  [agent_fsm:1224] [863e0b65-d225-46c3-8007-dfeacee00740] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:40] ERROR    [agent_fsm:1078] [863e0b65-d225-46c3-8007-dfeacee00740] --- FSM STATE: ERROR ---
[2025-06-18 12:45:40] ERROR    [agent_fsm:1101] [863e0b65-d225-46c3-8007-dfeacee00740] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:45:40] ERROR    [agent_fsm:1102] [863e0b65-d225-46c3-8007-dfeacee00740] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:40] WARNING  [agent_fsm:1224] [863e0b65-d225-46c3-8007-dfeacee00740] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:40] ERROR    [agent_fsm:1078] [863e0b65-d225-46c3-8007-dfeacee00740] --- FSM STATE: ERROR ---
[2025-06-18 12:45:40] ERROR    [agent_fsm:1101] [863e0b65-d225-46c3-8007-dfeacee00740] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:45:40] ERROR    [agent_fsm:1102] [863e0b65-d225-46c3-8007-dfeacee00740] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:40] WARNING  [agent_fsm:1224] [863e0b65-d225-46c3-8007-dfeacee00740] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:40] ERROR    [agent_fsm:1078] [863e0b65-d225-46c3-8007-dfeacee00740] --- FSM STATE: ERROR ---
[2025-06-18 12:45:40] ERROR    [agent_fsm:1101] [863e0b65-d225-46c3-8007-dfeacee00740] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:45:40] ERROR    [agent_fsm:1102] [863e0b65-d225-46c3-8007-dfeacee00740] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:40] WARNING  [agent_fsm:1224] [863e0b65-d225-46c3-8007-dfeacee00740] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:40] ERROR    [agent_fsm:1078] [863e0b65-d225-46c3-8007-dfeacee00740] --- FSM STATE: ERROR ---
[2025-06-18 12:45:40] ERROR    [agent_fsm:1101] [863e0b65-d225-46c3-8007-dfeacee00740] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:45:40] ERROR    [agent_fsm:1102] [863e0b65-d225-46c3-8007-dfeacee00740] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:40] WARNING  [agent_fsm:1224] [863e0b65-d225-46c3-8007-dfeacee00740] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:40] ERROR    [agent_fsm:1078] [863e0b65-d225-46c3-8007-dfeacee00740] --- FSM STATE: ERROR ---
[2025-06-18 12:45:40] ERROR    [agent_fsm:1101] [863e0b65-d225-46c3-8007-dfeacee00740] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:45:40] ERROR    [agent_fsm:1102] [863e0b65-d225-46c3-8007-dfeacee00740] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:40] WARNING  [agent_fsm:1224] [863e0b65-d225-46c3-8007-dfeacee00740] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:40] ERROR    [agent_fsm:1078] [863e0b65-d225-46c3-8007-dfeacee00740] --- FSM STATE: ERROR ---
[2025-06-18 12:45:40] ERROR    [agent_fsm:1101] [863e0b65-d225-46c3-8007-dfeacee00740] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:45:40] ERROR    [agent_fsm:1102] [863e0b65-d225-46c3-8007-dfeacee00740] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:40] WARNING  [agent_fsm:1224] [863e0b65-d225-46c3-8007-dfeacee00740] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:40] ERROR    [agent_fsm:1078] [863e0b65-d225-46c3-8007-dfeacee00740] --- FSM STATE: ERROR ---
[2025-06-18 12:45:40] ERROR    [agent_fsm:1101] [863e0b65-d225-46c3-8007-dfeacee00740] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:45:40] ERROR    [agent_fsm:1102] [863e0b65-d225-46c3-8007-dfeacee00740] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:40] WARNING  [agent_fsm:1224] [863e0b65-d225-46c3-8007-dfeacee00740] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:40] ERROR    [agent_fsm:1078] [863e0b65-d225-46c3-8007-dfeacee00740] --- FSM STATE: ERROR ---
[2025-06-18 12:45:40] ERROR    [agent_fsm:1101] [863e0b65-d225-46c3-8007-dfeacee00740] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:45:40] ERROR    [agent_fsm:1102] [863e0b65-d225-46c3-8007-dfeacee00740] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:40] WARNING  [agent_fsm:1224] [863e0b65-d225-46c3-8007-dfeacee00740] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:40] ERROR    [agent_fsm:1078] [863e0b65-d225-46c3-8007-dfeacee00740] --- FSM STATE: ERROR ---
[2025-06-18 12:45:40] ERROR    [agent_fsm:1101] [863e0b65-d225-46c3-8007-dfeacee00740] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:45:40] ERROR    [agent_fsm:1102] [863e0b65-d225-46c3-8007-dfeacee00740] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:40] WARNING  [agent_fsm:1224] [863e0b65-d225-46c3-8007-dfeacee00740] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:40] ERROR    [agent_fsm:1078] [863e0b65-d225-46c3-8007-dfeacee00740] --- FSM STATE: ERROR ---
[2025-06-18 12:45:40] ERROR    [agent_fsm:1101] [863e0b65-d225-46c3-8007-dfeacee00740] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:45:40] ERROR    [agent_fsm:1102] [863e0b65-d225-46c3-8007-dfeacee00740] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:40] WARNING  [agent_fsm:1224] [863e0b65-d225-46c3-8007-dfeacee00740] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:40] ERROR    [agent_fsm:1078] [863e0b65-d225-46c3-8007-dfeacee00740] --- FSM STATE: ERROR ---
[2025-06-18 12:45:40] ERROR    [agent_fsm:1101] [863e0b65-d225-46c3-8007-dfeacee00740] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:45:40] ERROR    [agent_fsm:1102] [863e0b65-d225-46c3-8007-dfeacee00740] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:40] WARNING  [agent_fsm:1224] [863e0b65-d225-46c3-8007-dfeacee00740] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:40] ERROR    [agent_fsm:1078] [863e0b65-d225-46c3-8007-dfeacee00740] --- FSM STATE: ERROR ---
[2025-06-18 12:45:40] ERROR    [agent_fsm:1101] [863e0b65-d225-46c3-8007-dfeacee00740] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:45:40] ERROR    [agent_fsm:1102] [863e0b65-d225-46c3-8007-dfeacee00740] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:40] WARNING  [agent_fsm:1224] [863e0b65-d225-46c3-8007-dfeacee00740] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:40] ERROR    [agent_fsm:1078] [863e0b65-d225-46c3-8007-dfeacee00740] --- FSM STATE: ERROR ---
[2025-06-18 12:45:40] ERROR    [agent_fsm:1101] [863e0b65-d225-46c3-8007-dfeacee00740] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:45:40] ERROR    [agent_fsm:1102] [863e0b65-d225-46c3-8007-dfeacee00740] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:40] WARNING  [agent_fsm:1224] [863e0b65-d225-46c3-8007-dfeacee00740] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:40] ERROR    [agent_fsm:1078] [863e0b65-d225-46c3-8007-dfeacee00740] --- FSM STATE: ERROR ---
[2025-06-18 12:45:40] ERROR    [agent_fsm:1101] [863e0b65-d225-46c3-8007-dfeacee00740] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:45:40] ERROR    [agent_fsm:1102] [863e0b65-d225-46c3-8007-dfeacee00740] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:40] WARNING  [agent_fsm:1224] [863e0b65-d225-46c3-8007-dfeacee00740] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:40] ERROR    [agent_fsm:1078] [863e0b65-d225-46c3-8007-dfeacee00740] --- FSM STATE: ERROR ---
[2025-06-18 12:45:40] ERROR    [agent_fsm:1101] [863e0b65-d225-46c3-8007-dfeacee00740] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:45:40] ERROR    [agent_fsm:1102] [863e0b65-d225-46c3-8007-dfeacee00740] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:40] WARNING  [agent_fsm:1224] [863e0b65-d225-46c3-8007-dfeacee00740] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:40] ERROR    [agent_fsm:1078] [863e0b65-d225-46c3-8007-dfeacee00740] --- FSM STATE: ERROR ---
[2025-06-18 12:45:40] ERROR    [agent_fsm:1101] [863e0b65-d225-46c3-8007-dfeacee00740] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:45:40] ERROR    [agent_fsm:1102] [863e0b65-d225-46c3-8007-dfeacee00740] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:40] WARNING  [agent_fsm:1224] [863e0b65-d225-46c3-8007-dfeacee00740] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:40] ERROR    [agent_fsm:1078] [863e0b65-d225-46c3-8007-dfeacee00740] --- FSM STATE: ERROR ---
[2025-06-18 12:45:40] ERROR    [agent_fsm:1101] [863e0b65-d225-46c3-8007-dfeacee00740] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:45:40] ERROR    [agent_fsm:1102] [863e0b65-d225-46c3-8007-dfeacee00740] Errors: ['Duplicate tool call detected']
[2025-06-18 12:45:40] WARNING  [agent_fsm:1224] [863e0b65-d225-46c3-8007-dfeacee00740] Direct loop detected - same action repeated 3 times
[2025-06-18 12:45:40] ERROR    [agent_fsm:1837] [863e0b65-d225-46c3-8007-dfeacee00740] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:45:40] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 12:45:40] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 12:45:40] INFO     [agent_fsm:570] [b8a981f4-bc81-4508-8a1c-4d8558f6bba8] Building resilient FSM graph
[2025-06-18 12:45:40] INFO     [agent_fsm:572] [b8a981f4-bc81-4508-8a1c-4d8558f6bba8] FSMReActAgent graph built successfully
[2025-06-18 12:49:30] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 12:49:30] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 12:49:30] INFO     [agent_fsm:570] [2f0c8925-4fae-4fe7-981f-fc7783a3e2ea] Building resilient FSM graph
[2025-06-18 12:49:30] INFO     [agent_fsm:572] [2f0c8925-4fae-4fe7-981f-fc7783a3e2ea] FSMReActAgent graph built successfully
[2025-06-18 12:49:30] INFO     [agent_fsm:1752] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Starting resilient FSM execution
[2025-06-18 12:49:30] INFO     [agent_fsm:1807] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] FSM STATE: INITIAL
[2025-06-18 12:49:30] INFO     [agent_fsm:665] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:49:30] DEBUG    [agent_fsm:680] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Turn count: 1, Action history length: 1
[2025-06-18 12:49:31] WARNING  [agent_fsm:1521] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:49:31] INFO     [agent_fsm:773] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:49:31] INFO     [agent_fsm:820] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Executing tool: web_researcher with input: {'query': 'capital of France', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 12:49:31] INFO     [agent_fsm:922] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Tool execution completed
[2025-06-18 12:49:31] INFO     [agent_fsm:773] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:49:31] WARNING  [agent_fsm:803] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:49:31] INFO     [agent_fsm:665] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:49:31] DEBUG    [agent_fsm:680] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Turn count: 2, Action history length: 2
[2025-06-18 12:49:32] WARNING  [agent_fsm:1521] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:49:32] INFO     [agent_fsm:773] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:49:32] WARNING  [agent_fsm:803] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:49:32] INFO     [agent_fsm:665] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] --- FSM STATE: PLANNING (Step 3) ---
[2025-06-18 12:49:32] DEBUG    [agent_fsm:680] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Turn count: 3, Action history length: 3
[2025-06-18 12:49:33] WARNING  [agent_fsm:1521] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:49:33] WARNING  [agent_fsm:1224] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:33] ERROR    [agent_fsm:1078] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] --- FSM STATE: ERROR ---
[2025-06-18 12:49:33] ERROR    [agent_fsm:1101] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:49:33] ERROR    [agent_fsm:1102] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:33] WARNING  [agent_fsm:1224] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:33] ERROR    [agent_fsm:1078] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] --- FSM STATE: ERROR ---
[2025-06-18 12:49:33] ERROR    [agent_fsm:1101] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:49:33] ERROR    [agent_fsm:1102] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:33] WARNING  [agent_fsm:1224] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:33] ERROR    [agent_fsm:1078] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] --- FSM STATE: ERROR ---
[2025-06-18 12:49:33] ERROR    [agent_fsm:1101] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:49:33] ERROR    [agent_fsm:1102] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:33] WARNING  [agent_fsm:1224] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:33] ERROR    [agent_fsm:1078] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] --- FSM STATE: ERROR ---
[2025-06-18 12:49:33] ERROR    [agent_fsm:1101] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:49:33] ERROR    [agent_fsm:1102] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:33] WARNING  [agent_fsm:1224] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:33] ERROR    [agent_fsm:1078] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] --- FSM STATE: ERROR ---
[2025-06-18 12:49:33] ERROR    [agent_fsm:1101] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:49:33] ERROR    [agent_fsm:1102] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:33] WARNING  [agent_fsm:1224] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:33] ERROR    [agent_fsm:1078] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] --- FSM STATE: ERROR ---
[2025-06-18 12:49:33] ERROR    [agent_fsm:1101] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:49:33] ERROR    [agent_fsm:1102] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:33] WARNING  [agent_fsm:1224] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:33] ERROR    [agent_fsm:1078] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] --- FSM STATE: ERROR ---
[2025-06-18 12:49:33] ERROR    [agent_fsm:1101] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:49:33] ERROR    [agent_fsm:1102] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:33] WARNING  [agent_fsm:1224] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:33] ERROR    [agent_fsm:1078] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] --- FSM STATE: ERROR ---
[2025-06-18 12:49:33] ERROR    [agent_fsm:1101] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:49:33] ERROR    [agent_fsm:1102] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:33] WARNING  [agent_fsm:1224] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:33] ERROR    [agent_fsm:1078] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] --- FSM STATE: ERROR ---
[2025-06-18 12:49:33] ERROR    [agent_fsm:1101] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:49:33] ERROR    [agent_fsm:1102] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:33] WARNING  [agent_fsm:1224] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:33] ERROR    [agent_fsm:1078] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] --- FSM STATE: ERROR ---
[2025-06-18 12:49:33] ERROR    [agent_fsm:1101] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:49:33] ERROR    [agent_fsm:1102] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:33] WARNING  [agent_fsm:1224] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:33] ERROR    [agent_fsm:1078] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] --- FSM STATE: ERROR ---
[2025-06-18 12:49:33] ERROR    [agent_fsm:1101] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:49:33] ERROR    [agent_fsm:1102] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:33] WARNING  [agent_fsm:1224] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:33] ERROR    [agent_fsm:1078] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] --- FSM STATE: ERROR ---
[2025-06-18 12:49:33] ERROR    [agent_fsm:1101] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:49:33] ERROR    [agent_fsm:1102] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:33] WARNING  [agent_fsm:1224] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:33] ERROR    [agent_fsm:1078] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] --- FSM STATE: ERROR ---
[2025-06-18 12:49:33] ERROR    [agent_fsm:1101] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:49:33] ERROR    [agent_fsm:1102] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:33] WARNING  [agent_fsm:1224] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:33] ERROR    [agent_fsm:1078] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] --- FSM STATE: ERROR ---
[2025-06-18 12:49:33] ERROR    [agent_fsm:1101] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:49:33] ERROR    [agent_fsm:1102] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:33] WARNING  [agent_fsm:1224] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:33] ERROR    [agent_fsm:1078] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] --- FSM STATE: ERROR ---
[2025-06-18 12:49:33] ERROR    [agent_fsm:1101] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:49:33] ERROR    [agent_fsm:1102] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:33] WARNING  [agent_fsm:1224] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:33] ERROR    [agent_fsm:1078] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] --- FSM STATE: ERROR ---
[2025-06-18 12:49:33] ERROR    [agent_fsm:1101] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:49:33] ERROR    [agent_fsm:1102] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:33] WARNING  [agent_fsm:1224] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:33] ERROR    [agent_fsm:1078] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] --- FSM STATE: ERROR ---
[2025-06-18 12:49:33] ERROR    [agent_fsm:1101] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:49:33] ERROR    [agent_fsm:1102] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:33] WARNING  [agent_fsm:1224] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:33] ERROR    [agent_fsm:1078] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] --- FSM STATE: ERROR ---
[2025-06-18 12:49:33] ERROR    [agent_fsm:1101] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:49:33] ERROR    [agent_fsm:1102] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:33] WARNING  [agent_fsm:1224] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:33] ERROR    [agent_fsm:1078] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] --- FSM STATE: ERROR ---
[2025-06-18 12:49:33] ERROR    [agent_fsm:1101] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Error category: GENERAL, Occurrences: 19
[2025-06-18 12:49:33] ERROR    [agent_fsm:1102] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:33] WARNING  [agent_fsm:1224] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:33] ERROR    [agent_fsm:1837] [3cd175d0-9e7a-480f-bef8-b6ddf28acb3c] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:49:33] INFO     [agent_fsm:1752] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Starting resilient FSM execution
[2025-06-18 12:49:33] INFO     [agent_fsm:1807] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] FSM STATE: INITIAL
[2025-06-18 12:49:33] INFO     [agent_fsm:665] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:49:33] DEBUG    [agent_fsm:680] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Turn count: 1, Action history length: 1
[2025-06-18 12:49:34] INFO     [agent_fsm:773] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:49:34] INFO     [agent_fsm:820] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Executing tool: web_researcher with input: {'query': 'definition of a leap year', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 12:49:34] INFO     [agent_fsm:922] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Tool execution completed
[2025-06-18 12:49:34] INFO     [agent_fsm:773] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:49:34] WARNING  [agent_fsm:803] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:49:34] INFO     [agent_fsm:665] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:49:34] DEBUG    [agent_fsm:680] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Turn count: 2, Action history length: 2
[2025-06-18 12:49:35] INFO     [agent_fsm:773] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:49:35] INFO     [agent_fsm:820] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Executing tool: semantic_search_tool with input: {'query': 'characteristics of a leap year', 'filename': 'knowledge_base.csv', 'top_k': 3}
[2025-06-18 12:49:35] INFO     [agent_fsm:922] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Tool execution completed
[2025-06-18 12:49:35] INFO     [agent_fsm:773] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:49:35] WARNING  [agent_fsm:803] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:49:35] INFO     [agent_fsm:665] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:49:35] DEBUG    [agent_fsm:680] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Turn count: 3, Action history length: 3
[2025-06-18 12:49:36] WARNING  [agent_fsm:1224] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:36] ERROR    [agent_fsm:1078] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] --- FSM STATE: ERROR ---
[2025-06-18 12:49:36] ERROR    [agent_fsm:1101] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:49:36] ERROR    [agent_fsm:1102] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:36] WARNING  [agent_fsm:1224] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:36] ERROR    [agent_fsm:1078] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] --- FSM STATE: ERROR ---
[2025-06-18 12:49:36] ERROR    [agent_fsm:1101] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:49:36] ERROR    [agent_fsm:1102] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:36] WARNING  [agent_fsm:1224] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:36] ERROR    [agent_fsm:1078] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] --- FSM STATE: ERROR ---
[2025-06-18 12:49:36] ERROR    [agent_fsm:1101] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:49:36] ERROR    [agent_fsm:1102] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:36] WARNING  [agent_fsm:1224] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:36] ERROR    [agent_fsm:1078] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] --- FSM STATE: ERROR ---
[2025-06-18 12:49:36] ERROR    [agent_fsm:1101] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:49:36] ERROR    [agent_fsm:1102] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:36] WARNING  [agent_fsm:1224] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:36] ERROR    [agent_fsm:1078] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] --- FSM STATE: ERROR ---
[2025-06-18 12:49:36] ERROR    [agent_fsm:1101] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:49:36] ERROR    [agent_fsm:1102] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:36] WARNING  [agent_fsm:1224] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:36] ERROR    [agent_fsm:1078] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] --- FSM STATE: ERROR ---
[2025-06-18 12:49:36] ERROR    [agent_fsm:1101] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:49:36] ERROR    [agent_fsm:1102] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:36] WARNING  [agent_fsm:1224] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:36] ERROR    [agent_fsm:1078] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] --- FSM STATE: ERROR ---
[2025-06-18 12:49:36] ERROR    [agent_fsm:1101] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:49:36] ERROR    [agent_fsm:1102] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:36] WARNING  [agent_fsm:1224] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:36] ERROR    [agent_fsm:1078] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] --- FSM STATE: ERROR ---
[2025-06-18 12:49:36] ERROR    [agent_fsm:1101] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:49:36] ERROR    [agent_fsm:1102] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:36] WARNING  [agent_fsm:1224] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:36] ERROR    [agent_fsm:1078] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] --- FSM STATE: ERROR ---
[2025-06-18 12:49:36] ERROR    [agent_fsm:1101] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:49:36] ERROR    [agent_fsm:1102] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:36] WARNING  [agent_fsm:1224] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:36] ERROR    [agent_fsm:1078] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] --- FSM STATE: ERROR ---
[2025-06-18 12:49:36] ERROR    [agent_fsm:1101] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:49:36] ERROR    [agent_fsm:1102] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:36] WARNING  [agent_fsm:1224] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:36] ERROR    [agent_fsm:1078] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] --- FSM STATE: ERROR ---
[2025-06-18 12:49:36] ERROR    [agent_fsm:1101] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:49:36] ERROR    [agent_fsm:1102] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:36] WARNING  [agent_fsm:1224] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:36] ERROR    [agent_fsm:1078] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] --- FSM STATE: ERROR ---
[2025-06-18 12:49:36] ERROR    [agent_fsm:1101] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:49:36] ERROR    [agent_fsm:1102] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:36] WARNING  [agent_fsm:1224] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:36] ERROR    [agent_fsm:1078] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] --- FSM STATE: ERROR ---
[2025-06-18 12:49:36] ERROR    [agent_fsm:1101] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:49:36] ERROR    [agent_fsm:1102] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:36] WARNING  [agent_fsm:1224] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:36] ERROR    [agent_fsm:1078] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] --- FSM STATE: ERROR ---
[2025-06-18 12:49:36] ERROR    [agent_fsm:1101] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:49:36] ERROR    [agent_fsm:1102] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:36] WARNING  [agent_fsm:1224] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:36] ERROR    [agent_fsm:1078] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] --- FSM STATE: ERROR ---
[2025-06-18 12:49:36] ERROR    [agent_fsm:1101] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:49:36] ERROR    [agent_fsm:1102] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:36] WARNING  [agent_fsm:1224] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:36] ERROR    [agent_fsm:1078] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] --- FSM STATE: ERROR ---
[2025-06-18 12:49:36] ERROR    [agent_fsm:1101] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:49:36] ERROR    [agent_fsm:1102] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:36] WARNING  [agent_fsm:1224] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:36] ERROR    [agent_fsm:1078] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] --- FSM STATE: ERROR ---
[2025-06-18 12:49:36] ERROR    [agent_fsm:1101] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:49:36] ERROR    [agent_fsm:1102] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:36] WARNING  [agent_fsm:1224] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:36] ERROR    [agent_fsm:1078] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] --- FSM STATE: ERROR ---
[2025-06-18 12:49:36] ERROR    [agent_fsm:1101] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:49:36] ERROR    [agent_fsm:1102] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:36] WARNING  [agent_fsm:1224] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:36] ERROR    [agent_fsm:1837] [dbc23776-ab6a-46f8-828b-bf68e20c5cfd] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:49:36] INFO     [agent_fsm:1752] [56e896b4-6391-4e10-bb03-3cfc8378d116] Starting resilient FSM execution
[2025-06-18 12:49:36] INFO     [agent_fsm:1807] [56e896b4-6391-4e10-bb03-3cfc8378d116] FSM STATE: INITIAL
[2025-06-18 12:49:36] INFO     [agent_fsm:665] [56e896b4-6391-4e10-bb03-3cfc8378d116] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:49:36] DEBUG    [agent_fsm:680] [56e896b4-6391-4e10-bb03-3cfc8378d116] Turn count: 1, Action history length: 1
[2025-06-18 12:49:36] WARNING  [agent_fsm:1521] [56e896b4-6391-4e10-bb03-3cfc8378d116] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:49:36] WARNING  [agent_fsm:1333] [56e896b4-6391-4e10-bb03-3cfc8378d116] Tool None not found in registry, will use stub
[2025-06-18 12:49:36] INFO     [agent_fsm:773] [56e896b4-6391-4e10-bb03-3cfc8378d116] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:49:36] INFO     [agent_fsm:820] [56e896b4-6391-4e10-bb03-3cfc8378d116] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:49:36] INFO     [agent_fsm:922] [56e896b4-6391-4e10-bb03-3cfc8378d116] Tool execution completed
[2025-06-18 12:49:36] INFO     [agent_fsm:773] [56e896b4-6391-4e10-bb03-3cfc8378d116] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:49:36] WARNING  [agent_fsm:803] [56e896b4-6391-4e10-bb03-3cfc8378d116] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:49:36] INFO     [agent_fsm:665] [56e896b4-6391-4e10-bb03-3cfc8378d116] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:49:36] DEBUG    [agent_fsm:680] [56e896b4-6391-4e10-bb03-3cfc8378d116] Turn count: 2, Action history length: 2
[2025-06-18 12:49:37] WARNING  [agent_fsm:1521] [56e896b4-6391-4e10-bb03-3cfc8378d116] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:49:37] WARNING  [agent_fsm:1521] [56e896b4-6391-4e10-bb03-3cfc8378d116] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:49:37] WARNING  [agent_fsm:1521] [56e896b4-6391-4e10-bb03-3cfc8378d116] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:49:37] WARNING  [agent_fsm:1521] [56e896b4-6391-4e10-bb03-3cfc8378d116] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:49:37] WARNING  [agent_fsm:1521] [56e896b4-6391-4e10-bb03-3cfc8378d116] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:49:37] INFO     [agent_fsm:773] [56e896b4-6391-4e10-bb03-3cfc8378d116] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:49:37] WARNING  [agent_fsm:803] [56e896b4-6391-4e10-bb03-3cfc8378d116] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:49:37] INFO     [agent_fsm:665] [56e896b4-6391-4e10-bb03-3cfc8378d116] --- FSM STATE: PLANNING (Step 3) ---
[2025-06-18 12:49:37] DEBUG    [agent_fsm:680] [56e896b4-6391-4e10-bb03-3cfc8378d116] Turn count: 3, Action history length: 3
[2025-06-18 12:49:38] WARNING  [agent_fsm:1521] [56e896b4-6391-4e10-bb03-3cfc8378d116] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:49:38] WARNING  [agent_fsm:1521] [56e896b4-6391-4e10-bb03-3cfc8378d116] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:49:38] WARNING  [agent_fsm:1224] [56e896b4-6391-4e10-bb03-3cfc8378d116] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:38] ERROR    [agent_fsm:1078] [56e896b4-6391-4e10-bb03-3cfc8378d116] --- FSM STATE: ERROR ---
[2025-06-18 12:49:38] ERROR    [agent_fsm:1101] [56e896b4-6391-4e10-bb03-3cfc8378d116] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:49:38] ERROR    [agent_fsm:1102] [56e896b4-6391-4e10-bb03-3cfc8378d116] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:38] WARNING  [agent_fsm:1224] [56e896b4-6391-4e10-bb03-3cfc8378d116] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:38] ERROR    [agent_fsm:1078] [56e896b4-6391-4e10-bb03-3cfc8378d116] --- FSM STATE: ERROR ---
[2025-06-18 12:49:38] ERROR    [agent_fsm:1101] [56e896b4-6391-4e10-bb03-3cfc8378d116] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:49:38] ERROR    [agent_fsm:1102] [56e896b4-6391-4e10-bb03-3cfc8378d116] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:38] WARNING  [agent_fsm:1224] [56e896b4-6391-4e10-bb03-3cfc8378d116] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:38] ERROR    [agent_fsm:1078] [56e896b4-6391-4e10-bb03-3cfc8378d116] --- FSM STATE: ERROR ---
[2025-06-18 12:49:38] ERROR    [agent_fsm:1101] [56e896b4-6391-4e10-bb03-3cfc8378d116] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:49:38] ERROR    [agent_fsm:1102] [56e896b4-6391-4e10-bb03-3cfc8378d116] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:38] WARNING  [agent_fsm:1224] [56e896b4-6391-4e10-bb03-3cfc8378d116] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:38] ERROR    [agent_fsm:1078] [56e896b4-6391-4e10-bb03-3cfc8378d116] --- FSM STATE: ERROR ---
[2025-06-18 12:49:38] ERROR    [agent_fsm:1101] [56e896b4-6391-4e10-bb03-3cfc8378d116] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:49:38] ERROR    [agent_fsm:1102] [56e896b4-6391-4e10-bb03-3cfc8378d116] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:38] WARNING  [agent_fsm:1224] [56e896b4-6391-4e10-bb03-3cfc8378d116] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:38] ERROR    [agent_fsm:1078] [56e896b4-6391-4e10-bb03-3cfc8378d116] --- FSM STATE: ERROR ---
[2025-06-18 12:49:38] ERROR    [agent_fsm:1101] [56e896b4-6391-4e10-bb03-3cfc8378d116] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:49:38] ERROR    [agent_fsm:1102] [56e896b4-6391-4e10-bb03-3cfc8378d116] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:38] WARNING  [agent_fsm:1224] [56e896b4-6391-4e10-bb03-3cfc8378d116] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:38] ERROR    [agent_fsm:1078] [56e896b4-6391-4e10-bb03-3cfc8378d116] --- FSM STATE: ERROR ---
[2025-06-18 12:49:38] ERROR    [agent_fsm:1101] [56e896b4-6391-4e10-bb03-3cfc8378d116] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:49:38] ERROR    [agent_fsm:1102] [56e896b4-6391-4e10-bb03-3cfc8378d116] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:38] WARNING  [agent_fsm:1224] [56e896b4-6391-4e10-bb03-3cfc8378d116] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:38] ERROR    [agent_fsm:1078] [56e896b4-6391-4e10-bb03-3cfc8378d116] --- FSM STATE: ERROR ---
[2025-06-18 12:49:38] ERROR    [agent_fsm:1101] [56e896b4-6391-4e10-bb03-3cfc8378d116] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:49:38] ERROR    [agent_fsm:1102] [56e896b4-6391-4e10-bb03-3cfc8378d116] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:38] WARNING  [agent_fsm:1224] [56e896b4-6391-4e10-bb03-3cfc8378d116] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:38] ERROR    [agent_fsm:1078] [56e896b4-6391-4e10-bb03-3cfc8378d116] --- FSM STATE: ERROR ---
[2025-06-18 12:49:38] ERROR    [agent_fsm:1101] [56e896b4-6391-4e10-bb03-3cfc8378d116] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:49:38] ERROR    [agent_fsm:1102] [56e896b4-6391-4e10-bb03-3cfc8378d116] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:38] WARNING  [agent_fsm:1224] [56e896b4-6391-4e10-bb03-3cfc8378d116] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:38] ERROR    [agent_fsm:1078] [56e896b4-6391-4e10-bb03-3cfc8378d116] --- FSM STATE: ERROR ---
[2025-06-18 12:49:38] ERROR    [agent_fsm:1101] [56e896b4-6391-4e10-bb03-3cfc8378d116] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:49:38] ERROR    [agent_fsm:1102] [56e896b4-6391-4e10-bb03-3cfc8378d116] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:38] WARNING  [agent_fsm:1224] [56e896b4-6391-4e10-bb03-3cfc8378d116] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:38] ERROR    [agent_fsm:1078] [56e896b4-6391-4e10-bb03-3cfc8378d116] --- FSM STATE: ERROR ---
[2025-06-18 12:49:38] ERROR    [agent_fsm:1101] [56e896b4-6391-4e10-bb03-3cfc8378d116] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:49:38] ERROR    [agent_fsm:1102] [56e896b4-6391-4e10-bb03-3cfc8378d116] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:38] WARNING  [agent_fsm:1224] [56e896b4-6391-4e10-bb03-3cfc8378d116] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:38] ERROR    [agent_fsm:1078] [56e896b4-6391-4e10-bb03-3cfc8378d116] --- FSM STATE: ERROR ---
[2025-06-18 12:49:38] ERROR    [agent_fsm:1101] [56e896b4-6391-4e10-bb03-3cfc8378d116] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:49:38] ERROR    [agent_fsm:1102] [56e896b4-6391-4e10-bb03-3cfc8378d116] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:38] WARNING  [agent_fsm:1224] [56e896b4-6391-4e10-bb03-3cfc8378d116] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:38] ERROR    [agent_fsm:1078] [56e896b4-6391-4e10-bb03-3cfc8378d116] --- FSM STATE: ERROR ---
[2025-06-18 12:49:38] ERROR    [agent_fsm:1101] [56e896b4-6391-4e10-bb03-3cfc8378d116] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:49:38] ERROR    [agent_fsm:1102] [56e896b4-6391-4e10-bb03-3cfc8378d116] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:38] WARNING  [agent_fsm:1224] [56e896b4-6391-4e10-bb03-3cfc8378d116] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:38] ERROR    [agent_fsm:1078] [56e896b4-6391-4e10-bb03-3cfc8378d116] --- FSM STATE: ERROR ---
[2025-06-18 12:49:38] ERROR    [agent_fsm:1101] [56e896b4-6391-4e10-bb03-3cfc8378d116] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:49:38] ERROR    [agent_fsm:1102] [56e896b4-6391-4e10-bb03-3cfc8378d116] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:38] WARNING  [agent_fsm:1224] [56e896b4-6391-4e10-bb03-3cfc8378d116] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:38] ERROR    [agent_fsm:1078] [56e896b4-6391-4e10-bb03-3cfc8378d116] --- FSM STATE: ERROR ---
[2025-06-18 12:49:38] ERROR    [agent_fsm:1101] [56e896b4-6391-4e10-bb03-3cfc8378d116] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:49:38] ERROR    [agent_fsm:1102] [56e896b4-6391-4e10-bb03-3cfc8378d116] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:38] WARNING  [agent_fsm:1224] [56e896b4-6391-4e10-bb03-3cfc8378d116] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:38] ERROR    [agent_fsm:1078] [56e896b4-6391-4e10-bb03-3cfc8378d116] --- FSM STATE: ERROR ---
[2025-06-18 12:49:38] ERROR    [agent_fsm:1101] [56e896b4-6391-4e10-bb03-3cfc8378d116] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:49:38] ERROR    [agent_fsm:1102] [56e896b4-6391-4e10-bb03-3cfc8378d116] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:38] WARNING  [agent_fsm:1224] [56e896b4-6391-4e10-bb03-3cfc8378d116] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:38] ERROR    [agent_fsm:1078] [56e896b4-6391-4e10-bb03-3cfc8378d116] --- FSM STATE: ERROR ---
[2025-06-18 12:49:38] ERROR    [agent_fsm:1101] [56e896b4-6391-4e10-bb03-3cfc8378d116] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:49:38] ERROR    [agent_fsm:1102] [56e896b4-6391-4e10-bb03-3cfc8378d116] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:38] WARNING  [agent_fsm:1224] [56e896b4-6391-4e10-bb03-3cfc8378d116] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:38] ERROR    [agent_fsm:1078] [56e896b4-6391-4e10-bb03-3cfc8378d116] --- FSM STATE: ERROR ---
[2025-06-18 12:49:38] ERROR    [agent_fsm:1101] [56e896b4-6391-4e10-bb03-3cfc8378d116] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:49:38] ERROR    [agent_fsm:1102] [56e896b4-6391-4e10-bb03-3cfc8378d116] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:38] WARNING  [agent_fsm:1224] [56e896b4-6391-4e10-bb03-3cfc8378d116] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:38] ERROR    [agent_fsm:1078] [56e896b4-6391-4e10-bb03-3cfc8378d116] --- FSM STATE: ERROR ---
[2025-06-18 12:49:38] ERROR    [agent_fsm:1101] [56e896b4-6391-4e10-bb03-3cfc8378d116] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:49:38] ERROR    [agent_fsm:1102] [56e896b4-6391-4e10-bb03-3cfc8378d116] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:38] WARNING  [agent_fsm:1224] [56e896b4-6391-4e10-bb03-3cfc8378d116] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:38] ERROR    [agent_fsm:1078] [56e896b4-6391-4e10-bb03-3cfc8378d116] --- FSM STATE: ERROR ---
[2025-06-18 12:49:38] ERROR    [agent_fsm:1101] [56e896b4-6391-4e10-bb03-3cfc8378d116] Error category: GENERAL, Occurrences: 19
[2025-06-18 12:49:38] ERROR    [agent_fsm:1102] [56e896b4-6391-4e10-bb03-3cfc8378d116] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:38] WARNING  [agent_fsm:1224] [56e896b4-6391-4e10-bb03-3cfc8378d116] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:38] ERROR    [agent_fsm:1837] [56e896b4-6391-4e10-bb03-3cfc8378d116] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:49:38] INFO     [agent_fsm:1752] [66bcd1da-b23d-47f0-8adc-772196f172ba] Starting resilient FSM execution
[2025-06-18 12:49:38] INFO     [agent_fsm:1807] [66bcd1da-b23d-47f0-8adc-772196f172ba] FSM STATE: INITIAL
[2025-06-18 12:49:38] INFO     [agent_fsm:665] [66bcd1da-b23d-47f0-8adc-772196f172ba] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:49:38] DEBUG    [agent_fsm:680] [66bcd1da-b23d-47f0-8adc-772196f172ba] Turn count: 1, Action history length: 1
[2025-06-18 12:49:39] WARNING  [agent_fsm:1521] [66bcd1da-b23d-47f0-8adc-772196f172ba] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:49:39] WARNING  [agent_fsm:1521] [66bcd1da-b23d-47f0-8adc-772196f172ba] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:49:39] WARNING  [agent_fsm:1521] [66bcd1da-b23d-47f0-8adc-772196f172ba] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:49:39] INFO     [agent_fsm:773] [66bcd1da-b23d-47f0-8adc-772196f172ba] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:49:39] INFO     [agent_fsm:820] [66bcd1da-b23d-47f0-8adc-772196f172ba] Executing tool: web_researcher with input: {'query': 'largest planet in our solar system', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 12:49:39] INFO     [agent_fsm:922] [66bcd1da-b23d-47f0-8adc-772196f172ba] Tool execution completed
[2025-06-18 12:49:39] INFO     [agent_fsm:773] [66bcd1da-b23d-47f0-8adc-772196f172ba] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:49:39] WARNING  [agent_fsm:803] [66bcd1da-b23d-47f0-8adc-772196f172ba] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:49:39] INFO     [agent_fsm:665] [66bcd1da-b23d-47f0-8adc-772196f172ba] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:49:39] DEBUG    [agent_fsm:680] [66bcd1da-b23d-47f0-8adc-772196f172ba] Turn count: 2, Action history length: 2
[2025-06-18 12:49:40] WARNING  [agent_fsm:1521] [66bcd1da-b23d-47f0-8adc-772196f172ba] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:49:40] WARNING  [agent_fsm:1521] [66bcd1da-b23d-47f0-8adc-772196f172ba] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:49:40] WARNING  [agent_fsm:1521] [66bcd1da-b23d-47f0-8adc-772196f172ba] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:49:40] INFO     [agent_fsm:773] [66bcd1da-b23d-47f0-8adc-772196f172ba] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:49:40] INFO     [agent_fsm:820] [66bcd1da-b23d-47f0-8adc-772196f172ba] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:49:40] INFO     [agent_fsm:922] [66bcd1da-b23d-47f0-8adc-772196f172ba] Tool execution completed
[2025-06-18 12:49:40] INFO     [agent_fsm:773] [66bcd1da-b23d-47f0-8adc-772196f172ba] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:49:40] WARNING  [agent_fsm:803] [66bcd1da-b23d-47f0-8adc-772196f172ba] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:49:40] INFO     [agent_fsm:665] [66bcd1da-b23d-47f0-8adc-772196f172ba] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:49:40] DEBUG    [agent_fsm:680] [66bcd1da-b23d-47f0-8adc-772196f172ba] Turn count: 3, Action history length: 3
[2025-06-18 12:49:41] WARNING  [agent_fsm:1521] [66bcd1da-b23d-47f0-8adc-772196f172ba] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:49:41] WARNING  [agent_fsm:1521] [66bcd1da-b23d-47f0-8adc-772196f172ba] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:49:41] WARNING  [agent_fsm:1521] [66bcd1da-b23d-47f0-8adc-772196f172ba] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:49:41] WARNING  [agent_fsm:1224] [66bcd1da-b23d-47f0-8adc-772196f172ba] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:41] ERROR    [agent_fsm:1078] [66bcd1da-b23d-47f0-8adc-772196f172ba] --- FSM STATE: ERROR ---
[2025-06-18 12:49:41] ERROR    [agent_fsm:1101] [66bcd1da-b23d-47f0-8adc-772196f172ba] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:49:41] ERROR    [agent_fsm:1102] [66bcd1da-b23d-47f0-8adc-772196f172ba] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:41] WARNING  [agent_fsm:1224] [66bcd1da-b23d-47f0-8adc-772196f172ba] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:41] ERROR    [agent_fsm:1078] [66bcd1da-b23d-47f0-8adc-772196f172ba] --- FSM STATE: ERROR ---
[2025-06-18 12:49:41] ERROR    [agent_fsm:1101] [66bcd1da-b23d-47f0-8adc-772196f172ba] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:49:41] ERROR    [agent_fsm:1102] [66bcd1da-b23d-47f0-8adc-772196f172ba] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:41] WARNING  [agent_fsm:1224] [66bcd1da-b23d-47f0-8adc-772196f172ba] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:41] ERROR    [agent_fsm:1078] [66bcd1da-b23d-47f0-8adc-772196f172ba] --- FSM STATE: ERROR ---
[2025-06-18 12:49:41] ERROR    [agent_fsm:1101] [66bcd1da-b23d-47f0-8adc-772196f172ba] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:49:41] ERROR    [agent_fsm:1102] [66bcd1da-b23d-47f0-8adc-772196f172ba] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:41] WARNING  [agent_fsm:1224] [66bcd1da-b23d-47f0-8adc-772196f172ba] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:41] ERROR    [agent_fsm:1078] [66bcd1da-b23d-47f0-8adc-772196f172ba] --- FSM STATE: ERROR ---
[2025-06-18 12:49:41] ERROR    [agent_fsm:1101] [66bcd1da-b23d-47f0-8adc-772196f172ba] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:49:41] ERROR    [agent_fsm:1102] [66bcd1da-b23d-47f0-8adc-772196f172ba] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:41] WARNING  [agent_fsm:1224] [66bcd1da-b23d-47f0-8adc-772196f172ba] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:41] ERROR    [agent_fsm:1078] [66bcd1da-b23d-47f0-8adc-772196f172ba] --- FSM STATE: ERROR ---
[2025-06-18 12:49:41] ERROR    [agent_fsm:1101] [66bcd1da-b23d-47f0-8adc-772196f172ba] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:49:41] ERROR    [agent_fsm:1102] [66bcd1da-b23d-47f0-8adc-772196f172ba] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:41] WARNING  [agent_fsm:1224] [66bcd1da-b23d-47f0-8adc-772196f172ba] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:41] ERROR    [agent_fsm:1078] [66bcd1da-b23d-47f0-8adc-772196f172ba] --- FSM STATE: ERROR ---
[2025-06-18 12:49:41] ERROR    [agent_fsm:1101] [66bcd1da-b23d-47f0-8adc-772196f172ba] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:49:41] ERROR    [agent_fsm:1102] [66bcd1da-b23d-47f0-8adc-772196f172ba] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:41] WARNING  [agent_fsm:1224] [66bcd1da-b23d-47f0-8adc-772196f172ba] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:41] ERROR    [agent_fsm:1078] [66bcd1da-b23d-47f0-8adc-772196f172ba] --- FSM STATE: ERROR ---
[2025-06-18 12:49:41] ERROR    [agent_fsm:1101] [66bcd1da-b23d-47f0-8adc-772196f172ba] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:49:41] ERROR    [agent_fsm:1102] [66bcd1da-b23d-47f0-8adc-772196f172ba] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:41] WARNING  [agent_fsm:1224] [66bcd1da-b23d-47f0-8adc-772196f172ba] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:41] ERROR    [agent_fsm:1078] [66bcd1da-b23d-47f0-8adc-772196f172ba] --- FSM STATE: ERROR ---
[2025-06-18 12:49:41] ERROR    [agent_fsm:1101] [66bcd1da-b23d-47f0-8adc-772196f172ba] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:49:41] ERROR    [agent_fsm:1102] [66bcd1da-b23d-47f0-8adc-772196f172ba] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:41] WARNING  [agent_fsm:1224] [66bcd1da-b23d-47f0-8adc-772196f172ba] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:41] ERROR    [agent_fsm:1078] [66bcd1da-b23d-47f0-8adc-772196f172ba] --- FSM STATE: ERROR ---
[2025-06-18 12:49:41] ERROR    [agent_fsm:1101] [66bcd1da-b23d-47f0-8adc-772196f172ba] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:49:41] ERROR    [agent_fsm:1102] [66bcd1da-b23d-47f0-8adc-772196f172ba] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:41] WARNING  [agent_fsm:1224] [66bcd1da-b23d-47f0-8adc-772196f172ba] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:41] ERROR    [agent_fsm:1078] [66bcd1da-b23d-47f0-8adc-772196f172ba] --- FSM STATE: ERROR ---
[2025-06-18 12:49:41] ERROR    [agent_fsm:1101] [66bcd1da-b23d-47f0-8adc-772196f172ba] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:49:41] ERROR    [agent_fsm:1102] [66bcd1da-b23d-47f0-8adc-772196f172ba] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:41] WARNING  [agent_fsm:1224] [66bcd1da-b23d-47f0-8adc-772196f172ba] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:41] ERROR    [agent_fsm:1078] [66bcd1da-b23d-47f0-8adc-772196f172ba] --- FSM STATE: ERROR ---
[2025-06-18 12:49:41] ERROR    [agent_fsm:1101] [66bcd1da-b23d-47f0-8adc-772196f172ba] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:49:41] ERROR    [agent_fsm:1102] [66bcd1da-b23d-47f0-8adc-772196f172ba] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:41] WARNING  [agent_fsm:1224] [66bcd1da-b23d-47f0-8adc-772196f172ba] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:41] ERROR    [agent_fsm:1078] [66bcd1da-b23d-47f0-8adc-772196f172ba] --- FSM STATE: ERROR ---
[2025-06-18 12:49:41] ERROR    [agent_fsm:1101] [66bcd1da-b23d-47f0-8adc-772196f172ba] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:49:41] ERROR    [agent_fsm:1102] [66bcd1da-b23d-47f0-8adc-772196f172ba] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:41] WARNING  [agent_fsm:1224] [66bcd1da-b23d-47f0-8adc-772196f172ba] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:41] ERROR    [agent_fsm:1078] [66bcd1da-b23d-47f0-8adc-772196f172ba] --- FSM STATE: ERROR ---
[2025-06-18 12:49:41] ERROR    [agent_fsm:1101] [66bcd1da-b23d-47f0-8adc-772196f172ba] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:49:41] ERROR    [agent_fsm:1102] [66bcd1da-b23d-47f0-8adc-772196f172ba] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:41] WARNING  [agent_fsm:1224] [66bcd1da-b23d-47f0-8adc-772196f172ba] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:41] ERROR    [agent_fsm:1078] [66bcd1da-b23d-47f0-8adc-772196f172ba] --- FSM STATE: ERROR ---
[2025-06-18 12:49:41] ERROR    [agent_fsm:1101] [66bcd1da-b23d-47f0-8adc-772196f172ba] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:49:41] ERROR    [agent_fsm:1102] [66bcd1da-b23d-47f0-8adc-772196f172ba] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:41] WARNING  [agent_fsm:1224] [66bcd1da-b23d-47f0-8adc-772196f172ba] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:41] ERROR    [agent_fsm:1078] [66bcd1da-b23d-47f0-8adc-772196f172ba] --- FSM STATE: ERROR ---
[2025-06-18 12:49:41] ERROR    [agent_fsm:1101] [66bcd1da-b23d-47f0-8adc-772196f172ba] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:49:41] ERROR    [agent_fsm:1102] [66bcd1da-b23d-47f0-8adc-772196f172ba] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:41] WARNING  [agent_fsm:1224] [66bcd1da-b23d-47f0-8adc-772196f172ba] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:41] ERROR    [agent_fsm:1078] [66bcd1da-b23d-47f0-8adc-772196f172ba] --- FSM STATE: ERROR ---
[2025-06-18 12:49:41] ERROR    [agent_fsm:1101] [66bcd1da-b23d-47f0-8adc-772196f172ba] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:49:41] ERROR    [agent_fsm:1102] [66bcd1da-b23d-47f0-8adc-772196f172ba] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:41] WARNING  [agent_fsm:1224] [66bcd1da-b23d-47f0-8adc-772196f172ba] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:41] ERROR    [agent_fsm:1078] [66bcd1da-b23d-47f0-8adc-772196f172ba] --- FSM STATE: ERROR ---
[2025-06-18 12:49:41] ERROR    [agent_fsm:1101] [66bcd1da-b23d-47f0-8adc-772196f172ba] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:49:41] ERROR    [agent_fsm:1102] [66bcd1da-b23d-47f0-8adc-772196f172ba] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:41] WARNING  [agent_fsm:1224] [66bcd1da-b23d-47f0-8adc-772196f172ba] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:41] ERROR    [agent_fsm:1078] [66bcd1da-b23d-47f0-8adc-772196f172ba] --- FSM STATE: ERROR ---
[2025-06-18 12:49:41] ERROR    [agent_fsm:1101] [66bcd1da-b23d-47f0-8adc-772196f172ba] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:49:41] ERROR    [agent_fsm:1102] [66bcd1da-b23d-47f0-8adc-772196f172ba] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:41] WARNING  [agent_fsm:1224] [66bcd1da-b23d-47f0-8adc-772196f172ba] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:41] ERROR    [agent_fsm:1837] [66bcd1da-b23d-47f0-8adc-772196f172ba] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:49:41] INFO     [agent_fsm:1752] [91bfeecb-9afb-4d31-92dc-4e450005baff] Starting resilient FSM execution
[2025-06-18 12:49:41] INFO     [agent_fsm:1807] [91bfeecb-9afb-4d31-92dc-4e450005baff] FSM STATE: INITIAL
[2025-06-18 12:49:41] INFO     [agent_fsm:665] [91bfeecb-9afb-4d31-92dc-4e450005baff] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:49:41] DEBUG    [agent_fsm:680] [91bfeecb-9afb-4d31-92dc-4e450005baff] Turn count: 1, Action history length: 1
[2025-06-18 12:49:42] WARNING  [agent_fsm:1521] [91bfeecb-9afb-4d31-92dc-4e450005baff] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:49:42] INFO     [agent_fsm:773] [91bfeecb-9afb-4d31-92dc-4e450005baff] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:49:42] INFO     [agent_fsm:820] [91bfeecb-9afb-4d31-92dc-4e450005baff] Executing tool: web_researcher with input: {'query': 'extract video URL from googleusercontent.com/costa-rica/birds', 'date_range': None, 'search_type': 'general', 'source': 'search'}
[2025-06-18 12:49:42] INFO     [agent_fsm:922] [91bfeecb-9afb-4d31-92dc-4e450005baff] Tool execution completed
[2025-06-18 12:49:42] INFO     [agent_fsm:773] [91bfeecb-9afb-4d31-92dc-4e450005baff] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:49:42] WARNING  [agent_fsm:803] [91bfeecb-9afb-4d31-92dc-4e450005baff] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:49:42] INFO     [agent_fsm:665] [91bfeecb-9afb-4d31-92dc-4e450005baff] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:49:42] DEBUG    [agent_fsm:680] [91bfeecb-9afb-4d31-92dc-4e450005baff] Turn count: 2, Action history length: 2
[2025-06-18 12:49:43] WARNING  [agent_fsm:1521] [91bfeecb-9afb-4d31-92dc-4e450005baff] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:49:43] WARNING  [agent_fsm:1521] [91bfeecb-9afb-4d31-92dc-4e450005baff] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:49:43] INFO     [agent_fsm:773] [91bfeecb-9afb-4d31-92dc-4e450005baff] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:49:43] INFO     [agent_fsm:820] [91bfeecb-9afb-4d31-92dc-4e450005baff] Executing tool: web_researcher with input: {'query': 'video URL from google cloud storage costa rica birds', 'date_range': None, 'search_type': 'general', 'source': 'search'}
[2025-06-18 12:49:43] INFO     [agent_fsm:922] [91bfeecb-9afb-4d31-92dc-4e450005baff] Tool execution completed
[2025-06-18 12:49:43] INFO     [agent_fsm:773] [91bfeecb-9afb-4d31-92dc-4e450005baff] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:49:43] WARNING  [agent_fsm:803] [91bfeecb-9afb-4d31-92dc-4e450005baff] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:49:43] INFO     [agent_fsm:665] [91bfeecb-9afb-4d31-92dc-4e450005baff] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:49:43] DEBUG    [agent_fsm:680] [91bfeecb-9afb-4d31-92dc-4e450005baff] Turn count: 3, Action history length: 3
[2025-06-18 12:49:46] WARNING  [agent_fsm:1224] [91bfeecb-9afb-4d31-92dc-4e450005baff] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:46] ERROR    [agent_fsm:1078] [91bfeecb-9afb-4d31-92dc-4e450005baff] --- FSM STATE: ERROR ---
[2025-06-18 12:49:46] ERROR    [agent_fsm:1101] [91bfeecb-9afb-4d31-92dc-4e450005baff] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:49:46] ERROR    [agent_fsm:1102] [91bfeecb-9afb-4d31-92dc-4e450005baff] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:46] WARNING  [agent_fsm:1224] [91bfeecb-9afb-4d31-92dc-4e450005baff] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:46] ERROR    [agent_fsm:1078] [91bfeecb-9afb-4d31-92dc-4e450005baff] --- FSM STATE: ERROR ---
[2025-06-18 12:49:46] ERROR    [agent_fsm:1101] [91bfeecb-9afb-4d31-92dc-4e450005baff] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:49:46] ERROR    [agent_fsm:1102] [91bfeecb-9afb-4d31-92dc-4e450005baff] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:46] WARNING  [agent_fsm:1224] [91bfeecb-9afb-4d31-92dc-4e450005baff] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:46] ERROR    [agent_fsm:1078] [91bfeecb-9afb-4d31-92dc-4e450005baff] --- FSM STATE: ERROR ---
[2025-06-18 12:49:46] ERROR    [agent_fsm:1101] [91bfeecb-9afb-4d31-92dc-4e450005baff] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:49:46] ERROR    [agent_fsm:1102] [91bfeecb-9afb-4d31-92dc-4e450005baff] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:46] WARNING  [agent_fsm:1224] [91bfeecb-9afb-4d31-92dc-4e450005baff] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:46] ERROR    [agent_fsm:1078] [91bfeecb-9afb-4d31-92dc-4e450005baff] --- FSM STATE: ERROR ---
[2025-06-18 12:49:46] ERROR    [agent_fsm:1101] [91bfeecb-9afb-4d31-92dc-4e450005baff] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:49:46] ERROR    [agent_fsm:1102] [91bfeecb-9afb-4d31-92dc-4e450005baff] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:46] WARNING  [agent_fsm:1224] [91bfeecb-9afb-4d31-92dc-4e450005baff] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:46] ERROR    [agent_fsm:1078] [91bfeecb-9afb-4d31-92dc-4e450005baff] --- FSM STATE: ERROR ---
[2025-06-18 12:49:46] ERROR    [agent_fsm:1101] [91bfeecb-9afb-4d31-92dc-4e450005baff] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:49:46] ERROR    [agent_fsm:1102] [91bfeecb-9afb-4d31-92dc-4e450005baff] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:46] WARNING  [agent_fsm:1224] [91bfeecb-9afb-4d31-92dc-4e450005baff] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:46] ERROR    [agent_fsm:1078] [91bfeecb-9afb-4d31-92dc-4e450005baff] --- FSM STATE: ERROR ---
[2025-06-18 12:49:46] ERROR    [agent_fsm:1101] [91bfeecb-9afb-4d31-92dc-4e450005baff] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:49:46] ERROR    [agent_fsm:1102] [91bfeecb-9afb-4d31-92dc-4e450005baff] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:46] WARNING  [agent_fsm:1224] [91bfeecb-9afb-4d31-92dc-4e450005baff] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:46] ERROR    [agent_fsm:1078] [91bfeecb-9afb-4d31-92dc-4e450005baff] --- FSM STATE: ERROR ---
[2025-06-18 12:49:46] ERROR    [agent_fsm:1101] [91bfeecb-9afb-4d31-92dc-4e450005baff] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:49:46] ERROR    [agent_fsm:1102] [91bfeecb-9afb-4d31-92dc-4e450005baff] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:46] WARNING  [agent_fsm:1224] [91bfeecb-9afb-4d31-92dc-4e450005baff] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:46] ERROR    [agent_fsm:1078] [91bfeecb-9afb-4d31-92dc-4e450005baff] --- FSM STATE: ERROR ---
[2025-06-18 12:49:46] ERROR    [agent_fsm:1101] [91bfeecb-9afb-4d31-92dc-4e450005baff] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:49:46] ERROR    [agent_fsm:1102] [91bfeecb-9afb-4d31-92dc-4e450005baff] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:46] WARNING  [agent_fsm:1224] [91bfeecb-9afb-4d31-92dc-4e450005baff] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:46] ERROR    [agent_fsm:1078] [91bfeecb-9afb-4d31-92dc-4e450005baff] --- FSM STATE: ERROR ---
[2025-06-18 12:49:46] ERROR    [agent_fsm:1101] [91bfeecb-9afb-4d31-92dc-4e450005baff] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:49:46] ERROR    [agent_fsm:1102] [91bfeecb-9afb-4d31-92dc-4e450005baff] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:46] WARNING  [agent_fsm:1224] [91bfeecb-9afb-4d31-92dc-4e450005baff] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:46] ERROR    [agent_fsm:1078] [91bfeecb-9afb-4d31-92dc-4e450005baff] --- FSM STATE: ERROR ---
[2025-06-18 12:49:46] ERROR    [agent_fsm:1101] [91bfeecb-9afb-4d31-92dc-4e450005baff] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:49:46] ERROR    [agent_fsm:1102] [91bfeecb-9afb-4d31-92dc-4e450005baff] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:46] WARNING  [agent_fsm:1224] [91bfeecb-9afb-4d31-92dc-4e450005baff] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:46] ERROR    [agent_fsm:1078] [91bfeecb-9afb-4d31-92dc-4e450005baff] --- FSM STATE: ERROR ---
[2025-06-18 12:49:46] ERROR    [agent_fsm:1101] [91bfeecb-9afb-4d31-92dc-4e450005baff] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:49:46] ERROR    [agent_fsm:1102] [91bfeecb-9afb-4d31-92dc-4e450005baff] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:46] WARNING  [agent_fsm:1224] [91bfeecb-9afb-4d31-92dc-4e450005baff] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:46] ERROR    [agent_fsm:1078] [91bfeecb-9afb-4d31-92dc-4e450005baff] --- FSM STATE: ERROR ---
[2025-06-18 12:49:46] ERROR    [agent_fsm:1101] [91bfeecb-9afb-4d31-92dc-4e450005baff] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:49:46] ERROR    [agent_fsm:1102] [91bfeecb-9afb-4d31-92dc-4e450005baff] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:46] WARNING  [agent_fsm:1224] [91bfeecb-9afb-4d31-92dc-4e450005baff] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:46] ERROR    [agent_fsm:1078] [91bfeecb-9afb-4d31-92dc-4e450005baff] --- FSM STATE: ERROR ---
[2025-06-18 12:49:46] ERROR    [agent_fsm:1101] [91bfeecb-9afb-4d31-92dc-4e450005baff] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:49:46] ERROR    [agent_fsm:1102] [91bfeecb-9afb-4d31-92dc-4e450005baff] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:46] WARNING  [agent_fsm:1224] [91bfeecb-9afb-4d31-92dc-4e450005baff] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:46] ERROR    [agent_fsm:1078] [91bfeecb-9afb-4d31-92dc-4e450005baff] --- FSM STATE: ERROR ---
[2025-06-18 12:49:46] ERROR    [agent_fsm:1101] [91bfeecb-9afb-4d31-92dc-4e450005baff] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:49:46] ERROR    [agent_fsm:1102] [91bfeecb-9afb-4d31-92dc-4e450005baff] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:46] WARNING  [agent_fsm:1224] [91bfeecb-9afb-4d31-92dc-4e450005baff] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:46] ERROR    [agent_fsm:1078] [91bfeecb-9afb-4d31-92dc-4e450005baff] --- FSM STATE: ERROR ---
[2025-06-18 12:49:46] ERROR    [agent_fsm:1101] [91bfeecb-9afb-4d31-92dc-4e450005baff] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:49:46] ERROR    [agent_fsm:1102] [91bfeecb-9afb-4d31-92dc-4e450005baff] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:46] WARNING  [agent_fsm:1224] [91bfeecb-9afb-4d31-92dc-4e450005baff] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:46] ERROR    [agent_fsm:1078] [91bfeecb-9afb-4d31-92dc-4e450005baff] --- FSM STATE: ERROR ---
[2025-06-18 12:49:46] ERROR    [agent_fsm:1101] [91bfeecb-9afb-4d31-92dc-4e450005baff] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:49:46] ERROR    [agent_fsm:1102] [91bfeecb-9afb-4d31-92dc-4e450005baff] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:46] WARNING  [agent_fsm:1224] [91bfeecb-9afb-4d31-92dc-4e450005baff] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:46] ERROR    [agent_fsm:1078] [91bfeecb-9afb-4d31-92dc-4e450005baff] --- FSM STATE: ERROR ---
[2025-06-18 12:49:46] ERROR    [agent_fsm:1101] [91bfeecb-9afb-4d31-92dc-4e450005baff] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:49:46] ERROR    [agent_fsm:1102] [91bfeecb-9afb-4d31-92dc-4e450005baff] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:46] WARNING  [agent_fsm:1224] [91bfeecb-9afb-4d31-92dc-4e450005baff] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:46] ERROR    [agent_fsm:1078] [91bfeecb-9afb-4d31-92dc-4e450005baff] --- FSM STATE: ERROR ---
[2025-06-18 12:49:46] ERROR    [agent_fsm:1101] [91bfeecb-9afb-4d31-92dc-4e450005baff] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:49:46] ERROR    [agent_fsm:1102] [91bfeecb-9afb-4d31-92dc-4e450005baff] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:46] WARNING  [agent_fsm:1224] [91bfeecb-9afb-4d31-92dc-4e450005baff] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:46] ERROR    [agent_fsm:1837] [91bfeecb-9afb-4d31-92dc-4e450005baff] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:49:46] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 12:49:46] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 12:49:46] INFO     [agent_fsm:570] [f23e146c-ec81-4e5d-97e2-16d441d77484] Building resilient FSM graph
[2025-06-18 12:49:46] INFO     [agent_fsm:572] [f23e146c-ec81-4e5d-97e2-16d441d77484] FSMReActAgent graph built successfully
[2025-06-18 12:49:46] INFO     [agent_fsm:1752] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Starting resilient FSM execution
[2025-06-18 12:49:46] INFO     [agent_fsm:1807] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] FSM STATE: INITIAL
[2025-06-18 12:49:46] INFO     [agent_fsm:665] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:49:46] DEBUG    [agent_fsm:680] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Turn count: 1, Action history length: 1
[2025-06-18 12:49:46] WARNING  [agent_fsm:1521] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:49:46] INFO     [agent_fsm:773] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:49:46] INFO     [agent_fsm:820] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Executing tool: advanced_file_reader with input: {'filename': 'path/to/attached_excel_file.xlsx'}
[2025-06-18 12:49:46] INFO     [agent_fsm:922] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Tool execution completed
[2025-06-18 12:49:46] INFO     [agent_fsm:773] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:49:46] WARNING  [agent_fsm:803] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:49:46] INFO     [agent_fsm:665] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:49:46] DEBUG    [agent_fsm:680] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Turn count: 2, Action history length: 2
[2025-06-18 12:49:48] WARNING  [agent_fsm:1521] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:49:48] WARNING  [agent_fsm:1333] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Tool image_analyzer not found in registry, will use stub
[2025-06-18 12:49:48] INFO     [agent_fsm:773] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:49:48] INFO     [agent_fsm:820] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Executing tool: file_reader with input: {'filename': 'path/to/attached/excel/file.xlsx', 'lines': -1}
[2025-06-18 12:49:48] INFO     [agent_fsm:922] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Tool execution completed
[2025-06-18 12:49:48] INFO     [agent_fsm:773] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:49:48] WARNING  [agent_fsm:803] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:49:48] INFO     [agent_fsm:665] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:49:48] DEBUG    [agent_fsm:680] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Turn count: 3, Action history length: 3
[2025-06-18 12:49:49] WARNING  [agent_fsm:1521] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:49:49] WARNING  [agent_fsm:1224] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:49] ERROR    [agent_fsm:1078] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] --- FSM STATE: ERROR ---
[2025-06-18 12:49:49] ERROR    [agent_fsm:1101] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:49:49] ERROR    [agent_fsm:1102] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:49] WARNING  [agent_fsm:1224] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:49] ERROR    [agent_fsm:1078] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] --- FSM STATE: ERROR ---
[2025-06-18 12:49:49] ERROR    [agent_fsm:1101] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:49:49] ERROR    [agent_fsm:1102] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:49] WARNING  [agent_fsm:1224] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:49] ERROR    [agent_fsm:1078] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] --- FSM STATE: ERROR ---
[2025-06-18 12:49:49] ERROR    [agent_fsm:1101] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:49:49] ERROR    [agent_fsm:1102] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:49] WARNING  [agent_fsm:1224] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:49] ERROR    [agent_fsm:1078] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] --- FSM STATE: ERROR ---
[2025-06-18 12:49:49] ERROR    [agent_fsm:1101] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:49:49] ERROR    [agent_fsm:1102] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:49] WARNING  [agent_fsm:1224] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:49] ERROR    [agent_fsm:1078] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] --- FSM STATE: ERROR ---
[2025-06-18 12:49:49] ERROR    [agent_fsm:1101] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:49:49] ERROR    [agent_fsm:1102] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:49] WARNING  [agent_fsm:1224] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:49] ERROR    [agent_fsm:1078] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] --- FSM STATE: ERROR ---
[2025-06-18 12:49:49] ERROR    [agent_fsm:1101] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:49:49] ERROR    [agent_fsm:1102] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:49] WARNING  [agent_fsm:1224] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:49] ERROR    [agent_fsm:1078] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] --- FSM STATE: ERROR ---
[2025-06-18 12:49:49] ERROR    [agent_fsm:1101] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:49:49] ERROR    [agent_fsm:1102] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:49] WARNING  [agent_fsm:1224] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:49] ERROR    [agent_fsm:1078] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] --- FSM STATE: ERROR ---
[2025-06-18 12:49:49] ERROR    [agent_fsm:1101] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:49:49] ERROR    [agent_fsm:1102] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:49] WARNING  [agent_fsm:1224] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:49] ERROR    [agent_fsm:1078] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] --- FSM STATE: ERROR ---
[2025-06-18 12:49:49] ERROR    [agent_fsm:1101] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:49:49] ERROR    [agent_fsm:1102] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:49] WARNING  [agent_fsm:1224] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:49] ERROR    [agent_fsm:1078] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] --- FSM STATE: ERROR ---
[2025-06-18 12:49:49] ERROR    [agent_fsm:1101] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:49:49] ERROR    [agent_fsm:1102] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:49] WARNING  [agent_fsm:1224] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:49] ERROR    [agent_fsm:1078] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] --- FSM STATE: ERROR ---
[2025-06-18 12:49:49] ERROR    [agent_fsm:1101] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:49:49] ERROR    [agent_fsm:1102] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:49] WARNING  [agent_fsm:1224] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:49] ERROR    [agent_fsm:1078] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] --- FSM STATE: ERROR ---
[2025-06-18 12:49:49] ERROR    [agent_fsm:1101] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:49:49] ERROR    [agent_fsm:1102] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:49] WARNING  [agent_fsm:1224] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:49] ERROR    [agent_fsm:1078] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] --- FSM STATE: ERROR ---
[2025-06-18 12:49:49] ERROR    [agent_fsm:1101] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:49:49] ERROR    [agent_fsm:1102] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:49] WARNING  [agent_fsm:1224] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:49] ERROR    [agent_fsm:1078] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] --- FSM STATE: ERROR ---
[2025-06-18 12:49:49] ERROR    [agent_fsm:1101] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:49:49] ERROR    [agent_fsm:1102] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:49] WARNING  [agent_fsm:1224] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:49] ERROR    [agent_fsm:1078] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] --- FSM STATE: ERROR ---
[2025-06-18 12:49:49] ERROR    [agent_fsm:1101] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:49:49] ERROR    [agent_fsm:1102] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:49] WARNING  [agent_fsm:1224] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:49] ERROR    [agent_fsm:1078] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] --- FSM STATE: ERROR ---
[2025-06-18 12:49:49] ERROR    [agent_fsm:1101] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:49:49] ERROR    [agent_fsm:1102] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:49] WARNING  [agent_fsm:1224] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:49] ERROR    [agent_fsm:1078] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] --- FSM STATE: ERROR ---
[2025-06-18 12:49:49] ERROR    [agent_fsm:1101] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:49:49] ERROR    [agent_fsm:1102] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:49] WARNING  [agent_fsm:1224] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:49] ERROR    [agent_fsm:1078] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] --- FSM STATE: ERROR ---
[2025-06-18 12:49:49] ERROR    [agent_fsm:1101] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:49:49] ERROR    [agent_fsm:1102] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:49] WARNING  [agent_fsm:1224] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:49] ERROR    [agent_fsm:1837] [4f2243d3-aacd-4e5e-b18a-20bf6b37d522] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:49:49] INFO     [agent_fsm:1752] [624101f3-487d-4cb8-808a-7f6442a37a2e] Starting resilient FSM execution
[2025-06-18 12:49:49] INFO     [agent_fsm:1807] [624101f3-487d-4cb8-808a-7f6442a37a2e] FSM STATE: INITIAL
[2025-06-18 12:49:49] INFO     [agent_fsm:665] [624101f3-487d-4cb8-808a-7f6442a37a2e] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:49:49] DEBUG    [agent_fsm:680] [624101f3-487d-4cb8-808a-7f6442a37a2e] Turn count: 1, Action history length: 1
[2025-06-18 12:49:50] WARNING  [agent_fsm:1521] [624101f3-487d-4cb8-808a-7f6442a37a2e] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:49:50] INFO     [agent_fsm:773] [624101f3-487d-4cb8-808a-7f6442a37a2e] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:49:50] INFO     [agent_fsm:820] [624101f3-487d-4cb8-808a-7f6442a37a2e] Executing tool: video_analyzer with input: {'url': 'https://example.com/video.mp4', 'action': 'download_info'}
[2025-06-18 12:49:50] INFO     [agent_fsm:922] [624101f3-487d-4cb8-808a-7f6442a37a2e] Tool execution completed
[2025-06-18 12:49:50] INFO     [agent_fsm:773] [624101f3-487d-4cb8-808a-7f6442a37a2e] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:49:50] WARNING  [agent_fsm:803] [624101f3-487d-4cb8-808a-7f6442a37a2e] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:49:50] INFO     [agent_fsm:665] [624101f3-487d-4cb8-808a-7f6442a37a2e] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:49:50] DEBUG    [agent_fsm:680] [624101f3-487d-4cb8-808a-7f6442a37a2e] Turn count: 2, Action history length: 2
[2025-06-18 12:49:51] WARNING  [agent_fsm:1521] [624101f3-487d-4cb8-808a-7f6442a37a2e] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:49:51] WARNING  [agent_fsm:1521] [624101f3-487d-4cb8-808a-7f6442a37a2e] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:49:51] WARNING  [agent_fsm:1521] [624101f3-487d-4cb8-808a-7f6442a37a2e] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 12:49:51] INFO     [agent_fsm:773] [624101f3-487d-4cb8-808a-7f6442a37a2e] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:49:51] INFO     [agent_fsm:820] [624101f3-487d-4cb8-808a-7f6442a37a2e] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:49:51] INFO     [agent_fsm:922] [624101f3-487d-4cb8-808a-7f6442a37a2e] Tool execution completed
[2025-06-18 12:49:51] INFO     [agent_fsm:773] [624101f3-487d-4cb8-808a-7f6442a37a2e] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:49:51] WARNING  [agent_fsm:803] [624101f3-487d-4cb8-808a-7f6442a37a2e] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:49:51] INFO     [agent_fsm:665] [624101f3-487d-4cb8-808a-7f6442a37a2e] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:49:51] DEBUG    [agent_fsm:680] [624101f3-487d-4cb8-808a-7f6442a37a2e] Turn count: 3, Action history length: 3
[2025-06-18 12:49:52] WARNING  [agent_fsm:1521] [624101f3-487d-4cb8-808a-7f6442a37a2e] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:49:52] WARNING  [agent_fsm:1521] [624101f3-487d-4cb8-808a-7f6442a37a2e] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:49:52] WARNING  [agent_fsm:1521] [624101f3-487d-4cb8-808a-7f6442a37a2e] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:49:52] WARNING  [agent_fsm:1224] [624101f3-487d-4cb8-808a-7f6442a37a2e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:52] ERROR    [agent_fsm:1078] [624101f3-487d-4cb8-808a-7f6442a37a2e] --- FSM STATE: ERROR ---
[2025-06-18 12:49:52] ERROR    [agent_fsm:1101] [624101f3-487d-4cb8-808a-7f6442a37a2e] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:49:52] ERROR    [agent_fsm:1102] [624101f3-487d-4cb8-808a-7f6442a37a2e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:52] WARNING  [agent_fsm:1224] [624101f3-487d-4cb8-808a-7f6442a37a2e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:52] ERROR    [agent_fsm:1078] [624101f3-487d-4cb8-808a-7f6442a37a2e] --- FSM STATE: ERROR ---
[2025-06-18 12:49:52] ERROR    [agent_fsm:1101] [624101f3-487d-4cb8-808a-7f6442a37a2e] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:49:52] ERROR    [agent_fsm:1102] [624101f3-487d-4cb8-808a-7f6442a37a2e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:52] WARNING  [agent_fsm:1224] [624101f3-487d-4cb8-808a-7f6442a37a2e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:52] ERROR    [agent_fsm:1078] [624101f3-487d-4cb8-808a-7f6442a37a2e] --- FSM STATE: ERROR ---
[2025-06-18 12:49:52] ERROR    [agent_fsm:1101] [624101f3-487d-4cb8-808a-7f6442a37a2e] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:49:52] ERROR    [agent_fsm:1102] [624101f3-487d-4cb8-808a-7f6442a37a2e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:52] WARNING  [agent_fsm:1224] [624101f3-487d-4cb8-808a-7f6442a37a2e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:52] ERROR    [agent_fsm:1078] [624101f3-487d-4cb8-808a-7f6442a37a2e] --- FSM STATE: ERROR ---
[2025-06-18 12:49:52] ERROR    [agent_fsm:1101] [624101f3-487d-4cb8-808a-7f6442a37a2e] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:49:52] ERROR    [agent_fsm:1102] [624101f3-487d-4cb8-808a-7f6442a37a2e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:52] WARNING  [agent_fsm:1224] [624101f3-487d-4cb8-808a-7f6442a37a2e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:52] ERROR    [agent_fsm:1078] [624101f3-487d-4cb8-808a-7f6442a37a2e] --- FSM STATE: ERROR ---
[2025-06-18 12:49:52] ERROR    [agent_fsm:1101] [624101f3-487d-4cb8-808a-7f6442a37a2e] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:49:52] ERROR    [agent_fsm:1102] [624101f3-487d-4cb8-808a-7f6442a37a2e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:52] WARNING  [agent_fsm:1224] [624101f3-487d-4cb8-808a-7f6442a37a2e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:52] ERROR    [agent_fsm:1078] [624101f3-487d-4cb8-808a-7f6442a37a2e] --- FSM STATE: ERROR ---
[2025-06-18 12:49:52] ERROR    [agent_fsm:1101] [624101f3-487d-4cb8-808a-7f6442a37a2e] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:49:52] ERROR    [agent_fsm:1102] [624101f3-487d-4cb8-808a-7f6442a37a2e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:52] WARNING  [agent_fsm:1224] [624101f3-487d-4cb8-808a-7f6442a37a2e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:52] ERROR    [agent_fsm:1078] [624101f3-487d-4cb8-808a-7f6442a37a2e] --- FSM STATE: ERROR ---
[2025-06-18 12:49:52] ERROR    [agent_fsm:1101] [624101f3-487d-4cb8-808a-7f6442a37a2e] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:49:52] ERROR    [agent_fsm:1102] [624101f3-487d-4cb8-808a-7f6442a37a2e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:52] WARNING  [agent_fsm:1224] [624101f3-487d-4cb8-808a-7f6442a37a2e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:52] ERROR    [agent_fsm:1078] [624101f3-487d-4cb8-808a-7f6442a37a2e] --- FSM STATE: ERROR ---
[2025-06-18 12:49:52] ERROR    [agent_fsm:1101] [624101f3-487d-4cb8-808a-7f6442a37a2e] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:49:52] ERROR    [agent_fsm:1102] [624101f3-487d-4cb8-808a-7f6442a37a2e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:52] WARNING  [agent_fsm:1224] [624101f3-487d-4cb8-808a-7f6442a37a2e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:52] ERROR    [agent_fsm:1078] [624101f3-487d-4cb8-808a-7f6442a37a2e] --- FSM STATE: ERROR ---
[2025-06-18 12:49:52] ERROR    [agent_fsm:1101] [624101f3-487d-4cb8-808a-7f6442a37a2e] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:49:52] ERROR    [agent_fsm:1102] [624101f3-487d-4cb8-808a-7f6442a37a2e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:52] WARNING  [agent_fsm:1224] [624101f3-487d-4cb8-808a-7f6442a37a2e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:52] ERROR    [agent_fsm:1078] [624101f3-487d-4cb8-808a-7f6442a37a2e] --- FSM STATE: ERROR ---
[2025-06-18 12:49:52] ERROR    [agent_fsm:1101] [624101f3-487d-4cb8-808a-7f6442a37a2e] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:49:52] ERROR    [agent_fsm:1102] [624101f3-487d-4cb8-808a-7f6442a37a2e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:52] WARNING  [agent_fsm:1224] [624101f3-487d-4cb8-808a-7f6442a37a2e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:52] ERROR    [agent_fsm:1078] [624101f3-487d-4cb8-808a-7f6442a37a2e] --- FSM STATE: ERROR ---
[2025-06-18 12:49:52] ERROR    [agent_fsm:1101] [624101f3-487d-4cb8-808a-7f6442a37a2e] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:49:52] ERROR    [agent_fsm:1102] [624101f3-487d-4cb8-808a-7f6442a37a2e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:52] WARNING  [agent_fsm:1224] [624101f3-487d-4cb8-808a-7f6442a37a2e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:52] ERROR    [agent_fsm:1078] [624101f3-487d-4cb8-808a-7f6442a37a2e] --- FSM STATE: ERROR ---
[2025-06-18 12:49:52] ERROR    [agent_fsm:1101] [624101f3-487d-4cb8-808a-7f6442a37a2e] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:49:52] ERROR    [agent_fsm:1102] [624101f3-487d-4cb8-808a-7f6442a37a2e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:52] WARNING  [agent_fsm:1224] [624101f3-487d-4cb8-808a-7f6442a37a2e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:52] ERROR    [agent_fsm:1078] [624101f3-487d-4cb8-808a-7f6442a37a2e] --- FSM STATE: ERROR ---
[2025-06-18 12:49:52] ERROR    [agent_fsm:1101] [624101f3-487d-4cb8-808a-7f6442a37a2e] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:49:52] ERROR    [agent_fsm:1102] [624101f3-487d-4cb8-808a-7f6442a37a2e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:52] WARNING  [agent_fsm:1224] [624101f3-487d-4cb8-808a-7f6442a37a2e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:52] ERROR    [agent_fsm:1078] [624101f3-487d-4cb8-808a-7f6442a37a2e] --- FSM STATE: ERROR ---
[2025-06-18 12:49:52] ERROR    [agent_fsm:1101] [624101f3-487d-4cb8-808a-7f6442a37a2e] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:49:52] ERROR    [agent_fsm:1102] [624101f3-487d-4cb8-808a-7f6442a37a2e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:52] WARNING  [agent_fsm:1224] [624101f3-487d-4cb8-808a-7f6442a37a2e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:52] ERROR    [agent_fsm:1078] [624101f3-487d-4cb8-808a-7f6442a37a2e] --- FSM STATE: ERROR ---
[2025-06-18 12:49:52] ERROR    [agent_fsm:1101] [624101f3-487d-4cb8-808a-7f6442a37a2e] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:49:52] ERROR    [agent_fsm:1102] [624101f3-487d-4cb8-808a-7f6442a37a2e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:52] WARNING  [agent_fsm:1224] [624101f3-487d-4cb8-808a-7f6442a37a2e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:52] ERROR    [agent_fsm:1078] [624101f3-487d-4cb8-808a-7f6442a37a2e] --- FSM STATE: ERROR ---
[2025-06-18 12:49:52] ERROR    [agent_fsm:1101] [624101f3-487d-4cb8-808a-7f6442a37a2e] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:49:52] ERROR    [agent_fsm:1102] [624101f3-487d-4cb8-808a-7f6442a37a2e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:52] WARNING  [agent_fsm:1224] [624101f3-487d-4cb8-808a-7f6442a37a2e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:52] ERROR    [agent_fsm:1078] [624101f3-487d-4cb8-808a-7f6442a37a2e] --- FSM STATE: ERROR ---
[2025-06-18 12:49:52] ERROR    [agent_fsm:1101] [624101f3-487d-4cb8-808a-7f6442a37a2e] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:49:52] ERROR    [agent_fsm:1102] [624101f3-487d-4cb8-808a-7f6442a37a2e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:52] WARNING  [agent_fsm:1224] [624101f3-487d-4cb8-808a-7f6442a37a2e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:52] ERROR    [agent_fsm:1078] [624101f3-487d-4cb8-808a-7f6442a37a2e] --- FSM STATE: ERROR ---
[2025-06-18 12:49:52] ERROR    [agent_fsm:1101] [624101f3-487d-4cb8-808a-7f6442a37a2e] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:49:52] ERROR    [agent_fsm:1102] [624101f3-487d-4cb8-808a-7f6442a37a2e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:52] WARNING  [agent_fsm:1224] [624101f3-487d-4cb8-808a-7f6442a37a2e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:52] ERROR    [agent_fsm:1837] [624101f3-487d-4cb8-808a-7f6442a37a2e] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:49:52] INFO     [agent_fsm:1752] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Starting resilient FSM execution
[2025-06-18 12:49:52] INFO     [agent_fsm:1807] [c320958e-dbd9-47e8-ac39-0e1a0065a392] FSM STATE: INITIAL
[2025-06-18 12:49:52] INFO     [agent_fsm:665] [c320958e-dbd9-47e8-ac39-0e1a0065a392] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:49:52] DEBUG    [agent_fsm:680] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Turn count: 1, Action history length: 1
[2025-06-18 12:49:54] WARNING  [agent_fsm:1521] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:49:54] WARNING  [agent_fsm:1521] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:49:54] INFO     [agent_fsm:773] [c320958e-dbd9-47e8-ac39-0e1a0065a392] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:49:54] INFO     [agent_fsm:820] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:49:54] INFO     [agent_fsm:922] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Tool execution completed
[2025-06-18 12:49:54] INFO     [agent_fsm:773] [c320958e-dbd9-47e8-ac39-0e1a0065a392] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:49:54] WARNING  [agent_fsm:803] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:49:54] INFO     [agent_fsm:665] [c320958e-dbd9-47e8-ac39-0e1a0065a392] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:49:54] DEBUG    [agent_fsm:680] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Turn count: 2, Action history length: 2
[2025-06-18 12:49:55] INFO     [agent_fsm:773] [c320958e-dbd9-47e8-ac39-0e1a0065a392] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:49:55] INFO     [agent_fsm:820] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Executing tool: python_interpreter with input: {'code': 'str(2 + 2)'}
[2025-06-18 12:49:55] INFO     [agent_fsm:922] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Tool execution completed
[2025-06-18 12:49:55] INFO     [agent_fsm:773] [c320958e-dbd9-47e8-ac39-0e1a0065a392] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:49:55] WARNING  [agent_fsm:803] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:49:55] INFO     [agent_fsm:665] [c320958e-dbd9-47e8-ac39-0e1a0065a392] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:49:55] DEBUG    [agent_fsm:680] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Turn count: 3, Action history length: 3
[2025-06-18 12:49:55] WARNING  [agent_fsm:1521] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:49:55] WARNING  [agent_fsm:1521] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:49:55] WARNING  [agent_fsm:1224] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:55] ERROR    [agent_fsm:1078] [c320958e-dbd9-47e8-ac39-0e1a0065a392] --- FSM STATE: ERROR ---
[2025-06-18 12:49:55] ERROR    [agent_fsm:1101] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:49:55] ERROR    [agent_fsm:1102] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:56] WARNING  [agent_fsm:1224] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:56] ERROR    [agent_fsm:1078] [c320958e-dbd9-47e8-ac39-0e1a0065a392] --- FSM STATE: ERROR ---
[2025-06-18 12:49:56] ERROR    [agent_fsm:1101] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:49:56] ERROR    [agent_fsm:1102] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:56] WARNING  [agent_fsm:1224] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:56] ERROR    [agent_fsm:1078] [c320958e-dbd9-47e8-ac39-0e1a0065a392] --- FSM STATE: ERROR ---
[2025-06-18 12:49:56] ERROR    [agent_fsm:1101] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:49:56] ERROR    [agent_fsm:1102] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:56] WARNING  [agent_fsm:1224] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:56] ERROR    [agent_fsm:1078] [c320958e-dbd9-47e8-ac39-0e1a0065a392] --- FSM STATE: ERROR ---
[2025-06-18 12:49:56] ERROR    [agent_fsm:1101] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:49:56] ERROR    [agent_fsm:1102] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:56] WARNING  [agent_fsm:1224] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:56] ERROR    [agent_fsm:1078] [c320958e-dbd9-47e8-ac39-0e1a0065a392] --- FSM STATE: ERROR ---
[2025-06-18 12:49:56] ERROR    [agent_fsm:1101] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:49:56] ERROR    [agent_fsm:1102] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:56] WARNING  [agent_fsm:1224] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:56] ERROR    [agent_fsm:1078] [c320958e-dbd9-47e8-ac39-0e1a0065a392] --- FSM STATE: ERROR ---
[2025-06-18 12:49:56] ERROR    [agent_fsm:1101] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:49:56] ERROR    [agent_fsm:1102] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:56] WARNING  [agent_fsm:1224] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:56] ERROR    [agent_fsm:1078] [c320958e-dbd9-47e8-ac39-0e1a0065a392] --- FSM STATE: ERROR ---
[2025-06-18 12:49:56] ERROR    [agent_fsm:1101] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:49:56] ERROR    [agent_fsm:1102] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:56] WARNING  [agent_fsm:1224] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:56] ERROR    [agent_fsm:1078] [c320958e-dbd9-47e8-ac39-0e1a0065a392] --- FSM STATE: ERROR ---
[2025-06-18 12:49:56] ERROR    [agent_fsm:1101] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:49:56] ERROR    [agent_fsm:1102] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:56] WARNING  [agent_fsm:1224] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:56] ERROR    [agent_fsm:1078] [c320958e-dbd9-47e8-ac39-0e1a0065a392] --- FSM STATE: ERROR ---
[2025-06-18 12:49:56] ERROR    [agent_fsm:1101] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:49:56] ERROR    [agent_fsm:1102] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:56] WARNING  [agent_fsm:1224] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:56] ERROR    [agent_fsm:1078] [c320958e-dbd9-47e8-ac39-0e1a0065a392] --- FSM STATE: ERROR ---
[2025-06-18 12:49:56] ERROR    [agent_fsm:1101] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:49:56] ERROR    [agent_fsm:1102] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:56] WARNING  [agent_fsm:1224] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:56] ERROR    [agent_fsm:1078] [c320958e-dbd9-47e8-ac39-0e1a0065a392] --- FSM STATE: ERROR ---
[2025-06-18 12:49:56] ERROR    [agent_fsm:1101] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:49:56] ERROR    [agent_fsm:1102] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:56] WARNING  [agent_fsm:1224] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:56] ERROR    [agent_fsm:1078] [c320958e-dbd9-47e8-ac39-0e1a0065a392] --- FSM STATE: ERROR ---
[2025-06-18 12:49:56] ERROR    [agent_fsm:1101] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:49:56] ERROR    [agent_fsm:1102] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:56] WARNING  [agent_fsm:1224] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:56] ERROR    [agent_fsm:1078] [c320958e-dbd9-47e8-ac39-0e1a0065a392] --- FSM STATE: ERROR ---
[2025-06-18 12:49:56] ERROR    [agent_fsm:1101] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:49:56] ERROR    [agent_fsm:1102] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:56] WARNING  [agent_fsm:1224] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:56] ERROR    [agent_fsm:1078] [c320958e-dbd9-47e8-ac39-0e1a0065a392] --- FSM STATE: ERROR ---
[2025-06-18 12:49:56] ERROR    [agent_fsm:1101] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:49:56] ERROR    [agent_fsm:1102] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:56] WARNING  [agent_fsm:1224] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:56] ERROR    [agent_fsm:1078] [c320958e-dbd9-47e8-ac39-0e1a0065a392] --- FSM STATE: ERROR ---
[2025-06-18 12:49:56] ERROR    [agent_fsm:1101] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:49:56] ERROR    [agent_fsm:1102] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:56] WARNING  [agent_fsm:1224] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:56] ERROR    [agent_fsm:1078] [c320958e-dbd9-47e8-ac39-0e1a0065a392] --- FSM STATE: ERROR ---
[2025-06-18 12:49:56] ERROR    [agent_fsm:1101] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:49:56] ERROR    [agent_fsm:1102] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:56] WARNING  [agent_fsm:1224] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:56] ERROR    [agent_fsm:1078] [c320958e-dbd9-47e8-ac39-0e1a0065a392] --- FSM STATE: ERROR ---
[2025-06-18 12:49:56] ERROR    [agent_fsm:1101] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:49:56] ERROR    [agent_fsm:1102] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:56] WARNING  [agent_fsm:1224] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:56] ERROR    [agent_fsm:1078] [c320958e-dbd9-47e8-ac39-0e1a0065a392] --- FSM STATE: ERROR ---
[2025-06-18 12:49:56] ERROR    [agent_fsm:1101] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:49:56] ERROR    [agent_fsm:1102] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:56] WARNING  [agent_fsm:1224] [c320958e-dbd9-47e8-ac39-0e1a0065a392] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:56] ERROR    [agent_fsm:1837] [c320958e-dbd9-47e8-ac39-0e1a0065a392] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:49:56] INFO     [agent_fsm:1752] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Starting resilient FSM execution
[2025-06-18 12:49:56] INFO     [agent_fsm:1807] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] FSM STATE: INITIAL
[2025-06-18 12:49:56] INFO     [agent_fsm:665] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:49:56] DEBUG    [agent_fsm:680] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Turn count: 1, Action history length: 1
[2025-06-18 12:49:57] INFO     [agent_fsm:773] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:49:57] INFO     [agent_fsm:820] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Executing tool: chess_logic_tool with input: {'fen_string': 'rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR', 'analysis_time_seconds': 2.0}
[2025-06-18 12:49:57] INFO     [agent_fsm:922] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Tool execution completed
[2025-06-18 12:49:57] INFO     [agent_fsm:773] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:49:57] WARNING  [agent_fsm:803] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:49:57] INFO     [agent_fsm:665] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:49:57] DEBUG    [agent_fsm:680] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Turn count: 2, Action history length: 2
[2025-06-18 12:49:58] WARNING  [agent_fsm:1521] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:49:58] WARNING  [agent_fsm:1521] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:49:58] WARNING  [agent_fsm:1521] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:49:58] INFO     [agent_fsm:773] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:49:58] INFO     [agent_fsm:820] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:49:58] INFO     [agent_fsm:922] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Tool execution completed
[2025-06-18 12:49:58] INFO     [agent_fsm:773] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:49:58] WARNING  [agent_fsm:803] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:49:58] INFO     [agent_fsm:665] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:49:58] DEBUG    [agent_fsm:680] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Turn count: 3, Action history length: 3
[2025-06-18 12:49:59] WARNING  [agent_fsm:1521] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:49:59] WARNING  [agent_fsm:1521] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:49:59] WARNING  [agent_fsm:1521] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:49:59] WARNING  [agent_fsm:1521] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 12:49:59] WARNING  [agent_fsm:1224] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:59] ERROR    [agent_fsm:1078] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] --- FSM STATE: ERROR ---
[2025-06-18 12:49:59] ERROR    [agent_fsm:1101] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:49:59] ERROR    [agent_fsm:1102] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:59] WARNING  [agent_fsm:1224] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:59] ERROR    [agent_fsm:1078] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] --- FSM STATE: ERROR ---
[2025-06-18 12:49:59] ERROR    [agent_fsm:1101] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:49:59] ERROR    [agent_fsm:1102] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:59] WARNING  [agent_fsm:1224] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:59] ERROR    [agent_fsm:1078] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] --- FSM STATE: ERROR ---
[2025-06-18 12:49:59] ERROR    [agent_fsm:1101] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:49:59] ERROR    [agent_fsm:1102] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:59] WARNING  [agent_fsm:1224] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:59] ERROR    [agent_fsm:1078] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] --- FSM STATE: ERROR ---
[2025-06-18 12:49:59] ERROR    [agent_fsm:1101] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:49:59] ERROR    [agent_fsm:1102] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:59] WARNING  [agent_fsm:1224] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:59] ERROR    [agent_fsm:1078] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] --- FSM STATE: ERROR ---
[2025-06-18 12:49:59] ERROR    [agent_fsm:1101] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:49:59] ERROR    [agent_fsm:1102] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:59] WARNING  [agent_fsm:1224] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:59] ERROR    [agent_fsm:1078] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] --- FSM STATE: ERROR ---
[2025-06-18 12:49:59] ERROR    [agent_fsm:1101] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:49:59] ERROR    [agent_fsm:1102] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:59] WARNING  [agent_fsm:1224] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:59] ERROR    [agent_fsm:1078] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] --- FSM STATE: ERROR ---
[2025-06-18 12:49:59] ERROR    [agent_fsm:1101] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:49:59] ERROR    [agent_fsm:1102] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:59] WARNING  [agent_fsm:1224] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:59] ERROR    [agent_fsm:1078] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] --- FSM STATE: ERROR ---
[2025-06-18 12:49:59] ERROR    [agent_fsm:1101] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:49:59] ERROR    [agent_fsm:1102] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:59] WARNING  [agent_fsm:1224] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:59] ERROR    [agent_fsm:1078] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] --- FSM STATE: ERROR ---
[2025-06-18 12:49:59] ERROR    [agent_fsm:1101] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:49:59] ERROR    [agent_fsm:1102] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:59] WARNING  [agent_fsm:1224] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:59] ERROR    [agent_fsm:1078] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] --- FSM STATE: ERROR ---
[2025-06-18 12:49:59] ERROR    [agent_fsm:1101] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:49:59] ERROR    [agent_fsm:1102] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:59] WARNING  [agent_fsm:1224] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:59] ERROR    [agent_fsm:1078] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] --- FSM STATE: ERROR ---
[2025-06-18 12:49:59] ERROR    [agent_fsm:1101] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:49:59] ERROR    [agent_fsm:1102] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:59] WARNING  [agent_fsm:1224] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:59] ERROR    [agent_fsm:1078] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] --- FSM STATE: ERROR ---
[2025-06-18 12:49:59] ERROR    [agent_fsm:1101] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:49:59] ERROR    [agent_fsm:1102] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:59] WARNING  [agent_fsm:1224] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:59] ERROR    [agent_fsm:1078] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] --- FSM STATE: ERROR ---
[2025-06-18 12:49:59] ERROR    [agent_fsm:1101] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:49:59] ERROR    [agent_fsm:1102] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:59] WARNING  [agent_fsm:1224] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:59] ERROR    [agent_fsm:1078] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] --- FSM STATE: ERROR ---
[2025-06-18 12:49:59] ERROR    [agent_fsm:1101] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:49:59] ERROR    [agent_fsm:1102] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:59] WARNING  [agent_fsm:1224] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:59] ERROR    [agent_fsm:1078] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] --- FSM STATE: ERROR ---
[2025-06-18 12:49:59] ERROR    [agent_fsm:1101] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:49:59] ERROR    [agent_fsm:1102] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:59] WARNING  [agent_fsm:1224] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:59] ERROR    [agent_fsm:1078] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] --- FSM STATE: ERROR ---
[2025-06-18 12:49:59] ERROR    [agent_fsm:1101] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:49:59] ERROR    [agent_fsm:1102] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:59] WARNING  [agent_fsm:1224] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:59] ERROR    [agent_fsm:1078] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] --- FSM STATE: ERROR ---
[2025-06-18 12:49:59] ERROR    [agent_fsm:1101] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:49:59] ERROR    [agent_fsm:1102] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:59] WARNING  [agent_fsm:1224] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:59] ERROR    [agent_fsm:1078] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] --- FSM STATE: ERROR ---
[2025-06-18 12:49:59] ERROR    [agent_fsm:1101] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:49:59] ERROR    [agent_fsm:1102] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:49:59] WARNING  [agent_fsm:1224] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:49:59] ERROR    [agent_fsm:1837] [3629342f-9e7e-440c-a21e-fc79cfc4d86f] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:49:59] INFO     [agent_fsm:1752] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Starting resilient FSM execution
[2025-06-18 12:49:59] INFO     [agent_fsm:1807] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] FSM STATE: INITIAL
[2025-06-18 12:49:59] INFO     [agent_fsm:665] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:49:59] DEBUG    [agent_fsm:680] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Turn count: 1, Action history length: 1
[2025-06-18 12:50:00] WARNING  [agent_fsm:1521] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:50:00] INFO     [agent_fsm:773] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:50:00] INFO     [agent_fsm:820] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Executing tool: web_researcher with input: {'query': 'Nobel Prize in Physics 2023 winner', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 12:50:00] INFO     [agent_fsm:922] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Tool execution completed
[2025-06-18 12:50:00] INFO     [agent_fsm:773] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:50:00] WARNING  [agent_fsm:803] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:50:00] INFO     [agent_fsm:665] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:50:00] DEBUG    [agent_fsm:680] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Turn count: 2, Action history length: 2
[2025-06-18 12:50:01] INFO     [agent_fsm:773] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:50:01] INFO     [agent_fsm:820] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Executing tool: semantic_search_tool with input: {'query': 'Nobel Prize in Physics 2023 winner', 'filename': 'knowledge_base.csv', 'top_k': 3}
[2025-06-18 12:50:01] INFO     [agent_fsm:922] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Tool execution completed
[2025-06-18 12:50:01] INFO     [agent_fsm:773] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:50:01] WARNING  [agent_fsm:803] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:50:01] INFO     [agent_fsm:665] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:50:01] DEBUG    [agent_fsm:680] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Turn count: 3, Action history length: 3
[2025-06-18 12:50:02] WARNING  [agent_fsm:1521] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:50:02] WARNING  [agent_fsm:1224] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:02] ERROR    [agent_fsm:1078] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] --- FSM STATE: ERROR ---
[2025-06-18 12:50:02] ERROR    [agent_fsm:1101] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:50:02] ERROR    [agent_fsm:1102] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:02] WARNING  [agent_fsm:1224] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:02] ERROR    [agent_fsm:1078] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] --- FSM STATE: ERROR ---
[2025-06-18 12:50:02] ERROR    [agent_fsm:1101] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:50:02] ERROR    [agent_fsm:1102] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:02] WARNING  [agent_fsm:1224] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:02] ERROR    [agent_fsm:1078] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] --- FSM STATE: ERROR ---
[2025-06-18 12:50:02] ERROR    [agent_fsm:1101] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:50:02] ERROR    [agent_fsm:1102] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:02] WARNING  [agent_fsm:1224] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:02] ERROR    [agent_fsm:1078] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] --- FSM STATE: ERROR ---
[2025-06-18 12:50:02] ERROR    [agent_fsm:1101] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:50:02] ERROR    [agent_fsm:1102] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:02] WARNING  [agent_fsm:1224] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:02] ERROR    [agent_fsm:1078] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] --- FSM STATE: ERROR ---
[2025-06-18 12:50:02] ERROR    [agent_fsm:1101] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:50:02] ERROR    [agent_fsm:1102] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:02] WARNING  [agent_fsm:1224] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:02] ERROR    [agent_fsm:1078] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] --- FSM STATE: ERROR ---
[2025-06-18 12:50:02] ERROR    [agent_fsm:1101] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:50:02] ERROR    [agent_fsm:1102] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:02] WARNING  [agent_fsm:1224] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:02] ERROR    [agent_fsm:1078] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] --- FSM STATE: ERROR ---
[2025-06-18 12:50:02] ERROR    [agent_fsm:1101] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:50:02] ERROR    [agent_fsm:1102] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:02] WARNING  [agent_fsm:1224] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:02] ERROR    [agent_fsm:1078] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] --- FSM STATE: ERROR ---
[2025-06-18 12:50:02] ERROR    [agent_fsm:1101] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:50:02] ERROR    [agent_fsm:1102] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:02] WARNING  [agent_fsm:1224] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:02] ERROR    [agent_fsm:1078] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] --- FSM STATE: ERROR ---
[2025-06-18 12:50:02] ERROR    [agent_fsm:1101] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:50:02] ERROR    [agent_fsm:1102] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:02] WARNING  [agent_fsm:1224] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:02] ERROR    [agent_fsm:1078] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] --- FSM STATE: ERROR ---
[2025-06-18 12:50:02] ERROR    [agent_fsm:1101] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:50:02] ERROR    [agent_fsm:1102] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:02] WARNING  [agent_fsm:1224] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:02] ERROR    [agent_fsm:1078] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] --- FSM STATE: ERROR ---
[2025-06-18 12:50:02] ERROR    [agent_fsm:1101] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:50:02] ERROR    [agent_fsm:1102] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:02] WARNING  [agent_fsm:1224] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:02] ERROR    [agent_fsm:1078] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] --- FSM STATE: ERROR ---
[2025-06-18 12:50:02] ERROR    [agent_fsm:1101] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:50:02] ERROR    [agent_fsm:1102] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:02] WARNING  [agent_fsm:1224] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:02] ERROR    [agent_fsm:1078] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] --- FSM STATE: ERROR ---
[2025-06-18 12:50:02] ERROR    [agent_fsm:1101] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:50:02] ERROR    [agent_fsm:1102] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:02] WARNING  [agent_fsm:1224] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:02] ERROR    [agent_fsm:1078] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] --- FSM STATE: ERROR ---
[2025-06-18 12:50:02] ERROR    [agent_fsm:1101] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:50:02] ERROR    [agent_fsm:1102] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:02] WARNING  [agent_fsm:1224] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:02] ERROR    [agent_fsm:1078] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] --- FSM STATE: ERROR ---
[2025-06-18 12:50:02] ERROR    [agent_fsm:1101] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:50:02] ERROR    [agent_fsm:1102] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:02] WARNING  [agent_fsm:1224] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:02] ERROR    [agent_fsm:1078] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] --- FSM STATE: ERROR ---
[2025-06-18 12:50:02] ERROR    [agent_fsm:1101] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:50:02] ERROR    [agent_fsm:1102] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:02] WARNING  [agent_fsm:1224] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:02] ERROR    [agent_fsm:1078] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] --- FSM STATE: ERROR ---
[2025-06-18 12:50:02] ERROR    [agent_fsm:1101] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:50:02] ERROR    [agent_fsm:1102] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:02] WARNING  [agent_fsm:1224] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:02] ERROR    [agent_fsm:1078] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] --- FSM STATE: ERROR ---
[2025-06-18 12:50:02] ERROR    [agent_fsm:1101] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:50:02] ERROR    [agent_fsm:1102] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:02] WARNING  [agent_fsm:1224] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:02] ERROR    [agent_fsm:1837] [af1296db-25f5-4f0b-8e53-0480e5fdf02f] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:50:02] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 12:50:02] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 12:50:02] INFO     [agent_fsm:570] [c93bd2af-ef13-43b3-89c0-37154ed0f92e] Building resilient FSM graph
[2025-06-18 12:50:02] INFO     [agent_fsm:572] [c93bd2af-ef13-43b3-89c0-37154ed0f92e] FSMReActAgent graph built successfully
[2025-06-18 12:50:02] INFO     [agent_fsm:1752] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Starting resilient FSM execution
[2025-06-18 12:50:02] INFO     [agent_fsm:1807] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] FSM STATE: INITIAL
[2025-06-18 12:50:02] INFO     [agent_fsm:665] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:50:02] DEBUG    [agent_fsm:680] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Turn count: 1, Action history length: 1
[2025-06-18 12:50:03] WARNING  [agent_fsm:1521] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:50:03] INFO     [agent_fsm:773] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:50:03] INFO     [agent_fsm:820] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Executing tool: web_researcher with input: {'query': 'Mercedes Sosa discography', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 12:50:03] INFO     [agent_fsm:922] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Tool execution completed
[2025-06-18 12:50:03] INFO     [agent_fsm:773] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:50:03] WARNING  [agent_fsm:803] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:50:03] INFO     [agent_fsm:665] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:50:03] DEBUG    [agent_fsm:680] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Turn count: 2, Action history length: 2
[2025-06-18 12:50:04] WARNING  [agent_fsm:1521] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:50:04] WARNING  [agent_fsm:1521] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:50:04] INFO     [agent_fsm:773] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:50:04] INFO     [agent_fsm:820] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:50:04] INFO     [agent_fsm:922] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Tool execution completed
[2025-06-18 12:50:04] INFO     [agent_fsm:773] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:50:04] WARNING  [agent_fsm:803] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:50:04] INFO     [agent_fsm:665] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:50:04] DEBUG    [agent_fsm:680] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Turn count: 3, Action history length: 3
[2025-06-18 12:50:05] WARNING  [agent_fsm:1521] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:50:05] WARNING  [agent_fsm:1521] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:50:05] WARNING  [agent_fsm:1224] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:05] ERROR    [agent_fsm:1078] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] --- FSM STATE: ERROR ---
[2025-06-18 12:50:05] ERROR    [agent_fsm:1101] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:50:05] ERROR    [agent_fsm:1102] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:05] WARNING  [agent_fsm:1224] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:05] ERROR    [agent_fsm:1078] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] --- FSM STATE: ERROR ---
[2025-06-18 12:50:05] ERROR    [agent_fsm:1101] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:50:05] ERROR    [agent_fsm:1102] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:05] WARNING  [agent_fsm:1224] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:05] ERROR    [agent_fsm:1078] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] --- FSM STATE: ERROR ---
[2025-06-18 12:50:05] ERROR    [agent_fsm:1101] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:50:05] ERROR    [agent_fsm:1102] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:05] WARNING  [agent_fsm:1224] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:05] ERROR    [agent_fsm:1078] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] --- FSM STATE: ERROR ---
[2025-06-18 12:50:05] ERROR    [agent_fsm:1101] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:50:05] ERROR    [agent_fsm:1102] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:05] WARNING  [agent_fsm:1224] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:05] ERROR    [agent_fsm:1078] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] --- FSM STATE: ERROR ---
[2025-06-18 12:50:05] ERROR    [agent_fsm:1101] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:50:05] ERROR    [agent_fsm:1102] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:05] WARNING  [agent_fsm:1224] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:05] ERROR    [agent_fsm:1078] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] --- FSM STATE: ERROR ---
[2025-06-18 12:50:05] ERROR    [agent_fsm:1101] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:50:05] ERROR    [agent_fsm:1102] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:05] WARNING  [agent_fsm:1224] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:05] ERROR    [agent_fsm:1078] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] --- FSM STATE: ERROR ---
[2025-06-18 12:50:05] ERROR    [agent_fsm:1101] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:50:05] ERROR    [agent_fsm:1102] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:05] WARNING  [agent_fsm:1224] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:05] ERROR    [agent_fsm:1078] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] --- FSM STATE: ERROR ---
[2025-06-18 12:50:05] ERROR    [agent_fsm:1101] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:50:05] ERROR    [agent_fsm:1102] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:05] WARNING  [agent_fsm:1224] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:05] ERROR    [agent_fsm:1078] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] --- FSM STATE: ERROR ---
[2025-06-18 12:50:05] ERROR    [agent_fsm:1101] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:50:05] ERROR    [agent_fsm:1102] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:05] WARNING  [agent_fsm:1224] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:05] ERROR    [agent_fsm:1078] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] --- FSM STATE: ERROR ---
[2025-06-18 12:50:05] ERROR    [agent_fsm:1101] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:50:05] ERROR    [agent_fsm:1102] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:05] WARNING  [agent_fsm:1224] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:05] ERROR    [agent_fsm:1078] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] --- FSM STATE: ERROR ---
[2025-06-18 12:50:05] ERROR    [agent_fsm:1101] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:50:05] ERROR    [agent_fsm:1102] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:05] WARNING  [agent_fsm:1224] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:05] ERROR    [agent_fsm:1078] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] --- FSM STATE: ERROR ---
[2025-06-18 12:50:05] ERROR    [agent_fsm:1101] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:50:05] ERROR    [agent_fsm:1102] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:05] WARNING  [agent_fsm:1224] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:05] ERROR    [agent_fsm:1078] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] --- FSM STATE: ERROR ---
[2025-06-18 12:50:05] ERROR    [agent_fsm:1101] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:50:05] ERROR    [agent_fsm:1102] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:05] WARNING  [agent_fsm:1224] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:05] ERROR    [agent_fsm:1078] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] --- FSM STATE: ERROR ---
[2025-06-18 12:50:05] ERROR    [agent_fsm:1101] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:50:05] ERROR    [agent_fsm:1102] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:05] WARNING  [agent_fsm:1224] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:05] ERROR    [agent_fsm:1078] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] --- FSM STATE: ERROR ---
[2025-06-18 12:50:05] ERROR    [agent_fsm:1101] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:50:05] ERROR    [agent_fsm:1102] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:05] WARNING  [agent_fsm:1224] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:05] ERROR    [agent_fsm:1078] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] --- FSM STATE: ERROR ---
[2025-06-18 12:50:05] ERROR    [agent_fsm:1101] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:50:05] ERROR    [agent_fsm:1102] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:05] WARNING  [agent_fsm:1224] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:05] ERROR    [agent_fsm:1078] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] --- FSM STATE: ERROR ---
[2025-06-18 12:50:05] ERROR    [agent_fsm:1101] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:50:05] ERROR    [agent_fsm:1102] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:05] WARNING  [agent_fsm:1224] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:05] ERROR    [agent_fsm:1078] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] --- FSM STATE: ERROR ---
[2025-06-18 12:50:05] ERROR    [agent_fsm:1101] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:50:05] ERROR    [agent_fsm:1102] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:05] WARNING  [agent_fsm:1224] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:05] ERROR    [agent_fsm:1837] [6e31c621-e7a1-4b4b-95ed-2c9feab5ffdf] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:50:05] INFO     [agent_fsm:1752] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Starting resilient FSM execution
[2025-06-18 12:50:05] INFO     [agent_fsm:1807] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] FSM STATE: INITIAL
[2025-06-18 12:50:05] INFO     [agent_fsm:665] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:50:05] DEBUG    [agent_fsm:680] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Turn count: 1, Action history length: 1
[2025-06-18 12:50:06] WARNING  [agent_fsm:1521] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:50:06] INFO     [agent_fsm:773] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:50:06] INFO     [agent_fsm:820] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:50:06] INFO     [agent_fsm:922] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Tool execution completed
[2025-06-18 12:50:06] INFO     [agent_fsm:773] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:50:06] WARNING  [agent_fsm:803] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:50:06] INFO     [agent_fsm:665] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:50:06] DEBUG    [agent_fsm:680] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Turn count: 2, Action history length: 2
[2025-06-18 12:50:07] WARNING  [agent_fsm:1521] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:50:07] WARNING  [agent_fsm:1521] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:50:07] INFO     [agent_fsm:773] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:50:07] INFO     [agent_fsm:820] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Executing tool: gaia_video_analyzer with input: {'video_url': 'https://www.youtube.com/watch?v=L1vXCYZAYYM'}
[2025-06-18 12:50:07] INFO     [agent_fsm:922] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Tool execution completed
[2025-06-18 12:50:07] INFO     [agent_fsm:773] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:50:07] WARNING  [agent_fsm:803] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:50:07] INFO     [agent_fsm:665] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:50:07] DEBUG    [agent_fsm:680] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Turn count: 3, Action history length: 3
[2025-06-18 12:50:08] WARNING  [agent_fsm:1521] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:50:08] WARNING  [agent_fsm:1521] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:50:08] WARNING  [agent_fsm:1521] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:50:08] WARNING  [agent_fsm:1224] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:08] ERROR    [agent_fsm:1078] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] --- FSM STATE: ERROR ---
[2025-06-18 12:50:08] ERROR    [agent_fsm:1101] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:50:08] ERROR    [agent_fsm:1102] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:08] WARNING  [agent_fsm:1224] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:08] ERROR    [agent_fsm:1078] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] --- FSM STATE: ERROR ---
[2025-06-18 12:50:08] ERROR    [agent_fsm:1101] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:50:08] ERROR    [agent_fsm:1102] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:08] WARNING  [agent_fsm:1224] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:08] ERROR    [agent_fsm:1078] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] --- FSM STATE: ERROR ---
[2025-06-18 12:50:08] ERROR    [agent_fsm:1101] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:50:08] ERROR    [agent_fsm:1102] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:08] WARNING  [agent_fsm:1224] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:08] ERROR    [agent_fsm:1078] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] --- FSM STATE: ERROR ---
[2025-06-18 12:50:08] ERROR    [agent_fsm:1101] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:50:08] ERROR    [agent_fsm:1102] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:08] WARNING  [agent_fsm:1224] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:08] ERROR    [agent_fsm:1078] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] --- FSM STATE: ERROR ---
[2025-06-18 12:50:08] ERROR    [agent_fsm:1101] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:50:08] ERROR    [agent_fsm:1102] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:08] WARNING  [agent_fsm:1224] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:08] ERROR    [agent_fsm:1078] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] --- FSM STATE: ERROR ---
[2025-06-18 12:50:08] ERROR    [agent_fsm:1101] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:50:08] ERROR    [agent_fsm:1102] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:08] WARNING  [agent_fsm:1224] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:08] ERROR    [agent_fsm:1078] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] --- FSM STATE: ERROR ---
[2025-06-18 12:50:08] ERROR    [agent_fsm:1101] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:50:08] ERROR    [agent_fsm:1102] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:08] WARNING  [agent_fsm:1224] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:08] ERROR    [agent_fsm:1078] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] --- FSM STATE: ERROR ---
[2025-06-18 12:50:08] ERROR    [agent_fsm:1101] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:50:08] ERROR    [agent_fsm:1102] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:08] WARNING  [agent_fsm:1224] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:08] ERROR    [agent_fsm:1078] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] --- FSM STATE: ERROR ---
[2025-06-18 12:50:08] ERROR    [agent_fsm:1101] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:50:08] ERROR    [agent_fsm:1102] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:08] WARNING  [agent_fsm:1224] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:08] ERROR    [agent_fsm:1078] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] --- FSM STATE: ERROR ---
[2025-06-18 12:50:08] ERROR    [agent_fsm:1101] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:50:08] ERROR    [agent_fsm:1102] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:08] WARNING  [agent_fsm:1224] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:08] ERROR    [agent_fsm:1078] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] --- FSM STATE: ERROR ---
[2025-06-18 12:50:08] ERROR    [agent_fsm:1101] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:50:08] ERROR    [agent_fsm:1102] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:08] WARNING  [agent_fsm:1224] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:08] ERROR    [agent_fsm:1078] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] --- FSM STATE: ERROR ---
[2025-06-18 12:50:08] ERROR    [agent_fsm:1101] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:50:08] ERROR    [agent_fsm:1102] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:08] WARNING  [agent_fsm:1224] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:08] ERROR    [agent_fsm:1078] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] --- FSM STATE: ERROR ---
[2025-06-18 12:50:08] ERROR    [agent_fsm:1101] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:50:08] ERROR    [agent_fsm:1102] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:08] WARNING  [agent_fsm:1224] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:08] ERROR    [agent_fsm:1078] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] --- FSM STATE: ERROR ---
[2025-06-18 12:50:08] ERROR    [agent_fsm:1101] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:50:08] ERROR    [agent_fsm:1102] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:08] WARNING  [agent_fsm:1224] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:08] ERROR    [agent_fsm:1078] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] --- FSM STATE: ERROR ---
[2025-06-18 12:50:08] ERROR    [agent_fsm:1101] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:50:08] ERROR    [agent_fsm:1102] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:08] WARNING  [agent_fsm:1224] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:08] ERROR    [agent_fsm:1078] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] --- FSM STATE: ERROR ---
[2025-06-18 12:50:08] ERROR    [agent_fsm:1101] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:50:08] ERROR    [agent_fsm:1102] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:08] WARNING  [agent_fsm:1224] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:08] ERROR    [agent_fsm:1078] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] --- FSM STATE: ERROR ---
[2025-06-18 12:50:08] ERROR    [agent_fsm:1101] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:50:08] ERROR    [agent_fsm:1102] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:08] WARNING  [agent_fsm:1224] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:08] ERROR    [agent_fsm:1078] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] --- FSM STATE: ERROR ---
[2025-06-18 12:50:08] ERROR    [agent_fsm:1101] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:50:08] ERROR    [agent_fsm:1102] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:08] WARNING  [agent_fsm:1224] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:08] ERROR    [agent_fsm:1837] [dbae58c5-0324-4244-ba6e-6cda8abd9e37] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:50:08] INFO     [agent_fsm:1752] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Starting resilient FSM execution
[2025-06-18 12:50:08] INFO     [agent_fsm:1807] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] FSM STATE: INITIAL
[2025-06-18 12:50:08] INFO     [agent_fsm:665] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:50:08] DEBUG    [agent_fsm:680] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Turn count: 1, Action history length: 1
[2025-06-18 12:50:10] WARNING  [agent_fsm:1521] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:50:10] WARNING  [agent_fsm:1521] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:50:10] WARNING  [agent_fsm:1521] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 12:50:10] WARNING  [agent_fsm:1521] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Failed to parse JSON parameters for step 10, using fallback parser
[2025-06-18 12:50:10] WARNING  [agent_fsm:1521] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Failed to parse JSON parameters for step 13, using fallback parser
[2025-06-18 12:50:10] WARNING  [agent_fsm:1333] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Tool image_analyzer not found in registry, will use stub
[2025-06-18 12:50:10] INFO     [agent_fsm:773] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:50:10] INFO     [agent_fsm:820] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:50:10] INFO     [agent_fsm:922] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Tool execution completed
[2025-06-18 12:50:10] INFO     [agent_fsm:773] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:50:10] WARNING  [agent_fsm:803] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:50:10] INFO     [agent_fsm:665] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:50:10] DEBUG    [agent_fsm:680] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Turn count: 2, Action history length: 2
[2025-06-18 12:50:14] WARNING  [agent_fsm:1521] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:50:14] INFO     [agent_fsm:773] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:50:14] INFO     [agent_fsm:820] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Executing tool: file_reader with input: {'filename': 'decoded_string.txt', 'lines': -1}
[2025-06-18 12:50:14] INFO     [agent_fsm:922] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Tool execution completed
[2025-06-18 12:50:14] INFO     [agent_fsm:773] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:50:14] WARNING  [agent_fsm:803] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:50:14] INFO     [agent_fsm:665] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:50:14] DEBUG    [agent_fsm:680] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Turn count: 3, Action history length: 3
[2025-06-18 12:50:16] WARNING  [agent_fsm:1521] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Failed to parse JSON parameters for step 8, using fallback parser
[2025-06-18 12:50:16] WARNING  [agent_fsm:1521] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Failed to parse JSON parameters for step 9, using fallback parser
[2025-06-18 12:50:16] WARNING  [agent_fsm:1521] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Failed to parse JSON parameters for step 10, using fallback parser
[2025-06-18 12:50:16] WARNING  [agent_fsm:1521] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Failed to parse JSON parameters for step 11, using fallback parser
[2025-06-18 12:50:16] WARNING  [agent_fsm:1521] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Failed to parse JSON parameters for step 12, using fallback parser
[2025-06-18 12:50:16] WARNING  [agent_fsm:1521] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Failed to parse JSON parameters for step 13, using fallback parser
[2025-06-18 12:50:16] WARNING  [agent_fsm:1521] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Failed to parse JSON parameters for step 14, using fallback parser
[2025-06-18 12:50:16] WARNING  [agent_fsm:1521] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Failed to parse JSON parameters for step 15, using fallback parser
[2025-06-18 12:50:16] WARNING  [agent_fsm:1521] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Failed to parse JSON parameters for step 16, using fallback parser
[2025-06-18 12:50:16] WARNING  [agent_fsm:1521] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Failed to parse JSON parameters for step 17, using fallback parser
[2025-06-18 12:50:16] WARNING  [agent_fsm:1521] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Failed to parse JSON parameters for step 18, using fallback parser
[2025-06-18 12:50:16] WARNING  [agent_fsm:1333] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Tool file_writer not found in registry, will use stub
[2025-06-18 12:50:16] WARNING  [agent_fsm:1224] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:16] ERROR    [agent_fsm:1078] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] --- FSM STATE: ERROR ---
[2025-06-18 12:50:16] ERROR    [agent_fsm:1101] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:50:16] ERROR    [agent_fsm:1102] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:16] WARNING  [agent_fsm:1224] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:16] ERROR    [agent_fsm:1078] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] --- FSM STATE: ERROR ---
[2025-06-18 12:50:16] ERROR    [agent_fsm:1101] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:50:16] ERROR    [agent_fsm:1102] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:16] WARNING  [agent_fsm:1224] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:16] ERROR    [agent_fsm:1078] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] --- FSM STATE: ERROR ---
[2025-06-18 12:50:16] ERROR    [agent_fsm:1101] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:50:16] ERROR    [agent_fsm:1102] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:16] WARNING  [agent_fsm:1224] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:16] ERROR    [agent_fsm:1078] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] --- FSM STATE: ERROR ---
[2025-06-18 12:50:16] ERROR    [agent_fsm:1101] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:50:16] ERROR    [agent_fsm:1102] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:16] WARNING  [agent_fsm:1224] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:16] ERROR    [agent_fsm:1078] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] --- FSM STATE: ERROR ---
[2025-06-18 12:50:16] ERROR    [agent_fsm:1101] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:50:16] ERROR    [agent_fsm:1102] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:16] WARNING  [agent_fsm:1224] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:16] ERROR    [agent_fsm:1078] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] --- FSM STATE: ERROR ---
[2025-06-18 12:50:16] ERROR    [agent_fsm:1101] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:50:16] ERROR    [agent_fsm:1102] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:16] WARNING  [agent_fsm:1224] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:16] ERROR    [agent_fsm:1078] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] --- FSM STATE: ERROR ---
[2025-06-18 12:50:16] ERROR    [agent_fsm:1101] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:50:16] ERROR    [agent_fsm:1102] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:16] WARNING  [agent_fsm:1224] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:16] ERROR    [agent_fsm:1078] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] --- FSM STATE: ERROR ---
[2025-06-18 12:50:16] ERROR    [agent_fsm:1101] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:50:16] ERROR    [agent_fsm:1102] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:16] WARNING  [agent_fsm:1224] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:16] ERROR    [agent_fsm:1078] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] --- FSM STATE: ERROR ---
[2025-06-18 12:50:16] ERROR    [agent_fsm:1101] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:50:16] ERROR    [agent_fsm:1102] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:16] WARNING  [agent_fsm:1224] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:16] ERROR    [agent_fsm:1078] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] --- FSM STATE: ERROR ---
[2025-06-18 12:50:16] ERROR    [agent_fsm:1101] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:50:16] ERROR    [agent_fsm:1102] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:16] WARNING  [agent_fsm:1224] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:16] ERROR    [agent_fsm:1078] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] --- FSM STATE: ERROR ---
[2025-06-18 12:50:16] ERROR    [agent_fsm:1101] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:50:16] ERROR    [agent_fsm:1102] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:16] WARNING  [agent_fsm:1224] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:16] ERROR    [agent_fsm:1078] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] --- FSM STATE: ERROR ---
[2025-06-18 12:50:16] ERROR    [agent_fsm:1101] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:50:16] ERROR    [agent_fsm:1102] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:16] WARNING  [agent_fsm:1224] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:16] ERROR    [agent_fsm:1078] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] --- FSM STATE: ERROR ---
[2025-06-18 12:50:16] ERROR    [agent_fsm:1101] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:50:16] ERROR    [agent_fsm:1102] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:16] WARNING  [agent_fsm:1224] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:16] ERROR    [agent_fsm:1078] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] --- FSM STATE: ERROR ---
[2025-06-18 12:50:16] ERROR    [agent_fsm:1101] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:50:16] ERROR    [agent_fsm:1102] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:16] WARNING  [agent_fsm:1224] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:16] ERROR    [agent_fsm:1078] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] --- FSM STATE: ERROR ---
[2025-06-18 12:50:16] ERROR    [agent_fsm:1101] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:50:16] ERROR    [agent_fsm:1102] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:16] WARNING  [agent_fsm:1224] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:16] ERROR    [agent_fsm:1078] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] --- FSM STATE: ERROR ---
[2025-06-18 12:50:16] ERROR    [agent_fsm:1101] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:50:16] ERROR    [agent_fsm:1102] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:16] WARNING  [agent_fsm:1224] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:16] ERROR    [agent_fsm:1078] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] --- FSM STATE: ERROR ---
[2025-06-18 12:50:16] ERROR    [agent_fsm:1101] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:50:16] ERROR    [agent_fsm:1102] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:16] WARNING  [agent_fsm:1224] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:16] ERROR    [agent_fsm:1078] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] --- FSM STATE: ERROR ---
[2025-06-18 12:50:16] ERROR    [agent_fsm:1101] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:50:16] ERROR    [agent_fsm:1102] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:16] WARNING  [agent_fsm:1224] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:16] ERROR    [agent_fsm:1837] [fb2f3845-eaf5-427f-93ac-a71e30df0d24] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:50:16] INFO     [agent_fsm:1752] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Starting resilient FSM execution
[2025-06-18 12:50:16] INFO     [agent_fsm:1807] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] FSM STATE: INITIAL
[2025-06-18 12:50:16] INFO     [agent_fsm:665] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:50:16] DEBUG    [agent_fsm:680] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Turn count: 1, Action history length: 1
[2025-06-18 12:50:17] WARNING  [agent_fsm:1521] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:50:17] WARNING  [agent_fsm:1521] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:50:17] WARNING  [agent_fsm:1521] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:50:17] WARNING  [agent_fsm:1521] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 12:50:17] WARNING  [agent_fsm:1521] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Failed to parse JSON parameters for step 8, using fallback parser
[2025-06-18 12:50:17] INFO     [agent_fsm:773] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:50:17] INFO     [agent_fsm:820] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Executing tool: advanced_file_reader with input: {'filename': 'path/to/sales_data.xlsx'}
[2025-06-18 12:50:17] INFO     [agent_fsm:922] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Tool execution completed
[2025-06-18 12:50:17] INFO     [agent_fsm:773] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:50:17] WARNING  [agent_fsm:803] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:50:17] INFO     [agent_fsm:665] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:50:17] DEBUG    [agent_fsm:680] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Turn count: 2, Action history length: 2
[2025-06-18 12:50:18] WARNING  [agent_fsm:1521] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:50:18] WARNING  [agent_fsm:1521] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:50:18] WARNING  [agent_fsm:1521] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:50:18] WARNING  [agent_fsm:1521] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:50:18] WARNING  [agent_fsm:1521] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:50:18] WARNING  [agent_fsm:1521] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 12:50:18] WARNING  [agent_fsm:1521] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Failed to parse JSON parameters for step 8, using fallback parser
[2025-06-18 12:50:18] INFO     [agent_fsm:773] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:50:18] INFO     [agent_fsm:820] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Executing tool: advanced_file_reader with input: {'filename': 'path/to/file.xlsx'}
[2025-06-18 12:50:18] INFO     [agent_fsm:922] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Tool execution completed
[2025-06-18 12:50:18] INFO     [agent_fsm:773] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:50:18] WARNING  [agent_fsm:803] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:50:18] INFO     [agent_fsm:665] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:50:18] DEBUG    [agent_fsm:680] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Turn count: 3, Action history length: 3
[2025-06-18 12:50:20] WARNING  [agent_fsm:1224] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:20] ERROR    [agent_fsm:1078] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] --- FSM STATE: ERROR ---
[2025-06-18 12:50:20] ERROR    [agent_fsm:1101] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:50:20] ERROR    [agent_fsm:1102] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:20] WARNING  [agent_fsm:1224] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:20] ERROR    [agent_fsm:1078] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] --- FSM STATE: ERROR ---
[2025-06-18 12:50:20] ERROR    [agent_fsm:1101] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:50:20] ERROR    [agent_fsm:1102] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:20] WARNING  [agent_fsm:1224] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:20] ERROR    [agent_fsm:1078] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] --- FSM STATE: ERROR ---
[2025-06-18 12:50:20] ERROR    [agent_fsm:1101] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:50:20] ERROR    [agent_fsm:1102] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:20] WARNING  [agent_fsm:1224] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:20] ERROR    [agent_fsm:1078] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] --- FSM STATE: ERROR ---
[2025-06-18 12:50:20] ERROR    [agent_fsm:1101] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:50:20] ERROR    [agent_fsm:1102] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:20] WARNING  [agent_fsm:1224] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:20] ERROR    [agent_fsm:1078] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] --- FSM STATE: ERROR ---
[2025-06-18 12:50:20] ERROR    [agent_fsm:1101] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:50:20] ERROR    [agent_fsm:1102] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:20] WARNING  [agent_fsm:1224] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:20] ERROR    [agent_fsm:1078] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] --- FSM STATE: ERROR ---
[2025-06-18 12:50:20] ERROR    [agent_fsm:1101] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:50:20] ERROR    [agent_fsm:1102] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:20] WARNING  [agent_fsm:1224] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:20] ERROR    [agent_fsm:1078] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] --- FSM STATE: ERROR ---
[2025-06-18 12:50:20] ERROR    [agent_fsm:1101] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:50:20] ERROR    [agent_fsm:1102] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:20] WARNING  [agent_fsm:1224] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:20] ERROR    [agent_fsm:1078] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] --- FSM STATE: ERROR ---
[2025-06-18 12:50:20] ERROR    [agent_fsm:1101] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:50:20] ERROR    [agent_fsm:1102] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:20] WARNING  [agent_fsm:1224] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:20] ERROR    [agent_fsm:1078] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] --- FSM STATE: ERROR ---
[2025-06-18 12:50:20] ERROR    [agent_fsm:1101] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:50:20] ERROR    [agent_fsm:1102] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:20] WARNING  [agent_fsm:1224] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:20] ERROR    [agent_fsm:1078] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] --- FSM STATE: ERROR ---
[2025-06-18 12:50:20] ERROR    [agent_fsm:1101] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:50:20] ERROR    [agent_fsm:1102] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:20] WARNING  [agent_fsm:1224] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:20] ERROR    [agent_fsm:1078] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] --- FSM STATE: ERROR ---
[2025-06-18 12:50:20] ERROR    [agent_fsm:1101] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:50:20] ERROR    [agent_fsm:1102] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:20] WARNING  [agent_fsm:1224] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:20] ERROR    [agent_fsm:1078] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] --- FSM STATE: ERROR ---
[2025-06-18 12:50:20] ERROR    [agent_fsm:1101] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:50:20] ERROR    [agent_fsm:1102] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:20] WARNING  [agent_fsm:1224] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:20] ERROR    [agent_fsm:1078] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] --- FSM STATE: ERROR ---
[2025-06-18 12:50:20] ERROR    [agent_fsm:1101] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:50:20] ERROR    [agent_fsm:1102] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:20] WARNING  [agent_fsm:1224] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:20] ERROR    [agent_fsm:1078] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] --- FSM STATE: ERROR ---
[2025-06-18 12:50:20] ERROR    [agent_fsm:1101] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:50:20] ERROR    [agent_fsm:1102] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:20] WARNING  [agent_fsm:1224] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:20] ERROR    [agent_fsm:1078] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] --- FSM STATE: ERROR ---
[2025-06-18 12:50:20] ERROR    [agent_fsm:1101] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:50:20] ERROR    [agent_fsm:1102] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:20] WARNING  [agent_fsm:1224] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:20] ERROR    [agent_fsm:1078] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] --- FSM STATE: ERROR ---
[2025-06-18 12:50:20] ERROR    [agent_fsm:1101] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:50:20] ERROR    [agent_fsm:1102] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:20] WARNING  [agent_fsm:1224] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:20] ERROR    [agent_fsm:1078] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] --- FSM STATE: ERROR ---
[2025-06-18 12:50:20] ERROR    [agent_fsm:1101] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:50:20] ERROR    [agent_fsm:1102] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:20] WARNING  [agent_fsm:1224] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:20] ERROR    [agent_fsm:1078] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] --- FSM STATE: ERROR ---
[2025-06-18 12:50:20] ERROR    [agent_fsm:1101] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:50:20] ERROR    [agent_fsm:1102] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:20] WARNING  [agent_fsm:1224] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:20] ERROR    [agent_fsm:1837] [33a80ac8-bdb7-4ffc-9cce-6ea4f99f5c02] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:50:20] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 12:50:20] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 12:50:20] INFO     [agent_fsm:570] [7fd28151-4422-420c-a207-ceef37824121] Building resilient FSM graph
[2025-06-18 12:50:20] INFO     [agent_fsm:572] [7fd28151-4422-420c-a207-ceef37824121] FSMReActAgent graph built successfully
[2025-06-18 12:50:20] INFO     [agent_fsm:1752] [b10fca79-72b4-4a3a-a3ba-669b98c532af] Starting resilient FSM execution
[2025-06-18 12:50:20] WARNING  [agent_fsm:1759] [b10fca79-72b4-4a3a-a3ba-669b98c532af] FSM agent rejecting invalid input: '{{' - 1 validation error for ValidatedQuery
query
  Value error, Invalid placeholder query received: '{{' [type=value_error, input_value='{{', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/value_error
[2025-06-18 12:50:20] INFO     [agent_fsm:1752] [2db50729-345a-49ac-af33-acc21a40626f] Starting resilient FSM execution
[2025-06-18 12:50:20] INFO     [agent_fsm:1807] [2db50729-345a-49ac-af33-acc21a40626f] FSM STATE: INITIAL
[2025-06-18 12:50:20] INFO     [agent_fsm:665] [2db50729-345a-49ac-af33-acc21a40626f] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:50:20] DEBUG    [agent_fsm:680] [2db50729-345a-49ac-af33-acc21a40626f] Turn count: 1, Action history length: 1
[2025-06-18 12:50:21] WARNING  [agent_fsm:1521] [2db50729-345a-49ac-af33-acc21a40626f] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:50:21] WARNING  [agent_fsm:1521] [2db50729-345a-49ac-af33-acc21a40626f] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 12:50:21] INFO     [agent_fsm:773] [2db50729-345a-49ac-af33-acc21a40626f] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:50:21] INFO     [agent_fsm:820] [2db50729-345a-49ac-af33-acc21a40626f] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:50:21] INFO     [agent_fsm:922] [2db50729-345a-49ac-af33-acc21a40626f] Tool execution completed
[2025-06-18 12:50:21] INFO     [agent_fsm:773] [2db50729-345a-49ac-af33-acc21a40626f] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:50:21] WARNING  [agent_fsm:803] [2db50729-345a-49ac-af33-acc21a40626f] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:50:21] INFO     [agent_fsm:665] [2db50729-345a-49ac-af33-acc21a40626f] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:50:21] DEBUG    [agent_fsm:680] [2db50729-345a-49ac-af33-acc21a40626f] Turn count: 2, Action history length: 2
[2025-06-18 12:50:22] WARNING  [agent_fsm:1521] [2db50729-345a-49ac-af33-acc21a40626f] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:50:22] INFO     [agent_fsm:773] [2db50729-345a-49ac-af33-acc21a40626f] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:50:22] INFO     [agent_fsm:820] [2db50729-345a-49ac-af33-acc21a40626f] Executing tool: python_interpreter with input: {'code': 'result = 2 + 2'}
[2025-06-18 12:50:22] INFO     [agent_fsm:922] [2db50729-345a-49ac-af33-acc21a40626f] Tool execution completed
[2025-06-18 12:50:22] INFO     [agent_fsm:773] [2db50729-345a-49ac-af33-acc21a40626f] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:50:22] WARNING  [agent_fsm:803] [2db50729-345a-49ac-af33-acc21a40626f] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:50:22] INFO     [agent_fsm:665] [2db50729-345a-49ac-af33-acc21a40626f] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:50:22] DEBUG    [agent_fsm:680] [2db50729-345a-49ac-af33-acc21a40626f] Turn count: 3, Action history length: 3
[2025-06-18 12:50:22] WARNING  [agent_fsm:1224] [2db50729-345a-49ac-af33-acc21a40626f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:22] ERROR    [agent_fsm:1078] [2db50729-345a-49ac-af33-acc21a40626f] --- FSM STATE: ERROR ---
[2025-06-18 12:50:22] ERROR    [agent_fsm:1101] [2db50729-345a-49ac-af33-acc21a40626f] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:50:22] ERROR    [agent_fsm:1102] [2db50729-345a-49ac-af33-acc21a40626f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:22] WARNING  [agent_fsm:1224] [2db50729-345a-49ac-af33-acc21a40626f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:22] ERROR    [agent_fsm:1078] [2db50729-345a-49ac-af33-acc21a40626f] --- FSM STATE: ERROR ---
[2025-06-18 12:50:22] ERROR    [agent_fsm:1101] [2db50729-345a-49ac-af33-acc21a40626f] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:50:22] ERROR    [agent_fsm:1102] [2db50729-345a-49ac-af33-acc21a40626f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:22] WARNING  [agent_fsm:1224] [2db50729-345a-49ac-af33-acc21a40626f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:22] ERROR    [agent_fsm:1078] [2db50729-345a-49ac-af33-acc21a40626f] --- FSM STATE: ERROR ---
[2025-06-18 12:50:22] ERROR    [agent_fsm:1101] [2db50729-345a-49ac-af33-acc21a40626f] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:50:22] ERROR    [agent_fsm:1102] [2db50729-345a-49ac-af33-acc21a40626f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:22] WARNING  [agent_fsm:1224] [2db50729-345a-49ac-af33-acc21a40626f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:22] ERROR    [agent_fsm:1078] [2db50729-345a-49ac-af33-acc21a40626f] --- FSM STATE: ERROR ---
[2025-06-18 12:50:22] ERROR    [agent_fsm:1101] [2db50729-345a-49ac-af33-acc21a40626f] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:50:22] ERROR    [agent_fsm:1102] [2db50729-345a-49ac-af33-acc21a40626f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:22] WARNING  [agent_fsm:1224] [2db50729-345a-49ac-af33-acc21a40626f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:22] ERROR    [agent_fsm:1078] [2db50729-345a-49ac-af33-acc21a40626f] --- FSM STATE: ERROR ---
[2025-06-18 12:50:22] ERROR    [agent_fsm:1101] [2db50729-345a-49ac-af33-acc21a40626f] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:50:22] ERROR    [agent_fsm:1102] [2db50729-345a-49ac-af33-acc21a40626f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:22] WARNING  [agent_fsm:1224] [2db50729-345a-49ac-af33-acc21a40626f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:22] ERROR    [agent_fsm:1078] [2db50729-345a-49ac-af33-acc21a40626f] --- FSM STATE: ERROR ---
[2025-06-18 12:50:22] ERROR    [agent_fsm:1101] [2db50729-345a-49ac-af33-acc21a40626f] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:50:22] ERROR    [agent_fsm:1102] [2db50729-345a-49ac-af33-acc21a40626f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:22] WARNING  [agent_fsm:1224] [2db50729-345a-49ac-af33-acc21a40626f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:22] ERROR    [agent_fsm:1078] [2db50729-345a-49ac-af33-acc21a40626f] --- FSM STATE: ERROR ---
[2025-06-18 12:50:22] ERROR    [agent_fsm:1101] [2db50729-345a-49ac-af33-acc21a40626f] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:50:22] ERROR    [agent_fsm:1102] [2db50729-345a-49ac-af33-acc21a40626f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:22] WARNING  [agent_fsm:1224] [2db50729-345a-49ac-af33-acc21a40626f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:22] ERROR    [agent_fsm:1078] [2db50729-345a-49ac-af33-acc21a40626f] --- FSM STATE: ERROR ---
[2025-06-18 12:50:22] ERROR    [agent_fsm:1101] [2db50729-345a-49ac-af33-acc21a40626f] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:50:22] ERROR    [agent_fsm:1102] [2db50729-345a-49ac-af33-acc21a40626f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:22] WARNING  [agent_fsm:1224] [2db50729-345a-49ac-af33-acc21a40626f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:22] ERROR    [agent_fsm:1078] [2db50729-345a-49ac-af33-acc21a40626f] --- FSM STATE: ERROR ---
[2025-06-18 12:50:22] ERROR    [agent_fsm:1101] [2db50729-345a-49ac-af33-acc21a40626f] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:50:22] ERROR    [agent_fsm:1102] [2db50729-345a-49ac-af33-acc21a40626f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:22] WARNING  [agent_fsm:1224] [2db50729-345a-49ac-af33-acc21a40626f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:22] ERROR    [agent_fsm:1078] [2db50729-345a-49ac-af33-acc21a40626f] --- FSM STATE: ERROR ---
[2025-06-18 12:50:22] ERROR    [agent_fsm:1101] [2db50729-345a-49ac-af33-acc21a40626f] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:50:22] ERROR    [agent_fsm:1102] [2db50729-345a-49ac-af33-acc21a40626f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:22] WARNING  [agent_fsm:1224] [2db50729-345a-49ac-af33-acc21a40626f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:22] ERROR    [agent_fsm:1078] [2db50729-345a-49ac-af33-acc21a40626f] --- FSM STATE: ERROR ---
[2025-06-18 12:50:22] ERROR    [agent_fsm:1101] [2db50729-345a-49ac-af33-acc21a40626f] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:50:22] ERROR    [agent_fsm:1102] [2db50729-345a-49ac-af33-acc21a40626f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:22] WARNING  [agent_fsm:1224] [2db50729-345a-49ac-af33-acc21a40626f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:22] ERROR    [agent_fsm:1078] [2db50729-345a-49ac-af33-acc21a40626f] --- FSM STATE: ERROR ---
[2025-06-18 12:50:22] ERROR    [agent_fsm:1101] [2db50729-345a-49ac-af33-acc21a40626f] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:50:22] ERROR    [agent_fsm:1102] [2db50729-345a-49ac-af33-acc21a40626f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:22] WARNING  [agent_fsm:1224] [2db50729-345a-49ac-af33-acc21a40626f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:22] ERROR    [agent_fsm:1078] [2db50729-345a-49ac-af33-acc21a40626f] --- FSM STATE: ERROR ---
[2025-06-18 12:50:22] ERROR    [agent_fsm:1101] [2db50729-345a-49ac-af33-acc21a40626f] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:50:22] ERROR    [agent_fsm:1102] [2db50729-345a-49ac-af33-acc21a40626f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:22] WARNING  [agent_fsm:1224] [2db50729-345a-49ac-af33-acc21a40626f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:22] ERROR    [agent_fsm:1078] [2db50729-345a-49ac-af33-acc21a40626f] --- FSM STATE: ERROR ---
[2025-06-18 12:50:22] ERROR    [agent_fsm:1101] [2db50729-345a-49ac-af33-acc21a40626f] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:50:22] ERROR    [agent_fsm:1102] [2db50729-345a-49ac-af33-acc21a40626f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:22] WARNING  [agent_fsm:1224] [2db50729-345a-49ac-af33-acc21a40626f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:22] ERROR    [agent_fsm:1078] [2db50729-345a-49ac-af33-acc21a40626f] --- FSM STATE: ERROR ---
[2025-06-18 12:50:22] ERROR    [agent_fsm:1101] [2db50729-345a-49ac-af33-acc21a40626f] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:50:22] ERROR    [agent_fsm:1102] [2db50729-345a-49ac-af33-acc21a40626f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:22] WARNING  [agent_fsm:1224] [2db50729-345a-49ac-af33-acc21a40626f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:22] ERROR    [agent_fsm:1078] [2db50729-345a-49ac-af33-acc21a40626f] --- FSM STATE: ERROR ---
[2025-06-18 12:50:22] ERROR    [agent_fsm:1101] [2db50729-345a-49ac-af33-acc21a40626f] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:50:22] ERROR    [agent_fsm:1102] [2db50729-345a-49ac-af33-acc21a40626f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:22] WARNING  [agent_fsm:1224] [2db50729-345a-49ac-af33-acc21a40626f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:22] ERROR    [agent_fsm:1078] [2db50729-345a-49ac-af33-acc21a40626f] --- FSM STATE: ERROR ---
[2025-06-18 12:50:22] ERROR    [agent_fsm:1101] [2db50729-345a-49ac-af33-acc21a40626f] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:50:22] ERROR    [agent_fsm:1102] [2db50729-345a-49ac-af33-acc21a40626f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:22] WARNING  [agent_fsm:1224] [2db50729-345a-49ac-af33-acc21a40626f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:22] ERROR    [agent_fsm:1078] [2db50729-345a-49ac-af33-acc21a40626f] --- FSM STATE: ERROR ---
[2025-06-18 12:50:22] ERROR    [agent_fsm:1101] [2db50729-345a-49ac-af33-acc21a40626f] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:50:22] ERROR    [agent_fsm:1102] [2db50729-345a-49ac-af33-acc21a40626f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:50:22] WARNING  [agent_fsm:1224] [2db50729-345a-49ac-af33-acc21a40626f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:50:22] ERROR    [agent_fsm:1837] [2db50729-345a-49ac-af33-acc21a40626f] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:50:22] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 12:50:22] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 12:50:22] INFO     [agent_fsm:570] [86b0fba2-0b3f-4f31-8f7a-c87edfd14e88] Building resilient FSM graph
[2025-06-18 12:50:22] INFO     [agent_fsm:572] [86b0fba2-0b3f-4f31-8f7a-c87edfd14e88] FSMReActAgent graph built successfully
[2025-06-18 12:52:02] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 12:52:02] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 12:52:02] INFO     [agent_fsm:570] [415fa1bb-70aa-4f16-8081-0312cf21d7cf] Building resilient FSM graph
[2025-06-18 12:52:02] INFO     [agent_fsm:572] [415fa1bb-70aa-4f16-8081-0312cf21d7cf] FSMReActAgent graph built successfully
[2025-06-18 12:52:02] INFO     [agent_fsm:1752] [42991259-7c31-4904-9920-2c5e47ce55f0] Starting resilient FSM execution
[2025-06-18 12:52:02] INFO     [agent_fsm:1807] [42991259-7c31-4904-9920-2c5e47ce55f0] FSM STATE: INITIAL
[2025-06-18 12:52:02] INFO     [agent_fsm:665] [42991259-7c31-4904-9920-2c5e47ce55f0] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:52:02] DEBUG    [agent_fsm:680] [42991259-7c31-4904-9920-2c5e47ce55f0] Turn count: 1, Action history length: 1
[2025-06-18 12:52:04] INFO     [agent_fsm:773] [42991259-7c31-4904-9920-2c5e47ce55f0] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:52:04] INFO     [agent_fsm:820] [42991259-7c31-4904-9920-2c5e47ce55f0] Executing tool: web_researcher with input: {'query': 'capital of France', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 12:52:04] INFO     [agent_fsm:922] [42991259-7c31-4904-9920-2c5e47ce55f0] Tool execution completed
[2025-06-18 12:52:04] INFO     [agent_fsm:773] [42991259-7c31-4904-9920-2c5e47ce55f0] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:52:04] WARNING  [agent_fsm:803] [42991259-7c31-4904-9920-2c5e47ce55f0] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:52:04] INFO     [agent_fsm:665] [42991259-7c31-4904-9920-2c5e47ce55f0] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:52:04] DEBUG    [agent_fsm:680] [42991259-7c31-4904-9920-2c5e47ce55f0] Turn count: 2, Action history length: 2
[2025-06-18 12:52:05] WARNING  [agent_fsm:1521] [42991259-7c31-4904-9920-2c5e47ce55f0] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:52:05] INFO     [agent_fsm:773] [42991259-7c31-4904-9920-2c5e47ce55f0] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:52:05] WARNING  [agent_fsm:803] [42991259-7c31-4904-9920-2c5e47ce55f0] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:52:05] INFO     [agent_fsm:665] [42991259-7c31-4904-9920-2c5e47ce55f0] --- FSM STATE: PLANNING (Step 3) ---
[2025-06-18 12:52:05] DEBUG    [agent_fsm:680] [42991259-7c31-4904-9920-2c5e47ce55f0] Turn count: 3, Action history length: 3
[2025-06-18 12:52:06] WARNING  [agent_fsm:1521] [42991259-7c31-4904-9920-2c5e47ce55f0] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:52:06] WARNING  [agent_fsm:1224] [42991259-7c31-4904-9920-2c5e47ce55f0] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:06] ERROR    [agent_fsm:1078] [42991259-7c31-4904-9920-2c5e47ce55f0] --- FSM STATE: ERROR ---
[2025-06-18 12:52:06] ERROR    [agent_fsm:1101] [42991259-7c31-4904-9920-2c5e47ce55f0] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:52:06] ERROR    [agent_fsm:1102] [42991259-7c31-4904-9920-2c5e47ce55f0] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:06] WARNING  [agent_fsm:1224] [42991259-7c31-4904-9920-2c5e47ce55f0] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:06] ERROR    [agent_fsm:1078] [42991259-7c31-4904-9920-2c5e47ce55f0] --- FSM STATE: ERROR ---
[2025-06-18 12:52:06] ERROR    [agent_fsm:1101] [42991259-7c31-4904-9920-2c5e47ce55f0] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:52:06] ERROR    [agent_fsm:1102] [42991259-7c31-4904-9920-2c5e47ce55f0] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:06] WARNING  [agent_fsm:1224] [42991259-7c31-4904-9920-2c5e47ce55f0] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:06] ERROR    [agent_fsm:1078] [42991259-7c31-4904-9920-2c5e47ce55f0] --- FSM STATE: ERROR ---
[2025-06-18 12:52:06] ERROR    [agent_fsm:1101] [42991259-7c31-4904-9920-2c5e47ce55f0] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:52:06] ERROR    [agent_fsm:1102] [42991259-7c31-4904-9920-2c5e47ce55f0] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:06] WARNING  [agent_fsm:1224] [42991259-7c31-4904-9920-2c5e47ce55f0] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:06] ERROR    [agent_fsm:1078] [42991259-7c31-4904-9920-2c5e47ce55f0] --- FSM STATE: ERROR ---
[2025-06-18 12:52:06] ERROR    [agent_fsm:1101] [42991259-7c31-4904-9920-2c5e47ce55f0] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:52:06] ERROR    [agent_fsm:1102] [42991259-7c31-4904-9920-2c5e47ce55f0] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:06] WARNING  [agent_fsm:1224] [42991259-7c31-4904-9920-2c5e47ce55f0] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:06] ERROR    [agent_fsm:1078] [42991259-7c31-4904-9920-2c5e47ce55f0] --- FSM STATE: ERROR ---
[2025-06-18 12:52:06] ERROR    [agent_fsm:1101] [42991259-7c31-4904-9920-2c5e47ce55f0] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:52:06] ERROR    [agent_fsm:1102] [42991259-7c31-4904-9920-2c5e47ce55f0] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:06] WARNING  [agent_fsm:1224] [42991259-7c31-4904-9920-2c5e47ce55f0] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:06] ERROR    [agent_fsm:1078] [42991259-7c31-4904-9920-2c5e47ce55f0] --- FSM STATE: ERROR ---
[2025-06-18 12:52:06] ERROR    [agent_fsm:1101] [42991259-7c31-4904-9920-2c5e47ce55f0] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:52:06] ERROR    [agent_fsm:1102] [42991259-7c31-4904-9920-2c5e47ce55f0] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:06] WARNING  [agent_fsm:1224] [42991259-7c31-4904-9920-2c5e47ce55f0] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:06] ERROR    [agent_fsm:1078] [42991259-7c31-4904-9920-2c5e47ce55f0] --- FSM STATE: ERROR ---
[2025-06-18 12:52:06] ERROR    [agent_fsm:1101] [42991259-7c31-4904-9920-2c5e47ce55f0] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:52:06] ERROR    [agent_fsm:1102] [42991259-7c31-4904-9920-2c5e47ce55f0] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:06] WARNING  [agent_fsm:1224] [42991259-7c31-4904-9920-2c5e47ce55f0] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:06] ERROR    [agent_fsm:1078] [42991259-7c31-4904-9920-2c5e47ce55f0] --- FSM STATE: ERROR ---
[2025-06-18 12:52:06] ERROR    [agent_fsm:1101] [42991259-7c31-4904-9920-2c5e47ce55f0] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:52:06] ERROR    [agent_fsm:1102] [42991259-7c31-4904-9920-2c5e47ce55f0] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:06] WARNING  [agent_fsm:1224] [42991259-7c31-4904-9920-2c5e47ce55f0] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:06] ERROR    [agent_fsm:1078] [42991259-7c31-4904-9920-2c5e47ce55f0] --- FSM STATE: ERROR ---
[2025-06-18 12:52:06] ERROR    [agent_fsm:1101] [42991259-7c31-4904-9920-2c5e47ce55f0] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:52:06] ERROR    [agent_fsm:1102] [42991259-7c31-4904-9920-2c5e47ce55f0] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:06] WARNING  [agent_fsm:1224] [42991259-7c31-4904-9920-2c5e47ce55f0] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:06] ERROR    [agent_fsm:1078] [42991259-7c31-4904-9920-2c5e47ce55f0] --- FSM STATE: ERROR ---
[2025-06-18 12:52:06] ERROR    [agent_fsm:1101] [42991259-7c31-4904-9920-2c5e47ce55f0] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:52:06] ERROR    [agent_fsm:1102] [42991259-7c31-4904-9920-2c5e47ce55f0] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:06] WARNING  [agent_fsm:1224] [42991259-7c31-4904-9920-2c5e47ce55f0] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:06] ERROR    [agent_fsm:1078] [42991259-7c31-4904-9920-2c5e47ce55f0] --- FSM STATE: ERROR ---
[2025-06-18 12:52:06] ERROR    [agent_fsm:1101] [42991259-7c31-4904-9920-2c5e47ce55f0] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:52:06] ERROR    [agent_fsm:1102] [42991259-7c31-4904-9920-2c5e47ce55f0] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:06] WARNING  [agent_fsm:1224] [42991259-7c31-4904-9920-2c5e47ce55f0] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:06] ERROR    [agent_fsm:1078] [42991259-7c31-4904-9920-2c5e47ce55f0] --- FSM STATE: ERROR ---
[2025-06-18 12:52:06] ERROR    [agent_fsm:1101] [42991259-7c31-4904-9920-2c5e47ce55f0] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:52:06] ERROR    [agent_fsm:1102] [42991259-7c31-4904-9920-2c5e47ce55f0] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:06] WARNING  [agent_fsm:1224] [42991259-7c31-4904-9920-2c5e47ce55f0] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:06] ERROR    [agent_fsm:1078] [42991259-7c31-4904-9920-2c5e47ce55f0] --- FSM STATE: ERROR ---
[2025-06-18 12:52:06] ERROR    [agent_fsm:1101] [42991259-7c31-4904-9920-2c5e47ce55f0] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:52:06] ERROR    [agent_fsm:1102] [42991259-7c31-4904-9920-2c5e47ce55f0] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:06] WARNING  [agent_fsm:1224] [42991259-7c31-4904-9920-2c5e47ce55f0] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:06] ERROR    [agent_fsm:1078] [42991259-7c31-4904-9920-2c5e47ce55f0] --- FSM STATE: ERROR ---
[2025-06-18 12:52:06] ERROR    [agent_fsm:1101] [42991259-7c31-4904-9920-2c5e47ce55f0] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:52:06] ERROR    [agent_fsm:1102] [42991259-7c31-4904-9920-2c5e47ce55f0] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:06] WARNING  [agent_fsm:1224] [42991259-7c31-4904-9920-2c5e47ce55f0] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:06] ERROR    [agent_fsm:1078] [42991259-7c31-4904-9920-2c5e47ce55f0] --- FSM STATE: ERROR ---
[2025-06-18 12:52:06] ERROR    [agent_fsm:1101] [42991259-7c31-4904-9920-2c5e47ce55f0] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:52:06] ERROR    [agent_fsm:1102] [42991259-7c31-4904-9920-2c5e47ce55f0] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:06] WARNING  [agent_fsm:1224] [42991259-7c31-4904-9920-2c5e47ce55f0] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:06] ERROR    [agent_fsm:1078] [42991259-7c31-4904-9920-2c5e47ce55f0] --- FSM STATE: ERROR ---
[2025-06-18 12:52:06] ERROR    [agent_fsm:1101] [42991259-7c31-4904-9920-2c5e47ce55f0] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:52:06] ERROR    [agent_fsm:1102] [42991259-7c31-4904-9920-2c5e47ce55f0] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:06] WARNING  [agent_fsm:1224] [42991259-7c31-4904-9920-2c5e47ce55f0] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:06] ERROR    [agent_fsm:1078] [42991259-7c31-4904-9920-2c5e47ce55f0] --- FSM STATE: ERROR ---
[2025-06-18 12:52:06] ERROR    [agent_fsm:1101] [42991259-7c31-4904-9920-2c5e47ce55f0] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:52:06] ERROR    [agent_fsm:1102] [42991259-7c31-4904-9920-2c5e47ce55f0] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:06] WARNING  [agent_fsm:1224] [42991259-7c31-4904-9920-2c5e47ce55f0] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:06] ERROR    [agent_fsm:1078] [42991259-7c31-4904-9920-2c5e47ce55f0] --- FSM STATE: ERROR ---
[2025-06-18 12:52:06] ERROR    [agent_fsm:1101] [42991259-7c31-4904-9920-2c5e47ce55f0] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:52:06] ERROR    [agent_fsm:1102] [42991259-7c31-4904-9920-2c5e47ce55f0] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:06] WARNING  [agent_fsm:1224] [42991259-7c31-4904-9920-2c5e47ce55f0] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:06] ERROR    [agent_fsm:1078] [42991259-7c31-4904-9920-2c5e47ce55f0] --- FSM STATE: ERROR ---
[2025-06-18 12:52:06] ERROR    [agent_fsm:1101] [42991259-7c31-4904-9920-2c5e47ce55f0] Error category: GENERAL, Occurrences: 19
[2025-06-18 12:52:06] ERROR    [agent_fsm:1102] [42991259-7c31-4904-9920-2c5e47ce55f0] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:06] WARNING  [agent_fsm:1224] [42991259-7c31-4904-9920-2c5e47ce55f0] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:06] ERROR    [agent_fsm:1837] [42991259-7c31-4904-9920-2c5e47ce55f0] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:52:06] INFO     [agent_fsm:1752] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Starting resilient FSM execution
[2025-06-18 12:52:06] INFO     [agent_fsm:1807] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] FSM STATE: INITIAL
[2025-06-18 12:52:06] INFO     [agent_fsm:665] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:52:06] DEBUG    [agent_fsm:680] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Turn count: 1, Action history length: 1
[2025-06-18 12:52:06] INFO     [agent_fsm:773] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:52:06] INFO     [agent_fsm:820] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Executing tool: web_researcher with input: {'query': 'definition of a leap year', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 12:52:06] INFO     [agent_fsm:922] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Tool execution completed
[2025-06-18 12:52:06] INFO     [agent_fsm:773] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:52:06] WARNING  [agent_fsm:803] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:52:06] INFO     [agent_fsm:665] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:52:06] DEBUG    [agent_fsm:680] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Turn count: 2, Action history length: 2
[2025-06-18 12:52:07] WARNING  [agent_fsm:1521] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:52:07] INFO     [agent_fsm:773] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:52:07] INFO     [agent_fsm:820] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Executing tool: semantic_search_tool with input: {'query': 'characteristics of a leap year', 'filename': 'knowledge_base.csv', 'top_k': 3}
[2025-06-18 12:52:07] INFO     [agent_fsm:922] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Tool execution completed
[2025-06-18 12:52:07] INFO     [agent_fsm:773] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:52:07] WARNING  [agent_fsm:803] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:52:07] INFO     [agent_fsm:665] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:52:07] DEBUG    [agent_fsm:680] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Turn count: 3, Action history length: 3
[2025-06-18 12:52:08] WARNING  [agent_fsm:1224] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:08] ERROR    [agent_fsm:1078] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] --- FSM STATE: ERROR ---
[2025-06-18 12:52:08] ERROR    [agent_fsm:1101] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:52:08] ERROR    [agent_fsm:1102] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:08] WARNING  [agent_fsm:1224] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:08] ERROR    [agent_fsm:1078] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] --- FSM STATE: ERROR ---
[2025-06-18 12:52:08] ERROR    [agent_fsm:1101] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:52:08] ERROR    [agent_fsm:1102] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:08] WARNING  [agent_fsm:1224] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:08] ERROR    [agent_fsm:1078] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] --- FSM STATE: ERROR ---
[2025-06-18 12:52:08] ERROR    [agent_fsm:1101] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:52:08] ERROR    [agent_fsm:1102] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:08] WARNING  [agent_fsm:1224] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:08] ERROR    [agent_fsm:1078] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] --- FSM STATE: ERROR ---
[2025-06-18 12:52:08] ERROR    [agent_fsm:1101] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:52:08] ERROR    [agent_fsm:1102] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:08] WARNING  [agent_fsm:1224] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:08] ERROR    [agent_fsm:1078] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] --- FSM STATE: ERROR ---
[2025-06-18 12:52:08] ERROR    [agent_fsm:1101] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:52:08] ERROR    [agent_fsm:1102] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:08] WARNING  [agent_fsm:1224] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:08] ERROR    [agent_fsm:1078] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] --- FSM STATE: ERROR ---
[2025-06-18 12:52:08] ERROR    [agent_fsm:1101] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:52:08] ERROR    [agent_fsm:1102] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:08] WARNING  [agent_fsm:1224] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:08] ERROR    [agent_fsm:1078] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] --- FSM STATE: ERROR ---
[2025-06-18 12:52:08] ERROR    [agent_fsm:1101] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:52:08] ERROR    [agent_fsm:1102] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:08] WARNING  [agent_fsm:1224] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:08] ERROR    [agent_fsm:1078] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] --- FSM STATE: ERROR ---
[2025-06-18 12:52:08] ERROR    [agent_fsm:1101] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:52:08] ERROR    [agent_fsm:1102] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:08] WARNING  [agent_fsm:1224] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:08] ERROR    [agent_fsm:1078] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] --- FSM STATE: ERROR ---
[2025-06-18 12:52:08] ERROR    [agent_fsm:1101] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:52:08] ERROR    [agent_fsm:1102] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:08] WARNING  [agent_fsm:1224] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:08] ERROR    [agent_fsm:1078] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] --- FSM STATE: ERROR ---
[2025-06-18 12:52:08] ERROR    [agent_fsm:1101] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:52:08] ERROR    [agent_fsm:1102] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:08] WARNING  [agent_fsm:1224] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:08] ERROR    [agent_fsm:1078] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] --- FSM STATE: ERROR ---
[2025-06-18 12:52:08] ERROR    [agent_fsm:1101] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:52:08] ERROR    [agent_fsm:1102] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:08] WARNING  [agent_fsm:1224] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:08] ERROR    [agent_fsm:1078] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] --- FSM STATE: ERROR ---
[2025-06-18 12:52:08] ERROR    [agent_fsm:1101] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:52:08] ERROR    [agent_fsm:1102] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:08] WARNING  [agent_fsm:1224] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:08] ERROR    [agent_fsm:1078] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] --- FSM STATE: ERROR ---
[2025-06-18 12:52:08] ERROR    [agent_fsm:1101] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:52:08] ERROR    [agent_fsm:1102] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:08] WARNING  [agent_fsm:1224] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:08] ERROR    [agent_fsm:1078] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] --- FSM STATE: ERROR ---
[2025-06-18 12:52:08] ERROR    [agent_fsm:1101] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:52:08] ERROR    [agent_fsm:1102] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:08] WARNING  [agent_fsm:1224] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:08] ERROR    [agent_fsm:1078] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] --- FSM STATE: ERROR ---
[2025-06-18 12:52:08] ERROR    [agent_fsm:1101] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:52:08] ERROR    [agent_fsm:1102] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:08] WARNING  [agent_fsm:1224] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:08] ERROR    [agent_fsm:1078] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] --- FSM STATE: ERROR ---
[2025-06-18 12:52:08] ERROR    [agent_fsm:1101] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:52:08] ERROR    [agent_fsm:1102] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:08] WARNING  [agent_fsm:1224] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:08] ERROR    [agent_fsm:1078] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] --- FSM STATE: ERROR ---
[2025-06-18 12:52:08] ERROR    [agent_fsm:1101] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:52:08] ERROR    [agent_fsm:1102] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:08] WARNING  [agent_fsm:1224] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:08] ERROR    [agent_fsm:1078] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] --- FSM STATE: ERROR ---
[2025-06-18 12:52:08] ERROR    [agent_fsm:1101] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:52:08] ERROR    [agent_fsm:1102] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:08] WARNING  [agent_fsm:1224] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:08] ERROR    [agent_fsm:1837] [5af69b7a-7ece-496a-9f17-3b2d610b4ad4] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:52:08] INFO     [agent_fsm:1752] [b7b9ac08-7954-456d-b737-faaf974968d9] Starting resilient FSM execution
[2025-06-18 12:52:08] INFO     [agent_fsm:1807] [b7b9ac08-7954-456d-b737-faaf974968d9] FSM STATE: INITIAL
[2025-06-18 12:52:08] INFO     [agent_fsm:665] [b7b9ac08-7954-456d-b737-faaf974968d9] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:52:08] DEBUG    [agent_fsm:680] [b7b9ac08-7954-456d-b737-faaf974968d9] Turn count: 1, Action history length: 1
[2025-06-18 12:52:09] WARNING  [agent_fsm:1521] [b7b9ac08-7954-456d-b737-faaf974968d9] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:52:09] WARNING  [agent_fsm:1521] [b7b9ac08-7954-456d-b737-faaf974968d9] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:52:09] INFO     [agent_fsm:773] [b7b9ac08-7954-456d-b737-faaf974968d9] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:52:09] INFO     [agent_fsm:820] [b7b9ac08-7954-456d-b737-faaf974968d9] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:52:09] INFO     [agent_fsm:922] [b7b9ac08-7954-456d-b737-faaf974968d9] Tool execution completed
[2025-06-18 12:52:09] INFO     [agent_fsm:773] [b7b9ac08-7954-456d-b737-faaf974968d9] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:52:09] WARNING  [agent_fsm:803] [b7b9ac08-7954-456d-b737-faaf974968d9] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:52:09] INFO     [agent_fsm:665] [b7b9ac08-7954-456d-b737-faaf974968d9] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:52:09] DEBUG    [agent_fsm:680] [b7b9ac08-7954-456d-b737-faaf974968d9] Turn count: 2, Action history length: 2
[2025-06-18 12:52:09] WARNING  [agent_fsm:1521] [b7b9ac08-7954-456d-b737-faaf974968d9] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:52:09] WARNING  [agent_fsm:1521] [b7b9ac08-7954-456d-b737-faaf974968d9] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:52:09] INFO     [agent_fsm:773] [b7b9ac08-7954-456d-b737-faaf974968d9] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:52:09] INFO     [agent_fsm:820] [b7b9ac08-7954-456d-b737-faaf974968d9] Executing tool: python_interpreter with input: {'code': 'print(reversed_word)'}
[2025-06-18 12:52:09] INFO     [agent_fsm:922] [b7b9ac08-7954-456d-b737-faaf974968d9] Tool execution completed
[2025-06-18 12:52:09] INFO     [agent_fsm:773] [b7b9ac08-7954-456d-b737-faaf974968d9] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:52:09] WARNING  [agent_fsm:803] [b7b9ac08-7954-456d-b737-faaf974968d9] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:52:09] INFO     [agent_fsm:665] [b7b9ac08-7954-456d-b737-faaf974968d9] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:52:09] DEBUG    [agent_fsm:680] [b7b9ac08-7954-456d-b737-faaf974968d9] Turn count: 3, Action history length: 3
[2025-06-18 12:52:10] WARNING  [agent_fsm:1521] [b7b9ac08-7954-456d-b737-faaf974968d9] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:52:10] WARNING  [agent_fsm:1224] [b7b9ac08-7954-456d-b737-faaf974968d9] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:10] ERROR    [agent_fsm:1078] [b7b9ac08-7954-456d-b737-faaf974968d9] --- FSM STATE: ERROR ---
[2025-06-18 12:52:10] ERROR    [agent_fsm:1101] [b7b9ac08-7954-456d-b737-faaf974968d9] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:52:10] ERROR    [agent_fsm:1102] [b7b9ac08-7954-456d-b737-faaf974968d9] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:10] WARNING  [agent_fsm:1224] [b7b9ac08-7954-456d-b737-faaf974968d9] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:10] ERROR    [agent_fsm:1078] [b7b9ac08-7954-456d-b737-faaf974968d9] --- FSM STATE: ERROR ---
[2025-06-18 12:52:10] ERROR    [agent_fsm:1101] [b7b9ac08-7954-456d-b737-faaf974968d9] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:52:10] ERROR    [agent_fsm:1102] [b7b9ac08-7954-456d-b737-faaf974968d9] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:10] WARNING  [agent_fsm:1224] [b7b9ac08-7954-456d-b737-faaf974968d9] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:10] ERROR    [agent_fsm:1078] [b7b9ac08-7954-456d-b737-faaf974968d9] --- FSM STATE: ERROR ---
[2025-06-18 12:52:10] ERROR    [agent_fsm:1101] [b7b9ac08-7954-456d-b737-faaf974968d9] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:52:10] ERROR    [agent_fsm:1102] [b7b9ac08-7954-456d-b737-faaf974968d9] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:10] WARNING  [agent_fsm:1224] [b7b9ac08-7954-456d-b737-faaf974968d9] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:10] ERROR    [agent_fsm:1078] [b7b9ac08-7954-456d-b737-faaf974968d9] --- FSM STATE: ERROR ---
[2025-06-18 12:52:10] ERROR    [agent_fsm:1101] [b7b9ac08-7954-456d-b737-faaf974968d9] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:52:10] ERROR    [agent_fsm:1102] [b7b9ac08-7954-456d-b737-faaf974968d9] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:10] WARNING  [agent_fsm:1224] [b7b9ac08-7954-456d-b737-faaf974968d9] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:10] ERROR    [agent_fsm:1078] [b7b9ac08-7954-456d-b737-faaf974968d9] --- FSM STATE: ERROR ---
[2025-06-18 12:52:10] ERROR    [agent_fsm:1101] [b7b9ac08-7954-456d-b737-faaf974968d9] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:52:10] ERROR    [agent_fsm:1102] [b7b9ac08-7954-456d-b737-faaf974968d9] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:10] WARNING  [agent_fsm:1224] [b7b9ac08-7954-456d-b737-faaf974968d9] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:10] ERROR    [agent_fsm:1078] [b7b9ac08-7954-456d-b737-faaf974968d9] --- FSM STATE: ERROR ---
[2025-06-18 12:52:10] ERROR    [agent_fsm:1101] [b7b9ac08-7954-456d-b737-faaf974968d9] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:52:10] ERROR    [agent_fsm:1102] [b7b9ac08-7954-456d-b737-faaf974968d9] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:10] WARNING  [agent_fsm:1224] [b7b9ac08-7954-456d-b737-faaf974968d9] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:10] ERROR    [agent_fsm:1078] [b7b9ac08-7954-456d-b737-faaf974968d9] --- FSM STATE: ERROR ---
[2025-06-18 12:52:10] ERROR    [agent_fsm:1101] [b7b9ac08-7954-456d-b737-faaf974968d9] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:52:10] ERROR    [agent_fsm:1102] [b7b9ac08-7954-456d-b737-faaf974968d9] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:10] WARNING  [agent_fsm:1224] [b7b9ac08-7954-456d-b737-faaf974968d9] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:10] ERROR    [agent_fsm:1078] [b7b9ac08-7954-456d-b737-faaf974968d9] --- FSM STATE: ERROR ---
[2025-06-18 12:52:10] ERROR    [agent_fsm:1101] [b7b9ac08-7954-456d-b737-faaf974968d9] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:52:10] ERROR    [agent_fsm:1102] [b7b9ac08-7954-456d-b737-faaf974968d9] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:10] WARNING  [agent_fsm:1224] [b7b9ac08-7954-456d-b737-faaf974968d9] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:10] ERROR    [agent_fsm:1078] [b7b9ac08-7954-456d-b737-faaf974968d9] --- FSM STATE: ERROR ---
[2025-06-18 12:52:10] ERROR    [agent_fsm:1101] [b7b9ac08-7954-456d-b737-faaf974968d9] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:52:10] ERROR    [agent_fsm:1102] [b7b9ac08-7954-456d-b737-faaf974968d9] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:10] WARNING  [agent_fsm:1224] [b7b9ac08-7954-456d-b737-faaf974968d9] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:10] ERROR    [agent_fsm:1078] [b7b9ac08-7954-456d-b737-faaf974968d9] --- FSM STATE: ERROR ---
[2025-06-18 12:52:10] ERROR    [agent_fsm:1101] [b7b9ac08-7954-456d-b737-faaf974968d9] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:52:10] ERROR    [agent_fsm:1102] [b7b9ac08-7954-456d-b737-faaf974968d9] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:10] WARNING  [agent_fsm:1224] [b7b9ac08-7954-456d-b737-faaf974968d9] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:10] ERROR    [agent_fsm:1078] [b7b9ac08-7954-456d-b737-faaf974968d9] --- FSM STATE: ERROR ---
[2025-06-18 12:52:10] ERROR    [agent_fsm:1101] [b7b9ac08-7954-456d-b737-faaf974968d9] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:52:10] ERROR    [agent_fsm:1102] [b7b9ac08-7954-456d-b737-faaf974968d9] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:10] WARNING  [agent_fsm:1224] [b7b9ac08-7954-456d-b737-faaf974968d9] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:10] ERROR    [agent_fsm:1078] [b7b9ac08-7954-456d-b737-faaf974968d9] --- FSM STATE: ERROR ---
[2025-06-18 12:52:10] ERROR    [agent_fsm:1101] [b7b9ac08-7954-456d-b737-faaf974968d9] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:52:10] ERROR    [agent_fsm:1102] [b7b9ac08-7954-456d-b737-faaf974968d9] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:10] WARNING  [agent_fsm:1224] [b7b9ac08-7954-456d-b737-faaf974968d9] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:10] ERROR    [agent_fsm:1078] [b7b9ac08-7954-456d-b737-faaf974968d9] --- FSM STATE: ERROR ---
[2025-06-18 12:52:10] ERROR    [agent_fsm:1101] [b7b9ac08-7954-456d-b737-faaf974968d9] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:52:10] ERROR    [agent_fsm:1102] [b7b9ac08-7954-456d-b737-faaf974968d9] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:10] WARNING  [agent_fsm:1224] [b7b9ac08-7954-456d-b737-faaf974968d9] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:10] ERROR    [agent_fsm:1078] [b7b9ac08-7954-456d-b737-faaf974968d9] --- FSM STATE: ERROR ---
[2025-06-18 12:52:10] ERROR    [agent_fsm:1101] [b7b9ac08-7954-456d-b737-faaf974968d9] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:52:10] ERROR    [agent_fsm:1102] [b7b9ac08-7954-456d-b737-faaf974968d9] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:10] WARNING  [agent_fsm:1224] [b7b9ac08-7954-456d-b737-faaf974968d9] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:10] ERROR    [agent_fsm:1078] [b7b9ac08-7954-456d-b737-faaf974968d9] --- FSM STATE: ERROR ---
[2025-06-18 12:52:10] ERROR    [agent_fsm:1101] [b7b9ac08-7954-456d-b737-faaf974968d9] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:52:10] ERROR    [agent_fsm:1102] [b7b9ac08-7954-456d-b737-faaf974968d9] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:10] WARNING  [agent_fsm:1224] [b7b9ac08-7954-456d-b737-faaf974968d9] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:10] ERROR    [agent_fsm:1078] [b7b9ac08-7954-456d-b737-faaf974968d9] --- FSM STATE: ERROR ---
[2025-06-18 12:52:10] ERROR    [agent_fsm:1101] [b7b9ac08-7954-456d-b737-faaf974968d9] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:52:10] ERROR    [agent_fsm:1102] [b7b9ac08-7954-456d-b737-faaf974968d9] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:10] WARNING  [agent_fsm:1224] [b7b9ac08-7954-456d-b737-faaf974968d9] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:10] ERROR    [agent_fsm:1078] [b7b9ac08-7954-456d-b737-faaf974968d9] --- FSM STATE: ERROR ---
[2025-06-18 12:52:10] ERROR    [agent_fsm:1101] [b7b9ac08-7954-456d-b737-faaf974968d9] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:52:10] ERROR    [agent_fsm:1102] [b7b9ac08-7954-456d-b737-faaf974968d9] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:10] WARNING  [agent_fsm:1224] [b7b9ac08-7954-456d-b737-faaf974968d9] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:10] ERROR    [agent_fsm:1078] [b7b9ac08-7954-456d-b737-faaf974968d9] --- FSM STATE: ERROR ---
[2025-06-18 12:52:10] ERROR    [agent_fsm:1101] [b7b9ac08-7954-456d-b737-faaf974968d9] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:52:10] ERROR    [agent_fsm:1102] [b7b9ac08-7954-456d-b737-faaf974968d9] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:10] WARNING  [agent_fsm:1224] [b7b9ac08-7954-456d-b737-faaf974968d9] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:10] ERROR    [agent_fsm:1837] [b7b9ac08-7954-456d-b737-faaf974968d9] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:52:10] INFO     [agent_fsm:1752] [5e526967-4939-495f-9866-583d0bc3970f] Starting resilient FSM execution
[2025-06-18 12:52:10] INFO     [agent_fsm:1807] [5e526967-4939-495f-9866-583d0bc3970f] FSM STATE: INITIAL
[2025-06-18 12:52:10] INFO     [agent_fsm:665] [5e526967-4939-495f-9866-583d0bc3970f] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:52:10] DEBUG    [agent_fsm:680] [5e526967-4939-495f-9866-583d0bc3970f] Turn count: 1, Action history length: 1
[2025-06-18 12:52:11] WARNING  [agent_fsm:1521] [5e526967-4939-495f-9866-583d0bc3970f] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:52:11] WARNING  [agent_fsm:1521] [5e526967-4939-495f-9866-583d0bc3970f] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:52:11] WARNING  [agent_fsm:1521] [5e526967-4939-495f-9866-583d0bc3970f] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:52:11] INFO     [agent_fsm:773] [5e526967-4939-495f-9866-583d0bc3970f] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:52:11] INFO     [agent_fsm:820] [5e526967-4939-495f-9866-583d0bc3970f] Executing tool: web_researcher with input: {'query': 'largest planet in our solar system', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 12:52:11] INFO     [agent_fsm:922] [5e526967-4939-495f-9866-583d0bc3970f] Tool execution completed
[2025-06-18 12:52:11] INFO     [agent_fsm:773] [5e526967-4939-495f-9866-583d0bc3970f] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:52:11] WARNING  [agent_fsm:803] [5e526967-4939-495f-9866-583d0bc3970f] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:52:11] INFO     [agent_fsm:665] [5e526967-4939-495f-9866-583d0bc3970f] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:52:11] DEBUG    [agent_fsm:680] [5e526967-4939-495f-9866-583d0bc3970f] Turn count: 2, Action history length: 2
[2025-06-18 12:52:12] WARNING  [agent_fsm:1521] [5e526967-4939-495f-9866-583d0bc3970f] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:52:12] WARNING  [agent_fsm:1521] [5e526967-4939-495f-9866-583d0bc3970f] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:52:12] WARNING  [agent_fsm:1521] [5e526967-4939-495f-9866-583d0bc3970f] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:52:12] INFO     [agent_fsm:773] [5e526967-4939-495f-9866-583d0bc3970f] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:52:12] INFO     [agent_fsm:820] [5e526967-4939-495f-9866-583d0bc3970f] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:52:12] INFO     [agent_fsm:922] [5e526967-4939-495f-9866-583d0bc3970f] Tool execution completed
[2025-06-18 12:52:12] INFO     [agent_fsm:773] [5e526967-4939-495f-9866-583d0bc3970f] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:52:12] WARNING  [agent_fsm:803] [5e526967-4939-495f-9866-583d0bc3970f] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:52:12] INFO     [agent_fsm:665] [5e526967-4939-495f-9866-583d0bc3970f] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:52:12] DEBUG    [agent_fsm:680] [5e526967-4939-495f-9866-583d0bc3970f] Turn count: 3, Action history length: 3
[2025-06-18 12:52:12] WARNING  [agent_fsm:1521] [5e526967-4939-495f-9866-583d0bc3970f] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:52:12] WARNING  [agent_fsm:1521] [5e526967-4939-495f-9866-583d0bc3970f] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:52:12] WARNING  [agent_fsm:1521] [5e526967-4939-495f-9866-583d0bc3970f] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:52:12] WARNING  [agent_fsm:1224] [5e526967-4939-495f-9866-583d0bc3970f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:12] ERROR    [agent_fsm:1078] [5e526967-4939-495f-9866-583d0bc3970f] --- FSM STATE: ERROR ---
[2025-06-18 12:52:12] ERROR    [agent_fsm:1101] [5e526967-4939-495f-9866-583d0bc3970f] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:52:12] ERROR    [agent_fsm:1102] [5e526967-4939-495f-9866-583d0bc3970f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:12] WARNING  [agent_fsm:1224] [5e526967-4939-495f-9866-583d0bc3970f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:12] ERROR    [agent_fsm:1078] [5e526967-4939-495f-9866-583d0bc3970f] --- FSM STATE: ERROR ---
[2025-06-18 12:52:12] ERROR    [agent_fsm:1101] [5e526967-4939-495f-9866-583d0bc3970f] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:52:12] ERROR    [agent_fsm:1102] [5e526967-4939-495f-9866-583d0bc3970f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:12] WARNING  [agent_fsm:1224] [5e526967-4939-495f-9866-583d0bc3970f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:12] ERROR    [agent_fsm:1078] [5e526967-4939-495f-9866-583d0bc3970f] --- FSM STATE: ERROR ---
[2025-06-18 12:52:12] ERROR    [agent_fsm:1101] [5e526967-4939-495f-9866-583d0bc3970f] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:52:12] ERROR    [agent_fsm:1102] [5e526967-4939-495f-9866-583d0bc3970f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:12] WARNING  [agent_fsm:1224] [5e526967-4939-495f-9866-583d0bc3970f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:12] ERROR    [agent_fsm:1078] [5e526967-4939-495f-9866-583d0bc3970f] --- FSM STATE: ERROR ---
[2025-06-18 12:52:12] ERROR    [agent_fsm:1101] [5e526967-4939-495f-9866-583d0bc3970f] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:52:12] ERROR    [agent_fsm:1102] [5e526967-4939-495f-9866-583d0bc3970f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:12] WARNING  [agent_fsm:1224] [5e526967-4939-495f-9866-583d0bc3970f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:12] ERROR    [agent_fsm:1078] [5e526967-4939-495f-9866-583d0bc3970f] --- FSM STATE: ERROR ---
[2025-06-18 12:52:12] ERROR    [agent_fsm:1101] [5e526967-4939-495f-9866-583d0bc3970f] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:52:12] ERROR    [agent_fsm:1102] [5e526967-4939-495f-9866-583d0bc3970f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:12] WARNING  [agent_fsm:1224] [5e526967-4939-495f-9866-583d0bc3970f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:12] ERROR    [agent_fsm:1078] [5e526967-4939-495f-9866-583d0bc3970f] --- FSM STATE: ERROR ---
[2025-06-18 12:52:12] ERROR    [agent_fsm:1101] [5e526967-4939-495f-9866-583d0bc3970f] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:52:12] ERROR    [agent_fsm:1102] [5e526967-4939-495f-9866-583d0bc3970f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:12] WARNING  [agent_fsm:1224] [5e526967-4939-495f-9866-583d0bc3970f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:12] ERROR    [agent_fsm:1078] [5e526967-4939-495f-9866-583d0bc3970f] --- FSM STATE: ERROR ---
[2025-06-18 12:52:12] ERROR    [agent_fsm:1101] [5e526967-4939-495f-9866-583d0bc3970f] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:52:12] ERROR    [agent_fsm:1102] [5e526967-4939-495f-9866-583d0bc3970f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:12] WARNING  [agent_fsm:1224] [5e526967-4939-495f-9866-583d0bc3970f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:12] ERROR    [agent_fsm:1078] [5e526967-4939-495f-9866-583d0bc3970f] --- FSM STATE: ERROR ---
[2025-06-18 12:52:12] ERROR    [agent_fsm:1101] [5e526967-4939-495f-9866-583d0bc3970f] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:52:12] ERROR    [agent_fsm:1102] [5e526967-4939-495f-9866-583d0bc3970f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:12] WARNING  [agent_fsm:1224] [5e526967-4939-495f-9866-583d0bc3970f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:12] ERROR    [agent_fsm:1078] [5e526967-4939-495f-9866-583d0bc3970f] --- FSM STATE: ERROR ---
[2025-06-18 12:52:12] ERROR    [agent_fsm:1101] [5e526967-4939-495f-9866-583d0bc3970f] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:52:12] ERROR    [agent_fsm:1102] [5e526967-4939-495f-9866-583d0bc3970f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:12] WARNING  [agent_fsm:1224] [5e526967-4939-495f-9866-583d0bc3970f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:12] ERROR    [agent_fsm:1078] [5e526967-4939-495f-9866-583d0bc3970f] --- FSM STATE: ERROR ---
[2025-06-18 12:52:12] ERROR    [agent_fsm:1101] [5e526967-4939-495f-9866-583d0bc3970f] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:52:12] ERROR    [agent_fsm:1102] [5e526967-4939-495f-9866-583d0bc3970f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:12] WARNING  [agent_fsm:1224] [5e526967-4939-495f-9866-583d0bc3970f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:12] ERROR    [agent_fsm:1078] [5e526967-4939-495f-9866-583d0bc3970f] --- FSM STATE: ERROR ---
[2025-06-18 12:52:12] ERROR    [agent_fsm:1101] [5e526967-4939-495f-9866-583d0bc3970f] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:52:12] ERROR    [agent_fsm:1102] [5e526967-4939-495f-9866-583d0bc3970f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:12] WARNING  [agent_fsm:1224] [5e526967-4939-495f-9866-583d0bc3970f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:12] ERROR    [agent_fsm:1078] [5e526967-4939-495f-9866-583d0bc3970f] --- FSM STATE: ERROR ---
[2025-06-18 12:52:12] ERROR    [agent_fsm:1101] [5e526967-4939-495f-9866-583d0bc3970f] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:52:12] ERROR    [agent_fsm:1102] [5e526967-4939-495f-9866-583d0bc3970f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:12] WARNING  [agent_fsm:1224] [5e526967-4939-495f-9866-583d0bc3970f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:12] ERROR    [agent_fsm:1078] [5e526967-4939-495f-9866-583d0bc3970f] --- FSM STATE: ERROR ---
[2025-06-18 12:52:12] ERROR    [agent_fsm:1101] [5e526967-4939-495f-9866-583d0bc3970f] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:52:12] ERROR    [agent_fsm:1102] [5e526967-4939-495f-9866-583d0bc3970f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:12] WARNING  [agent_fsm:1224] [5e526967-4939-495f-9866-583d0bc3970f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:12] ERROR    [agent_fsm:1078] [5e526967-4939-495f-9866-583d0bc3970f] --- FSM STATE: ERROR ---
[2025-06-18 12:52:12] ERROR    [agent_fsm:1101] [5e526967-4939-495f-9866-583d0bc3970f] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:52:12] ERROR    [agent_fsm:1102] [5e526967-4939-495f-9866-583d0bc3970f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:12] WARNING  [agent_fsm:1224] [5e526967-4939-495f-9866-583d0bc3970f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:12] ERROR    [agent_fsm:1078] [5e526967-4939-495f-9866-583d0bc3970f] --- FSM STATE: ERROR ---
[2025-06-18 12:52:12] ERROR    [agent_fsm:1101] [5e526967-4939-495f-9866-583d0bc3970f] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:52:12] ERROR    [agent_fsm:1102] [5e526967-4939-495f-9866-583d0bc3970f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:12] WARNING  [agent_fsm:1224] [5e526967-4939-495f-9866-583d0bc3970f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:12] ERROR    [agent_fsm:1078] [5e526967-4939-495f-9866-583d0bc3970f] --- FSM STATE: ERROR ---
[2025-06-18 12:52:12] ERROR    [agent_fsm:1101] [5e526967-4939-495f-9866-583d0bc3970f] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:52:12] ERROR    [agent_fsm:1102] [5e526967-4939-495f-9866-583d0bc3970f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:12] WARNING  [agent_fsm:1224] [5e526967-4939-495f-9866-583d0bc3970f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:12] ERROR    [agent_fsm:1078] [5e526967-4939-495f-9866-583d0bc3970f] --- FSM STATE: ERROR ---
[2025-06-18 12:52:12] ERROR    [agent_fsm:1101] [5e526967-4939-495f-9866-583d0bc3970f] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:52:12] ERROR    [agent_fsm:1102] [5e526967-4939-495f-9866-583d0bc3970f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:12] WARNING  [agent_fsm:1224] [5e526967-4939-495f-9866-583d0bc3970f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:12] ERROR    [agent_fsm:1078] [5e526967-4939-495f-9866-583d0bc3970f] --- FSM STATE: ERROR ---
[2025-06-18 12:52:12] ERROR    [agent_fsm:1101] [5e526967-4939-495f-9866-583d0bc3970f] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:52:12] ERROR    [agent_fsm:1102] [5e526967-4939-495f-9866-583d0bc3970f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:12] WARNING  [agent_fsm:1224] [5e526967-4939-495f-9866-583d0bc3970f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:12] ERROR    [agent_fsm:1837] [5e526967-4939-495f-9866-583d0bc3970f] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:52:12] INFO     [agent_fsm:1752] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Starting resilient FSM execution
[2025-06-18 12:52:12] INFO     [agent_fsm:1807] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] FSM STATE: INITIAL
[2025-06-18 12:52:12] INFO     [agent_fsm:665] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:52:12] DEBUG    [agent_fsm:680] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Turn count: 1, Action history length: 1
[2025-06-18 12:52:13] INFO     [agent_fsm:773] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:52:13] INFO     [agent_fsm:820] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Executing tool: web_researcher with input: {'query': 'extract video URL from googleusercontent.com/costa-rica/birds', 'date_range': None, 'search_type': 'general', 'source': 'search'}
[2025-06-18 12:52:13] INFO     [agent_fsm:922] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Tool execution completed
[2025-06-18 12:52:13] INFO     [agent_fsm:773] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:52:13] WARNING  [agent_fsm:803] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:52:13] INFO     [agent_fsm:665] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:52:13] DEBUG    [agent_fsm:680] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Turn count: 2, Action history length: 2
[2025-06-18 12:52:14] WARNING  [agent_fsm:1521] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:52:14] WARNING  [agent_fsm:1521] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:52:14] WARNING  [agent_fsm:1521] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:52:14] INFO     [agent_fsm:773] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:52:14] INFO     [agent_fsm:820] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Executing tool: gaia_video_analyzer with input: {'video_url': 'value from Step 1'}
[2025-06-18 12:52:14] INFO     [agent_fsm:922] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Tool execution completed
[2025-06-18 12:52:14] INFO     [agent_fsm:773] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:52:14] WARNING  [agent_fsm:803] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:52:14] INFO     [agent_fsm:665] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:52:14] DEBUG    [agent_fsm:680] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Turn count: 3, Action history length: 3
[2025-06-18 12:52:15] WARNING  [agent_fsm:1521] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:52:15] WARNING  [agent_fsm:1521] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:52:15] WARNING  [agent_fsm:1224] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:15] ERROR    [agent_fsm:1078] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] --- FSM STATE: ERROR ---
[2025-06-18 12:52:15] ERROR    [agent_fsm:1101] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:52:15] ERROR    [agent_fsm:1102] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:15] WARNING  [agent_fsm:1224] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:15] ERROR    [agent_fsm:1078] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] --- FSM STATE: ERROR ---
[2025-06-18 12:52:15] ERROR    [agent_fsm:1101] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:52:15] ERROR    [agent_fsm:1102] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:15] WARNING  [agent_fsm:1224] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:15] ERROR    [agent_fsm:1078] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] --- FSM STATE: ERROR ---
[2025-06-18 12:52:15] ERROR    [agent_fsm:1101] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:52:15] ERROR    [agent_fsm:1102] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:15] WARNING  [agent_fsm:1224] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:15] ERROR    [agent_fsm:1078] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] --- FSM STATE: ERROR ---
[2025-06-18 12:52:15] ERROR    [agent_fsm:1101] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:52:15] ERROR    [agent_fsm:1102] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:15] WARNING  [agent_fsm:1224] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:15] ERROR    [agent_fsm:1078] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] --- FSM STATE: ERROR ---
[2025-06-18 12:52:15] ERROR    [agent_fsm:1101] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:52:15] ERROR    [agent_fsm:1102] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:15] WARNING  [agent_fsm:1224] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:15] ERROR    [agent_fsm:1078] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] --- FSM STATE: ERROR ---
[2025-06-18 12:52:15] ERROR    [agent_fsm:1101] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:52:15] ERROR    [agent_fsm:1102] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:15] WARNING  [agent_fsm:1224] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:15] ERROR    [agent_fsm:1078] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] --- FSM STATE: ERROR ---
[2025-06-18 12:52:15] ERROR    [agent_fsm:1101] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:52:15] ERROR    [agent_fsm:1102] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:15] WARNING  [agent_fsm:1224] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:15] ERROR    [agent_fsm:1078] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] --- FSM STATE: ERROR ---
[2025-06-18 12:52:15] ERROR    [agent_fsm:1101] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:52:15] ERROR    [agent_fsm:1102] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:15] WARNING  [agent_fsm:1224] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:15] ERROR    [agent_fsm:1078] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] --- FSM STATE: ERROR ---
[2025-06-18 12:52:15] ERROR    [agent_fsm:1101] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:52:15] ERROR    [agent_fsm:1102] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:15] WARNING  [agent_fsm:1224] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:15] ERROR    [agent_fsm:1078] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] --- FSM STATE: ERROR ---
[2025-06-18 12:52:15] ERROR    [agent_fsm:1101] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:52:15] ERROR    [agent_fsm:1102] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:15] WARNING  [agent_fsm:1224] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:15] ERROR    [agent_fsm:1078] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] --- FSM STATE: ERROR ---
[2025-06-18 12:52:15] ERROR    [agent_fsm:1101] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:52:15] ERROR    [agent_fsm:1102] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:15] WARNING  [agent_fsm:1224] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:15] ERROR    [agent_fsm:1078] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] --- FSM STATE: ERROR ---
[2025-06-18 12:52:15] ERROR    [agent_fsm:1101] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:52:15] ERROR    [agent_fsm:1102] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:15] WARNING  [agent_fsm:1224] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:15] ERROR    [agent_fsm:1078] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] --- FSM STATE: ERROR ---
[2025-06-18 12:52:15] ERROR    [agent_fsm:1101] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:52:15] ERROR    [agent_fsm:1102] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:15] WARNING  [agent_fsm:1224] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:15] ERROR    [agent_fsm:1078] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] --- FSM STATE: ERROR ---
[2025-06-18 12:52:15] ERROR    [agent_fsm:1101] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:52:15] ERROR    [agent_fsm:1102] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:15] WARNING  [agent_fsm:1224] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:15] ERROR    [agent_fsm:1078] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] --- FSM STATE: ERROR ---
[2025-06-18 12:52:15] ERROR    [agent_fsm:1101] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:52:15] ERROR    [agent_fsm:1102] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:15] WARNING  [agent_fsm:1224] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:15] ERROR    [agent_fsm:1078] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] --- FSM STATE: ERROR ---
[2025-06-18 12:52:15] ERROR    [agent_fsm:1101] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:52:15] ERROR    [agent_fsm:1102] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:15] WARNING  [agent_fsm:1224] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:15] ERROR    [agent_fsm:1078] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] --- FSM STATE: ERROR ---
[2025-06-18 12:52:15] ERROR    [agent_fsm:1101] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:52:15] ERROR    [agent_fsm:1102] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:15] WARNING  [agent_fsm:1224] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:15] ERROR    [agent_fsm:1078] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] --- FSM STATE: ERROR ---
[2025-06-18 12:52:15] ERROR    [agent_fsm:1101] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:52:15] ERROR    [agent_fsm:1102] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:15] WARNING  [agent_fsm:1224] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:15] ERROR    [agent_fsm:1837] [6a307a0a-9f6a-46db-b95b-4b353357f4ce] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:52:15] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 12:52:15] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 12:52:15] INFO     [agent_fsm:570] [99cf3f22-6658-444f-aa32-3c567787fd5a] Building resilient FSM graph
[2025-06-18 12:52:15] INFO     [agent_fsm:572] [99cf3f22-6658-444f-aa32-3c567787fd5a] FSMReActAgent graph built successfully
[2025-06-18 12:52:15] INFO     [agent_fsm:1752] [60076301-e83f-4c31-9767-8cddf696c382] Starting resilient FSM execution
[2025-06-18 12:52:15] INFO     [agent_fsm:1807] [60076301-e83f-4c31-9767-8cddf696c382] FSM STATE: INITIAL
[2025-06-18 12:52:15] INFO     [agent_fsm:665] [60076301-e83f-4c31-9767-8cddf696c382] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:52:15] DEBUG    [agent_fsm:680] [60076301-e83f-4c31-9767-8cddf696c382] Turn count: 1, Action history length: 1
[2025-06-18 12:52:16] WARNING  [agent_fsm:1521] [60076301-e83f-4c31-9767-8cddf696c382] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:52:16] WARNING  [agent_fsm:1521] [60076301-e83f-4c31-9767-8cddf696c382] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:52:16] WARNING  [agent_fsm:1521] [60076301-e83f-4c31-9767-8cddf696c382] Failed to parse JSON parameters for step 8, using fallback parser
[2025-06-18 12:52:16] WARNING  [agent_fsm:1521] [60076301-e83f-4c31-9767-8cddf696c382] Failed to parse JSON parameters for step 10, using fallback parser
[2025-06-18 12:52:16] INFO     [agent_fsm:773] [60076301-e83f-4c31-9767-8cddf696c382] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:52:16] INFO     [agent_fsm:820] [60076301-e83f-4c31-9767-8cddf696c382] Executing tool: advanced_file_reader with input: {'filename': 'path/to/attached_excel_file.xlsx'}
[2025-06-18 12:52:16] INFO     [agent_fsm:922] [60076301-e83f-4c31-9767-8cddf696c382] Tool execution completed
[2025-06-18 12:52:16] INFO     [agent_fsm:773] [60076301-e83f-4c31-9767-8cddf696c382] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:52:16] WARNING  [agent_fsm:803] [60076301-e83f-4c31-9767-8cddf696c382] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:52:16] INFO     [agent_fsm:665] [60076301-e83f-4c31-9767-8cddf696c382] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:52:16] DEBUG    [agent_fsm:680] [60076301-e83f-4c31-9767-8cddf696c382] Turn count: 2, Action history length: 2
[2025-06-18 12:52:17] INFO     [agent_fsm:955] [60076301-e83f-4c31-9767-8cddf696c382] --- FSM STATE: SYNTHESIZING ---
[2025-06-18 12:52:18] INFO     [agent_fsm:1018] [60076301-e83f-4c31-9767-8cddf696c382] --- FSM STATE: VERIFYING ---
[2025-06-18 12:52:18] INFO     [agent_fsm:1819] [60076301-e83f-4c31-9767-8cddf696c382] FSM execution completed successfully
[2025-06-18 12:52:18] INFO     [agent_fsm:1752] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Starting resilient FSM execution
[2025-06-18 12:52:18] INFO     [agent_fsm:1807] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] FSM STATE: INITIAL
[2025-06-18 12:52:18] INFO     [agent_fsm:665] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:52:18] DEBUG    [agent_fsm:680] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Turn count: 1, Action history length: 1
[2025-06-18 12:52:19] WARNING  [agent_fsm:1333] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Tool image_analyzer not found in registry, will use stub
[2025-06-18 12:52:19] INFO     [agent_fsm:773] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:52:19] INFO     [agent_fsm:820] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Executing tool: video_analyzer with input: {'url': 'https://example.com/video.mp4', 'action': 'download_info'}
[2025-06-18 12:52:19] INFO     [agent_fsm:922] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Tool execution completed
[2025-06-18 12:52:19] INFO     [agent_fsm:773] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:52:19] WARNING  [agent_fsm:803] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:52:19] INFO     [agent_fsm:665] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:52:19] DEBUG    [agent_fsm:680] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Turn count: 2, Action history length: 2
[2025-06-18 12:52:20] WARNING  [agent_fsm:1521] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:52:20] WARNING  [agent_fsm:1333] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Tool chosen_video_analyzer not found in registry, will use stub
[2025-06-18 12:52:20] INFO     [agent_fsm:773] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:52:20] INFO     [agent_fsm:820] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:52:20] INFO     [agent_fsm:922] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Tool execution completed
[2025-06-18 12:52:20] INFO     [agent_fsm:773] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:52:20] WARNING  [agent_fsm:803] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:52:20] INFO     [agent_fsm:665] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:52:20] DEBUG    [agent_fsm:680] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Turn count: 3, Action history length: 3
[2025-06-18 12:52:22] WARNING  [agent_fsm:1521] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:52:22] WARNING  [agent_fsm:1224] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:22] ERROR    [agent_fsm:1078] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] --- FSM STATE: ERROR ---
[2025-06-18 12:52:22] ERROR    [agent_fsm:1101] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:52:22] ERROR    [agent_fsm:1102] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:22] WARNING  [agent_fsm:1224] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:22] ERROR    [agent_fsm:1078] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] --- FSM STATE: ERROR ---
[2025-06-18 12:52:22] ERROR    [agent_fsm:1101] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:52:22] ERROR    [agent_fsm:1102] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:22] WARNING  [agent_fsm:1224] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:22] ERROR    [agent_fsm:1078] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] --- FSM STATE: ERROR ---
[2025-06-18 12:52:22] ERROR    [agent_fsm:1101] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:52:22] ERROR    [agent_fsm:1102] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:22] WARNING  [agent_fsm:1224] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:22] ERROR    [agent_fsm:1078] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] --- FSM STATE: ERROR ---
[2025-06-18 12:52:22] ERROR    [agent_fsm:1101] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:52:22] ERROR    [agent_fsm:1102] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:22] WARNING  [agent_fsm:1224] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:22] ERROR    [agent_fsm:1078] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] --- FSM STATE: ERROR ---
[2025-06-18 12:52:22] ERROR    [agent_fsm:1101] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:52:22] ERROR    [agent_fsm:1102] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:22] WARNING  [agent_fsm:1224] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:22] ERROR    [agent_fsm:1078] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] --- FSM STATE: ERROR ---
[2025-06-18 12:52:22] ERROR    [agent_fsm:1101] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:52:22] ERROR    [agent_fsm:1102] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:22] WARNING  [agent_fsm:1224] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:22] ERROR    [agent_fsm:1078] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] --- FSM STATE: ERROR ---
[2025-06-18 12:52:22] ERROR    [agent_fsm:1101] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:52:22] ERROR    [agent_fsm:1102] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:22] WARNING  [agent_fsm:1224] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:22] ERROR    [agent_fsm:1078] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] --- FSM STATE: ERROR ---
[2025-06-18 12:52:22] ERROR    [agent_fsm:1101] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:52:22] ERROR    [agent_fsm:1102] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:22] WARNING  [agent_fsm:1224] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:22] ERROR    [agent_fsm:1078] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] --- FSM STATE: ERROR ---
[2025-06-18 12:52:22] ERROR    [agent_fsm:1101] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:52:22] ERROR    [agent_fsm:1102] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:22] WARNING  [agent_fsm:1224] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:22] ERROR    [agent_fsm:1078] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] --- FSM STATE: ERROR ---
[2025-06-18 12:52:22] ERROR    [agent_fsm:1101] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:52:22] ERROR    [agent_fsm:1102] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:22] WARNING  [agent_fsm:1224] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:22] ERROR    [agent_fsm:1078] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] --- FSM STATE: ERROR ---
[2025-06-18 12:52:22] ERROR    [agent_fsm:1101] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:52:22] ERROR    [agent_fsm:1102] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:22] WARNING  [agent_fsm:1224] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:22] ERROR    [agent_fsm:1078] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] --- FSM STATE: ERROR ---
[2025-06-18 12:52:22] ERROR    [agent_fsm:1101] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:52:22] ERROR    [agent_fsm:1102] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:22] WARNING  [agent_fsm:1224] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:22] ERROR    [agent_fsm:1078] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] --- FSM STATE: ERROR ---
[2025-06-18 12:52:22] ERROR    [agent_fsm:1101] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:52:22] ERROR    [agent_fsm:1102] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:22] WARNING  [agent_fsm:1224] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:22] ERROR    [agent_fsm:1078] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] --- FSM STATE: ERROR ---
[2025-06-18 12:52:22] ERROR    [agent_fsm:1101] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:52:22] ERROR    [agent_fsm:1102] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:22] WARNING  [agent_fsm:1224] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:22] ERROR    [agent_fsm:1078] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] --- FSM STATE: ERROR ---
[2025-06-18 12:52:22] ERROR    [agent_fsm:1101] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:52:22] ERROR    [agent_fsm:1102] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:22] WARNING  [agent_fsm:1224] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:22] ERROR    [agent_fsm:1078] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] --- FSM STATE: ERROR ---
[2025-06-18 12:52:22] ERROR    [agent_fsm:1101] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:52:22] ERROR    [agent_fsm:1102] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:22] WARNING  [agent_fsm:1224] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:22] ERROR    [agent_fsm:1078] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] --- FSM STATE: ERROR ---
[2025-06-18 12:52:22] ERROR    [agent_fsm:1101] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:52:22] ERROR    [agent_fsm:1102] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:22] WARNING  [agent_fsm:1224] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:22] ERROR    [agent_fsm:1078] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] --- FSM STATE: ERROR ---
[2025-06-18 12:52:22] ERROR    [agent_fsm:1101] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:52:22] ERROR    [agent_fsm:1102] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:22] WARNING  [agent_fsm:1224] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:22] ERROR    [agent_fsm:1837] [0a29296b-c2ea-4d06-ba1f-b846a0a2c1b2] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:52:22] INFO     [agent_fsm:1752] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Starting resilient FSM execution
[2025-06-18 12:52:22] INFO     [agent_fsm:1807] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] FSM STATE: INITIAL
[2025-06-18 12:52:22] INFO     [agent_fsm:665] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:52:22] DEBUG    [agent_fsm:680] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Turn count: 1, Action history length: 1
[2025-06-18 12:52:23] WARNING  [agent_fsm:1521] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:52:23] WARNING  [agent_fsm:1521] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:52:23] INFO     [agent_fsm:773] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:52:23] INFO     [agent_fsm:820] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:52:23] INFO     [agent_fsm:922] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Tool execution completed
[2025-06-18 12:52:23] INFO     [agent_fsm:773] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:52:23] WARNING  [agent_fsm:803] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:52:23] INFO     [agent_fsm:665] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:52:23] DEBUG    [agent_fsm:680] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Turn count: 2, Action history length: 2
[2025-06-18 12:52:24] INFO     [agent_fsm:955] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] --- FSM STATE: SYNTHESIZING ---
[2025-06-18 12:52:24] ERROR    [agent_fsm:1010] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Error in synthesizing node: Error code: 400 - {'error': {'message': "Failed to call a function. Please adjust your prompt. See 'failed_generation' for more details.", 'type': 'invalid_request_error', 'code': 'tool_use_failed', 'failed_generation': '<function=FinalStringAnswer>answer="4"</function>'}}
[2025-06-18 12:52:24] ERROR    [agent_fsm:1078] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] --- FSM STATE: ERROR ---
[2025-06-18 12:52:24] ERROR    [agent_fsm:1101] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Error category: TOOL_VALIDATION, Occurrences: 1
[2025-06-18 12:52:24] ERROR    [agent_fsm:1102] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Errors: ['Error code: 400 - {\'error\': {\'message\': "Failed to call a function. Please adjust your prompt. See \'failed_generation\' for more details.", \'type\': \'invalid_request_error\', \'code\': \'tool_use_failed\', \'failed_generation\': \'<function=FinalStringAnswer>answer="4"</function>\'}}']
[2025-06-18 12:52:24] INFO     [agent_fsm:665] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:52:24] DEBUG    [agent_fsm:680] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Turn count: 3, Action history length: 3
[2025-06-18 12:52:25] WARNING  [agent_fsm:1224] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:25] ERROR    [agent_fsm:1078] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] --- FSM STATE: ERROR ---
[2025-06-18 12:52:25] ERROR    [agent_fsm:1101] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Error category: TOOL_VALIDATION, Occurrences: 2
[2025-06-18 12:52:25] ERROR    [agent_fsm:1102] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:52:25] WARNING  [agent_fsm:1224] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:25] ERROR    [agent_fsm:1078] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] --- FSM STATE: ERROR ---
[2025-06-18 12:52:25] ERROR    [agent_fsm:1101] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Error category: TOOL_VALIDATION, Occurrences: 3
[2025-06-18 12:52:25] ERROR    [agent_fsm:1102] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:52:25] WARNING  [agent_fsm:1224] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:25] ERROR    [agent_fsm:1078] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] --- FSM STATE: ERROR ---
[2025-06-18 12:52:25] ERROR    [agent_fsm:1101] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Error category: TOOL_VALIDATION, Occurrences: 4
[2025-06-18 12:52:25] ERROR    [agent_fsm:1102] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:52:25] WARNING  [agent_fsm:1224] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:25] ERROR    [agent_fsm:1078] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] --- FSM STATE: ERROR ---
[2025-06-18 12:52:25] ERROR    [agent_fsm:1101] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Error category: TOOL_VALIDATION, Occurrences: 5
[2025-06-18 12:52:25] ERROR    [agent_fsm:1102] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:52:25] WARNING  [agent_fsm:1224] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:25] ERROR    [agent_fsm:1078] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] --- FSM STATE: ERROR ---
[2025-06-18 12:52:25] ERROR    [agent_fsm:1101] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Error category: TOOL_VALIDATION, Occurrences: 6
[2025-06-18 12:52:25] ERROR    [agent_fsm:1102] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:52:25] WARNING  [agent_fsm:1224] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:25] ERROR    [agent_fsm:1078] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] --- FSM STATE: ERROR ---
[2025-06-18 12:52:25] ERROR    [agent_fsm:1101] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Error category: TOOL_VALIDATION, Occurrences: 7
[2025-06-18 12:52:25] ERROR    [agent_fsm:1102] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:52:25] WARNING  [agent_fsm:1224] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:25] ERROR    [agent_fsm:1078] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] --- FSM STATE: ERROR ---
[2025-06-18 12:52:25] ERROR    [agent_fsm:1101] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Error category: TOOL_VALIDATION, Occurrences: 8
[2025-06-18 12:52:25] ERROR    [agent_fsm:1102] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:52:25] WARNING  [agent_fsm:1224] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:25] ERROR    [agent_fsm:1078] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] --- FSM STATE: ERROR ---
[2025-06-18 12:52:25] ERROR    [agent_fsm:1101] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Error category: TOOL_VALIDATION, Occurrences: 9
[2025-06-18 12:52:25] ERROR    [agent_fsm:1102] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:52:25] WARNING  [agent_fsm:1224] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:25] ERROR    [agent_fsm:1078] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] --- FSM STATE: ERROR ---
[2025-06-18 12:52:25] ERROR    [agent_fsm:1101] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Error category: TOOL_VALIDATION, Occurrences: 10
[2025-06-18 12:52:25] ERROR    [agent_fsm:1102] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:52:25] WARNING  [agent_fsm:1224] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:25] ERROR    [agent_fsm:1078] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] --- FSM STATE: ERROR ---
[2025-06-18 12:52:25] ERROR    [agent_fsm:1101] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Error category: TOOL_VALIDATION, Occurrences: 11
[2025-06-18 12:52:25] ERROR    [agent_fsm:1102] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:52:25] WARNING  [agent_fsm:1224] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:25] ERROR    [agent_fsm:1078] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] --- FSM STATE: ERROR ---
[2025-06-18 12:52:25] ERROR    [agent_fsm:1101] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Error category: TOOL_VALIDATION, Occurrences: 12
[2025-06-18 12:52:25] ERROR    [agent_fsm:1102] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:52:25] WARNING  [agent_fsm:1224] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:25] ERROR    [agent_fsm:1078] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] --- FSM STATE: ERROR ---
[2025-06-18 12:52:25] ERROR    [agent_fsm:1101] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Error category: TOOL_VALIDATION, Occurrences: 13
[2025-06-18 12:52:25] ERROR    [agent_fsm:1102] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:52:25] WARNING  [agent_fsm:1224] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:25] ERROR    [agent_fsm:1078] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] --- FSM STATE: ERROR ---
[2025-06-18 12:52:25] ERROR    [agent_fsm:1101] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Error category: TOOL_VALIDATION, Occurrences: 14
[2025-06-18 12:52:25] ERROR    [agent_fsm:1102] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:52:25] WARNING  [agent_fsm:1224] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:25] ERROR    [agent_fsm:1078] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] --- FSM STATE: ERROR ---
[2025-06-18 12:52:25] ERROR    [agent_fsm:1101] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Error category: TOOL_VALIDATION, Occurrences: 15
[2025-06-18 12:52:25] ERROR    [agent_fsm:1102] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:52:25] WARNING  [agent_fsm:1224] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:25] ERROR    [agent_fsm:1078] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] --- FSM STATE: ERROR ---
[2025-06-18 12:52:25] ERROR    [agent_fsm:1101] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Error category: TOOL_VALIDATION, Occurrences: 16
[2025-06-18 12:52:25] ERROR    [agent_fsm:1102] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:52:25] WARNING  [agent_fsm:1224] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:25] ERROR    [agent_fsm:1078] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] --- FSM STATE: ERROR ---
[2025-06-18 12:52:25] ERROR    [agent_fsm:1101] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Error category: TOOL_VALIDATION, Occurrences: 17
[2025-06-18 12:52:25] ERROR    [agent_fsm:1102] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:52:25] WARNING  [agent_fsm:1224] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:25] ERROR    [agent_fsm:1078] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] --- FSM STATE: ERROR ---
[2025-06-18 12:52:25] ERROR    [agent_fsm:1101] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Error category: TOOL_VALIDATION, Occurrences: 18
[2025-06-18 12:52:25] ERROR    [agent_fsm:1102] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:52:25] WARNING  [agent_fsm:1224] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:25] ERROR    [agent_fsm:1078] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] --- FSM STATE: ERROR ---
[2025-06-18 12:52:25] ERROR    [agent_fsm:1101] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Error category: TOOL_VALIDATION, Occurrences: 19
[2025-06-18 12:52:25] ERROR    [agent_fsm:1102] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Errors: ['Tool validation failed - replanning with corrected parameters']
[2025-06-18 12:52:25] WARNING  [agent_fsm:1224] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:25] ERROR    [agent_fsm:1837] [83a2108e-5bde-4dbd-b9f5-a9ce5e1e703b] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:52:25] INFO     [agent_fsm:1752] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Starting resilient FSM execution
[2025-06-18 12:52:25] INFO     [agent_fsm:1807] [c469cb5f-b726-4b0a-a326-078ba965f1cd] FSM STATE: INITIAL
[2025-06-18 12:52:25] INFO     [agent_fsm:665] [c469cb5f-b726-4b0a-a326-078ba965f1cd] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:52:25] DEBUG    [agent_fsm:680] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Turn count: 1, Action history length: 1
[2025-06-18 12:52:26] WARNING  [agent_fsm:1521] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:52:26] INFO     [agent_fsm:773] [c469cb5f-b726-4b0a-a326-078ba965f1cd] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:52:26] INFO     [agent_fsm:820] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Executing tool: web_researcher with input: {'query': 'chess position analysis', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 12:52:26] INFO     [agent_fsm:922] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Tool execution completed
[2025-06-18 12:52:26] INFO     [agent_fsm:773] [c469cb5f-b726-4b0a-a326-078ba965f1cd] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:52:26] WARNING  [agent_fsm:803] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:52:26] INFO     [agent_fsm:665] [c469cb5f-b726-4b0a-a326-078ba965f1cd] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:52:26] DEBUG    [agent_fsm:680] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Turn count: 2, Action history length: 2
[2025-06-18 12:52:28] WARNING  [agent_fsm:1521] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:52:28] WARNING  [agent_fsm:1521] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:52:28] WARNING  [agent_fsm:1521] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:52:28] WARNING  [agent_fsm:1521] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:52:28] WARNING  [agent_fsm:1521] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Failed to parse JSON parameters for step 8, using fallback parser
[2025-06-18 12:52:28] INFO     [agent_fsm:773] [c469cb5f-b726-4b0a-a326-078ba965f1cd] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:52:28] INFO     [agent_fsm:820] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:52:28] INFO     [agent_fsm:922] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Tool execution completed
[2025-06-18 12:52:28] INFO     [agent_fsm:773] [c469cb5f-b726-4b0a-a326-078ba965f1cd] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:52:28] WARNING  [agent_fsm:803] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:52:28] INFO     [agent_fsm:665] [c469cb5f-b726-4b0a-a326-078ba965f1cd] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:52:28] DEBUG    [agent_fsm:680] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Turn count: 3, Action history length: 3
[2025-06-18 12:52:29] WARNING  [agent_fsm:1521] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:52:29] WARNING  [agent_fsm:1521] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:52:29] WARNING  [agent_fsm:1521] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:52:29] WARNING  [agent_fsm:1521] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 12:52:29] WARNING  [agent_fsm:1521] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Failed to parse JSON parameters for step 8, using fallback parser
[2025-06-18 12:52:29] WARNING  [agent_fsm:1224] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:29] ERROR    [agent_fsm:1078] [c469cb5f-b726-4b0a-a326-078ba965f1cd] --- FSM STATE: ERROR ---
[2025-06-18 12:52:29] ERROR    [agent_fsm:1101] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:52:29] ERROR    [agent_fsm:1102] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:29] WARNING  [agent_fsm:1224] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:29] ERROR    [agent_fsm:1078] [c469cb5f-b726-4b0a-a326-078ba965f1cd] --- FSM STATE: ERROR ---
[2025-06-18 12:52:29] ERROR    [agent_fsm:1101] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:52:29] ERROR    [agent_fsm:1102] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:29] WARNING  [agent_fsm:1224] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:29] ERROR    [agent_fsm:1078] [c469cb5f-b726-4b0a-a326-078ba965f1cd] --- FSM STATE: ERROR ---
[2025-06-18 12:52:29] ERROR    [agent_fsm:1101] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:52:29] ERROR    [agent_fsm:1102] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:29] WARNING  [agent_fsm:1224] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:29] ERROR    [agent_fsm:1078] [c469cb5f-b726-4b0a-a326-078ba965f1cd] --- FSM STATE: ERROR ---
[2025-06-18 12:52:29] ERROR    [agent_fsm:1101] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:52:29] ERROR    [agent_fsm:1102] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:29] WARNING  [agent_fsm:1224] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:29] ERROR    [agent_fsm:1078] [c469cb5f-b726-4b0a-a326-078ba965f1cd] --- FSM STATE: ERROR ---
[2025-06-18 12:52:29] ERROR    [agent_fsm:1101] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:52:29] ERROR    [agent_fsm:1102] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:29] WARNING  [agent_fsm:1224] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:29] ERROR    [agent_fsm:1078] [c469cb5f-b726-4b0a-a326-078ba965f1cd] --- FSM STATE: ERROR ---
[2025-06-18 12:52:29] ERROR    [agent_fsm:1101] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:52:29] ERROR    [agent_fsm:1102] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:29] WARNING  [agent_fsm:1224] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:29] ERROR    [agent_fsm:1078] [c469cb5f-b726-4b0a-a326-078ba965f1cd] --- FSM STATE: ERROR ---
[2025-06-18 12:52:29] ERROR    [agent_fsm:1101] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:52:29] ERROR    [agent_fsm:1102] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:29] WARNING  [agent_fsm:1224] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:29] ERROR    [agent_fsm:1078] [c469cb5f-b726-4b0a-a326-078ba965f1cd] --- FSM STATE: ERROR ---
[2025-06-18 12:52:29] ERROR    [agent_fsm:1101] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:52:29] ERROR    [agent_fsm:1102] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:29] WARNING  [agent_fsm:1224] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:29] ERROR    [agent_fsm:1078] [c469cb5f-b726-4b0a-a326-078ba965f1cd] --- FSM STATE: ERROR ---
[2025-06-18 12:52:29] ERROR    [agent_fsm:1101] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:52:29] ERROR    [agent_fsm:1102] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:29] WARNING  [agent_fsm:1224] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:29] ERROR    [agent_fsm:1078] [c469cb5f-b726-4b0a-a326-078ba965f1cd] --- FSM STATE: ERROR ---
[2025-06-18 12:52:29] ERROR    [agent_fsm:1101] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:52:29] ERROR    [agent_fsm:1102] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:29] WARNING  [agent_fsm:1224] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:29] ERROR    [agent_fsm:1078] [c469cb5f-b726-4b0a-a326-078ba965f1cd] --- FSM STATE: ERROR ---
[2025-06-18 12:52:29] ERROR    [agent_fsm:1101] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:52:29] ERROR    [agent_fsm:1102] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:29] WARNING  [agent_fsm:1224] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:29] ERROR    [agent_fsm:1078] [c469cb5f-b726-4b0a-a326-078ba965f1cd] --- FSM STATE: ERROR ---
[2025-06-18 12:52:29] ERROR    [agent_fsm:1101] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:52:29] ERROR    [agent_fsm:1102] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:29] WARNING  [agent_fsm:1224] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:29] ERROR    [agent_fsm:1078] [c469cb5f-b726-4b0a-a326-078ba965f1cd] --- FSM STATE: ERROR ---
[2025-06-18 12:52:29] ERROR    [agent_fsm:1101] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:52:29] ERROR    [agent_fsm:1102] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:29] WARNING  [agent_fsm:1224] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:29] ERROR    [agent_fsm:1078] [c469cb5f-b726-4b0a-a326-078ba965f1cd] --- FSM STATE: ERROR ---
[2025-06-18 12:52:29] ERROR    [agent_fsm:1101] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:52:29] ERROR    [agent_fsm:1102] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:29] WARNING  [agent_fsm:1224] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:29] ERROR    [agent_fsm:1078] [c469cb5f-b726-4b0a-a326-078ba965f1cd] --- FSM STATE: ERROR ---
[2025-06-18 12:52:29] ERROR    [agent_fsm:1101] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:52:29] ERROR    [agent_fsm:1102] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:29] WARNING  [agent_fsm:1224] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:29] ERROR    [agent_fsm:1078] [c469cb5f-b726-4b0a-a326-078ba965f1cd] --- FSM STATE: ERROR ---
[2025-06-18 12:52:29] ERROR    [agent_fsm:1101] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:52:29] ERROR    [agent_fsm:1102] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:29] WARNING  [agent_fsm:1224] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:29] ERROR    [agent_fsm:1078] [c469cb5f-b726-4b0a-a326-078ba965f1cd] --- FSM STATE: ERROR ---
[2025-06-18 12:52:29] ERROR    [agent_fsm:1101] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:52:29] ERROR    [agent_fsm:1102] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:29] WARNING  [agent_fsm:1224] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:29] ERROR    [agent_fsm:1078] [c469cb5f-b726-4b0a-a326-078ba965f1cd] --- FSM STATE: ERROR ---
[2025-06-18 12:52:29] ERROR    [agent_fsm:1101] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:52:29] ERROR    [agent_fsm:1102] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:29] WARNING  [agent_fsm:1224] [c469cb5f-b726-4b0a-a326-078ba965f1cd] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:29] ERROR    [agent_fsm:1837] [c469cb5f-b726-4b0a-a326-078ba965f1cd] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:52:29] INFO     [agent_fsm:1752] [780dca0e-365d-44c0-968a-229539297637] Starting resilient FSM execution
[2025-06-18 12:52:29] INFO     [agent_fsm:1807] [780dca0e-365d-44c0-968a-229539297637] FSM STATE: INITIAL
[2025-06-18 12:52:29] INFO     [agent_fsm:665] [780dca0e-365d-44c0-968a-229539297637] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:52:29] DEBUG    [agent_fsm:680] [780dca0e-365d-44c0-968a-229539297637] Turn count: 1, Action history length: 1
[2025-06-18 12:52:30] WARNING  [agent_fsm:1521] [780dca0e-365d-44c0-968a-229539297637] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:52:30] WARNING  [agent_fsm:1521] [780dca0e-365d-44c0-968a-229539297637] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:52:30] WARNING  [agent_fsm:1521] [780dca0e-365d-44c0-968a-229539297637] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 12:52:30] INFO     [agent_fsm:773] [780dca0e-365d-44c0-968a-229539297637] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:52:30] INFO     [agent_fsm:820] [780dca0e-365d-44c0-968a-229539297637] Executing tool: web_researcher with input: {'query': 'Nobel Prize in Physics 2023', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 12:52:30] INFO     [agent_fsm:922] [780dca0e-365d-44c0-968a-229539297637] Tool execution completed
[2025-06-18 12:52:30] INFO     [agent_fsm:773] [780dca0e-365d-44c0-968a-229539297637] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:52:30] WARNING  [agent_fsm:803] [780dca0e-365d-44c0-968a-229539297637] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:52:30] INFO     [agent_fsm:665] [780dca0e-365d-44c0-968a-229539297637] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:52:30] DEBUG    [agent_fsm:680] [780dca0e-365d-44c0-968a-229539297637] Turn count: 2, Action history length: 2
[2025-06-18 12:52:31] WARNING  [agent_fsm:1521] [780dca0e-365d-44c0-968a-229539297637] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:52:31] WARNING  [agent_fsm:1521] [780dca0e-365d-44c0-968a-229539297637] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:52:31] INFO     [agent_fsm:773] [780dca0e-365d-44c0-968a-229539297637] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:52:31] INFO     [agent_fsm:820] [780dca0e-365d-44c0-968a-229539297637] Executing tool: semantic_search_tool with input: {'query': 'Nobel Prize in Physics 2023 winner', 'filename': 'knowledge_base.csv', 'top_k': 3}
[2025-06-18 12:52:31] INFO     [agent_fsm:922] [780dca0e-365d-44c0-968a-229539297637] Tool execution completed
[2025-06-18 12:52:31] INFO     [agent_fsm:773] [780dca0e-365d-44c0-968a-229539297637] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:52:31] WARNING  [agent_fsm:803] [780dca0e-365d-44c0-968a-229539297637] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:52:31] INFO     [agent_fsm:665] [780dca0e-365d-44c0-968a-229539297637] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:52:31] DEBUG    [agent_fsm:680] [780dca0e-365d-44c0-968a-229539297637] Turn count: 3, Action history length: 3
[2025-06-18 12:52:32] WARNING  [agent_fsm:1521] [780dca0e-365d-44c0-968a-229539297637] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:52:32] WARNING  [agent_fsm:1521] [780dca0e-365d-44c0-968a-229539297637] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:52:32] WARNING  [agent_fsm:1224] [780dca0e-365d-44c0-968a-229539297637] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:32] ERROR    [agent_fsm:1078] [780dca0e-365d-44c0-968a-229539297637] --- FSM STATE: ERROR ---
[2025-06-18 12:52:32] ERROR    [agent_fsm:1101] [780dca0e-365d-44c0-968a-229539297637] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:52:32] ERROR    [agent_fsm:1102] [780dca0e-365d-44c0-968a-229539297637] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:32] WARNING  [agent_fsm:1224] [780dca0e-365d-44c0-968a-229539297637] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:32] ERROR    [agent_fsm:1078] [780dca0e-365d-44c0-968a-229539297637] --- FSM STATE: ERROR ---
[2025-06-18 12:52:32] ERROR    [agent_fsm:1101] [780dca0e-365d-44c0-968a-229539297637] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:52:32] ERROR    [agent_fsm:1102] [780dca0e-365d-44c0-968a-229539297637] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:32] WARNING  [agent_fsm:1224] [780dca0e-365d-44c0-968a-229539297637] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:32] ERROR    [agent_fsm:1078] [780dca0e-365d-44c0-968a-229539297637] --- FSM STATE: ERROR ---
[2025-06-18 12:52:32] ERROR    [agent_fsm:1101] [780dca0e-365d-44c0-968a-229539297637] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:52:32] ERROR    [agent_fsm:1102] [780dca0e-365d-44c0-968a-229539297637] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:32] WARNING  [agent_fsm:1224] [780dca0e-365d-44c0-968a-229539297637] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:32] ERROR    [agent_fsm:1078] [780dca0e-365d-44c0-968a-229539297637] --- FSM STATE: ERROR ---
[2025-06-18 12:52:32] ERROR    [agent_fsm:1101] [780dca0e-365d-44c0-968a-229539297637] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:52:32] ERROR    [agent_fsm:1102] [780dca0e-365d-44c0-968a-229539297637] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:32] WARNING  [agent_fsm:1224] [780dca0e-365d-44c0-968a-229539297637] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:32] ERROR    [agent_fsm:1078] [780dca0e-365d-44c0-968a-229539297637] --- FSM STATE: ERROR ---
[2025-06-18 12:52:32] ERROR    [agent_fsm:1101] [780dca0e-365d-44c0-968a-229539297637] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:52:32] ERROR    [agent_fsm:1102] [780dca0e-365d-44c0-968a-229539297637] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:32] WARNING  [agent_fsm:1224] [780dca0e-365d-44c0-968a-229539297637] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:32] ERROR    [agent_fsm:1078] [780dca0e-365d-44c0-968a-229539297637] --- FSM STATE: ERROR ---
[2025-06-18 12:52:32] ERROR    [agent_fsm:1101] [780dca0e-365d-44c0-968a-229539297637] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:52:32] ERROR    [agent_fsm:1102] [780dca0e-365d-44c0-968a-229539297637] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:32] WARNING  [agent_fsm:1224] [780dca0e-365d-44c0-968a-229539297637] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:32] ERROR    [agent_fsm:1078] [780dca0e-365d-44c0-968a-229539297637] --- FSM STATE: ERROR ---
[2025-06-18 12:52:32] ERROR    [agent_fsm:1101] [780dca0e-365d-44c0-968a-229539297637] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:52:32] ERROR    [agent_fsm:1102] [780dca0e-365d-44c0-968a-229539297637] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:32] WARNING  [agent_fsm:1224] [780dca0e-365d-44c0-968a-229539297637] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:32] ERROR    [agent_fsm:1078] [780dca0e-365d-44c0-968a-229539297637] --- FSM STATE: ERROR ---
[2025-06-18 12:52:32] ERROR    [agent_fsm:1101] [780dca0e-365d-44c0-968a-229539297637] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:52:32] ERROR    [agent_fsm:1102] [780dca0e-365d-44c0-968a-229539297637] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:32] WARNING  [agent_fsm:1224] [780dca0e-365d-44c0-968a-229539297637] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:32] ERROR    [agent_fsm:1078] [780dca0e-365d-44c0-968a-229539297637] --- FSM STATE: ERROR ---
[2025-06-18 12:52:32] ERROR    [agent_fsm:1101] [780dca0e-365d-44c0-968a-229539297637] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:52:32] ERROR    [agent_fsm:1102] [780dca0e-365d-44c0-968a-229539297637] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:32] WARNING  [agent_fsm:1224] [780dca0e-365d-44c0-968a-229539297637] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:32] ERROR    [agent_fsm:1078] [780dca0e-365d-44c0-968a-229539297637] --- FSM STATE: ERROR ---
[2025-06-18 12:52:32] ERROR    [agent_fsm:1101] [780dca0e-365d-44c0-968a-229539297637] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:52:32] ERROR    [agent_fsm:1102] [780dca0e-365d-44c0-968a-229539297637] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:32] WARNING  [agent_fsm:1224] [780dca0e-365d-44c0-968a-229539297637] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:32] ERROR    [agent_fsm:1078] [780dca0e-365d-44c0-968a-229539297637] --- FSM STATE: ERROR ---
[2025-06-18 12:52:32] ERROR    [agent_fsm:1101] [780dca0e-365d-44c0-968a-229539297637] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:52:32] ERROR    [agent_fsm:1102] [780dca0e-365d-44c0-968a-229539297637] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:32] WARNING  [agent_fsm:1224] [780dca0e-365d-44c0-968a-229539297637] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:32] ERROR    [agent_fsm:1078] [780dca0e-365d-44c0-968a-229539297637] --- FSM STATE: ERROR ---
[2025-06-18 12:52:32] ERROR    [agent_fsm:1101] [780dca0e-365d-44c0-968a-229539297637] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:52:32] ERROR    [agent_fsm:1102] [780dca0e-365d-44c0-968a-229539297637] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:32] WARNING  [agent_fsm:1224] [780dca0e-365d-44c0-968a-229539297637] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:32] ERROR    [agent_fsm:1078] [780dca0e-365d-44c0-968a-229539297637] --- FSM STATE: ERROR ---
[2025-06-18 12:52:32] ERROR    [agent_fsm:1101] [780dca0e-365d-44c0-968a-229539297637] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:52:32] ERROR    [agent_fsm:1102] [780dca0e-365d-44c0-968a-229539297637] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:32] WARNING  [agent_fsm:1224] [780dca0e-365d-44c0-968a-229539297637] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:32] ERROR    [agent_fsm:1078] [780dca0e-365d-44c0-968a-229539297637] --- FSM STATE: ERROR ---
[2025-06-18 12:52:32] ERROR    [agent_fsm:1101] [780dca0e-365d-44c0-968a-229539297637] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:52:32] ERROR    [agent_fsm:1102] [780dca0e-365d-44c0-968a-229539297637] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:32] WARNING  [agent_fsm:1224] [780dca0e-365d-44c0-968a-229539297637] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:32] ERROR    [agent_fsm:1078] [780dca0e-365d-44c0-968a-229539297637] --- FSM STATE: ERROR ---
[2025-06-18 12:52:32] ERROR    [agent_fsm:1101] [780dca0e-365d-44c0-968a-229539297637] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:52:32] ERROR    [agent_fsm:1102] [780dca0e-365d-44c0-968a-229539297637] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:32] WARNING  [agent_fsm:1224] [780dca0e-365d-44c0-968a-229539297637] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:32] ERROR    [agent_fsm:1078] [780dca0e-365d-44c0-968a-229539297637] --- FSM STATE: ERROR ---
[2025-06-18 12:52:32] ERROR    [agent_fsm:1101] [780dca0e-365d-44c0-968a-229539297637] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:52:32] ERROR    [agent_fsm:1102] [780dca0e-365d-44c0-968a-229539297637] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:32] WARNING  [agent_fsm:1224] [780dca0e-365d-44c0-968a-229539297637] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:32] ERROR    [agent_fsm:1078] [780dca0e-365d-44c0-968a-229539297637] --- FSM STATE: ERROR ---
[2025-06-18 12:52:32] ERROR    [agent_fsm:1101] [780dca0e-365d-44c0-968a-229539297637] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:52:32] ERROR    [agent_fsm:1102] [780dca0e-365d-44c0-968a-229539297637] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:32] WARNING  [agent_fsm:1224] [780dca0e-365d-44c0-968a-229539297637] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:32] ERROR    [agent_fsm:1078] [780dca0e-365d-44c0-968a-229539297637] --- FSM STATE: ERROR ---
[2025-06-18 12:52:32] ERROR    [agent_fsm:1101] [780dca0e-365d-44c0-968a-229539297637] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:52:32] ERROR    [agent_fsm:1102] [780dca0e-365d-44c0-968a-229539297637] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:32] WARNING  [agent_fsm:1224] [780dca0e-365d-44c0-968a-229539297637] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:32] ERROR    [agent_fsm:1837] [780dca0e-365d-44c0-968a-229539297637] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:52:32] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 12:52:32] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 12:52:32] INFO     [agent_fsm:570] [1ea9b5be-9925-472e-96c0-dfe53c6f16be] Building resilient FSM graph
[2025-06-18 12:52:32] INFO     [agent_fsm:572] [1ea9b5be-9925-472e-96c0-dfe53c6f16be] FSMReActAgent graph built successfully
[2025-06-18 12:52:32] INFO     [agent_fsm:1752] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Starting resilient FSM execution
[2025-06-18 12:52:32] INFO     [agent_fsm:1807] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] FSM STATE: INITIAL
[2025-06-18 12:52:32] INFO     [agent_fsm:665] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:52:32] DEBUG    [agent_fsm:680] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Turn count: 1, Action history length: 1
[2025-06-18 12:52:33] WARNING  [agent_fsm:1521] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:52:33] WARNING  [agent_fsm:1521] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:52:33] INFO     [agent_fsm:773] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:52:33] INFO     [agent_fsm:820] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Executing tool: web_researcher with input: {'query': 'Mercedes Sosa discography', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 12:52:33] INFO     [agent_fsm:922] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Tool execution completed
[2025-06-18 12:52:33] INFO     [agent_fsm:773] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:52:33] WARNING  [agent_fsm:803] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:52:33] INFO     [agent_fsm:665] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:52:33] DEBUG    [agent_fsm:680] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Turn count: 2, Action history length: 2
[2025-06-18 12:52:34] WARNING  [agent_fsm:1521] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:52:34] WARNING  [agent_fsm:1521] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:52:34] INFO     [agent_fsm:773] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:52:34] INFO     [agent_fsm:820] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:52:34] INFO     [agent_fsm:922] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Tool execution completed
[2025-06-18 12:52:34] INFO     [agent_fsm:773] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:52:34] WARNING  [agent_fsm:803] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:52:34] INFO     [agent_fsm:665] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:52:34] DEBUG    [agent_fsm:680] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Turn count: 3, Action history length: 3
[2025-06-18 12:52:35] WARNING  [agent_fsm:1521] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:52:35] WARNING  [agent_fsm:1521] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:52:35] WARNING  [agent_fsm:1224] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:35] ERROR    [agent_fsm:1078] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] --- FSM STATE: ERROR ---
[2025-06-18 12:52:35] ERROR    [agent_fsm:1101] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:52:35] ERROR    [agent_fsm:1102] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:35] WARNING  [agent_fsm:1224] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:35] ERROR    [agent_fsm:1078] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] --- FSM STATE: ERROR ---
[2025-06-18 12:52:35] ERROR    [agent_fsm:1101] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:52:35] ERROR    [agent_fsm:1102] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:35] WARNING  [agent_fsm:1224] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:35] ERROR    [agent_fsm:1078] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] --- FSM STATE: ERROR ---
[2025-06-18 12:52:35] ERROR    [agent_fsm:1101] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:52:35] ERROR    [agent_fsm:1102] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:35] WARNING  [agent_fsm:1224] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:35] ERROR    [agent_fsm:1078] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] --- FSM STATE: ERROR ---
[2025-06-18 12:52:35] ERROR    [agent_fsm:1101] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:52:35] ERROR    [agent_fsm:1102] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:35] WARNING  [agent_fsm:1224] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:35] ERROR    [agent_fsm:1078] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] --- FSM STATE: ERROR ---
[2025-06-18 12:52:35] ERROR    [agent_fsm:1101] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:52:35] ERROR    [agent_fsm:1102] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:35] WARNING  [agent_fsm:1224] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:35] ERROR    [agent_fsm:1078] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] --- FSM STATE: ERROR ---
[2025-06-18 12:52:35] ERROR    [agent_fsm:1101] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:52:35] ERROR    [agent_fsm:1102] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:35] WARNING  [agent_fsm:1224] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:35] ERROR    [agent_fsm:1078] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] --- FSM STATE: ERROR ---
[2025-06-18 12:52:35] ERROR    [agent_fsm:1101] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:52:35] ERROR    [agent_fsm:1102] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:35] WARNING  [agent_fsm:1224] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:35] ERROR    [agent_fsm:1078] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] --- FSM STATE: ERROR ---
[2025-06-18 12:52:35] ERROR    [agent_fsm:1101] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:52:35] ERROR    [agent_fsm:1102] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:35] WARNING  [agent_fsm:1224] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:35] ERROR    [agent_fsm:1078] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] --- FSM STATE: ERROR ---
[2025-06-18 12:52:35] ERROR    [agent_fsm:1101] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:52:35] ERROR    [agent_fsm:1102] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:35] WARNING  [agent_fsm:1224] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:35] ERROR    [agent_fsm:1078] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] --- FSM STATE: ERROR ---
[2025-06-18 12:52:35] ERROR    [agent_fsm:1101] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:52:35] ERROR    [agent_fsm:1102] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:35] WARNING  [agent_fsm:1224] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:35] ERROR    [agent_fsm:1078] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] --- FSM STATE: ERROR ---
[2025-06-18 12:52:35] ERROR    [agent_fsm:1101] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:52:35] ERROR    [agent_fsm:1102] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:35] WARNING  [agent_fsm:1224] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:35] ERROR    [agent_fsm:1078] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] --- FSM STATE: ERROR ---
[2025-06-18 12:52:35] ERROR    [agent_fsm:1101] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:52:35] ERROR    [agent_fsm:1102] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:35] WARNING  [agent_fsm:1224] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:35] ERROR    [agent_fsm:1078] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] --- FSM STATE: ERROR ---
[2025-06-18 12:52:35] ERROR    [agent_fsm:1101] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:52:35] ERROR    [agent_fsm:1102] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:35] WARNING  [agent_fsm:1224] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:35] ERROR    [agent_fsm:1078] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] --- FSM STATE: ERROR ---
[2025-06-18 12:52:35] ERROR    [agent_fsm:1101] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:52:35] ERROR    [agent_fsm:1102] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:35] WARNING  [agent_fsm:1224] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:35] ERROR    [agent_fsm:1078] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] --- FSM STATE: ERROR ---
[2025-06-18 12:52:35] ERROR    [agent_fsm:1101] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:52:35] ERROR    [agent_fsm:1102] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:35] WARNING  [agent_fsm:1224] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:35] ERROR    [agent_fsm:1078] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] --- FSM STATE: ERROR ---
[2025-06-18 12:52:35] ERROR    [agent_fsm:1101] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:52:35] ERROR    [agent_fsm:1102] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:35] WARNING  [agent_fsm:1224] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:35] ERROR    [agent_fsm:1078] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] --- FSM STATE: ERROR ---
[2025-06-18 12:52:35] ERROR    [agent_fsm:1101] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:52:35] ERROR    [agent_fsm:1102] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:35] WARNING  [agent_fsm:1224] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:35] ERROR    [agent_fsm:1078] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] --- FSM STATE: ERROR ---
[2025-06-18 12:52:35] ERROR    [agent_fsm:1101] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:52:35] ERROR    [agent_fsm:1102] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:35] WARNING  [agent_fsm:1224] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:35] ERROR    [agent_fsm:1837] [21a7658a-997a-4bc1-9dc3-ad4c79bf2b8b] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:52:35] INFO     [agent_fsm:1752] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Starting resilient FSM execution
[2025-06-18 12:52:35] INFO     [agent_fsm:1807] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] FSM STATE: INITIAL
[2025-06-18 12:52:35] INFO     [agent_fsm:665] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:52:35] DEBUG    [agent_fsm:680] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Turn count: 1, Action history length: 1
[2025-06-18 12:52:36] INFO     [agent_fsm:773] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:52:36] INFO     [agent_fsm:820] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Executing tool: web_researcher with input: {'query': 'extract video URL from YouTube link', 'date_range': None, 'search_type': 'general', 'source': 'search'}
[2025-06-18 12:52:36] INFO     [agent_fsm:922] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Tool execution completed
[2025-06-18 12:52:36] INFO     [agent_fsm:773] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:52:36] WARNING  [agent_fsm:803] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:52:36] INFO     [agent_fsm:665] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:52:36] DEBUG    [agent_fsm:680] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Turn count: 2, Action history length: 2
[2025-06-18 12:52:37] WARNING  [agent_fsm:1521] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:52:37] INFO     [agent_fsm:773] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:52:37] INFO     [agent_fsm:820] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Executing tool: video_analyzer with input: {'url': 'https://www.youtube.com/watch?v=L1vXCYZAYYM', 'action': 'download_info'}
[2025-06-18 12:52:37] INFO     [agent_fsm:922] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Tool execution completed
[2025-06-18 12:52:37] INFO     [agent_fsm:773] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:52:37] WARNING  [agent_fsm:803] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:52:37] INFO     [agent_fsm:665] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:52:37] DEBUG    [agent_fsm:680] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Turn count: 3, Action history length: 3
[2025-06-18 12:52:38] WARNING  [agent_fsm:1521] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:52:38] WARNING  [agent_fsm:1521] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:52:38] WARNING  [agent_fsm:1521] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:52:38] WARNING  [agent_fsm:1521] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:52:38] WARNING  [agent_fsm:1521] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 12:52:38] WARNING  [agent_fsm:1224] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:38] ERROR    [agent_fsm:1078] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] --- FSM STATE: ERROR ---
[2025-06-18 12:52:38] ERROR    [agent_fsm:1101] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:52:38] ERROR    [agent_fsm:1102] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:38] WARNING  [agent_fsm:1224] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:38] ERROR    [agent_fsm:1078] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] --- FSM STATE: ERROR ---
[2025-06-18 12:52:38] ERROR    [agent_fsm:1101] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:52:38] ERROR    [agent_fsm:1102] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:38] WARNING  [agent_fsm:1224] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:38] ERROR    [agent_fsm:1078] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] --- FSM STATE: ERROR ---
[2025-06-18 12:52:38] ERROR    [agent_fsm:1101] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:52:38] ERROR    [agent_fsm:1102] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:38] WARNING  [agent_fsm:1224] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:38] ERROR    [agent_fsm:1078] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] --- FSM STATE: ERROR ---
[2025-06-18 12:52:38] ERROR    [agent_fsm:1101] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:52:38] ERROR    [agent_fsm:1102] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:38] WARNING  [agent_fsm:1224] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:38] ERROR    [agent_fsm:1078] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] --- FSM STATE: ERROR ---
[2025-06-18 12:52:38] ERROR    [agent_fsm:1101] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:52:38] ERROR    [agent_fsm:1102] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:38] WARNING  [agent_fsm:1224] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:38] ERROR    [agent_fsm:1078] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] --- FSM STATE: ERROR ---
[2025-06-18 12:52:38] ERROR    [agent_fsm:1101] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:52:38] ERROR    [agent_fsm:1102] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:38] WARNING  [agent_fsm:1224] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:38] ERROR    [agent_fsm:1078] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] --- FSM STATE: ERROR ---
[2025-06-18 12:52:38] ERROR    [agent_fsm:1101] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:52:38] ERROR    [agent_fsm:1102] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:38] WARNING  [agent_fsm:1224] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:38] ERROR    [agent_fsm:1078] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] --- FSM STATE: ERROR ---
[2025-06-18 12:52:38] ERROR    [agent_fsm:1101] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:52:38] ERROR    [agent_fsm:1102] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:38] WARNING  [agent_fsm:1224] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:38] ERROR    [agent_fsm:1078] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] --- FSM STATE: ERROR ---
[2025-06-18 12:52:38] ERROR    [agent_fsm:1101] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:52:38] ERROR    [agent_fsm:1102] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:38] WARNING  [agent_fsm:1224] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:38] ERROR    [agent_fsm:1078] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] --- FSM STATE: ERROR ---
[2025-06-18 12:52:38] ERROR    [agent_fsm:1101] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:52:38] ERROR    [agent_fsm:1102] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:38] WARNING  [agent_fsm:1224] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:38] ERROR    [agent_fsm:1078] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] --- FSM STATE: ERROR ---
[2025-06-18 12:52:38] ERROR    [agent_fsm:1101] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:52:38] ERROR    [agent_fsm:1102] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:38] WARNING  [agent_fsm:1224] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:38] ERROR    [agent_fsm:1078] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] --- FSM STATE: ERROR ---
[2025-06-18 12:52:38] ERROR    [agent_fsm:1101] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:52:38] ERROR    [agent_fsm:1102] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:38] WARNING  [agent_fsm:1224] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:38] ERROR    [agent_fsm:1078] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] --- FSM STATE: ERROR ---
[2025-06-18 12:52:38] ERROR    [agent_fsm:1101] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:52:38] ERROR    [agent_fsm:1102] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:38] WARNING  [agent_fsm:1224] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:38] ERROR    [agent_fsm:1078] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] --- FSM STATE: ERROR ---
[2025-06-18 12:52:38] ERROR    [agent_fsm:1101] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:52:38] ERROR    [agent_fsm:1102] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:38] WARNING  [agent_fsm:1224] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:38] ERROR    [agent_fsm:1078] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] --- FSM STATE: ERROR ---
[2025-06-18 12:52:38] ERROR    [agent_fsm:1101] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:52:38] ERROR    [agent_fsm:1102] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:38] WARNING  [agent_fsm:1224] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:38] ERROR    [agent_fsm:1078] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] --- FSM STATE: ERROR ---
[2025-06-18 12:52:38] ERROR    [agent_fsm:1101] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:52:38] ERROR    [agent_fsm:1102] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:38] WARNING  [agent_fsm:1224] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:38] ERROR    [agent_fsm:1078] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] --- FSM STATE: ERROR ---
[2025-06-18 12:52:38] ERROR    [agent_fsm:1101] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:52:38] ERROR    [agent_fsm:1102] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:38] WARNING  [agent_fsm:1224] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:38] ERROR    [agent_fsm:1078] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] --- FSM STATE: ERROR ---
[2025-06-18 12:52:38] ERROR    [agent_fsm:1101] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:52:38] ERROR    [agent_fsm:1102] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:38] WARNING  [agent_fsm:1224] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:38] ERROR    [agent_fsm:1837] [6bac3b55-a01d-4ac6-bdda-672cd055b91e] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:52:38] INFO     [agent_fsm:1752] [db9ceca5-f001-430a-99b2-46094496df6a] Starting resilient FSM execution
[2025-06-18 12:52:38] INFO     [agent_fsm:1807] [db9ceca5-f001-430a-99b2-46094496df6a] FSM STATE: INITIAL
[2025-06-18 12:52:38] INFO     [agent_fsm:665] [db9ceca5-f001-430a-99b2-46094496df6a] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:52:38] DEBUG    [agent_fsm:680] [db9ceca5-f001-430a-99b2-46094496df6a] Turn count: 1, Action history length: 1
[2025-06-18 12:52:40] WARNING  [agent_fsm:1521] [db9ceca5-f001-430a-99b2-46094496df6a] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:52:40] WARNING  [agent_fsm:1521] [db9ceca5-f001-430a-99b2-46094496df6a] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:52:40] WARNING  [agent_fsm:1521] [db9ceca5-f001-430a-99b2-46094496df6a] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:52:40] WARNING  [agent_fsm:1521] [db9ceca5-f001-430a-99b2-46094496df6a] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:52:40] WARNING  [agent_fsm:1521] [db9ceca5-f001-430a-99b2-46094496df6a] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:52:40] WARNING  [agent_fsm:1521] [db9ceca5-f001-430a-99b2-46094496df6a] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 12:52:40] INFO     [agent_fsm:773] [db9ceca5-f001-430a-99b2-46094496df6a] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:52:40] INFO     [agent_fsm:820] [db9ceca5-f001-430a-99b2-46094496df6a] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:52:40] INFO     [agent_fsm:922] [db9ceca5-f001-430a-99b2-46094496df6a] Tool execution completed
[2025-06-18 12:52:40] INFO     [agent_fsm:773] [db9ceca5-f001-430a-99b2-46094496df6a] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:52:40] WARNING  [agent_fsm:803] [db9ceca5-f001-430a-99b2-46094496df6a] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:52:40] INFO     [agent_fsm:665] [db9ceca5-f001-430a-99b2-46094496df6a] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:52:40] DEBUG    [agent_fsm:680] [db9ceca5-f001-430a-99b2-46094496df6a] Turn count: 2, Action history length: 2
[2025-06-18 12:52:43] WARNING  [agent_fsm:1521] [db9ceca5-f001-430a-99b2-46094496df6a] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:52:43] WARNING  [agent_fsm:1521] [db9ceca5-f001-430a-99b2-46094496df6a] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:52:43] WARNING  [agent_fsm:1521] [db9ceca5-f001-430a-99b2-46094496df6a] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:52:43] WARNING  [agent_fsm:1521] [db9ceca5-f001-430a-99b2-46094496df6a] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:52:43] INFO     [agent_fsm:773] [db9ceca5-f001-430a-99b2-46094496df6a] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:52:43] INFO     [agent_fsm:820] [db9ceca5-f001-430a-99b2-46094496df6a] Executing tool: file_reader with input: {'filename': 'decoded_string.txt', 'lines': -1}
[2025-06-18 12:52:43] INFO     [agent_fsm:922] [db9ceca5-f001-430a-99b2-46094496df6a] Tool execution completed
[2025-06-18 12:52:43] INFO     [agent_fsm:773] [db9ceca5-f001-430a-99b2-46094496df6a] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:52:43] WARNING  [agent_fsm:803] [db9ceca5-f001-430a-99b2-46094496df6a] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:52:43] INFO     [agent_fsm:665] [db9ceca5-f001-430a-99b2-46094496df6a] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:52:43] DEBUG    [agent_fsm:680] [db9ceca5-f001-430a-99b2-46094496df6a] Turn count: 3, Action history length: 3
[2025-06-18 12:52:45] WARNING  [agent_fsm:1521] [db9ceca5-f001-430a-99b2-46094496df6a] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:52:45] WARNING  [agent_fsm:1521] [db9ceca5-f001-430a-99b2-46094496df6a] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:52:45] WARNING  [agent_fsm:1521] [db9ceca5-f001-430a-99b2-46094496df6a] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 12:52:45] WARNING  [agent_fsm:1521] [db9ceca5-f001-430a-99b2-46094496df6a] Failed to parse JSON parameters for step 8, using fallback parser
[2025-06-18 12:52:45] WARNING  [agent_fsm:1521] [db9ceca5-f001-430a-99b2-46094496df6a] Failed to parse JSON parameters for step 9, using fallback parser
[2025-06-18 12:52:45] WARNING  [agent_fsm:1521] [db9ceca5-f001-430a-99b2-46094496df6a] Failed to parse JSON parameters for step 10, using fallback parser
[2025-06-18 12:52:45] WARNING  [agent_fsm:1224] [db9ceca5-f001-430a-99b2-46094496df6a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:45] ERROR    [agent_fsm:1078] [db9ceca5-f001-430a-99b2-46094496df6a] --- FSM STATE: ERROR ---
[2025-06-18 12:52:45] ERROR    [agent_fsm:1101] [db9ceca5-f001-430a-99b2-46094496df6a] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:52:45] ERROR    [agent_fsm:1102] [db9ceca5-f001-430a-99b2-46094496df6a] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:45] WARNING  [agent_fsm:1224] [db9ceca5-f001-430a-99b2-46094496df6a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:45] ERROR    [agent_fsm:1078] [db9ceca5-f001-430a-99b2-46094496df6a] --- FSM STATE: ERROR ---
[2025-06-18 12:52:45] ERROR    [agent_fsm:1101] [db9ceca5-f001-430a-99b2-46094496df6a] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:52:45] ERROR    [agent_fsm:1102] [db9ceca5-f001-430a-99b2-46094496df6a] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:45] WARNING  [agent_fsm:1224] [db9ceca5-f001-430a-99b2-46094496df6a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:45] ERROR    [agent_fsm:1078] [db9ceca5-f001-430a-99b2-46094496df6a] --- FSM STATE: ERROR ---
[2025-06-18 12:52:45] ERROR    [agent_fsm:1101] [db9ceca5-f001-430a-99b2-46094496df6a] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:52:45] ERROR    [agent_fsm:1102] [db9ceca5-f001-430a-99b2-46094496df6a] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:45] WARNING  [agent_fsm:1224] [db9ceca5-f001-430a-99b2-46094496df6a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:45] ERROR    [agent_fsm:1078] [db9ceca5-f001-430a-99b2-46094496df6a] --- FSM STATE: ERROR ---
[2025-06-18 12:52:45] ERROR    [agent_fsm:1101] [db9ceca5-f001-430a-99b2-46094496df6a] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:52:45] ERROR    [agent_fsm:1102] [db9ceca5-f001-430a-99b2-46094496df6a] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:45] WARNING  [agent_fsm:1224] [db9ceca5-f001-430a-99b2-46094496df6a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:45] ERROR    [agent_fsm:1078] [db9ceca5-f001-430a-99b2-46094496df6a] --- FSM STATE: ERROR ---
[2025-06-18 12:52:45] ERROR    [agent_fsm:1101] [db9ceca5-f001-430a-99b2-46094496df6a] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:52:45] ERROR    [agent_fsm:1102] [db9ceca5-f001-430a-99b2-46094496df6a] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:45] WARNING  [agent_fsm:1224] [db9ceca5-f001-430a-99b2-46094496df6a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:45] ERROR    [agent_fsm:1078] [db9ceca5-f001-430a-99b2-46094496df6a] --- FSM STATE: ERROR ---
[2025-06-18 12:52:45] ERROR    [agent_fsm:1101] [db9ceca5-f001-430a-99b2-46094496df6a] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:52:45] ERROR    [agent_fsm:1102] [db9ceca5-f001-430a-99b2-46094496df6a] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:45] WARNING  [agent_fsm:1224] [db9ceca5-f001-430a-99b2-46094496df6a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:45] ERROR    [agent_fsm:1078] [db9ceca5-f001-430a-99b2-46094496df6a] --- FSM STATE: ERROR ---
[2025-06-18 12:52:45] ERROR    [agent_fsm:1101] [db9ceca5-f001-430a-99b2-46094496df6a] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:52:45] ERROR    [agent_fsm:1102] [db9ceca5-f001-430a-99b2-46094496df6a] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:45] WARNING  [agent_fsm:1224] [db9ceca5-f001-430a-99b2-46094496df6a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:45] ERROR    [agent_fsm:1078] [db9ceca5-f001-430a-99b2-46094496df6a] --- FSM STATE: ERROR ---
[2025-06-18 12:52:45] ERROR    [agent_fsm:1101] [db9ceca5-f001-430a-99b2-46094496df6a] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:52:45] ERROR    [agent_fsm:1102] [db9ceca5-f001-430a-99b2-46094496df6a] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:45] WARNING  [agent_fsm:1224] [db9ceca5-f001-430a-99b2-46094496df6a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:45] ERROR    [agent_fsm:1078] [db9ceca5-f001-430a-99b2-46094496df6a] --- FSM STATE: ERROR ---
[2025-06-18 12:52:45] ERROR    [agent_fsm:1101] [db9ceca5-f001-430a-99b2-46094496df6a] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:52:45] ERROR    [agent_fsm:1102] [db9ceca5-f001-430a-99b2-46094496df6a] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:45] WARNING  [agent_fsm:1224] [db9ceca5-f001-430a-99b2-46094496df6a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:45] ERROR    [agent_fsm:1078] [db9ceca5-f001-430a-99b2-46094496df6a] --- FSM STATE: ERROR ---
[2025-06-18 12:52:45] ERROR    [agent_fsm:1101] [db9ceca5-f001-430a-99b2-46094496df6a] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:52:45] ERROR    [agent_fsm:1102] [db9ceca5-f001-430a-99b2-46094496df6a] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:45] WARNING  [agent_fsm:1224] [db9ceca5-f001-430a-99b2-46094496df6a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:45] ERROR    [agent_fsm:1078] [db9ceca5-f001-430a-99b2-46094496df6a] --- FSM STATE: ERROR ---
[2025-06-18 12:52:45] ERROR    [agent_fsm:1101] [db9ceca5-f001-430a-99b2-46094496df6a] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:52:45] ERROR    [agent_fsm:1102] [db9ceca5-f001-430a-99b2-46094496df6a] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:45] WARNING  [agent_fsm:1224] [db9ceca5-f001-430a-99b2-46094496df6a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:45] ERROR    [agent_fsm:1078] [db9ceca5-f001-430a-99b2-46094496df6a] --- FSM STATE: ERROR ---
[2025-06-18 12:52:45] ERROR    [agent_fsm:1101] [db9ceca5-f001-430a-99b2-46094496df6a] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:52:45] ERROR    [agent_fsm:1102] [db9ceca5-f001-430a-99b2-46094496df6a] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:45] WARNING  [agent_fsm:1224] [db9ceca5-f001-430a-99b2-46094496df6a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:45] ERROR    [agent_fsm:1078] [db9ceca5-f001-430a-99b2-46094496df6a] --- FSM STATE: ERROR ---
[2025-06-18 12:52:45] ERROR    [agent_fsm:1101] [db9ceca5-f001-430a-99b2-46094496df6a] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:52:45] ERROR    [agent_fsm:1102] [db9ceca5-f001-430a-99b2-46094496df6a] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:45] WARNING  [agent_fsm:1224] [db9ceca5-f001-430a-99b2-46094496df6a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:45] ERROR    [agent_fsm:1078] [db9ceca5-f001-430a-99b2-46094496df6a] --- FSM STATE: ERROR ---
[2025-06-18 12:52:45] ERROR    [agent_fsm:1101] [db9ceca5-f001-430a-99b2-46094496df6a] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:52:45] ERROR    [agent_fsm:1102] [db9ceca5-f001-430a-99b2-46094496df6a] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:45] WARNING  [agent_fsm:1224] [db9ceca5-f001-430a-99b2-46094496df6a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:45] ERROR    [agent_fsm:1078] [db9ceca5-f001-430a-99b2-46094496df6a] --- FSM STATE: ERROR ---
[2025-06-18 12:52:45] ERROR    [agent_fsm:1101] [db9ceca5-f001-430a-99b2-46094496df6a] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:52:45] ERROR    [agent_fsm:1102] [db9ceca5-f001-430a-99b2-46094496df6a] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:45] WARNING  [agent_fsm:1224] [db9ceca5-f001-430a-99b2-46094496df6a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:45] ERROR    [agent_fsm:1078] [db9ceca5-f001-430a-99b2-46094496df6a] --- FSM STATE: ERROR ---
[2025-06-18 12:52:45] ERROR    [agent_fsm:1101] [db9ceca5-f001-430a-99b2-46094496df6a] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:52:45] ERROR    [agent_fsm:1102] [db9ceca5-f001-430a-99b2-46094496df6a] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:45] WARNING  [agent_fsm:1224] [db9ceca5-f001-430a-99b2-46094496df6a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:45] ERROR    [agent_fsm:1078] [db9ceca5-f001-430a-99b2-46094496df6a] --- FSM STATE: ERROR ---
[2025-06-18 12:52:45] ERROR    [agent_fsm:1101] [db9ceca5-f001-430a-99b2-46094496df6a] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:52:45] ERROR    [agent_fsm:1102] [db9ceca5-f001-430a-99b2-46094496df6a] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:45] WARNING  [agent_fsm:1224] [db9ceca5-f001-430a-99b2-46094496df6a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:45] ERROR    [agent_fsm:1078] [db9ceca5-f001-430a-99b2-46094496df6a] --- FSM STATE: ERROR ---
[2025-06-18 12:52:45] ERROR    [agent_fsm:1101] [db9ceca5-f001-430a-99b2-46094496df6a] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:52:45] ERROR    [agent_fsm:1102] [db9ceca5-f001-430a-99b2-46094496df6a] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:45] WARNING  [agent_fsm:1224] [db9ceca5-f001-430a-99b2-46094496df6a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:45] ERROR    [agent_fsm:1837] [db9ceca5-f001-430a-99b2-46094496df6a] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:52:45] INFO     [agent_fsm:1752] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Starting resilient FSM execution
[2025-06-18 12:52:45] INFO     [agent_fsm:1807] [48a2c5fd-4500-4395-8c37-666303e2ab7d] FSM STATE: INITIAL
[2025-06-18 12:52:45] INFO     [agent_fsm:665] [48a2c5fd-4500-4395-8c37-666303e2ab7d] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:52:45] DEBUG    [agent_fsm:680] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Turn count: 1, Action history length: 1
[2025-06-18 12:52:46] INFO     [agent_fsm:773] [48a2c5fd-4500-4395-8c37-666303e2ab7d] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:52:46] INFO     [agent_fsm:820] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Executing tool: advanced_file_reader with input: {'filename': 'path/to/sales_data.xlsx'}
[2025-06-18 12:52:46] INFO     [agent_fsm:922] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Tool execution completed
[2025-06-18 12:52:46] INFO     [agent_fsm:773] [48a2c5fd-4500-4395-8c37-666303e2ab7d] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:52:46] WARNING  [agent_fsm:803] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:52:46] INFO     [agent_fsm:665] [48a2c5fd-4500-4395-8c37-666303e2ab7d] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:52:46] DEBUG    [agent_fsm:680] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Turn count: 2, Action history length: 2
[2025-06-18 12:52:47] WARNING  [agent_fsm:1521] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:52:47] WARNING  [agent_fsm:1521] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:52:47] WARNING  [agent_fsm:1521] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:52:47] WARNING  [agent_fsm:1521] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 12:52:47] WARNING  [agent_fsm:1521] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Failed to parse JSON parameters for step 8, using fallback parser
[2025-06-18 12:52:47] WARNING  [agent_fsm:1521] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Failed to parse JSON parameters for step 9, using fallback parser
[2025-06-18 12:52:47] INFO     [agent_fsm:773] [48a2c5fd-4500-4395-8c37-666303e2ab7d] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:52:47] INFO     [agent_fsm:820] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:52:47] INFO     [agent_fsm:922] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Tool execution completed
[2025-06-18 12:52:47] INFO     [agent_fsm:773] [48a2c5fd-4500-4395-8c37-666303e2ab7d] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:52:47] WARNING  [agent_fsm:803] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:52:47] INFO     [agent_fsm:665] [48a2c5fd-4500-4395-8c37-666303e2ab7d] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:52:47] DEBUG    [agent_fsm:680] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Turn count: 3, Action history length: 3
[2025-06-18 12:52:49] WARNING  [agent_fsm:1521] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:52:49] WARNING  [agent_fsm:1521] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:52:49] WARNING  [agent_fsm:1521] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:52:49] WARNING  [agent_fsm:1521] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 12:52:49] WARNING  [agent_fsm:1224] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:49] ERROR    [agent_fsm:1078] [48a2c5fd-4500-4395-8c37-666303e2ab7d] --- FSM STATE: ERROR ---
[2025-06-18 12:52:49] ERROR    [agent_fsm:1101] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:52:49] ERROR    [agent_fsm:1102] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:49] WARNING  [agent_fsm:1224] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:49] ERROR    [agent_fsm:1078] [48a2c5fd-4500-4395-8c37-666303e2ab7d] --- FSM STATE: ERROR ---
[2025-06-18 12:52:49] ERROR    [agent_fsm:1101] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:52:49] ERROR    [agent_fsm:1102] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:49] WARNING  [agent_fsm:1224] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:49] ERROR    [agent_fsm:1078] [48a2c5fd-4500-4395-8c37-666303e2ab7d] --- FSM STATE: ERROR ---
[2025-06-18 12:52:49] ERROR    [agent_fsm:1101] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:52:49] ERROR    [agent_fsm:1102] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:49] WARNING  [agent_fsm:1224] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:49] ERROR    [agent_fsm:1078] [48a2c5fd-4500-4395-8c37-666303e2ab7d] --- FSM STATE: ERROR ---
[2025-06-18 12:52:49] ERROR    [agent_fsm:1101] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:52:49] ERROR    [agent_fsm:1102] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:49] WARNING  [agent_fsm:1224] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:49] ERROR    [agent_fsm:1078] [48a2c5fd-4500-4395-8c37-666303e2ab7d] --- FSM STATE: ERROR ---
[2025-06-18 12:52:49] ERROR    [agent_fsm:1101] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:52:49] ERROR    [agent_fsm:1102] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:49] WARNING  [agent_fsm:1224] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:49] ERROR    [agent_fsm:1078] [48a2c5fd-4500-4395-8c37-666303e2ab7d] --- FSM STATE: ERROR ---
[2025-06-18 12:52:49] ERROR    [agent_fsm:1101] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:52:49] ERROR    [agent_fsm:1102] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:49] WARNING  [agent_fsm:1224] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:49] ERROR    [agent_fsm:1078] [48a2c5fd-4500-4395-8c37-666303e2ab7d] --- FSM STATE: ERROR ---
[2025-06-18 12:52:49] ERROR    [agent_fsm:1101] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:52:49] ERROR    [agent_fsm:1102] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:49] WARNING  [agent_fsm:1224] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:49] ERROR    [agent_fsm:1078] [48a2c5fd-4500-4395-8c37-666303e2ab7d] --- FSM STATE: ERROR ---
[2025-06-18 12:52:49] ERROR    [agent_fsm:1101] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:52:49] ERROR    [agent_fsm:1102] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:49] WARNING  [agent_fsm:1224] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:49] ERROR    [agent_fsm:1078] [48a2c5fd-4500-4395-8c37-666303e2ab7d] --- FSM STATE: ERROR ---
[2025-06-18 12:52:49] ERROR    [agent_fsm:1101] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:52:49] ERROR    [agent_fsm:1102] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:49] WARNING  [agent_fsm:1224] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:49] ERROR    [agent_fsm:1078] [48a2c5fd-4500-4395-8c37-666303e2ab7d] --- FSM STATE: ERROR ---
[2025-06-18 12:52:49] ERROR    [agent_fsm:1101] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:52:49] ERROR    [agent_fsm:1102] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:49] WARNING  [agent_fsm:1224] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:49] ERROR    [agent_fsm:1078] [48a2c5fd-4500-4395-8c37-666303e2ab7d] --- FSM STATE: ERROR ---
[2025-06-18 12:52:49] ERROR    [agent_fsm:1101] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:52:49] ERROR    [agent_fsm:1102] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:49] WARNING  [agent_fsm:1224] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:49] ERROR    [agent_fsm:1078] [48a2c5fd-4500-4395-8c37-666303e2ab7d] --- FSM STATE: ERROR ---
[2025-06-18 12:52:49] ERROR    [agent_fsm:1101] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:52:49] ERROR    [agent_fsm:1102] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:49] WARNING  [agent_fsm:1224] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:49] ERROR    [agent_fsm:1078] [48a2c5fd-4500-4395-8c37-666303e2ab7d] --- FSM STATE: ERROR ---
[2025-06-18 12:52:49] ERROR    [agent_fsm:1101] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:52:49] ERROR    [agent_fsm:1102] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:49] WARNING  [agent_fsm:1224] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:49] ERROR    [agent_fsm:1078] [48a2c5fd-4500-4395-8c37-666303e2ab7d] --- FSM STATE: ERROR ---
[2025-06-18 12:52:49] ERROR    [agent_fsm:1101] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:52:49] ERROR    [agent_fsm:1102] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:49] WARNING  [agent_fsm:1224] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:49] ERROR    [agent_fsm:1078] [48a2c5fd-4500-4395-8c37-666303e2ab7d] --- FSM STATE: ERROR ---
[2025-06-18 12:52:49] ERROR    [agent_fsm:1101] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:52:49] ERROR    [agent_fsm:1102] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:49] WARNING  [agent_fsm:1224] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:49] ERROR    [agent_fsm:1078] [48a2c5fd-4500-4395-8c37-666303e2ab7d] --- FSM STATE: ERROR ---
[2025-06-18 12:52:49] ERROR    [agent_fsm:1101] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:52:49] ERROR    [agent_fsm:1102] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:49] WARNING  [agent_fsm:1224] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:49] ERROR    [agent_fsm:1078] [48a2c5fd-4500-4395-8c37-666303e2ab7d] --- FSM STATE: ERROR ---
[2025-06-18 12:52:49] ERROR    [agent_fsm:1101] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:52:49] ERROR    [agent_fsm:1102] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:49] WARNING  [agent_fsm:1224] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:49] ERROR    [agent_fsm:1078] [48a2c5fd-4500-4395-8c37-666303e2ab7d] --- FSM STATE: ERROR ---
[2025-06-18 12:52:49] ERROR    [agent_fsm:1101] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:52:49] ERROR    [agent_fsm:1102] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:49] WARNING  [agent_fsm:1224] [48a2c5fd-4500-4395-8c37-666303e2ab7d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:49] ERROR    [agent_fsm:1837] [48a2c5fd-4500-4395-8c37-666303e2ab7d] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:52:49] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 12:52:49] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 12:52:49] INFO     [agent_fsm:570] [d170d4b4-82b8-4093-88b2-819c37d22db5] Building resilient FSM graph
[2025-06-18 12:52:49] INFO     [agent_fsm:572] [d170d4b4-82b8-4093-88b2-819c37d22db5] FSMReActAgent graph built successfully
[2025-06-18 12:52:49] INFO     [agent_fsm:1752] [cf79f74f-0762-4df3-8586-662ed6eff4ff] Starting resilient FSM execution
[2025-06-18 12:52:49] WARNING  [agent_fsm:1759] [cf79f74f-0762-4df3-8586-662ed6eff4ff] FSM agent rejecting invalid input: '{{' - 1 validation error for ValidatedQuery
query
  Value error, Invalid placeholder query received: '{{' [type=value_error, input_value='{{', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/value_error
[2025-06-18 12:52:49] INFO     [agent_fsm:1752] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Starting resilient FSM execution
[2025-06-18 12:52:49] INFO     [agent_fsm:1807] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] FSM STATE: INITIAL
[2025-06-18 12:52:49] INFO     [agent_fsm:665] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:52:49] DEBUG    [agent_fsm:680] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Turn count: 1, Action history length: 1
[2025-06-18 12:52:50] INFO     [agent_fsm:773] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:52:50] INFO     [agent_fsm:820] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Executing tool: web_researcher with input: {'query': 'What is 2 + 2?', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 12:52:50] INFO     [agent_fsm:922] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Tool execution completed
[2025-06-18 12:52:50] INFO     [agent_fsm:773] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:52:50] WARNING  [agent_fsm:803] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:52:50] INFO     [agent_fsm:665] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:52:50] DEBUG    [agent_fsm:680] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Turn count: 2, Action history length: 2
[2025-06-18 12:52:51] INFO     [agent_fsm:773] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:52:51] INFO     [agent_fsm:820] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Executing tool: semantic_search_tool with input: {'query': '2 + 2', 'filename': 'knowledge_base.csv', 'top_k': 3}
[2025-06-18 12:52:51] INFO     [agent_fsm:922] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Tool execution completed
[2025-06-18 12:52:51] INFO     [agent_fsm:773] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:52:51] WARNING  [agent_fsm:803] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:52:51] INFO     [agent_fsm:665] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:52:51] DEBUG    [agent_fsm:680] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Turn count: 3, Action history length: 3
[2025-06-18 12:52:53] WARNING  [agent_fsm:1333] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Tool image_analyzer not found in registry, will use stub
[2025-06-18 12:52:53] WARNING  [agent_fsm:1224] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:53] ERROR    [agent_fsm:1078] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] --- FSM STATE: ERROR ---
[2025-06-18 12:52:53] ERROR    [agent_fsm:1101] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:52:53] ERROR    [agent_fsm:1102] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:53] WARNING  [agent_fsm:1224] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:53] ERROR    [agent_fsm:1078] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] --- FSM STATE: ERROR ---
[2025-06-18 12:52:53] ERROR    [agent_fsm:1101] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:52:53] ERROR    [agent_fsm:1102] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:53] WARNING  [agent_fsm:1224] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:53] ERROR    [agent_fsm:1078] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] --- FSM STATE: ERROR ---
[2025-06-18 12:52:53] ERROR    [agent_fsm:1101] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:52:53] ERROR    [agent_fsm:1102] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:53] WARNING  [agent_fsm:1224] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:53] ERROR    [agent_fsm:1078] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] --- FSM STATE: ERROR ---
[2025-06-18 12:52:53] ERROR    [agent_fsm:1101] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:52:53] ERROR    [agent_fsm:1102] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:53] WARNING  [agent_fsm:1224] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:53] ERROR    [agent_fsm:1078] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] --- FSM STATE: ERROR ---
[2025-06-18 12:52:53] ERROR    [agent_fsm:1101] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:52:53] ERROR    [agent_fsm:1102] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:53] WARNING  [agent_fsm:1224] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:53] ERROR    [agent_fsm:1078] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] --- FSM STATE: ERROR ---
[2025-06-18 12:52:53] ERROR    [agent_fsm:1101] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:52:53] ERROR    [agent_fsm:1102] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:53] WARNING  [agent_fsm:1224] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:53] ERROR    [agent_fsm:1078] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] --- FSM STATE: ERROR ---
[2025-06-18 12:52:53] ERROR    [agent_fsm:1101] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:52:53] ERROR    [agent_fsm:1102] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:53] WARNING  [agent_fsm:1224] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:53] ERROR    [agent_fsm:1078] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] --- FSM STATE: ERROR ---
[2025-06-18 12:52:53] ERROR    [agent_fsm:1101] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:52:53] ERROR    [agent_fsm:1102] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:53] WARNING  [agent_fsm:1224] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:53] ERROR    [agent_fsm:1078] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] --- FSM STATE: ERROR ---
[2025-06-18 12:52:53] ERROR    [agent_fsm:1101] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:52:53] ERROR    [agent_fsm:1102] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:53] WARNING  [agent_fsm:1224] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:53] ERROR    [agent_fsm:1078] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] --- FSM STATE: ERROR ---
[2025-06-18 12:52:53] ERROR    [agent_fsm:1101] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:52:53] ERROR    [agent_fsm:1102] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:53] WARNING  [agent_fsm:1224] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:53] ERROR    [agent_fsm:1078] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] --- FSM STATE: ERROR ---
[2025-06-18 12:52:53] ERROR    [agent_fsm:1101] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:52:53] ERROR    [agent_fsm:1102] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:53] WARNING  [agent_fsm:1224] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:53] ERROR    [agent_fsm:1078] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] --- FSM STATE: ERROR ---
[2025-06-18 12:52:53] ERROR    [agent_fsm:1101] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:52:53] ERROR    [agent_fsm:1102] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:53] WARNING  [agent_fsm:1224] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:53] ERROR    [agent_fsm:1078] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] --- FSM STATE: ERROR ---
[2025-06-18 12:52:53] ERROR    [agent_fsm:1101] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:52:53] ERROR    [agent_fsm:1102] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:53] WARNING  [agent_fsm:1224] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:53] ERROR    [agent_fsm:1078] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] --- FSM STATE: ERROR ---
[2025-06-18 12:52:53] ERROR    [agent_fsm:1101] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:52:53] ERROR    [agent_fsm:1102] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:53] WARNING  [agent_fsm:1224] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:53] ERROR    [agent_fsm:1078] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] --- FSM STATE: ERROR ---
[2025-06-18 12:52:53] ERROR    [agent_fsm:1101] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:52:53] ERROR    [agent_fsm:1102] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:53] WARNING  [agent_fsm:1224] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:53] ERROR    [agent_fsm:1078] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] --- FSM STATE: ERROR ---
[2025-06-18 12:52:53] ERROR    [agent_fsm:1101] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:52:53] ERROR    [agent_fsm:1102] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:53] WARNING  [agent_fsm:1224] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:53] ERROR    [agent_fsm:1078] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] --- FSM STATE: ERROR ---
[2025-06-18 12:52:53] ERROR    [agent_fsm:1101] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:52:53] ERROR    [agent_fsm:1102] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:53] WARNING  [agent_fsm:1224] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:53] ERROR    [agent_fsm:1078] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] --- FSM STATE: ERROR ---
[2025-06-18 12:52:53] ERROR    [agent_fsm:1101] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:52:53] ERROR    [agent_fsm:1102] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:52:53] WARNING  [agent_fsm:1224] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:52:53] ERROR    [agent_fsm:1837] [8c04074e-3af2-4a5d-9cb7-7175c9c56dc2] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:52:53] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 12:52:53] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 12:52:53] INFO     [agent_fsm:570] [1725e765-0b22-46c5-9e65-af8039ed9c9d] Building resilient FSM graph
[2025-06-18 12:52:53] INFO     [agent_fsm:572] [1725e765-0b22-46c5-9e65-af8039ed9c9d] FSMReActAgent graph built successfully
[2025-06-18 12:54:28] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 12:54:28] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 12:54:28] INFO     [agent_fsm:570] [11f4abd9-5d56-4bfd-8315-047ad52011a8] Building resilient FSM graph
[2025-06-18 12:54:28] INFO     [agent_fsm:572] [11f4abd9-5d56-4bfd-8315-047ad52011a8] FSMReActAgent graph built successfully
[2025-06-18 12:54:28] INFO     [agent_fsm:1752] [348dab6c-c00c-4169-a1f0-18666f72d47d] Starting resilient FSM execution
[2025-06-18 12:54:28] INFO     [agent_fsm:1807] [348dab6c-c00c-4169-a1f0-18666f72d47d] FSM STATE: INITIAL
[2025-06-18 12:54:28] INFO     [agent_fsm:665] [348dab6c-c00c-4169-a1f0-18666f72d47d] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:54:28] DEBUG    [agent_fsm:680] [348dab6c-c00c-4169-a1f0-18666f72d47d] Turn count: 1, Action history length: 1
[2025-06-18 12:54:30] WARNING  [agent_fsm:1333] [348dab6c-c00c-4169-a1f0-18666f72d47d] Tool image_analyzer not found in registry, will use stub
[2025-06-18 12:54:30] INFO     [agent_fsm:773] [348dab6c-c00c-4169-a1f0-18666f72d47d] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:54:30] INFO     [agent_fsm:820] [348dab6c-c00c-4169-a1f0-18666f72d47d] Executing tool: web_researcher with input: {'query': 'capital of France', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 12:54:30] INFO     [agent_fsm:922] [348dab6c-c00c-4169-a1f0-18666f72d47d] Tool execution completed
[2025-06-18 12:54:30] INFO     [agent_fsm:773] [348dab6c-c00c-4169-a1f0-18666f72d47d] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:54:30] WARNING  [agent_fsm:803] [348dab6c-c00c-4169-a1f0-18666f72d47d] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:54:30] INFO     [agent_fsm:665] [348dab6c-c00c-4169-a1f0-18666f72d47d] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:54:30] DEBUG    [agent_fsm:680] [348dab6c-c00c-4169-a1f0-18666f72d47d] Turn count: 2, Action history length: 2
[2025-06-18 12:54:31] WARNING  [agent_fsm:1521] [348dab6c-c00c-4169-a1f0-18666f72d47d] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:54:31] INFO     [agent_fsm:773] [348dab6c-c00c-4169-a1f0-18666f72d47d] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:54:31] WARNING  [agent_fsm:803] [348dab6c-c00c-4169-a1f0-18666f72d47d] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:54:31] INFO     [agent_fsm:665] [348dab6c-c00c-4169-a1f0-18666f72d47d] --- FSM STATE: PLANNING (Step 3) ---
[2025-06-18 12:54:31] DEBUG    [agent_fsm:680] [348dab6c-c00c-4169-a1f0-18666f72d47d] Turn count: 3, Action history length: 3
[2025-06-18 12:54:32] WARNING  [agent_fsm:1521] [348dab6c-c00c-4169-a1f0-18666f72d47d] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:54:32] WARNING  [agent_fsm:1224] [348dab6c-c00c-4169-a1f0-18666f72d47d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:32] ERROR    [agent_fsm:1078] [348dab6c-c00c-4169-a1f0-18666f72d47d] --- FSM STATE: ERROR ---
[2025-06-18 12:54:32] ERROR    [agent_fsm:1101] [348dab6c-c00c-4169-a1f0-18666f72d47d] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:54:32] ERROR    [agent_fsm:1102] [348dab6c-c00c-4169-a1f0-18666f72d47d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:32] WARNING  [agent_fsm:1224] [348dab6c-c00c-4169-a1f0-18666f72d47d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:32] ERROR    [agent_fsm:1078] [348dab6c-c00c-4169-a1f0-18666f72d47d] --- FSM STATE: ERROR ---
[2025-06-18 12:54:32] ERROR    [agent_fsm:1101] [348dab6c-c00c-4169-a1f0-18666f72d47d] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:54:32] ERROR    [agent_fsm:1102] [348dab6c-c00c-4169-a1f0-18666f72d47d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:32] WARNING  [agent_fsm:1224] [348dab6c-c00c-4169-a1f0-18666f72d47d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:32] ERROR    [agent_fsm:1078] [348dab6c-c00c-4169-a1f0-18666f72d47d] --- FSM STATE: ERROR ---
[2025-06-18 12:54:32] ERROR    [agent_fsm:1101] [348dab6c-c00c-4169-a1f0-18666f72d47d] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:54:32] ERROR    [agent_fsm:1102] [348dab6c-c00c-4169-a1f0-18666f72d47d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:32] WARNING  [agent_fsm:1224] [348dab6c-c00c-4169-a1f0-18666f72d47d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:32] ERROR    [agent_fsm:1078] [348dab6c-c00c-4169-a1f0-18666f72d47d] --- FSM STATE: ERROR ---
[2025-06-18 12:54:32] ERROR    [agent_fsm:1101] [348dab6c-c00c-4169-a1f0-18666f72d47d] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:54:32] ERROR    [agent_fsm:1102] [348dab6c-c00c-4169-a1f0-18666f72d47d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:32] WARNING  [agent_fsm:1224] [348dab6c-c00c-4169-a1f0-18666f72d47d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:32] ERROR    [agent_fsm:1078] [348dab6c-c00c-4169-a1f0-18666f72d47d] --- FSM STATE: ERROR ---
[2025-06-18 12:54:32] ERROR    [agent_fsm:1101] [348dab6c-c00c-4169-a1f0-18666f72d47d] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:54:32] ERROR    [agent_fsm:1102] [348dab6c-c00c-4169-a1f0-18666f72d47d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:32] WARNING  [agent_fsm:1224] [348dab6c-c00c-4169-a1f0-18666f72d47d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:32] ERROR    [agent_fsm:1078] [348dab6c-c00c-4169-a1f0-18666f72d47d] --- FSM STATE: ERROR ---
[2025-06-18 12:54:32] ERROR    [agent_fsm:1101] [348dab6c-c00c-4169-a1f0-18666f72d47d] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:54:32] ERROR    [agent_fsm:1102] [348dab6c-c00c-4169-a1f0-18666f72d47d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:32] WARNING  [agent_fsm:1224] [348dab6c-c00c-4169-a1f0-18666f72d47d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:32] ERROR    [agent_fsm:1078] [348dab6c-c00c-4169-a1f0-18666f72d47d] --- FSM STATE: ERROR ---
[2025-06-18 12:54:32] ERROR    [agent_fsm:1101] [348dab6c-c00c-4169-a1f0-18666f72d47d] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:54:32] ERROR    [agent_fsm:1102] [348dab6c-c00c-4169-a1f0-18666f72d47d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:32] WARNING  [agent_fsm:1224] [348dab6c-c00c-4169-a1f0-18666f72d47d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:32] ERROR    [agent_fsm:1078] [348dab6c-c00c-4169-a1f0-18666f72d47d] --- FSM STATE: ERROR ---
[2025-06-18 12:54:32] ERROR    [agent_fsm:1101] [348dab6c-c00c-4169-a1f0-18666f72d47d] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:54:32] ERROR    [agent_fsm:1102] [348dab6c-c00c-4169-a1f0-18666f72d47d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:32] WARNING  [agent_fsm:1224] [348dab6c-c00c-4169-a1f0-18666f72d47d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:32] ERROR    [agent_fsm:1078] [348dab6c-c00c-4169-a1f0-18666f72d47d] --- FSM STATE: ERROR ---
[2025-06-18 12:54:32] ERROR    [agent_fsm:1101] [348dab6c-c00c-4169-a1f0-18666f72d47d] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:54:32] ERROR    [agent_fsm:1102] [348dab6c-c00c-4169-a1f0-18666f72d47d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:32] WARNING  [agent_fsm:1224] [348dab6c-c00c-4169-a1f0-18666f72d47d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:32] ERROR    [agent_fsm:1078] [348dab6c-c00c-4169-a1f0-18666f72d47d] --- FSM STATE: ERROR ---
[2025-06-18 12:54:32] ERROR    [agent_fsm:1101] [348dab6c-c00c-4169-a1f0-18666f72d47d] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:54:32] ERROR    [agent_fsm:1102] [348dab6c-c00c-4169-a1f0-18666f72d47d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:32] WARNING  [agent_fsm:1224] [348dab6c-c00c-4169-a1f0-18666f72d47d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:32] ERROR    [agent_fsm:1078] [348dab6c-c00c-4169-a1f0-18666f72d47d] --- FSM STATE: ERROR ---
[2025-06-18 12:54:32] ERROR    [agent_fsm:1101] [348dab6c-c00c-4169-a1f0-18666f72d47d] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:54:32] ERROR    [agent_fsm:1102] [348dab6c-c00c-4169-a1f0-18666f72d47d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:32] WARNING  [agent_fsm:1224] [348dab6c-c00c-4169-a1f0-18666f72d47d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:32] ERROR    [agent_fsm:1078] [348dab6c-c00c-4169-a1f0-18666f72d47d] --- FSM STATE: ERROR ---
[2025-06-18 12:54:32] ERROR    [agent_fsm:1101] [348dab6c-c00c-4169-a1f0-18666f72d47d] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:54:32] ERROR    [agent_fsm:1102] [348dab6c-c00c-4169-a1f0-18666f72d47d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:32] WARNING  [agent_fsm:1224] [348dab6c-c00c-4169-a1f0-18666f72d47d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:32] ERROR    [agent_fsm:1078] [348dab6c-c00c-4169-a1f0-18666f72d47d] --- FSM STATE: ERROR ---
[2025-06-18 12:54:32] ERROR    [agent_fsm:1101] [348dab6c-c00c-4169-a1f0-18666f72d47d] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:54:32] ERROR    [agent_fsm:1102] [348dab6c-c00c-4169-a1f0-18666f72d47d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:32] WARNING  [agent_fsm:1224] [348dab6c-c00c-4169-a1f0-18666f72d47d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:32] ERROR    [agent_fsm:1078] [348dab6c-c00c-4169-a1f0-18666f72d47d] --- FSM STATE: ERROR ---
[2025-06-18 12:54:32] ERROR    [agent_fsm:1101] [348dab6c-c00c-4169-a1f0-18666f72d47d] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:54:32] ERROR    [agent_fsm:1102] [348dab6c-c00c-4169-a1f0-18666f72d47d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:32] WARNING  [agent_fsm:1224] [348dab6c-c00c-4169-a1f0-18666f72d47d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:32] ERROR    [agent_fsm:1078] [348dab6c-c00c-4169-a1f0-18666f72d47d] --- FSM STATE: ERROR ---
[2025-06-18 12:54:32] ERROR    [agent_fsm:1101] [348dab6c-c00c-4169-a1f0-18666f72d47d] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:54:32] ERROR    [agent_fsm:1102] [348dab6c-c00c-4169-a1f0-18666f72d47d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:32] WARNING  [agent_fsm:1224] [348dab6c-c00c-4169-a1f0-18666f72d47d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:32] ERROR    [agent_fsm:1078] [348dab6c-c00c-4169-a1f0-18666f72d47d] --- FSM STATE: ERROR ---
[2025-06-18 12:54:32] ERROR    [agent_fsm:1101] [348dab6c-c00c-4169-a1f0-18666f72d47d] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:54:32] ERROR    [agent_fsm:1102] [348dab6c-c00c-4169-a1f0-18666f72d47d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:32] WARNING  [agent_fsm:1224] [348dab6c-c00c-4169-a1f0-18666f72d47d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:32] ERROR    [agent_fsm:1078] [348dab6c-c00c-4169-a1f0-18666f72d47d] --- FSM STATE: ERROR ---
[2025-06-18 12:54:32] ERROR    [agent_fsm:1101] [348dab6c-c00c-4169-a1f0-18666f72d47d] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:54:32] ERROR    [agent_fsm:1102] [348dab6c-c00c-4169-a1f0-18666f72d47d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:32] WARNING  [agent_fsm:1224] [348dab6c-c00c-4169-a1f0-18666f72d47d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:32] ERROR    [agent_fsm:1078] [348dab6c-c00c-4169-a1f0-18666f72d47d] --- FSM STATE: ERROR ---
[2025-06-18 12:54:32] ERROR    [agent_fsm:1101] [348dab6c-c00c-4169-a1f0-18666f72d47d] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:54:32] ERROR    [agent_fsm:1102] [348dab6c-c00c-4169-a1f0-18666f72d47d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:32] WARNING  [agent_fsm:1224] [348dab6c-c00c-4169-a1f0-18666f72d47d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:32] ERROR    [agent_fsm:1078] [348dab6c-c00c-4169-a1f0-18666f72d47d] --- FSM STATE: ERROR ---
[2025-06-18 12:54:32] ERROR    [agent_fsm:1101] [348dab6c-c00c-4169-a1f0-18666f72d47d] Error category: GENERAL, Occurrences: 19
[2025-06-18 12:54:32] ERROR    [agent_fsm:1102] [348dab6c-c00c-4169-a1f0-18666f72d47d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:32] WARNING  [agent_fsm:1224] [348dab6c-c00c-4169-a1f0-18666f72d47d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:32] ERROR    [agent_fsm:1837] [348dab6c-c00c-4169-a1f0-18666f72d47d] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:54:32] INFO     [agent_fsm:1752] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Starting resilient FSM execution
[2025-06-18 12:54:32] INFO     [agent_fsm:1807] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] FSM STATE: INITIAL
[2025-06-18 12:54:32] INFO     [agent_fsm:665] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:54:32] DEBUG    [agent_fsm:680] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Turn count: 1, Action history length: 1
[2025-06-18 12:54:33] WARNING  [agent_fsm:1521] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:54:33] INFO     [agent_fsm:773] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:54:33] INFO     [agent_fsm:820] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Executing tool: web_researcher with input: {'query': 'definition of a leap year', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 12:54:33] INFO     [agent_fsm:922] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Tool execution completed
[2025-06-18 12:54:33] INFO     [agent_fsm:773] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:54:33] WARNING  [agent_fsm:803] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:54:33] INFO     [agent_fsm:665] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:54:33] DEBUG    [agent_fsm:680] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Turn count: 2, Action history length: 2
[2025-06-18 12:54:34] INFO     [agent_fsm:773] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:54:34] INFO     [agent_fsm:820] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Executing tool: semantic_search_tool with input: {'query': 'characteristics of a leap year', 'filename': 'knowledge_base.csv', 'top_k': 3}
[2025-06-18 12:54:34] INFO     [agent_fsm:922] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Tool execution completed
[2025-06-18 12:54:34] INFO     [agent_fsm:773] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:54:34] WARNING  [agent_fsm:803] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:54:34] INFO     [agent_fsm:665] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:54:34] DEBUG    [agent_fsm:680] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Turn count: 3, Action history length: 3
[2025-06-18 12:54:35] WARNING  [agent_fsm:1224] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:35] ERROR    [agent_fsm:1078] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] --- FSM STATE: ERROR ---
[2025-06-18 12:54:35] ERROR    [agent_fsm:1101] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:54:35] ERROR    [agent_fsm:1102] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:35] WARNING  [agent_fsm:1224] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:35] ERROR    [agent_fsm:1078] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] --- FSM STATE: ERROR ---
[2025-06-18 12:54:35] ERROR    [agent_fsm:1101] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:54:35] ERROR    [agent_fsm:1102] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:35] WARNING  [agent_fsm:1224] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:35] ERROR    [agent_fsm:1078] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] --- FSM STATE: ERROR ---
[2025-06-18 12:54:35] ERROR    [agent_fsm:1101] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:54:35] ERROR    [agent_fsm:1102] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:35] WARNING  [agent_fsm:1224] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:35] ERROR    [agent_fsm:1078] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] --- FSM STATE: ERROR ---
[2025-06-18 12:54:35] ERROR    [agent_fsm:1101] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:54:35] ERROR    [agent_fsm:1102] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:35] WARNING  [agent_fsm:1224] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:35] ERROR    [agent_fsm:1078] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] --- FSM STATE: ERROR ---
[2025-06-18 12:54:35] ERROR    [agent_fsm:1101] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:54:35] ERROR    [agent_fsm:1102] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:35] WARNING  [agent_fsm:1224] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:35] ERROR    [agent_fsm:1078] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] --- FSM STATE: ERROR ---
[2025-06-18 12:54:35] ERROR    [agent_fsm:1101] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:54:35] ERROR    [agent_fsm:1102] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:35] WARNING  [agent_fsm:1224] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:35] ERROR    [agent_fsm:1078] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] --- FSM STATE: ERROR ---
[2025-06-18 12:54:35] ERROR    [agent_fsm:1101] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:54:35] ERROR    [agent_fsm:1102] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:35] WARNING  [agent_fsm:1224] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:35] ERROR    [agent_fsm:1078] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] --- FSM STATE: ERROR ---
[2025-06-18 12:54:35] ERROR    [agent_fsm:1101] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:54:35] ERROR    [agent_fsm:1102] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:35] WARNING  [agent_fsm:1224] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:35] ERROR    [agent_fsm:1078] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] --- FSM STATE: ERROR ---
[2025-06-18 12:54:35] ERROR    [agent_fsm:1101] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:54:35] ERROR    [agent_fsm:1102] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:35] WARNING  [agent_fsm:1224] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:35] ERROR    [agent_fsm:1078] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] --- FSM STATE: ERROR ---
[2025-06-18 12:54:35] ERROR    [agent_fsm:1101] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:54:35] ERROR    [agent_fsm:1102] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:35] WARNING  [agent_fsm:1224] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:35] ERROR    [agent_fsm:1078] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] --- FSM STATE: ERROR ---
[2025-06-18 12:54:35] ERROR    [agent_fsm:1101] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:54:35] ERROR    [agent_fsm:1102] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:35] WARNING  [agent_fsm:1224] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:35] ERROR    [agent_fsm:1078] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] --- FSM STATE: ERROR ---
[2025-06-18 12:54:35] ERROR    [agent_fsm:1101] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:54:35] ERROR    [agent_fsm:1102] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:35] WARNING  [agent_fsm:1224] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:35] ERROR    [agent_fsm:1078] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] --- FSM STATE: ERROR ---
[2025-06-18 12:54:35] ERROR    [agent_fsm:1101] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:54:35] ERROR    [agent_fsm:1102] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:35] WARNING  [agent_fsm:1224] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:35] ERROR    [agent_fsm:1078] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] --- FSM STATE: ERROR ---
[2025-06-18 12:54:35] ERROR    [agent_fsm:1101] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:54:35] ERROR    [agent_fsm:1102] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:35] WARNING  [agent_fsm:1224] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:35] ERROR    [agent_fsm:1078] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] --- FSM STATE: ERROR ---
[2025-06-18 12:54:35] ERROR    [agent_fsm:1101] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:54:35] ERROR    [agent_fsm:1102] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:35] WARNING  [agent_fsm:1224] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:35] ERROR    [agent_fsm:1078] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] --- FSM STATE: ERROR ---
[2025-06-18 12:54:35] ERROR    [agent_fsm:1101] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:54:35] ERROR    [agent_fsm:1102] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:35] WARNING  [agent_fsm:1224] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:35] ERROR    [agent_fsm:1078] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] --- FSM STATE: ERROR ---
[2025-06-18 12:54:35] ERROR    [agent_fsm:1101] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:54:35] ERROR    [agent_fsm:1102] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:35] WARNING  [agent_fsm:1224] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:35] ERROR    [agent_fsm:1078] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] --- FSM STATE: ERROR ---
[2025-06-18 12:54:35] ERROR    [agent_fsm:1101] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:54:35] ERROR    [agent_fsm:1102] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:35] WARNING  [agent_fsm:1224] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:35] ERROR    [agent_fsm:1837] [6888a8e9-b646-4de9-9151-cab0bd4e49f2] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:54:35] INFO     [agent_fsm:1752] [32b16bcc-20cd-4794-b402-2d2425baba70] Starting resilient FSM execution
[2025-06-18 12:54:35] INFO     [agent_fsm:1807] [32b16bcc-20cd-4794-b402-2d2425baba70] FSM STATE: INITIAL
[2025-06-18 12:54:35] INFO     [agent_fsm:665] [32b16bcc-20cd-4794-b402-2d2425baba70] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:54:35] DEBUG    [agent_fsm:680] [32b16bcc-20cd-4794-b402-2d2425baba70] Turn count: 1, Action history length: 1
[2025-06-18 12:54:35] WARNING  [agent_fsm:1521] [32b16bcc-20cd-4794-b402-2d2425baba70] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:54:35] INFO     [agent_fsm:773] [32b16bcc-20cd-4794-b402-2d2425baba70] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:54:35] INFO     [agent_fsm:820] [32b16bcc-20cd-4794-b402-2d2425baba70] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:54:35] INFO     [agent_fsm:922] [32b16bcc-20cd-4794-b402-2d2425baba70] Tool execution completed
[2025-06-18 12:54:35] INFO     [agent_fsm:773] [32b16bcc-20cd-4794-b402-2d2425baba70] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:54:35] WARNING  [agent_fsm:803] [32b16bcc-20cd-4794-b402-2d2425baba70] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:54:35] INFO     [agent_fsm:665] [32b16bcc-20cd-4794-b402-2d2425baba70] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:54:35] DEBUG    [agent_fsm:680] [32b16bcc-20cd-4794-b402-2d2425baba70] Turn count: 2, Action history length: 2
[2025-06-18 12:54:36] WARNING  [agent_fsm:1521] [32b16bcc-20cd-4794-b402-2d2425baba70] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:54:36] INFO     [agent_fsm:773] [32b16bcc-20cd-4794-b402-2d2425baba70] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:54:36] INFO     [agent_fsm:820] [32b16bcc-20cd-4794-b402-2d2425baba70] Executing tool: python_interpreter with input: {'code': 'result = ; print(result)'}
[2025-06-18 12:54:36] INFO     [agent_fsm:922] [32b16bcc-20cd-4794-b402-2d2425baba70] Tool execution completed
[2025-06-18 12:54:36] INFO     [agent_fsm:773] [32b16bcc-20cd-4794-b402-2d2425baba70] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:54:36] WARNING  [agent_fsm:803] [32b16bcc-20cd-4794-b402-2d2425baba70] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:54:36] INFO     [agent_fsm:665] [32b16bcc-20cd-4794-b402-2d2425baba70] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:54:36] DEBUG    [agent_fsm:680] [32b16bcc-20cd-4794-b402-2d2425baba70] Turn count: 3, Action history length: 3
[2025-06-18 12:54:37] WARNING  [agent_fsm:1521] [32b16bcc-20cd-4794-b402-2d2425baba70] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:54:37] WARNING  [agent_fsm:1521] [32b16bcc-20cd-4794-b402-2d2425baba70] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:54:37] WARNING  [agent_fsm:1521] [32b16bcc-20cd-4794-b402-2d2425baba70] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:54:37] WARNING  [agent_fsm:1224] [32b16bcc-20cd-4794-b402-2d2425baba70] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:37] ERROR    [agent_fsm:1078] [32b16bcc-20cd-4794-b402-2d2425baba70] --- FSM STATE: ERROR ---
[2025-06-18 12:54:37] ERROR    [agent_fsm:1101] [32b16bcc-20cd-4794-b402-2d2425baba70] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:54:37] ERROR    [agent_fsm:1102] [32b16bcc-20cd-4794-b402-2d2425baba70] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:37] WARNING  [agent_fsm:1224] [32b16bcc-20cd-4794-b402-2d2425baba70] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:37] ERROR    [agent_fsm:1078] [32b16bcc-20cd-4794-b402-2d2425baba70] --- FSM STATE: ERROR ---
[2025-06-18 12:54:37] ERROR    [agent_fsm:1101] [32b16bcc-20cd-4794-b402-2d2425baba70] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:54:37] ERROR    [agent_fsm:1102] [32b16bcc-20cd-4794-b402-2d2425baba70] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:37] WARNING  [agent_fsm:1224] [32b16bcc-20cd-4794-b402-2d2425baba70] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:37] ERROR    [agent_fsm:1078] [32b16bcc-20cd-4794-b402-2d2425baba70] --- FSM STATE: ERROR ---
[2025-06-18 12:54:37] ERROR    [agent_fsm:1101] [32b16bcc-20cd-4794-b402-2d2425baba70] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:54:37] ERROR    [agent_fsm:1102] [32b16bcc-20cd-4794-b402-2d2425baba70] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:37] WARNING  [agent_fsm:1224] [32b16bcc-20cd-4794-b402-2d2425baba70] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:37] ERROR    [agent_fsm:1078] [32b16bcc-20cd-4794-b402-2d2425baba70] --- FSM STATE: ERROR ---
[2025-06-18 12:54:37] ERROR    [agent_fsm:1101] [32b16bcc-20cd-4794-b402-2d2425baba70] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:54:37] ERROR    [agent_fsm:1102] [32b16bcc-20cd-4794-b402-2d2425baba70] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:37] WARNING  [agent_fsm:1224] [32b16bcc-20cd-4794-b402-2d2425baba70] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:37] ERROR    [agent_fsm:1078] [32b16bcc-20cd-4794-b402-2d2425baba70] --- FSM STATE: ERROR ---
[2025-06-18 12:54:37] ERROR    [agent_fsm:1101] [32b16bcc-20cd-4794-b402-2d2425baba70] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:54:37] ERROR    [agent_fsm:1102] [32b16bcc-20cd-4794-b402-2d2425baba70] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:37] WARNING  [agent_fsm:1224] [32b16bcc-20cd-4794-b402-2d2425baba70] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:37] ERROR    [agent_fsm:1078] [32b16bcc-20cd-4794-b402-2d2425baba70] --- FSM STATE: ERROR ---
[2025-06-18 12:54:37] ERROR    [agent_fsm:1101] [32b16bcc-20cd-4794-b402-2d2425baba70] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:54:37] ERROR    [agent_fsm:1102] [32b16bcc-20cd-4794-b402-2d2425baba70] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:37] WARNING  [agent_fsm:1224] [32b16bcc-20cd-4794-b402-2d2425baba70] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:37] ERROR    [agent_fsm:1078] [32b16bcc-20cd-4794-b402-2d2425baba70] --- FSM STATE: ERROR ---
[2025-06-18 12:54:37] ERROR    [agent_fsm:1101] [32b16bcc-20cd-4794-b402-2d2425baba70] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:54:37] ERROR    [agent_fsm:1102] [32b16bcc-20cd-4794-b402-2d2425baba70] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:37] WARNING  [agent_fsm:1224] [32b16bcc-20cd-4794-b402-2d2425baba70] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:37] ERROR    [agent_fsm:1078] [32b16bcc-20cd-4794-b402-2d2425baba70] --- FSM STATE: ERROR ---
[2025-06-18 12:54:37] ERROR    [agent_fsm:1101] [32b16bcc-20cd-4794-b402-2d2425baba70] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:54:37] ERROR    [agent_fsm:1102] [32b16bcc-20cd-4794-b402-2d2425baba70] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:37] WARNING  [agent_fsm:1224] [32b16bcc-20cd-4794-b402-2d2425baba70] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:37] ERROR    [agent_fsm:1078] [32b16bcc-20cd-4794-b402-2d2425baba70] --- FSM STATE: ERROR ---
[2025-06-18 12:54:37] ERROR    [agent_fsm:1101] [32b16bcc-20cd-4794-b402-2d2425baba70] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:54:37] ERROR    [agent_fsm:1102] [32b16bcc-20cd-4794-b402-2d2425baba70] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:37] WARNING  [agent_fsm:1224] [32b16bcc-20cd-4794-b402-2d2425baba70] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:37] ERROR    [agent_fsm:1078] [32b16bcc-20cd-4794-b402-2d2425baba70] --- FSM STATE: ERROR ---
[2025-06-18 12:54:37] ERROR    [agent_fsm:1101] [32b16bcc-20cd-4794-b402-2d2425baba70] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:54:37] ERROR    [agent_fsm:1102] [32b16bcc-20cd-4794-b402-2d2425baba70] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:37] WARNING  [agent_fsm:1224] [32b16bcc-20cd-4794-b402-2d2425baba70] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:37] ERROR    [agent_fsm:1078] [32b16bcc-20cd-4794-b402-2d2425baba70] --- FSM STATE: ERROR ---
[2025-06-18 12:54:37] ERROR    [agent_fsm:1101] [32b16bcc-20cd-4794-b402-2d2425baba70] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:54:37] ERROR    [agent_fsm:1102] [32b16bcc-20cd-4794-b402-2d2425baba70] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:37] WARNING  [agent_fsm:1224] [32b16bcc-20cd-4794-b402-2d2425baba70] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:37] ERROR    [agent_fsm:1078] [32b16bcc-20cd-4794-b402-2d2425baba70] --- FSM STATE: ERROR ---
[2025-06-18 12:54:37] ERROR    [agent_fsm:1101] [32b16bcc-20cd-4794-b402-2d2425baba70] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:54:37] ERROR    [agent_fsm:1102] [32b16bcc-20cd-4794-b402-2d2425baba70] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:37] WARNING  [agent_fsm:1224] [32b16bcc-20cd-4794-b402-2d2425baba70] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:37] ERROR    [agent_fsm:1078] [32b16bcc-20cd-4794-b402-2d2425baba70] --- FSM STATE: ERROR ---
[2025-06-18 12:54:37] ERROR    [agent_fsm:1101] [32b16bcc-20cd-4794-b402-2d2425baba70] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:54:37] ERROR    [agent_fsm:1102] [32b16bcc-20cd-4794-b402-2d2425baba70] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:37] WARNING  [agent_fsm:1224] [32b16bcc-20cd-4794-b402-2d2425baba70] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:37] ERROR    [agent_fsm:1078] [32b16bcc-20cd-4794-b402-2d2425baba70] --- FSM STATE: ERROR ---
[2025-06-18 12:54:37] ERROR    [agent_fsm:1101] [32b16bcc-20cd-4794-b402-2d2425baba70] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:54:37] ERROR    [agent_fsm:1102] [32b16bcc-20cd-4794-b402-2d2425baba70] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:37] WARNING  [agent_fsm:1224] [32b16bcc-20cd-4794-b402-2d2425baba70] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:37] ERROR    [agent_fsm:1078] [32b16bcc-20cd-4794-b402-2d2425baba70] --- FSM STATE: ERROR ---
[2025-06-18 12:54:37] ERROR    [agent_fsm:1101] [32b16bcc-20cd-4794-b402-2d2425baba70] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:54:37] ERROR    [agent_fsm:1102] [32b16bcc-20cd-4794-b402-2d2425baba70] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:37] WARNING  [agent_fsm:1224] [32b16bcc-20cd-4794-b402-2d2425baba70] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:37] ERROR    [agent_fsm:1078] [32b16bcc-20cd-4794-b402-2d2425baba70] --- FSM STATE: ERROR ---
[2025-06-18 12:54:37] ERROR    [agent_fsm:1101] [32b16bcc-20cd-4794-b402-2d2425baba70] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:54:37] ERROR    [agent_fsm:1102] [32b16bcc-20cd-4794-b402-2d2425baba70] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:37] WARNING  [agent_fsm:1224] [32b16bcc-20cd-4794-b402-2d2425baba70] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:37] ERROR    [agent_fsm:1078] [32b16bcc-20cd-4794-b402-2d2425baba70] --- FSM STATE: ERROR ---
[2025-06-18 12:54:37] ERROR    [agent_fsm:1101] [32b16bcc-20cd-4794-b402-2d2425baba70] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:54:37] ERROR    [agent_fsm:1102] [32b16bcc-20cd-4794-b402-2d2425baba70] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:37] WARNING  [agent_fsm:1224] [32b16bcc-20cd-4794-b402-2d2425baba70] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:37] ERROR    [agent_fsm:1078] [32b16bcc-20cd-4794-b402-2d2425baba70] --- FSM STATE: ERROR ---
[2025-06-18 12:54:37] ERROR    [agent_fsm:1101] [32b16bcc-20cd-4794-b402-2d2425baba70] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:54:37] ERROR    [agent_fsm:1102] [32b16bcc-20cd-4794-b402-2d2425baba70] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:37] WARNING  [agent_fsm:1224] [32b16bcc-20cd-4794-b402-2d2425baba70] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:37] ERROR    [agent_fsm:1837] [32b16bcc-20cd-4794-b402-2d2425baba70] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:54:37] INFO     [agent_fsm:1752] [85867921-34dd-4f23-ad81-47ab81229554] Starting resilient FSM execution
[2025-06-18 12:54:37] INFO     [agent_fsm:1807] [85867921-34dd-4f23-ad81-47ab81229554] FSM STATE: INITIAL
[2025-06-18 12:54:37] INFO     [agent_fsm:665] [85867921-34dd-4f23-ad81-47ab81229554] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:54:37] DEBUG    [agent_fsm:680] [85867921-34dd-4f23-ad81-47ab81229554] Turn count: 1, Action history length: 1
[2025-06-18 12:54:38] WARNING  [agent_fsm:1521] [85867921-34dd-4f23-ad81-47ab81229554] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:54:38] WARNING  [agent_fsm:1521] [85867921-34dd-4f23-ad81-47ab81229554] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:54:38] WARNING  [agent_fsm:1521] [85867921-34dd-4f23-ad81-47ab81229554] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:54:38] INFO     [agent_fsm:773] [85867921-34dd-4f23-ad81-47ab81229554] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:54:38] INFO     [agent_fsm:820] [85867921-34dd-4f23-ad81-47ab81229554] Executing tool: web_researcher with input: {'query': 'largest planet in our solar system', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 12:54:38] INFO     [agent_fsm:922] [85867921-34dd-4f23-ad81-47ab81229554] Tool execution completed
[2025-06-18 12:54:38] INFO     [agent_fsm:773] [85867921-34dd-4f23-ad81-47ab81229554] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:54:38] WARNING  [agent_fsm:803] [85867921-34dd-4f23-ad81-47ab81229554] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:54:38] INFO     [agent_fsm:665] [85867921-34dd-4f23-ad81-47ab81229554] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:54:38] DEBUG    [agent_fsm:680] [85867921-34dd-4f23-ad81-47ab81229554] Turn count: 2, Action history length: 2
[2025-06-18 12:54:39] WARNING  [agent_fsm:1521] [85867921-34dd-4f23-ad81-47ab81229554] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:54:39] WARNING  [agent_fsm:1521] [85867921-34dd-4f23-ad81-47ab81229554] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:54:39] WARNING  [agent_fsm:1521] [85867921-34dd-4f23-ad81-47ab81229554] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:54:39] INFO     [agent_fsm:773] [85867921-34dd-4f23-ad81-47ab81229554] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:54:39] INFO     [agent_fsm:820] [85867921-34dd-4f23-ad81-47ab81229554] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:54:39] INFO     [agent_fsm:922] [85867921-34dd-4f23-ad81-47ab81229554] Tool execution completed
[2025-06-18 12:54:39] INFO     [agent_fsm:773] [85867921-34dd-4f23-ad81-47ab81229554] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:54:39] WARNING  [agent_fsm:803] [85867921-34dd-4f23-ad81-47ab81229554] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:54:39] INFO     [agent_fsm:665] [85867921-34dd-4f23-ad81-47ab81229554] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:54:39] DEBUG    [agent_fsm:680] [85867921-34dd-4f23-ad81-47ab81229554] Turn count: 3, Action history length: 3
[2025-06-18 12:54:39] WARNING  [agent_fsm:1521] [85867921-34dd-4f23-ad81-47ab81229554] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:54:39] WARNING  [agent_fsm:1521] [85867921-34dd-4f23-ad81-47ab81229554] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:54:39] WARNING  [agent_fsm:1521] [85867921-34dd-4f23-ad81-47ab81229554] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:54:39] WARNING  [agent_fsm:1224] [85867921-34dd-4f23-ad81-47ab81229554] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:39] ERROR    [agent_fsm:1078] [85867921-34dd-4f23-ad81-47ab81229554] --- FSM STATE: ERROR ---
[2025-06-18 12:54:39] ERROR    [agent_fsm:1101] [85867921-34dd-4f23-ad81-47ab81229554] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:54:39] ERROR    [agent_fsm:1102] [85867921-34dd-4f23-ad81-47ab81229554] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:39] WARNING  [agent_fsm:1224] [85867921-34dd-4f23-ad81-47ab81229554] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:39] ERROR    [agent_fsm:1078] [85867921-34dd-4f23-ad81-47ab81229554] --- FSM STATE: ERROR ---
[2025-06-18 12:54:39] ERROR    [agent_fsm:1101] [85867921-34dd-4f23-ad81-47ab81229554] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:54:39] ERROR    [agent_fsm:1102] [85867921-34dd-4f23-ad81-47ab81229554] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:39] WARNING  [agent_fsm:1224] [85867921-34dd-4f23-ad81-47ab81229554] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:39] ERROR    [agent_fsm:1078] [85867921-34dd-4f23-ad81-47ab81229554] --- FSM STATE: ERROR ---
[2025-06-18 12:54:39] ERROR    [agent_fsm:1101] [85867921-34dd-4f23-ad81-47ab81229554] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:54:39] ERROR    [agent_fsm:1102] [85867921-34dd-4f23-ad81-47ab81229554] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:39] WARNING  [agent_fsm:1224] [85867921-34dd-4f23-ad81-47ab81229554] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:39] ERROR    [agent_fsm:1078] [85867921-34dd-4f23-ad81-47ab81229554] --- FSM STATE: ERROR ---
[2025-06-18 12:54:39] ERROR    [agent_fsm:1101] [85867921-34dd-4f23-ad81-47ab81229554] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:54:39] ERROR    [agent_fsm:1102] [85867921-34dd-4f23-ad81-47ab81229554] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:39] WARNING  [agent_fsm:1224] [85867921-34dd-4f23-ad81-47ab81229554] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:39] ERROR    [agent_fsm:1078] [85867921-34dd-4f23-ad81-47ab81229554] --- FSM STATE: ERROR ---
[2025-06-18 12:54:39] ERROR    [agent_fsm:1101] [85867921-34dd-4f23-ad81-47ab81229554] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:54:39] ERROR    [agent_fsm:1102] [85867921-34dd-4f23-ad81-47ab81229554] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:39] WARNING  [agent_fsm:1224] [85867921-34dd-4f23-ad81-47ab81229554] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:39] ERROR    [agent_fsm:1078] [85867921-34dd-4f23-ad81-47ab81229554] --- FSM STATE: ERROR ---
[2025-06-18 12:54:39] ERROR    [agent_fsm:1101] [85867921-34dd-4f23-ad81-47ab81229554] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:54:39] ERROR    [agent_fsm:1102] [85867921-34dd-4f23-ad81-47ab81229554] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:39] WARNING  [agent_fsm:1224] [85867921-34dd-4f23-ad81-47ab81229554] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:39] ERROR    [agent_fsm:1078] [85867921-34dd-4f23-ad81-47ab81229554] --- FSM STATE: ERROR ---
[2025-06-18 12:54:39] ERROR    [agent_fsm:1101] [85867921-34dd-4f23-ad81-47ab81229554] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:54:39] ERROR    [agent_fsm:1102] [85867921-34dd-4f23-ad81-47ab81229554] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:39] WARNING  [agent_fsm:1224] [85867921-34dd-4f23-ad81-47ab81229554] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:39] ERROR    [agent_fsm:1078] [85867921-34dd-4f23-ad81-47ab81229554] --- FSM STATE: ERROR ---
[2025-06-18 12:54:39] ERROR    [agent_fsm:1101] [85867921-34dd-4f23-ad81-47ab81229554] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:54:39] ERROR    [agent_fsm:1102] [85867921-34dd-4f23-ad81-47ab81229554] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:39] WARNING  [agent_fsm:1224] [85867921-34dd-4f23-ad81-47ab81229554] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:39] ERROR    [agent_fsm:1078] [85867921-34dd-4f23-ad81-47ab81229554] --- FSM STATE: ERROR ---
[2025-06-18 12:54:39] ERROR    [agent_fsm:1101] [85867921-34dd-4f23-ad81-47ab81229554] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:54:39] ERROR    [agent_fsm:1102] [85867921-34dd-4f23-ad81-47ab81229554] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:39] WARNING  [agent_fsm:1224] [85867921-34dd-4f23-ad81-47ab81229554] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:39] ERROR    [agent_fsm:1078] [85867921-34dd-4f23-ad81-47ab81229554] --- FSM STATE: ERROR ---
[2025-06-18 12:54:39] ERROR    [agent_fsm:1101] [85867921-34dd-4f23-ad81-47ab81229554] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:54:39] ERROR    [agent_fsm:1102] [85867921-34dd-4f23-ad81-47ab81229554] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:39] WARNING  [agent_fsm:1224] [85867921-34dd-4f23-ad81-47ab81229554] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:39] ERROR    [agent_fsm:1078] [85867921-34dd-4f23-ad81-47ab81229554] --- FSM STATE: ERROR ---
[2025-06-18 12:54:39] ERROR    [agent_fsm:1101] [85867921-34dd-4f23-ad81-47ab81229554] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:54:39] ERROR    [agent_fsm:1102] [85867921-34dd-4f23-ad81-47ab81229554] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:39] WARNING  [agent_fsm:1224] [85867921-34dd-4f23-ad81-47ab81229554] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:39] ERROR    [agent_fsm:1078] [85867921-34dd-4f23-ad81-47ab81229554] --- FSM STATE: ERROR ---
[2025-06-18 12:54:39] ERROR    [agent_fsm:1101] [85867921-34dd-4f23-ad81-47ab81229554] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:54:39] ERROR    [agent_fsm:1102] [85867921-34dd-4f23-ad81-47ab81229554] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:39] WARNING  [agent_fsm:1224] [85867921-34dd-4f23-ad81-47ab81229554] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:39] ERROR    [agent_fsm:1078] [85867921-34dd-4f23-ad81-47ab81229554] --- FSM STATE: ERROR ---
[2025-06-18 12:54:39] ERROR    [agent_fsm:1101] [85867921-34dd-4f23-ad81-47ab81229554] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:54:39] ERROR    [agent_fsm:1102] [85867921-34dd-4f23-ad81-47ab81229554] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:39] WARNING  [agent_fsm:1224] [85867921-34dd-4f23-ad81-47ab81229554] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:39] ERROR    [agent_fsm:1078] [85867921-34dd-4f23-ad81-47ab81229554] --- FSM STATE: ERROR ---
[2025-06-18 12:54:39] ERROR    [agent_fsm:1101] [85867921-34dd-4f23-ad81-47ab81229554] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:54:39] ERROR    [agent_fsm:1102] [85867921-34dd-4f23-ad81-47ab81229554] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:39] WARNING  [agent_fsm:1224] [85867921-34dd-4f23-ad81-47ab81229554] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:39] ERROR    [agent_fsm:1078] [85867921-34dd-4f23-ad81-47ab81229554] --- FSM STATE: ERROR ---
[2025-06-18 12:54:39] ERROR    [agent_fsm:1101] [85867921-34dd-4f23-ad81-47ab81229554] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:54:39] ERROR    [agent_fsm:1102] [85867921-34dd-4f23-ad81-47ab81229554] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:39] WARNING  [agent_fsm:1224] [85867921-34dd-4f23-ad81-47ab81229554] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:39] ERROR    [agent_fsm:1078] [85867921-34dd-4f23-ad81-47ab81229554] --- FSM STATE: ERROR ---
[2025-06-18 12:54:39] ERROR    [agent_fsm:1101] [85867921-34dd-4f23-ad81-47ab81229554] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:54:39] ERROR    [agent_fsm:1102] [85867921-34dd-4f23-ad81-47ab81229554] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:39] WARNING  [agent_fsm:1224] [85867921-34dd-4f23-ad81-47ab81229554] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:39] ERROR    [agent_fsm:1078] [85867921-34dd-4f23-ad81-47ab81229554] --- FSM STATE: ERROR ---
[2025-06-18 12:54:39] ERROR    [agent_fsm:1101] [85867921-34dd-4f23-ad81-47ab81229554] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:54:39] ERROR    [agent_fsm:1102] [85867921-34dd-4f23-ad81-47ab81229554] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:39] WARNING  [agent_fsm:1224] [85867921-34dd-4f23-ad81-47ab81229554] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:39] ERROR    [agent_fsm:1078] [85867921-34dd-4f23-ad81-47ab81229554] --- FSM STATE: ERROR ---
[2025-06-18 12:54:39] ERROR    [agent_fsm:1101] [85867921-34dd-4f23-ad81-47ab81229554] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:54:39] ERROR    [agent_fsm:1102] [85867921-34dd-4f23-ad81-47ab81229554] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:39] WARNING  [agent_fsm:1224] [85867921-34dd-4f23-ad81-47ab81229554] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:40] ERROR    [agent_fsm:1837] [85867921-34dd-4f23-ad81-47ab81229554] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:54:40] INFO     [agent_fsm:1752] [4374725a-02d7-485f-8fe4-eb165bea7828] Starting resilient FSM execution
[2025-06-18 12:54:40] INFO     [agent_fsm:1807] [4374725a-02d7-485f-8fe4-eb165bea7828] FSM STATE: INITIAL
[2025-06-18 12:54:40] INFO     [agent_fsm:665] [4374725a-02d7-485f-8fe4-eb165bea7828] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:54:40] DEBUG    [agent_fsm:680] [4374725a-02d7-485f-8fe4-eb165bea7828] Turn count: 1, Action history length: 1
[2025-06-18 12:54:41] INFO     [agent_fsm:773] [4374725a-02d7-485f-8fe4-eb165bea7828] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:54:41] INFO     [agent_fsm:820] [4374725a-02d7-485f-8fe4-eb165bea7828] Executing tool: web_researcher with input: {'query': 'extract video URL from googleusercontent.com/costa-rica/birds', 'date_range': None, 'search_type': 'general', 'source': 'search'}
[2025-06-18 12:54:41] INFO     [agent_fsm:922] [4374725a-02d7-485f-8fe4-eb165bea7828] Tool execution completed
[2025-06-18 12:54:41] INFO     [agent_fsm:773] [4374725a-02d7-485f-8fe4-eb165bea7828] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:54:41] WARNING  [agent_fsm:803] [4374725a-02d7-485f-8fe4-eb165bea7828] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:54:41] INFO     [agent_fsm:665] [4374725a-02d7-485f-8fe4-eb165bea7828] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:54:41] DEBUG    [agent_fsm:680] [4374725a-02d7-485f-8fe4-eb165bea7828] Turn count: 2, Action history length: 2
[2025-06-18 12:54:41] WARNING  [agent_fsm:1521] [4374725a-02d7-485f-8fe4-eb165bea7828] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:54:41] INFO     [agent_fsm:773] [4374725a-02d7-485f-8fe4-eb165bea7828] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:54:41] INFO     [agent_fsm:820] [4374725a-02d7-485f-8fe4-eb165bea7828] Executing tool: web_researcher with input: {'query': 'video URL from googleusercontent.com/costa-rica/birds', 'date_range': None, 'search_type': 'general', 'source': 'search'}
[2025-06-18 12:54:41] INFO     [agent_fsm:922] [4374725a-02d7-485f-8fe4-eb165bea7828] Tool execution completed
[2025-06-18 12:54:41] INFO     [agent_fsm:773] [4374725a-02d7-485f-8fe4-eb165bea7828] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:54:41] WARNING  [agent_fsm:803] [4374725a-02d7-485f-8fe4-eb165bea7828] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:54:41] INFO     [agent_fsm:665] [4374725a-02d7-485f-8fe4-eb165bea7828] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:54:41] DEBUG    [agent_fsm:680] [4374725a-02d7-485f-8fe4-eb165bea7828] Turn count: 3, Action history length: 3
[2025-06-18 12:54:42] WARNING  [agent_fsm:1521] [4374725a-02d7-485f-8fe4-eb165bea7828] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:54:42] WARNING  [agent_fsm:1521] [4374725a-02d7-485f-8fe4-eb165bea7828] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:54:42] WARNING  [agent_fsm:1224] [4374725a-02d7-485f-8fe4-eb165bea7828] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:42] ERROR    [agent_fsm:1078] [4374725a-02d7-485f-8fe4-eb165bea7828] --- FSM STATE: ERROR ---
[2025-06-18 12:54:42] ERROR    [agent_fsm:1101] [4374725a-02d7-485f-8fe4-eb165bea7828] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:54:42] ERROR    [agent_fsm:1102] [4374725a-02d7-485f-8fe4-eb165bea7828] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:42] WARNING  [agent_fsm:1224] [4374725a-02d7-485f-8fe4-eb165bea7828] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:42] ERROR    [agent_fsm:1078] [4374725a-02d7-485f-8fe4-eb165bea7828] --- FSM STATE: ERROR ---
[2025-06-18 12:54:42] ERROR    [agent_fsm:1101] [4374725a-02d7-485f-8fe4-eb165bea7828] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:54:42] ERROR    [agent_fsm:1102] [4374725a-02d7-485f-8fe4-eb165bea7828] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:42] WARNING  [agent_fsm:1224] [4374725a-02d7-485f-8fe4-eb165bea7828] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:42] ERROR    [agent_fsm:1078] [4374725a-02d7-485f-8fe4-eb165bea7828] --- FSM STATE: ERROR ---
[2025-06-18 12:54:42] ERROR    [agent_fsm:1101] [4374725a-02d7-485f-8fe4-eb165bea7828] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:54:42] ERROR    [agent_fsm:1102] [4374725a-02d7-485f-8fe4-eb165bea7828] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:42] WARNING  [agent_fsm:1224] [4374725a-02d7-485f-8fe4-eb165bea7828] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:42] ERROR    [agent_fsm:1078] [4374725a-02d7-485f-8fe4-eb165bea7828] --- FSM STATE: ERROR ---
[2025-06-18 12:54:42] ERROR    [agent_fsm:1101] [4374725a-02d7-485f-8fe4-eb165bea7828] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:54:42] ERROR    [agent_fsm:1102] [4374725a-02d7-485f-8fe4-eb165bea7828] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:42] WARNING  [agent_fsm:1224] [4374725a-02d7-485f-8fe4-eb165bea7828] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:42] ERROR    [agent_fsm:1078] [4374725a-02d7-485f-8fe4-eb165bea7828] --- FSM STATE: ERROR ---
[2025-06-18 12:54:42] ERROR    [agent_fsm:1101] [4374725a-02d7-485f-8fe4-eb165bea7828] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:54:42] ERROR    [agent_fsm:1102] [4374725a-02d7-485f-8fe4-eb165bea7828] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:42] WARNING  [agent_fsm:1224] [4374725a-02d7-485f-8fe4-eb165bea7828] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:42] ERROR    [agent_fsm:1078] [4374725a-02d7-485f-8fe4-eb165bea7828] --- FSM STATE: ERROR ---
[2025-06-18 12:54:42] ERROR    [agent_fsm:1101] [4374725a-02d7-485f-8fe4-eb165bea7828] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:54:42] ERROR    [agent_fsm:1102] [4374725a-02d7-485f-8fe4-eb165bea7828] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:42] WARNING  [agent_fsm:1224] [4374725a-02d7-485f-8fe4-eb165bea7828] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:42] ERROR    [agent_fsm:1078] [4374725a-02d7-485f-8fe4-eb165bea7828] --- FSM STATE: ERROR ---
[2025-06-18 12:54:42] ERROR    [agent_fsm:1101] [4374725a-02d7-485f-8fe4-eb165bea7828] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:54:42] ERROR    [agent_fsm:1102] [4374725a-02d7-485f-8fe4-eb165bea7828] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:42] WARNING  [agent_fsm:1224] [4374725a-02d7-485f-8fe4-eb165bea7828] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:42] ERROR    [agent_fsm:1078] [4374725a-02d7-485f-8fe4-eb165bea7828] --- FSM STATE: ERROR ---
[2025-06-18 12:54:42] ERROR    [agent_fsm:1101] [4374725a-02d7-485f-8fe4-eb165bea7828] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:54:42] ERROR    [agent_fsm:1102] [4374725a-02d7-485f-8fe4-eb165bea7828] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:42] WARNING  [agent_fsm:1224] [4374725a-02d7-485f-8fe4-eb165bea7828] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:42] ERROR    [agent_fsm:1078] [4374725a-02d7-485f-8fe4-eb165bea7828] --- FSM STATE: ERROR ---
[2025-06-18 12:54:42] ERROR    [agent_fsm:1101] [4374725a-02d7-485f-8fe4-eb165bea7828] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:54:42] ERROR    [agent_fsm:1102] [4374725a-02d7-485f-8fe4-eb165bea7828] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:42] WARNING  [agent_fsm:1224] [4374725a-02d7-485f-8fe4-eb165bea7828] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:42] ERROR    [agent_fsm:1078] [4374725a-02d7-485f-8fe4-eb165bea7828] --- FSM STATE: ERROR ---
[2025-06-18 12:54:42] ERROR    [agent_fsm:1101] [4374725a-02d7-485f-8fe4-eb165bea7828] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:54:42] ERROR    [agent_fsm:1102] [4374725a-02d7-485f-8fe4-eb165bea7828] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:42] WARNING  [agent_fsm:1224] [4374725a-02d7-485f-8fe4-eb165bea7828] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:42] ERROR    [agent_fsm:1078] [4374725a-02d7-485f-8fe4-eb165bea7828] --- FSM STATE: ERROR ---
[2025-06-18 12:54:42] ERROR    [agent_fsm:1101] [4374725a-02d7-485f-8fe4-eb165bea7828] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:54:42] ERROR    [agent_fsm:1102] [4374725a-02d7-485f-8fe4-eb165bea7828] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:42] WARNING  [agent_fsm:1224] [4374725a-02d7-485f-8fe4-eb165bea7828] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:42] ERROR    [agent_fsm:1078] [4374725a-02d7-485f-8fe4-eb165bea7828] --- FSM STATE: ERROR ---
[2025-06-18 12:54:42] ERROR    [agent_fsm:1101] [4374725a-02d7-485f-8fe4-eb165bea7828] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:54:42] ERROR    [agent_fsm:1102] [4374725a-02d7-485f-8fe4-eb165bea7828] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:42] WARNING  [agent_fsm:1224] [4374725a-02d7-485f-8fe4-eb165bea7828] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:42] ERROR    [agent_fsm:1078] [4374725a-02d7-485f-8fe4-eb165bea7828] --- FSM STATE: ERROR ---
[2025-06-18 12:54:42] ERROR    [agent_fsm:1101] [4374725a-02d7-485f-8fe4-eb165bea7828] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:54:42] ERROR    [agent_fsm:1102] [4374725a-02d7-485f-8fe4-eb165bea7828] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:42] WARNING  [agent_fsm:1224] [4374725a-02d7-485f-8fe4-eb165bea7828] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:42] ERROR    [agent_fsm:1078] [4374725a-02d7-485f-8fe4-eb165bea7828] --- FSM STATE: ERROR ---
[2025-06-18 12:54:42] ERROR    [agent_fsm:1101] [4374725a-02d7-485f-8fe4-eb165bea7828] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:54:42] ERROR    [agent_fsm:1102] [4374725a-02d7-485f-8fe4-eb165bea7828] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:42] WARNING  [agent_fsm:1224] [4374725a-02d7-485f-8fe4-eb165bea7828] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:42] ERROR    [agent_fsm:1078] [4374725a-02d7-485f-8fe4-eb165bea7828] --- FSM STATE: ERROR ---
[2025-06-18 12:54:42] ERROR    [agent_fsm:1101] [4374725a-02d7-485f-8fe4-eb165bea7828] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:54:42] ERROR    [agent_fsm:1102] [4374725a-02d7-485f-8fe4-eb165bea7828] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:42] WARNING  [agent_fsm:1224] [4374725a-02d7-485f-8fe4-eb165bea7828] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:42] ERROR    [agent_fsm:1078] [4374725a-02d7-485f-8fe4-eb165bea7828] --- FSM STATE: ERROR ---
[2025-06-18 12:54:42] ERROR    [agent_fsm:1101] [4374725a-02d7-485f-8fe4-eb165bea7828] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:54:42] ERROR    [agent_fsm:1102] [4374725a-02d7-485f-8fe4-eb165bea7828] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:42] WARNING  [agent_fsm:1224] [4374725a-02d7-485f-8fe4-eb165bea7828] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:42] ERROR    [agent_fsm:1078] [4374725a-02d7-485f-8fe4-eb165bea7828] --- FSM STATE: ERROR ---
[2025-06-18 12:54:42] ERROR    [agent_fsm:1101] [4374725a-02d7-485f-8fe4-eb165bea7828] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:54:42] ERROR    [agent_fsm:1102] [4374725a-02d7-485f-8fe4-eb165bea7828] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:42] WARNING  [agent_fsm:1224] [4374725a-02d7-485f-8fe4-eb165bea7828] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:42] ERROR    [agent_fsm:1078] [4374725a-02d7-485f-8fe4-eb165bea7828] --- FSM STATE: ERROR ---
[2025-06-18 12:54:42] ERROR    [agent_fsm:1101] [4374725a-02d7-485f-8fe4-eb165bea7828] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:54:42] ERROR    [agent_fsm:1102] [4374725a-02d7-485f-8fe4-eb165bea7828] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:42] WARNING  [agent_fsm:1224] [4374725a-02d7-485f-8fe4-eb165bea7828] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:42] ERROR    [agent_fsm:1837] [4374725a-02d7-485f-8fe4-eb165bea7828] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:54:42] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 12:54:42] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 12:54:42] INFO     [agent_fsm:570] [ef3bbbe5-108c-4ccb-9641-fdbf177608d7] Building resilient FSM graph
[2025-06-18 12:54:42] INFO     [agent_fsm:572] [ef3bbbe5-108c-4ccb-9641-fdbf177608d7] FSMReActAgent graph built successfully
[2025-06-18 12:54:42] INFO     [agent_fsm:1752] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Starting resilient FSM execution
[2025-06-18 12:54:42] INFO     [agent_fsm:1807] [9ea11476-58bf-43f0-bea4-d826afdbbb95] FSM STATE: INITIAL
[2025-06-18 12:54:42] INFO     [agent_fsm:665] [9ea11476-58bf-43f0-bea4-d826afdbbb95] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:54:42] DEBUG    [agent_fsm:680] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Turn count: 1, Action history length: 1
[2025-06-18 12:54:43] WARNING  [agent_fsm:1521] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:54:43] INFO     [agent_fsm:773] [9ea11476-58bf-43f0-bea4-d826afdbbb95] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:54:43] INFO     [agent_fsm:820] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Executing tool: advanced_file_reader with input: {'filename': 'path/to/attached_excel_file.xlsx'}
[2025-06-18 12:54:43] INFO     [agent_fsm:922] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Tool execution completed
[2025-06-18 12:54:43] INFO     [agent_fsm:773] [9ea11476-58bf-43f0-bea4-d826afdbbb95] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:54:43] WARNING  [agent_fsm:803] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:54:43] INFO     [agent_fsm:665] [9ea11476-58bf-43f0-bea4-d826afdbbb95] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:54:43] DEBUG    [agent_fsm:680] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Turn count: 2, Action history length: 2
[2025-06-18 12:54:44] WARNING  [agent_fsm:1521] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:54:44] WARNING  [agent_fsm:1521] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:54:44] WARNING  [agent_fsm:1521] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:54:44] INFO     [agent_fsm:773] [9ea11476-58bf-43f0-bea4-d826afdbbb95] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:54:44] INFO     [agent_fsm:820] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Executing tool: file_reader with input: {'filename': 'path/to/attached/excel/file.xlsx', 'lines': -1}
[2025-06-18 12:54:44] INFO     [agent_fsm:922] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Tool execution completed
[2025-06-18 12:54:44] INFO     [agent_fsm:773] [9ea11476-58bf-43f0-bea4-d826afdbbb95] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:54:44] WARNING  [agent_fsm:803] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:54:44] INFO     [agent_fsm:665] [9ea11476-58bf-43f0-bea4-d826afdbbb95] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:54:44] DEBUG    [agent_fsm:680] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Turn count: 3, Action history length: 3
[2025-06-18 12:54:46] WARNING  [agent_fsm:1521] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:54:46] WARNING  [agent_fsm:1521] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 12:54:46] WARNING  [agent_fsm:1224] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:46] ERROR    [agent_fsm:1078] [9ea11476-58bf-43f0-bea4-d826afdbbb95] --- FSM STATE: ERROR ---
[2025-06-18 12:54:46] ERROR    [agent_fsm:1101] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:54:46] ERROR    [agent_fsm:1102] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:46] WARNING  [agent_fsm:1224] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:46] ERROR    [agent_fsm:1078] [9ea11476-58bf-43f0-bea4-d826afdbbb95] --- FSM STATE: ERROR ---
[2025-06-18 12:54:46] ERROR    [agent_fsm:1101] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:54:46] ERROR    [agent_fsm:1102] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:46] WARNING  [agent_fsm:1224] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:46] ERROR    [agent_fsm:1078] [9ea11476-58bf-43f0-bea4-d826afdbbb95] --- FSM STATE: ERROR ---
[2025-06-18 12:54:46] ERROR    [agent_fsm:1101] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:54:46] ERROR    [agent_fsm:1102] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:46] WARNING  [agent_fsm:1224] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:46] ERROR    [agent_fsm:1078] [9ea11476-58bf-43f0-bea4-d826afdbbb95] --- FSM STATE: ERROR ---
[2025-06-18 12:54:46] ERROR    [agent_fsm:1101] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:54:46] ERROR    [agent_fsm:1102] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:46] WARNING  [agent_fsm:1224] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:46] ERROR    [agent_fsm:1078] [9ea11476-58bf-43f0-bea4-d826afdbbb95] --- FSM STATE: ERROR ---
[2025-06-18 12:54:46] ERROR    [agent_fsm:1101] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:54:46] ERROR    [agent_fsm:1102] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:46] WARNING  [agent_fsm:1224] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:46] ERROR    [agent_fsm:1078] [9ea11476-58bf-43f0-bea4-d826afdbbb95] --- FSM STATE: ERROR ---
[2025-06-18 12:54:46] ERROR    [agent_fsm:1101] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:54:46] ERROR    [agent_fsm:1102] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:46] WARNING  [agent_fsm:1224] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:46] ERROR    [agent_fsm:1078] [9ea11476-58bf-43f0-bea4-d826afdbbb95] --- FSM STATE: ERROR ---
[2025-06-18 12:54:46] ERROR    [agent_fsm:1101] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:54:46] ERROR    [agent_fsm:1102] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:46] WARNING  [agent_fsm:1224] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:46] ERROR    [agent_fsm:1078] [9ea11476-58bf-43f0-bea4-d826afdbbb95] --- FSM STATE: ERROR ---
[2025-06-18 12:54:46] ERROR    [agent_fsm:1101] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:54:46] ERROR    [agent_fsm:1102] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:46] WARNING  [agent_fsm:1224] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:46] ERROR    [agent_fsm:1078] [9ea11476-58bf-43f0-bea4-d826afdbbb95] --- FSM STATE: ERROR ---
[2025-06-18 12:54:46] ERROR    [agent_fsm:1101] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:54:46] ERROR    [agent_fsm:1102] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:46] WARNING  [agent_fsm:1224] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:46] ERROR    [agent_fsm:1078] [9ea11476-58bf-43f0-bea4-d826afdbbb95] --- FSM STATE: ERROR ---
[2025-06-18 12:54:46] ERROR    [agent_fsm:1101] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:54:46] ERROR    [agent_fsm:1102] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:46] WARNING  [agent_fsm:1224] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:46] ERROR    [agent_fsm:1078] [9ea11476-58bf-43f0-bea4-d826afdbbb95] --- FSM STATE: ERROR ---
[2025-06-18 12:54:46] ERROR    [agent_fsm:1101] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:54:46] ERROR    [agent_fsm:1102] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:46] WARNING  [agent_fsm:1224] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:46] ERROR    [agent_fsm:1078] [9ea11476-58bf-43f0-bea4-d826afdbbb95] --- FSM STATE: ERROR ---
[2025-06-18 12:54:46] ERROR    [agent_fsm:1101] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:54:46] ERROR    [agent_fsm:1102] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:46] WARNING  [agent_fsm:1224] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:46] ERROR    [agent_fsm:1078] [9ea11476-58bf-43f0-bea4-d826afdbbb95] --- FSM STATE: ERROR ---
[2025-06-18 12:54:46] ERROR    [agent_fsm:1101] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:54:46] ERROR    [agent_fsm:1102] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:46] WARNING  [agent_fsm:1224] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:46] ERROR    [agent_fsm:1078] [9ea11476-58bf-43f0-bea4-d826afdbbb95] --- FSM STATE: ERROR ---
[2025-06-18 12:54:46] ERROR    [agent_fsm:1101] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:54:46] ERROR    [agent_fsm:1102] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:46] WARNING  [agent_fsm:1224] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:46] ERROR    [agent_fsm:1078] [9ea11476-58bf-43f0-bea4-d826afdbbb95] --- FSM STATE: ERROR ---
[2025-06-18 12:54:46] ERROR    [agent_fsm:1101] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:54:46] ERROR    [agent_fsm:1102] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:46] WARNING  [agent_fsm:1224] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:46] ERROR    [agent_fsm:1078] [9ea11476-58bf-43f0-bea4-d826afdbbb95] --- FSM STATE: ERROR ---
[2025-06-18 12:54:46] ERROR    [agent_fsm:1101] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:54:46] ERROR    [agent_fsm:1102] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:46] WARNING  [agent_fsm:1224] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:46] ERROR    [agent_fsm:1078] [9ea11476-58bf-43f0-bea4-d826afdbbb95] --- FSM STATE: ERROR ---
[2025-06-18 12:54:46] ERROR    [agent_fsm:1101] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:54:46] ERROR    [agent_fsm:1102] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:46] WARNING  [agent_fsm:1224] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:46] ERROR    [agent_fsm:1078] [9ea11476-58bf-43f0-bea4-d826afdbbb95] --- FSM STATE: ERROR ---
[2025-06-18 12:54:46] ERROR    [agent_fsm:1101] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:54:46] ERROR    [agent_fsm:1102] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:46] WARNING  [agent_fsm:1224] [9ea11476-58bf-43f0-bea4-d826afdbbb95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:46] ERROR    [agent_fsm:1837] [9ea11476-58bf-43f0-bea4-d826afdbbb95] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:54:46] INFO     [agent_fsm:1752] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Starting resilient FSM execution
[2025-06-18 12:54:46] INFO     [agent_fsm:1807] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] FSM STATE: INITIAL
[2025-06-18 12:54:46] INFO     [agent_fsm:665] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:54:46] DEBUG    [agent_fsm:680] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Turn count: 1, Action history length: 1
[2025-06-18 12:54:47] WARNING  [agent_fsm:1333] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Tool image_analyzer not found in registry, will use stub
[2025-06-18 12:54:47] INFO     [agent_fsm:773] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:54:47] INFO     [agent_fsm:820] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Executing tool: video_analyzer with input: {'url': 'https://example.com/video.mp4', 'action': 'download_info'}
[2025-06-18 12:54:47] INFO     [agent_fsm:922] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Tool execution completed
[2025-06-18 12:54:47] INFO     [agent_fsm:773] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:54:47] WARNING  [agent_fsm:803] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:54:47] INFO     [agent_fsm:665] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:54:47] DEBUG    [agent_fsm:680] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Turn count: 2, Action history length: 2
[2025-06-18 12:54:48] WARNING  [agent_fsm:1521] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:54:48] WARNING  [agent_fsm:1521] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:54:48] WARNING  [agent_fsm:1521] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Failed to parse JSON parameters for step 8, using fallback parser
[2025-06-18 12:54:48] INFO     [agent_fsm:773] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:54:48] INFO     [agent_fsm:820] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:54:48] INFO     [agent_fsm:922] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Tool execution completed
[2025-06-18 12:54:48] INFO     [agent_fsm:773] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:54:48] WARNING  [agent_fsm:803] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:54:48] INFO     [agent_fsm:665] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:54:48] DEBUG    [agent_fsm:680] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Turn count: 3, Action history length: 3
[2025-06-18 12:54:50] WARNING  [agent_fsm:1521] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 12:54:50] WARNING  [agent_fsm:1333] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Tool video_analyzer_production not found in registry, will use stub
[2025-06-18 12:54:50] WARNING  [agent_fsm:1333] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Tool video_analyzer_production not found in registry, will use stub
[2025-06-18 12:54:50] WARNING  [agent_fsm:1333] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Tool video_analyzer_production not found in registry, will use stub
[2025-06-18 12:54:50] WARNING  [agent_fsm:1224] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:50] ERROR    [agent_fsm:1078] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] --- FSM STATE: ERROR ---
[2025-06-18 12:54:50] ERROR    [agent_fsm:1101] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:54:50] ERROR    [agent_fsm:1102] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:50] WARNING  [agent_fsm:1224] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:50] ERROR    [agent_fsm:1078] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] --- FSM STATE: ERROR ---
[2025-06-18 12:54:50] ERROR    [agent_fsm:1101] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:54:50] ERROR    [agent_fsm:1102] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:50] WARNING  [agent_fsm:1224] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:50] ERROR    [agent_fsm:1078] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] --- FSM STATE: ERROR ---
[2025-06-18 12:54:50] ERROR    [agent_fsm:1101] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:54:50] ERROR    [agent_fsm:1102] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:50] WARNING  [agent_fsm:1224] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:50] ERROR    [agent_fsm:1078] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] --- FSM STATE: ERROR ---
[2025-06-18 12:54:50] ERROR    [agent_fsm:1101] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:54:50] ERROR    [agent_fsm:1102] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:50] WARNING  [agent_fsm:1224] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:50] ERROR    [agent_fsm:1078] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] --- FSM STATE: ERROR ---
[2025-06-18 12:54:50] ERROR    [agent_fsm:1101] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:54:50] ERROR    [agent_fsm:1102] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:50] WARNING  [agent_fsm:1224] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:50] ERROR    [agent_fsm:1078] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] --- FSM STATE: ERROR ---
[2025-06-18 12:54:50] ERROR    [agent_fsm:1101] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:54:50] ERROR    [agent_fsm:1102] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:50] WARNING  [agent_fsm:1224] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:50] ERROR    [agent_fsm:1078] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] --- FSM STATE: ERROR ---
[2025-06-18 12:54:50] ERROR    [agent_fsm:1101] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:54:50] ERROR    [agent_fsm:1102] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:50] WARNING  [agent_fsm:1224] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:50] ERROR    [agent_fsm:1078] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] --- FSM STATE: ERROR ---
[2025-06-18 12:54:50] ERROR    [agent_fsm:1101] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:54:50] ERROR    [agent_fsm:1102] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:50] WARNING  [agent_fsm:1224] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:50] ERROR    [agent_fsm:1078] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] --- FSM STATE: ERROR ---
[2025-06-18 12:54:50] ERROR    [agent_fsm:1101] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:54:50] ERROR    [agent_fsm:1102] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:50] WARNING  [agent_fsm:1224] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:50] ERROR    [agent_fsm:1078] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] --- FSM STATE: ERROR ---
[2025-06-18 12:54:50] ERROR    [agent_fsm:1101] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:54:50] ERROR    [agent_fsm:1102] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:50] WARNING  [agent_fsm:1224] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:50] ERROR    [agent_fsm:1078] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] --- FSM STATE: ERROR ---
[2025-06-18 12:54:50] ERROR    [agent_fsm:1101] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:54:50] ERROR    [agent_fsm:1102] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:50] WARNING  [agent_fsm:1224] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:50] ERROR    [agent_fsm:1078] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] --- FSM STATE: ERROR ---
[2025-06-18 12:54:50] ERROR    [agent_fsm:1101] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:54:50] ERROR    [agent_fsm:1102] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:50] WARNING  [agent_fsm:1224] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:50] ERROR    [agent_fsm:1078] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] --- FSM STATE: ERROR ---
[2025-06-18 12:54:50] ERROR    [agent_fsm:1101] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:54:50] ERROR    [agent_fsm:1102] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:50] WARNING  [agent_fsm:1224] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:50] ERROR    [agent_fsm:1078] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] --- FSM STATE: ERROR ---
[2025-06-18 12:54:50] ERROR    [agent_fsm:1101] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:54:50] ERROR    [agent_fsm:1102] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:50] WARNING  [agent_fsm:1224] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:50] ERROR    [agent_fsm:1078] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] --- FSM STATE: ERROR ---
[2025-06-18 12:54:50] ERROR    [agent_fsm:1101] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:54:50] ERROR    [agent_fsm:1102] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:50] WARNING  [agent_fsm:1224] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:50] ERROR    [agent_fsm:1078] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] --- FSM STATE: ERROR ---
[2025-06-18 12:54:50] ERROR    [agent_fsm:1101] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:54:50] ERROR    [agent_fsm:1102] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:50] WARNING  [agent_fsm:1224] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:50] ERROR    [agent_fsm:1078] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] --- FSM STATE: ERROR ---
[2025-06-18 12:54:50] ERROR    [agent_fsm:1101] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:54:50] ERROR    [agent_fsm:1102] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:50] WARNING  [agent_fsm:1224] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:50] ERROR    [agent_fsm:1078] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] --- FSM STATE: ERROR ---
[2025-06-18 12:54:50] ERROR    [agent_fsm:1101] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:54:50] ERROR    [agent_fsm:1102] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:50] WARNING  [agent_fsm:1224] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:50] ERROR    [agent_fsm:1837] [e6b57db1-97ac-4c28-aa5a-597e24ab8a5d] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:54:50] INFO     [agent_fsm:1752] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Starting resilient FSM execution
[2025-06-18 12:54:50] INFO     [agent_fsm:1807] [a8091934-b4bd-43dd-8bed-abcfa54098e6] FSM STATE: INITIAL
[2025-06-18 12:54:50] INFO     [agent_fsm:665] [a8091934-b4bd-43dd-8bed-abcfa54098e6] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:54:50] DEBUG    [agent_fsm:680] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Turn count: 1, Action history length: 1
[2025-06-18 12:54:51] WARNING  [agent_fsm:1521] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:54:51] INFO     [agent_fsm:773] [a8091934-b4bd-43dd-8bed-abcfa54098e6] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:54:51] INFO     [agent_fsm:820] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:54:51] INFO     [agent_fsm:922] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Tool execution completed
[2025-06-18 12:54:51] INFO     [agent_fsm:773] [a8091934-b4bd-43dd-8bed-abcfa54098e6] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:54:51] WARNING  [agent_fsm:803] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:54:51] INFO     [agent_fsm:665] [a8091934-b4bd-43dd-8bed-abcfa54098e6] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:54:51] DEBUG    [agent_fsm:680] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Turn count: 2, Action history length: 2
[2025-06-18 12:54:51] WARNING  [agent_fsm:1521] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:54:51] WARNING  [agent_fsm:1521] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:54:51] WARNING  [agent_fsm:1521] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:54:51] INFO     [agent_fsm:773] [a8091934-b4bd-43dd-8bed-abcfa54098e6] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:54:51] WARNING  [agent_fsm:803] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:54:51] INFO     [agent_fsm:665] [a8091934-b4bd-43dd-8bed-abcfa54098e6] --- FSM STATE: PLANNING (Step 3) ---
[2025-06-18 12:54:51] DEBUG    [agent_fsm:680] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Turn count: 3, Action history length: 3
[2025-06-18 12:54:52] WARNING  [agent_fsm:1521] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:54:52] WARNING  [agent_fsm:1224] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:52] ERROR    [agent_fsm:1078] [a8091934-b4bd-43dd-8bed-abcfa54098e6] --- FSM STATE: ERROR ---
[2025-06-18 12:54:52] ERROR    [agent_fsm:1101] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:54:52] ERROR    [agent_fsm:1102] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:52] WARNING  [agent_fsm:1224] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:52] ERROR    [agent_fsm:1078] [a8091934-b4bd-43dd-8bed-abcfa54098e6] --- FSM STATE: ERROR ---
[2025-06-18 12:54:52] ERROR    [agent_fsm:1101] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:54:52] ERROR    [agent_fsm:1102] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:52] WARNING  [agent_fsm:1224] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:52] ERROR    [agent_fsm:1078] [a8091934-b4bd-43dd-8bed-abcfa54098e6] --- FSM STATE: ERROR ---
[2025-06-18 12:54:52] ERROR    [agent_fsm:1101] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:54:52] ERROR    [agent_fsm:1102] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:52] WARNING  [agent_fsm:1224] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:52] ERROR    [agent_fsm:1078] [a8091934-b4bd-43dd-8bed-abcfa54098e6] --- FSM STATE: ERROR ---
[2025-06-18 12:54:52] ERROR    [agent_fsm:1101] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:54:52] ERROR    [agent_fsm:1102] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:52] WARNING  [agent_fsm:1224] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:52] ERROR    [agent_fsm:1078] [a8091934-b4bd-43dd-8bed-abcfa54098e6] --- FSM STATE: ERROR ---
[2025-06-18 12:54:52] ERROR    [agent_fsm:1101] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:54:52] ERROR    [agent_fsm:1102] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:52] WARNING  [agent_fsm:1224] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:52] ERROR    [agent_fsm:1078] [a8091934-b4bd-43dd-8bed-abcfa54098e6] --- FSM STATE: ERROR ---
[2025-06-18 12:54:52] ERROR    [agent_fsm:1101] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:54:52] ERROR    [agent_fsm:1102] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:52] WARNING  [agent_fsm:1224] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:52] ERROR    [agent_fsm:1078] [a8091934-b4bd-43dd-8bed-abcfa54098e6] --- FSM STATE: ERROR ---
[2025-06-18 12:54:52] ERROR    [agent_fsm:1101] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:54:52] ERROR    [agent_fsm:1102] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:52] WARNING  [agent_fsm:1224] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:52] ERROR    [agent_fsm:1078] [a8091934-b4bd-43dd-8bed-abcfa54098e6] --- FSM STATE: ERROR ---
[2025-06-18 12:54:52] ERROR    [agent_fsm:1101] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:54:52] ERROR    [agent_fsm:1102] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:52] WARNING  [agent_fsm:1224] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:52] ERROR    [agent_fsm:1078] [a8091934-b4bd-43dd-8bed-abcfa54098e6] --- FSM STATE: ERROR ---
[2025-06-18 12:54:52] ERROR    [agent_fsm:1101] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:54:52] ERROR    [agent_fsm:1102] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:52] WARNING  [agent_fsm:1224] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:52] ERROR    [agent_fsm:1078] [a8091934-b4bd-43dd-8bed-abcfa54098e6] --- FSM STATE: ERROR ---
[2025-06-18 12:54:52] ERROR    [agent_fsm:1101] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:54:52] ERROR    [agent_fsm:1102] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:52] WARNING  [agent_fsm:1224] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:52] ERROR    [agent_fsm:1078] [a8091934-b4bd-43dd-8bed-abcfa54098e6] --- FSM STATE: ERROR ---
[2025-06-18 12:54:52] ERROR    [agent_fsm:1101] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:54:52] ERROR    [agent_fsm:1102] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:52] WARNING  [agent_fsm:1224] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:52] ERROR    [agent_fsm:1078] [a8091934-b4bd-43dd-8bed-abcfa54098e6] --- FSM STATE: ERROR ---
[2025-06-18 12:54:52] ERROR    [agent_fsm:1101] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:54:52] ERROR    [agent_fsm:1102] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:52] WARNING  [agent_fsm:1224] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:52] ERROR    [agent_fsm:1078] [a8091934-b4bd-43dd-8bed-abcfa54098e6] --- FSM STATE: ERROR ---
[2025-06-18 12:54:52] ERROR    [agent_fsm:1101] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:54:52] ERROR    [agent_fsm:1102] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:52] WARNING  [agent_fsm:1224] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:52] ERROR    [agent_fsm:1078] [a8091934-b4bd-43dd-8bed-abcfa54098e6] --- FSM STATE: ERROR ---
[2025-06-18 12:54:52] ERROR    [agent_fsm:1101] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:54:52] ERROR    [agent_fsm:1102] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:52] WARNING  [agent_fsm:1224] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:52] ERROR    [agent_fsm:1078] [a8091934-b4bd-43dd-8bed-abcfa54098e6] --- FSM STATE: ERROR ---
[2025-06-18 12:54:52] ERROR    [agent_fsm:1101] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:54:52] ERROR    [agent_fsm:1102] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:52] WARNING  [agent_fsm:1224] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:52] ERROR    [agent_fsm:1078] [a8091934-b4bd-43dd-8bed-abcfa54098e6] --- FSM STATE: ERROR ---
[2025-06-18 12:54:52] ERROR    [agent_fsm:1101] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:54:52] ERROR    [agent_fsm:1102] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:52] WARNING  [agent_fsm:1224] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:52] ERROR    [agent_fsm:1078] [a8091934-b4bd-43dd-8bed-abcfa54098e6] --- FSM STATE: ERROR ---
[2025-06-18 12:54:52] ERROR    [agent_fsm:1101] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:54:52] ERROR    [agent_fsm:1102] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:52] WARNING  [agent_fsm:1224] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:52] ERROR    [agent_fsm:1078] [a8091934-b4bd-43dd-8bed-abcfa54098e6] --- FSM STATE: ERROR ---
[2025-06-18 12:54:52] ERROR    [agent_fsm:1101] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:54:52] ERROR    [agent_fsm:1102] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:52] WARNING  [agent_fsm:1224] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:52] ERROR    [agent_fsm:1078] [a8091934-b4bd-43dd-8bed-abcfa54098e6] --- FSM STATE: ERROR ---
[2025-06-18 12:54:52] ERROR    [agent_fsm:1101] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Error category: GENERAL, Occurrences: 19
[2025-06-18 12:54:52] ERROR    [agent_fsm:1102] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:52] WARNING  [agent_fsm:1224] [a8091934-b4bd-43dd-8bed-abcfa54098e6] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:52] ERROR    [agent_fsm:1837] [a8091934-b4bd-43dd-8bed-abcfa54098e6] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:54:52] INFO     [agent_fsm:1752] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Starting resilient FSM execution
[2025-06-18 12:54:52] INFO     [agent_fsm:1807] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] FSM STATE: INITIAL
[2025-06-18 12:54:52] INFO     [agent_fsm:665] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:54:52] DEBUG    [agent_fsm:680] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Turn count: 1, Action history length: 1
[2025-06-18 12:54:54] WARNING  [agent_fsm:1521] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:54:54] WARNING  [agent_fsm:1521] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 12:54:54] INFO     [agent_fsm:773] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:54:54] INFO     [agent_fsm:820] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Executing tool: chess_logic_tool with input: {'fen_string': 'rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR', 'analysis_time_seconds': 2.0}
[2025-06-18 12:54:54] INFO     [agent_fsm:922] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Tool execution completed
[2025-06-18 12:54:54] INFO     [agent_fsm:773] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:54:54] WARNING  [agent_fsm:803] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:54:54] INFO     [agent_fsm:665] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:54:54] DEBUG    [agent_fsm:680] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Turn count: 2, Action history length: 2
[2025-06-18 12:54:55] WARNING  [agent_fsm:1521] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:54:55] WARNING  [agent_fsm:1521] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:54:55] WARNING  [agent_fsm:1521] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:54:55] WARNING  [agent_fsm:1521] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Failed to parse JSON parameters for step 8, using fallback parser
[2025-06-18 12:54:55] INFO     [agent_fsm:773] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:54:55] INFO     [agent_fsm:820] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:54:55] INFO     [agent_fsm:922] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Tool execution completed
[2025-06-18 12:54:55] INFO     [agent_fsm:773] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:54:55] WARNING  [agent_fsm:803] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:54:55] INFO     [agent_fsm:665] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:54:55] DEBUG    [agent_fsm:680] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Turn count: 3, Action history length: 3
[2025-06-18 12:54:56] WARNING  [agent_fsm:1521] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:54:56] WARNING  [agent_fsm:1521] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:54:56] WARNING  [agent_fsm:1224] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:56] ERROR    [agent_fsm:1078] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] --- FSM STATE: ERROR ---
[2025-06-18 12:54:56] ERROR    [agent_fsm:1101] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:54:56] ERROR    [agent_fsm:1102] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:56] WARNING  [agent_fsm:1224] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:56] ERROR    [agent_fsm:1078] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] --- FSM STATE: ERROR ---
[2025-06-18 12:54:56] ERROR    [agent_fsm:1101] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:54:56] ERROR    [agent_fsm:1102] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:56] WARNING  [agent_fsm:1224] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:56] ERROR    [agent_fsm:1078] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] --- FSM STATE: ERROR ---
[2025-06-18 12:54:56] ERROR    [agent_fsm:1101] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:54:56] ERROR    [agent_fsm:1102] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:56] WARNING  [agent_fsm:1224] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:56] ERROR    [agent_fsm:1078] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] --- FSM STATE: ERROR ---
[2025-06-18 12:54:56] ERROR    [agent_fsm:1101] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:54:56] ERROR    [agent_fsm:1102] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:56] WARNING  [agent_fsm:1224] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:56] ERROR    [agent_fsm:1078] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] --- FSM STATE: ERROR ---
[2025-06-18 12:54:56] ERROR    [agent_fsm:1101] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:54:56] ERROR    [agent_fsm:1102] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:56] WARNING  [agent_fsm:1224] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:56] ERROR    [agent_fsm:1078] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] --- FSM STATE: ERROR ---
[2025-06-18 12:54:56] ERROR    [agent_fsm:1101] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:54:56] ERROR    [agent_fsm:1102] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:56] WARNING  [agent_fsm:1224] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:56] ERROR    [agent_fsm:1078] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] --- FSM STATE: ERROR ---
[2025-06-18 12:54:56] ERROR    [agent_fsm:1101] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:54:56] ERROR    [agent_fsm:1102] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:56] WARNING  [agent_fsm:1224] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:56] ERROR    [agent_fsm:1078] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] --- FSM STATE: ERROR ---
[2025-06-18 12:54:56] ERROR    [agent_fsm:1101] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:54:56] ERROR    [agent_fsm:1102] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:56] WARNING  [agent_fsm:1224] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:56] ERROR    [agent_fsm:1078] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] --- FSM STATE: ERROR ---
[2025-06-18 12:54:56] ERROR    [agent_fsm:1101] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:54:56] ERROR    [agent_fsm:1102] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:56] WARNING  [agent_fsm:1224] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:56] ERROR    [agent_fsm:1078] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] --- FSM STATE: ERROR ---
[2025-06-18 12:54:56] ERROR    [agent_fsm:1101] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:54:56] ERROR    [agent_fsm:1102] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:56] WARNING  [agent_fsm:1224] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:56] ERROR    [agent_fsm:1078] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] --- FSM STATE: ERROR ---
[2025-06-18 12:54:56] ERROR    [agent_fsm:1101] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:54:56] ERROR    [agent_fsm:1102] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:56] WARNING  [agent_fsm:1224] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:56] ERROR    [agent_fsm:1078] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] --- FSM STATE: ERROR ---
[2025-06-18 12:54:56] ERROR    [agent_fsm:1101] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:54:56] ERROR    [agent_fsm:1102] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:56] WARNING  [agent_fsm:1224] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:56] ERROR    [agent_fsm:1078] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] --- FSM STATE: ERROR ---
[2025-06-18 12:54:56] ERROR    [agent_fsm:1101] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:54:56] ERROR    [agent_fsm:1102] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:56] WARNING  [agent_fsm:1224] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:56] ERROR    [agent_fsm:1078] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] --- FSM STATE: ERROR ---
[2025-06-18 12:54:56] ERROR    [agent_fsm:1101] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:54:56] ERROR    [agent_fsm:1102] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:56] WARNING  [agent_fsm:1224] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:56] ERROR    [agent_fsm:1078] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] --- FSM STATE: ERROR ---
[2025-06-18 12:54:56] ERROR    [agent_fsm:1101] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:54:56] ERROR    [agent_fsm:1102] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:56] WARNING  [agent_fsm:1224] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:56] ERROR    [agent_fsm:1078] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] --- FSM STATE: ERROR ---
[2025-06-18 12:54:56] ERROR    [agent_fsm:1101] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:54:56] ERROR    [agent_fsm:1102] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:56] WARNING  [agent_fsm:1224] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:56] ERROR    [agent_fsm:1078] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] --- FSM STATE: ERROR ---
[2025-06-18 12:54:56] ERROR    [agent_fsm:1101] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:54:56] ERROR    [agent_fsm:1102] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:56] WARNING  [agent_fsm:1224] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:56] ERROR    [agent_fsm:1078] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] --- FSM STATE: ERROR ---
[2025-06-18 12:54:56] ERROR    [agent_fsm:1101] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:54:56] ERROR    [agent_fsm:1102] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:56] WARNING  [agent_fsm:1224] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:56] ERROR    [agent_fsm:1837] [f3c2c881-15e7-4440-a1d7-29251d0b4abe] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:54:56] INFO     [agent_fsm:1752] [57d0e860-648b-4546-afa8-9d18faf58a22] Starting resilient FSM execution
[2025-06-18 12:54:56] INFO     [agent_fsm:1807] [57d0e860-648b-4546-afa8-9d18faf58a22] FSM STATE: INITIAL
[2025-06-18 12:54:56] INFO     [agent_fsm:665] [57d0e860-648b-4546-afa8-9d18faf58a22] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:54:56] DEBUG    [agent_fsm:680] [57d0e860-648b-4546-afa8-9d18faf58a22] Turn count: 1, Action history length: 1
[2025-06-18 12:54:57] INFO     [agent_fsm:773] [57d0e860-648b-4546-afa8-9d18faf58a22] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:54:57] INFO     [agent_fsm:820] [57d0e860-648b-4546-afa8-9d18faf58a22] Executing tool: web_researcher with input: {'query': 'Nobel Prize in Physics 2023', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 12:54:57] INFO     [agent_fsm:922] [57d0e860-648b-4546-afa8-9d18faf58a22] Tool execution completed
[2025-06-18 12:54:57] INFO     [agent_fsm:773] [57d0e860-648b-4546-afa8-9d18faf58a22] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:54:57] WARNING  [agent_fsm:803] [57d0e860-648b-4546-afa8-9d18faf58a22] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:54:57] INFO     [agent_fsm:665] [57d0e860-648b-4546-afa8-9d18faf58a22] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:54:57] DEBUG    [agent_fsm:680] [57d0e860-648b-4546-afa8-9d18faf58a22] Turn count: 2, Action history length: 2
[2025-06-18 12:54:58] WARNING  [agent_fsm:1521] [57d0e860-648b-4546-afa8-9d18faf58a22] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:54:58] WARNING  [agent_fsm:1521] [57d0e860-648b-4546-afa8-9d18faf58a22] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:54:58] INFO     [agent_fsm:773] [57d0e860-648b-4546-afa8-9d18faf58a22] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:54:58] INFO     [agent_fsm:820] [57d0e860-648b-4546-afa8-9d18faf58a22] Executing tool: semantic_search_tool with input: {'query': 'Nobel Prize in Physics 2023 winner', 'filename': 'knowledge_base.csv', 'top_k': 3}
[2025-06-18 12:54:58] INFO     [agent_fsm:922] [57d0e860-648b-4546-afa8-9d18faf58a22] Tool execution completed
[2025-06-18 12:54:58] INFO     [agent_fsm:773] [57d0e860-648b-4546-afa8-9d18faf58a22] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:54:58] WARNING  [agent_fsm:803] [57d0e860-648b-4546-afa8-9d18faf58a22] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:54:58] INFO     [agent_fsm:665] [57d0e860-648b-4546-afa8-9d18faf58a22] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:54:58] DEBUG    [agent_fsm:680] [57d0e860-648b-4546-afa8-9d18faf58a22] Turn count: 3, Action history length: 3
[2025-06-18 12:54:59] WARNING  [agent_fsm:1521] [57d0e860-648b-4546-afa8-9d18faf58a22] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:54:59] WARNING  [agent_fsm:1521] [57d0e860-648b-4546-afa8-9d18faf58a22] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:54:59] WARNING  [agent_fsm:1224] [57d0e860-648b-4546-afa8-9d18faf58a22] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:59] ERROR    [agent_fsm:1078] [57d0e860-648b-4546-afa8-9d18faf58a22] --- FSM STATE: ERROR ---
[2025-06-18 12:54:59] ERROR    [agent_fsm:1101] [57d0e860-648b-4546-afa8-9d18faf58a22] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:54:59] ERROR    [agent_fsm:1102] [57d0e860-648b-4546-afa8-9d18faf58a22] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:59] WARNING  [agent_fsm:1224] [57d0e860-648b-4546-afa8-9d18faf58a22] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:59] ERROR    [agent_fsm:1078] [57d0e860-648b-4546-afa8-9d18faf58a22] --- FSM STATE: ERROR ---
[2025-06-18 12:54:59] ERROR    [agent_fsm:1101] [57d0e860-648b-4546-afa8-9d18faf58a22] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:54:59] ERROR    [agent_fsm:1102] [57d0e860-648b-4546-afa8-9d18faf58a22] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:59] WARNING  [agent_fsm:1224] [57d0e860-648b-4546-afa8-9d18faf58a22] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:59] ERROR    [agent_fsm:1078] [57d0e860-648b-4546-afa8-9d18faf58a22] --- FSM STATE: ERROR ---
[2025-06-18 12:54:59] ERROR    [agent_fsm:1101] [57d0e860-648b-4546-afa8-9d18faf58a22] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:54:59] ERROR    [agent_fsm:1102] [57d0e860-648b-4546-afa8-9d18faf58a22] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:59] WARNING  [agent_fsm:1224] [57d0e860-648b-4546-afa8-9d18faf58a22] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:59] ERROR    [agent_fsm:1078] [57d0e860-648b-4546-afa8-9d18faf58a22] --- FSM STATE: ERROR ---
[2025-06-18 12:54:59] ERROR    [agent_fsm:1101] [57d0e860-648b-4546-afa8-9d18faf58a22] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:54:59] ERROR    [agent_fsm:1102] [57d0e860-648b-4546-afa8-9d18faf58a22] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:59] WARNING  [agent_fsm:1224] [57d0e860-648b-4546-afa8-9d18faf58a22] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:59] ERROR    [agent_fsm:1078] [57d0e860-648b-4546-afa8-9d18faf58a22] --- FSM STATE: ERROR ---
[2025-06-18 12:54:59] ERROR    [agent_fsm:1101] [57d0e860-648b-4546-afa8-9d18faf58a22] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:54:59] ERROR    [agent_fsm:1102] [57d0e860-648b-4546-afa8-9d18faf58a22] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:59] WARNING  [agent_fsm:1224] [57d0e860-648b-4546-afa8-9d18faf58a22] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:59] ERROR    [agent_fsm:1078] [57d0e860-648b-4546-afa8-9d18faf58a22] --- FSM STATE: ERROR ---
[2025-06-18 12:54:59] ERROR    [agent_fsm:1101] [57d0e860-648b-4546-afa8-9d18faf58a22] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:54:59] ERROR    [agent_fsm:1102] [57d0e860-648b-4546-afa8-9d18faf58a22] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:59] WARNING  [agent_fsm:1224] [57d0e860-648b-4546-afa8-9d18faf58a22] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:59] ERROR    [agent_fsm:1078] [57d0e860-648b-4546-afa8-9d18faf58a22] --- FSM STATE: ERROR ---
[2025-06-18 12:54:59] ERROR    [agent_fsm:1101] [57d0e860-648b-4546-afa8-9d18faf58a22] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:54:59] ERROR    [agent_fsm:1102] [57d0e860-648b-4546-afa8-9d18faf58a22] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:59] WARNING  [agent_fsm:1224] [57d0e860-648b-4546-afa8-9d18faf58a22] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:59] ERROR    [agent_fsm:1078] [57d0e860-648b-4546-afa8-9d18faf58a22] --- FSM STATE: ERROR ---
[2025-06-18 12:54:59] ERROR    [agent_fsm:1101] [57d0e860-648b-4546-afa8-9d18faf58a22] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:54:59] ERROR    [agent_fsm:1102] [57d0e860-648b-4546-afa8-9d18faf58a22] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:59] WARNING  [agent_fsm:1224] [57d0e860-648b-4546-afa8-9d18faf58a22] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:59] ERROR    [agent_fsm:1078] [57d0e860-648b-4546-afa8-9d18faf58a22] --- FSM STATE: ERROR ---
[2025-06-18 12:54:59] ERROR    [agent_fsm:1101] [57d0e860-648b-4546-afa8-9d18faf58a22] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:54:59] ERROR    [agent_fsm:1102] [57d0e860-648b-4546-afa8-9d18faf58a22] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:59] WARNING  [agent_fsm:1224] [57d0e860-648b-4546-afa8-9d18faf58a22] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:59] ERROR    [agent_fsm:1078] [57d0e860-648b-4546-afa8-9d18faf58a22] --- FSM STATE: ERROR ---
[2025-06-18 12:54:59] ERROR    [agent_fsm:1101] [57d0e860-648b-4546-afa8-9d18faf58a22] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:54:59] ERROR    [agent_fsm:1102] [57d0e860-648b-4546-afa8-9d18faf58a22] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:59] WARNING  [agent_fsm:1224] [57d0e860-648b-4546-afa8-9d18faf58a22] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:59] ERROR    [agent_fsm:1078] [57d0e860-648b-4546-afa8-9d18faf58a22] --- FSM STATE: ERROR ---
[2025-06-18 12:54:59] ERROR    [agent_fsm:1101] [57d0e860-648b-4546-afa8-9d18faf58a22] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:54:59] ERROR    [agent_fsm:1102] [57d0e860-648b-4546-afa8-9d18faf58a22] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:59] WARNING  [agent_fsm:1224] [57d0e860-648b-4546-afa8-9d18faf58a22] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:59] ERROR    [agent_fsm:1078] [57d0e860-648b-4546-afa8-9d18faf58a22] --- FSM STATE: ERROR ---
[2025-06-18 12:54:59] ERROR    [agent_fsm:1101] [57d0e860-648b-4546-afa8-9d18faf58a22] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:54:59] ERROR    [agent_fsm:1102] [57d0e860-648b-4546-afa8-9d18faf58a22] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:59] WARNING  [agent_fsm:1224] [57d0e860-648b-4546-afa8-9d18faf58a22] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:59] ERROR    [agent_fsm:1078] [57d0e860-648b-4546-afa8-9d18faf58a22] --- FSM STATE: ERROR ---
[2025-06-18 12:54:59] ERROR    [agent_fsm:1101] [57d0e860-648b-4546-afa8-9d18faf58a22] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:54:59] ERROR    [agent_fsm:1102] [57d0e860-648b-4546-afa8-9d18faf58a22] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:59] WARNING  [agent_fsm:1224] [57d0e860-648b-4546-afa8-9d18faf58a22] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:59] ERROR    [agent_fsm:1078] [57d0e860-648b-4546-afa8-9d18faf58a22] --- FSM STATE: ERROR ---
[2025-06-18 12:54:59] ERROR    [agent_fsm:1101] [57d0e860-648b-4546-afa8-9d18faf58a22] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:54:59] ERROR    [agent_fsm:1102] [57d0e860-648b-4546-afa8-9d18faf58a22] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:59] WARNING  [agent_fsm:1224] [57d0e860-648b-4546-afa8-9d18faf58a22] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:59] ERROR    [agent_fsm:1078] [57d0e860-648b-4546-afa8-9d18faf58a22] --- FSM STATE: ERROR ---
[2025-06-18 12:54:59] ERROR    [agent_fsm:1101] [57d0e860-648b-4546-afa8-9d18faf58a22] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:54:59] ERROR    [agent_fsm:1102] [57d0e860-648b-4546-afa8-9d18faf58a22] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:59] WARNING  [agent_fsm:1224] [57d0e860-648b-4546-afa8-9d18faf58a22] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:59] ERROR    [agent_fsm:1078] [57d0e860-648b-4546-afa8-9d18faf58a22] --- FSM STATE: ERROR ---
[2025-06-18 12:54:59] ERROR    [agent_fsm:1101] [57d0e860-648b-4546-afa8-9d18faf58a22] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:54:59] ERROR    [agent_fsm:1102] [57d0e860-648b-4546-afa8-9d18faf58a22] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:59] WARNING  [agent_fsm:1224] [57d0e860-648b-4546-afa8-9d18faf58a22] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:59] ERROR    [agent_fsm:1078] [57d0e860-648b-4546-afa8-9d18faf58a22] --- FSM STATE: ERROR ---
[2025-06-18 12:54:59] ERROR    [agent_fsm:1101] [57d0e860-648b-4546-afa8-9d18faf58a22] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:54:59] ERROR    [agent_fsm:1102] [57d0e860-648b-4546-afa8-9d18faf58a22] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:59] WARNING  [agent_fsm:1224] [57d0e860-648b-4546-afa8-9d18faf58a22] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:59] ERROR    [agent_fsm:1078] [57d0e860-648b-4546-afa8-9d18faf58a22] --- FSM STATE: ERROR ---
[2025-06-18 12:54:59] ERROR    [agent_fsm:1101] [57d0e860-648b-4546-afa8-9d18faf58a22] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:54:59] ERROR    [agent_fsm:1102] [57d0e860-648b-4546-afa8-9d18faf58a22] Errors: ['Duplicate tool call detected']
[2025-06-18 12:54:59] WARNING  [agent_fsm:1224] [57d0e860-648b-4546-afa8-9d18faf58a22] Direct loop detected - same action repeated 3 times
[2025-06-18 12:54:59] ERROR    [agent_fsm:1837] [57d0e860-648b-4546-afa8-9d18faf58a22] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:54:59] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 12:54:59] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 12:54:59] INFO     [agent_fsm:570] [08a75f5f-ea0c-4f5e-87e0-4746d22d9d0e] Building resilient FSM graph
[2025-06-18 12:54:59] INFO     [agent_fsm:572] [08a75f5f-ea0c-4f5e-87e0-4746d22d9d0e] FSMReActAgent graph built successfully
[2025-06-18 12:54:59] INFO     [agent_fsm:1752] [4b80b255-55fc-4804-9a0a-791c58270b9b] Starting resilient FSM execution
[2025-06-18 12:54:59] INFO     [agent_fsm:1807] [4b80b255-55fc-4804-9a0a-791c58270b9b] FSM STATE: INITIAL
[2025-06-18 12:54:59] INFO     [agent_fsm:665] [4b80b255-55fc-4804-9a0a-791c58270b9b] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:54:59] DEBUG    [agent_fsm:680] [4b80b255-55fc-4804-9a0a-791c58270b9b] Turn count: 1, Action history length: 1
[2025-06-18 12:55:00] WARNING  [agent_fsm:1521] [4b80b255-55fc-4804-9a0a-791c58270b9b] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:55:00] WARNING  [agent_fsm:1521] [4b80b255-55fc-4804-9a0a-791c58270b9b] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:55:00] INFO     [agent_fsm:773] [4b80b255-55fc-4804-9a0a-791c58270b9b] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:55:00] INFO     [agent_fsm:820] [4b80b255-55fc-4804-9a0a-791c58270b9b] Executing tool: web_researcher with input: {'query': 'Mercedes Sosa discography', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 12:55:00] INFO     [agent_fsm:922] [4b80b255-55fc-4804-9a0a-791c58270b9b] Tool execution completed
[2025-06-18 12:55:00] INFO     [agent_fsm:773] [4b80b255-55fc-4804-9a0a-791c58270b9b] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:55:00] WARNING  [agent_fsm:803] [4b80b255-55fc-4804-9a0a-791c58270b9b] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:55:00] INFO     [agent_fsm:665] [4b80b255-55fc-4804-9a0a-791c58270b9b] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:55:00] DEBUG    [agent_fsm:680] [4b80b255-55fc-4804-9a0a-791c58270b9b] Turn count: 2, Action history length: 2
[2025-06-18 12:55:01] WARNING  [agent_fsm:1521] [4b80b255-55fc-4804-9a0a-791c58270b9b] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:55:01] WARNING  [agent_fsm:1521] [4b80b255-55fc-4804-9a0a-791c58270b9b] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:55:01] INFO     [agent_fsm:773] [4b80b255-55fc-4804-9a0a-791c58270b9b] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:55:01] INFO     [agent_fsm:820] [4b80b255-55fc-4804-9a0a-791c58270b9b] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:55:01] INFO     [agent_fsm:922] [4b80b255-55fc-4804-9a0a-791c58270b9b] Tool execution completed
[2025-06-18 12:55:01] INFO     [agent_fsm:773] [4b80b255-55fc-4804-9a0a-791c58270b9b] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:55:01] WARNING  [agent_fsm:803] [4b80b255-55fc-4804-9a0a-791c58270b9b] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:55:01] INFO     [agent_fsm:665] [4b80b255-55fc-4804-9a0a-791c58270b9b] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:55:01] DEBUG    [agent_fsm:680] [4b80b255-55fc-4804-9a0a-791c58270b9b] Turn count: 3, Action history length: 3
[2025-06-18 12:55:02] WARNING  [agent_fsm:1521] [4b80b255-55fc-4804-9a0a-791c58270b9b] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:55:02] WARNING  [agent_fsm:1521] [4b80b255-55fc-4804-9a0a-791c58270b9b] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:55:02] WARNING  [agent_fsm:1521] [4b80b255-55fc-4804-9a0a-791c58270b9b] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:55:02] WARNING  [agent_fsm:1224] [4b80b255-55fc-4804-9a0a-791c58270b9b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:02] ERROR    [agent_fsm:1078] [4b80b255-55fc-4804-9a0a-791c58270b9b] --- FSM STATE: ERROR ---
[2025-06-18 12:55:02] ERROR    [agent_fsm:1101] [4b80b255-55fc-4804-9a0a-791c58270b9b] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:55:02] ERROR    [agent_fsm:1102] [4b80b255-55fc-4804-9a0a-791c58270b9b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:02] WARNING  [agent_fsm:1224] [4b80b255-55fc-4804-9a0a-791c58270b9b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:02] ERROR    [agent_fsm:1078] [4b80b255-55fc-4804-9a0a-791c58270b9b] --- FSM STATE: ERROR ---
[2025-06-18 12:55:02] ERROR    [agent_fsm:1101] [4b80b255-55fc-4804-9a0a-791c58270b9b] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:55:02] ERROR    [agent_fsm:1102] [4b80b255-55fc-4804-9a0a-791c58270b9b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:02] WARNING  [agent_fsm:1224] [4b80b255-55fc-4804-9a0a-791c58270b9b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:02] ERROR    [agent_fsm:1078] [4b80b255-55fc-4804-9a0a-791c58270b9b] --- FSM STATE: ERROR ---
[2025-06-18 12:55:02] ERROR    [agent_fsm:1101] [4b80b255-55fc-4804-9a0a-791c58270b9b] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:55:02] ERROR    [agent_fsm:1102] [4b80b255-55fc-4804-9a0a-791c58270b9b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:02] WARNING  [agent_fsm:1224] [4b80b255-55fc-4804-9a0a-791c58270b9b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:02] ERROR    [agent_fsm:1078] [4b80b255-55fc-4804-9a0a-791c58270b9b] --- FSM STATE: ERROR ---
[2025-06-18 12:55:02] ERROR    [agent_fsm:1101] [4b80b255-55fc-4804-9a0a-791c58270b9b] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:55:02] ERROR    [agent_fsm:1102] [4b80b255-55fc-4804-9a0a-791c58270b9b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:02] WARNING  [agent_fsm:1224] [4b80b255-55fc-4804-9a0a-791c58270b9b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:02] ERROR    [agent_fsm:1078] [4b80b255-55fc-4804-9a0a-791c58270b9b] --- FSM STATE: ERROR ---
[2025-06-18 12:55:02] ERROR    [agent_fsm:1101] [4b80b255-55fc-4804-9a0a-791c58270b9b] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:55:02] ERROR    [agent_fsm:1102] [4b80b255-55fc-4804-9a0a-791c58270b9b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:02] WARNING  [agent_fsm:1224] [4b80b255-55fc-4804-9a0a-791c58270b9b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:02] ERROR    [agent_fsm:1078] [4b80b255-55fc-4804-9a0a-791c58270b9b] --- FSM STATE: ERROR ---
[2025-06-18 12:55:02] ERROR    [agent_fsm:1101] [4b80b255-55fc-4804-9a0a-791c58270b9b] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:55:02] ERROR    [agent_fsm:1102] [4b80b255-55fc-4804-9a0a-791c58270b9b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:02] WARNING  [agent_fsm:1224] [4b80b255-55fc-4804-9a0a-791c58270b9b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:02] ERROR    [agent_fsm:1078] [4b80b255-55fc-4804-9a0a-791c58270b9b] --- FSM STATE: ERROR ---
[2025-06-18 12:55:02] ERROR    [agent_fsm:1101] [4b80b255-55fc-4804-9a0a-791c58270b9b] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:55:02] ERROR    [agent_fsm:1102] [4b80b255-55fc-4804-9a0a-791c58270b9b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:02] WARNING  [agent_fsm:1224] [4b80b255-55fc-4804-9a0a-791c58270b9b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:02] ERROR    [agent_fsm:1078] [4b80b255-55fc-4804-9a0a-791c58270b9b] --- FSM STATE: ERROR ---
[2025-06-18 12:55:02] ERROR    [agent_fsm:1101] [4b80b255-55fc-4804-9a0a-791c58270b9b] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:55:02] ERROR    [agent_fsm:1102] [4b80b255-55fc-4804-9a0a-791c58270b9b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:02] WARNING  [agent_fsm:1224] [4b80b255-55fc-4804-9a0a-791c58270b9b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:02] ERROR    [agent_fsm:1078] [4b80b255-55fc-4804-9a0a-791c58270b9b] --- FSM STATE: ERROR ---
[2025-06-18 12:55:02] ERROR    [agent_fsm:1101] [4b80b255-55fc-4804-9a0a-791c58270b9b] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:55:02] ERROR    [agent_fsm:1102] [4b80b255-55fc-4804-9a0a-791c58270b9b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:02] WARNING  [agent_fsm:1224] [4b80b255-55fc-4804-9a0a-791c58270b9b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:02] ERROR    [agent_fsm:1078] [4b80b255-55fc-4804-9a0a-791c58270b9b] --- FSM STATE: ERROR ---
[2025-06-18 12:55:02] ERROR    [agent_fsm:1101] [4b80b255-55fc-4804-9a0a-791c58270b9b] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:55:02] ERROR    [agent_fsm:1102] [4b80b255-55fc-4804-9a0a-791c58270b9b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:02] WARNING  [agent_fsm:1224] [4b80b255-55fc-4804-9a0a-791c58270b9b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:02] ERROR    [agent_fsm:1078] [4b80b255-55fc-4804-9a0a-791c58270b9b] --- FSM STATE: ERROR ---
[2025-06-18 12:55:02] ERROR    [agent_fsm:1101] [4b80b255-55fc-4804-9a0a-791c58270b9b] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:55:02] ERROR    [agent_fsm:1102] [4b80b255-55fc-4804-9a0a-791c58270b9b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:02] WARNING  [agent_fsm:1224] [4b80b255-55fc-4804-9a0a-791c58270b9b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:02] ERROR    [agent_fsm:1078] [4b80b255-55fc-4804-9a0a-791c58270b9b] --- FSM STATE: ERROR ---
[2025-06-18 12:55:02] ERROR    [agent_fsm:1101] [4b80b255-55fc-4804-9a0a-791c58270b9b] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:55:02] ERROR    [agent_fsm:1102] [4b80b255-55fc-4804-9a0a-791c58270b9b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:02] WARNING  [agent_fsm:1224] [4b80b255-55fc-4804-9a0a-791c58270b9b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:02] ERROR    [agent_fsm:1078] [4b80b255-55fc-4804-9a0a-791c58270b9b] --- FSM STATE: ERROR ---
[2025-06-18 12:55:02] ERROR    [agent_fsm:1101] [4b80b255-55fc-4804-9a0a-791c58270b9b] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:55:02] ERROR    [agent_fsm:1102] [4b80b255-55fc-4804-9a0a-791c58270b9b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:02] WARNING  [agent_fsm:1224] [4b80b255-55fc-4804-9a0a-791c58270b9b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:02] ERROR    [agent_fsm:1078] [4b80b255-55fc-4804-9a0a-791c58270b9b] --- FSM STATE: ERROR ---
[2025-06-18 12:55:02] ERROR    [agent_fsm:1101] [4b80b255-55fc-4804-9a0a-791c58270b9b] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:55:02] ERROR    [agent_fsm:1102] [4b80b255-55fc-4804-9a0a-791c58270b9b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:02] WARNING  [agent_fsm:1224] [4b80b255-55fc-4804-9a0a-791c58270b9b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:02] ERROR    [agent_fsm:1078] [4b80b255-55fc-4804-9a0a-791c58270b9b] --- FSM STATE: ERROR ---
[2025-06-18 12:55:02] ERROR    [agent_fsm:1101] [4b80b255-55fc-4804-9a0a-791c58270b9b] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:55:02] ERROR    [agent_fsm:1102] [4b80b255-55fc-4804-9a0a-791c58270b9b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:02] WARNING  [agent_fsm:1224] [4b80b255-55fc-4804-9a0a-791c58270b9b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:02] ERROR    [agent_fsm:1078] [4b80b255-55fc-4804-9a0a-791c58270b9b] --- FSM STATE: ERROR ---
[2025-06-18 12:55:02] ERROR    [agent_fsm:1101] [4b80b255-55fc-4804-9a0a-791c58270b9b] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:55:02] ERROR    [agent_fsm:1102] [4b80b255-55fc-4804-9a0a-791c58270b9b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:02] WARNING  [agent_fsm:1224] [4b80b255-55fc-4804-9a0a-791c58270b9b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:02] ERROR    [agent_fsm:1078] [4b80b255-55fc-4804-9a0a-791c58270b9b] --- FSM STATE: ERROR ---
[2025-06-18 12:55:02] ERROR    [agent_fsm:1101] [4b80b255-55fc-4804-9a0a-791c58270b9b] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:55:02] ERROR    [agent_fsm:1102] [4b80b255-55fc-4804-9a0a-791c58270b9b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:02] WARNING  [agent_fsm:1224] [4b80b255-55fc-4804-9a0a-791c58270b9b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:02] ERROR    [agent_fsm:1078] [4b80b255-55fc-4804-9a0a-791c58270b9b] --- FSM STATE: ERROR ---
[2025-06-18 12:55:02] ERROR    [agent_fsm:1101] [4b80b255-55fc-4804-9a0a-791c58270b9b] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:55:02] ERROR    [agent_fsm:1102] [4b80b255-55fc-4804-9a0a-791c58270b9b] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:02] WARNING  [agent_fsm:1224] [4b80b255-55fc-4804-9a0a-791c58270b9b] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:02] ERROR    [agent_fsm:1837] [4b80b255-55fc-4804-9a0a-791c58270b9b] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:55:02] INFO     [agent_fsm:1752] [f5401f0f-7f65-4f12-907c-e6eea180c983] Starting resilient FSM execution
[2025-06-18 12:55:02] INFO     [agent_fsm:1807] [f5401f0f-7f65-4f12-907c-e6eea180c983] FSM STATE: INITIAL
[2025-06-18 12:55:02] INFO     [agent_fsm:665] [f5401f0f-7f65-4f12-907c-e6eea180c983] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:55:02] DEBUG    [agent_fsm:680] [f5401f0f-7f65-4f12-907c-e6eea180c983] Turn count: 1, Action history length: 1
[2025-06-18 12:55:03] WARNING  [agent_fsm:1521] [f5401f0f-7f65-4f12-907c-e6eea180c983] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:55:03] INFO     [agent_fsm:773] [f5401f0f-7f65-4f12-907c-e6eea180c983] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:55:03] INFO     [agent_fsm:820] [f5401f0f-7f65-4f12-907c-e6eea180c983] Executing tool: web_researcher with input: {'query': 'extract video URL from YouTube link', 'date_range': None, 'search_type': 'general', 'source': 'search'}
[2025-06-18 12:55:03] INFO     [agent_fsm:922] [f5401f0f-7f65-4f12-907c-e6eea180c983] Tool execution completed
[2025-06-18 12:55:03] INFO     [agent_fsm:773] [f5401f0f-7f65-4f12-907c-e6eea180c983] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:55:03] WARNING  [agent_fsm:803] [f5401f0f-7f65-4f12-907c-e6eea180c983] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:55:03] INFO     [agent_fsm:665] [f5401f0f-7f65-4f12-907c-e6eea180c983] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:55:03] DEBUG    [agent_fsm:680] [f5401f0f-7f65-4f12-907c-e6eea180c983] Turn count: 2, Action history length: 2
[2025-06-18 12:55:04] WARNING  [agent_fsm:1521] [f5401f0f-7f65-4f12-907c-e6eea180c983] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:55:04] WARNING  [agent_fsm:1521] [f5401f0f-7f65-4f12-907c-e6eea180c983] Failed to parse JSON parameters for step 9, using fallback parser
[2025-06-18 12:55:04] INFO     [agent_fsm:773] [f5401f0f-7f65-4f12-907c-e6eea180c983] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:55:04] INFO     [agent_fsm:820] [f5401f0f-7f65-4f12-907c-e6eea180c983] Executing tool: video_analyzer with input: {'url': 'https://www.youtube.com/watch?v=L1vXCYZAYYM', 'action': 'download_info'}
[2025-06-18 12:55:04] INFO     [agent_fsm:922] [f5401f0f-7f65-4f12-907c-e6eea180c983] Tool execution completed
[2025-06-18 12:55:04] INFO     [agent_fsm:773] [f5401f0f-7f65-4f12-907c-e6eea180c983] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:55:04] WARNING  [agent_fsm:803] [f5401f0f-7f65-4f12-907c-e6eea180c983] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:55:04] INFO     [agent_fsm:665] [f5401f0f-7f65-4f12-907c-e6eea180c983] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:55:04] DEBUG    [agent_fsm:680] [f5401f0f-7f65-4f12-907c-e6eea180c983] Turn count: 3, Action history length: 3
[2025-06-18 12:55:05] WARNING  [agent_fsm:1521] [f5401f0f-7f65-4f12-907c-e6eea180c983] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:55:05] WARNING  [agent_fsm:1521] [f5401f0f-7f65-4f12-907c-e6eea180c983] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:55:05] WARNING  [agent_fsm:1521] [f5401f0f-7f65-4f12-907c-e6eea180c983] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:55:05] WARNING  [agent_fsm:1521] [f5401f0f-7f65-4f12-907c-e6eea180c983] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:55:05] WARNING  [agent_fsm:1521] [f5401f0f-7f65-4f12-907c-e6eea180c983] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 12:55:05] WARNING  [agent_fsm:1224] [f5401f0f-7f65-4f12-907c-e6eea180c983] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:05] ERROR    [agent_fsm:1078] [f5401f0f-7f65-4f12-907c-e6eea180c983] --- FSM STATE: ERROR ---
[2025-06-18 12:55:05] ERROR    [agent_fsm:1101] [f5401f0f-7f65-4f12-907c-e6eea180c983] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:55:05] ERROR    [agent_fsm:1102] [f5401f0f-7f65-4f12-907c-e6eea180c983] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:05] WARNING  [agent_fsm:1224] [f5401f0f-7f65-4f12-907c-e6eea180c983] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:05] ERROR    [agent_fsm:1078] [f5401f0f-7f65-4f12-907c-e6eea180c983] --- FSM STATE: ERROR ---
[2025-06-18 12:55:05] ERROR    [agent_fsm:1101] [f5401f0f-7f65-4f12-907c-e6eea180c983] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:55:05] ERROR    [agent_fsm:1102] [f5401f0f-7f65-4f12-907c-e6eea180c983] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:05] WARNING  [agent_fsm:1224] [f5401f0f-7f65-4f12-907c-e6eea180c983] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:05] ERROR    [agent_fsm:1078] [f5401f0f-7f65-4f12-907c-e6eea180c983] --- FSM STATE: ERROR ---
[2025-06-18 12:55:05] ERROR    [agent_fsm:1101] [f5401f0f-7f65-4f12-907c-e6eea180c983] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:55:05] ERROR    [agent_fsm:1102] [f5401f0f-7f65-4f12-907c-e6eea180c983] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:05] WARNING  [agent_fsm:1224] [f5401f0f-7f65-4f12-907c-e6eea180c983] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:05] ERROR    [agent_fsm:1078] [f5401f0f-7f65-4f12-907c-e6eea180c983] --- FSM STATE: ERROR ---
[2025-06-18 12:55:05] ERROR    [agent_fsm:1101] [f5401f0f-7f65-4f12-907c-e6eea180c983] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:55:05] ERROR    [agent_fsm:1102] [f5401f0f-7f65-4f12-907c-e6eea180c983] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:05] WARNING  [agent_fsm:1224] [f5401f0f-7f65-4f12-907c-e6eea180c983] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:05] ERROR    [agent_fsm:1078] [f5401f0f-7f65-4f12-907c-e6eea180c983] --- FSM STATE: ERROR ---
[2025-06-18 12:55:05] ERROR    [agent_fsm:1101] [f5401f0f-7f65-4f12-907c-e6eea180c983] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:55:05] ERROR    [agent_fsm:1102] [f5401f0f-7f65-4f12-907c-e6eea180c983] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:05] WARNING  [agent_fsm:1224] [f5401f0f-7f65-4f12-907c-e6eea180c983] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:05] ERROR    [agent_fsm:1078] [f5401f0f-7f65-4f12-907c-e6eea180c983] --- FSM STATE: ERROR ---
[2025-06-18 12:55:05] ERROR    [agent_fsm:1101] [f5401f0f-7f65-4f12-907c-e6eea180c983] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:55:05] ERROR    [agent_fsm:1102] [f5401f0f-7f65-4f12-907c-e6eea180c983] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:05] WARNING  [agent_fsm:1224] [f5401f0f-7f65-4f12-907c-e6eea180c983] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:05] ERROR    [agent_fsm:1078] [f5401f0f-7f65-4f12-907c-e6eea180c983] --- FSM STATE: ERROR ---
[2025-06-18 12:55:05] ERROR    [agent_fsm:1101] [f5401f0f-7f65-4f12-907c-e6eea180c983] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:55:05] ERROR    [agent_fsm:1102] [f5401f0f-7f65-4f12-907c-e6eea180c983] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:05] WARNING  [agent_fsm:1224] [f5401f0f-7f65-4f12-907c-e6eea180c983] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:05] ERROR    [agent_fsm:1078] [f5401f0f-7f65-4f12-907c-e6eea180c983] --- FSM STATE: ERROR ---
[2025-06-18 12:55:05] ERROR    [agent_fsm:1101] [f5401f0f-7f65-4f12-907c-e6eea180c983] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:55:05] ERROR    [agent_fsm:1102] [f5401f0f-7f65-4f12-907c-e6eea180c983] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:05] WARNING  [agent_fsm:1224] [f5401f0f-7f65-4f12-907c-e6eea180c983] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:05] ERROR    [agent_fsm:1078] [f5401f0f-7f65-4f12-907c-e6eea180c983] --- FSM STATE: ERROR ---
[2025-06-18 12:55:05] ERROR    [agent_fsm:1101] [f5401f0f-7f65-4f12-907c-e6eea180c983] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:55:05] ERROR    [agent_fsm:1102] [f5401f0f-7f65-4f12-907c-e6eea180c983] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:05] WARNING  [agent_fsm:1224] [f5401f0f-7f65-4f12-907c-e6eea180c983] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:05] ERROR    [agent_fsm:1078] [f5401f0f-7f65-4f12-907c-e6eea180c983] --- FSM STATE: ERROR ---
[2025-06-18 12:55:05] ERROR    [agent_fsm:1101] [f5401f0f-7f65-4f12-907c-e6eea180c983] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:55:05] ERROR    [agent_fsm:1102] [f5401f0f-7f65-4f12-907c-e6eea180c983] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:05] WARNING  [agent_fsm:1224] [f5401f0f-7f65-4f12-907c-e6eea180c983] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:05] ERROR    [agent_fsm:1078] [f5401f0f-7f65-4f12-907c-e6eea180c983] --- FSM STATE: ERROR ---
[2025-06-18 12:55:05] ERROR    [agent_fsm:1101] [f5401f0f-7f65-4f12-907c-e6eea180c983] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:55:05] ERROR    [agent_fsm:1102] [f5401f0f-7f65-4f12-907c-e6eea180c983] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:05] WARNING  [agent_fsm:1224] [f5401f0f-7f65-4f12-907c-e6eea180c983] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:05] ERROR    [agent_fsm:1078] [f5401f0f-7f65-4f12-907c-e6eea180c983] --- FSM STATE: ERROR ---
[2025-06-18 12:55:05] ERROR    [agent_fsm:1101] [f5401f0f-7f65-4f12-907c-e6eea180c983] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:55:05] ERROR    [agent_fsm:1102] [f5401f0f-7f65-4f12-907c-e6eea180c983] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:05] WARNING  [agent_fsm:1224] [f5401f0f-7f65-4f12-907c-e6eea180c983] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:05] ERROR    [agent_fsm:1078] [f5401f0f-7f65-4f12-907c-e6eea180c983] --- FSM STATE: ERROR ---
[2025-06-18 12:55:05] ERROR    [agent_fsm:1101] [f5401f0f-7f65-4f12-907c-e6eea180c983] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:55:05] ERROR    [agent_fsm:1102] [f5401f0f-7f65-4f12-907c-e6eea180c983] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:05] WARNING  [agent_fsm:1224] [f5401f0f-7f65-4f12-907c-e6eea180c983] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:05] ERROR    [agent_fsm:1078] [f5401f0f-7f65-4f12-907c-e6eea180c983] --- FSM STATE: ERROR ---
[2025-06-18 12:55:05] ERROR    [agent_fsm:1101] [f5401f0f-7f65-4f12-907c-e6eea180c983] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:55:05] ERROR    [agent_fsm:1102] [f5401f0f-7f65-4f12-907c-e6eea180c983] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:05] WARNING  [agent_fsm:1224] [f5401f0f-7f65-4f12-907c-e6eea180c983] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:05] ERROR    [agent_fsm:1078] [f5401f0f-7f65-4f12-907c-e6eea180c983] --- FSM STATE: ERROR ---
[2025-06-18 12:55:05] ERROR    [agent_fsm:1101] [f5401f0f-7f65-4f12-907c-e6eea180c983] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:55:05] ERROR    [agent_fsm:1102] [f5401f0f-7f65-4f12-907c-e6eea180c983] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:05] WARNING  [agent_fsm:1224] [f5401f0f-7f65-4f12-907c-e6eea180c983] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:05] ERROR    [agent_fsm:1078] [f5401f0f-7f65-4f12-907c-e6eea180c983] --- FSM STATE: ERROR ---
[2025-06-18 12:55:05] ERROR    [agent_fsm:1101] [f5401f0f-7f65-4f12-907c-e6eea180c983] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:55:05] ERROR    [agent_fsm:1102] [f5401f0f-7f65-4f12-907c-e6eea180c983] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:05] WARNING  [agent_fsm:1224] [f5401f0f-7f65-4f12-907c-e6eea180c983] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:05] ERROR    [agent_fsm:1078] [f5401f0f-7f65-4f12-907c-e6eea180c983] --- FSM STATE: ERROR ---
[2025-06-18 12:55:05] ERROR    [agent_fsm:1101] [f5401f0f-7f65-4f12-907c-e6eea180c983] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:55:05] ERROR    [agent_fsm:1102] [f5401f0f-7f65-4f12-907c-e6eea180c983] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:05] WARNING  [agent_fsm:1224] [f5401f0f-7f65-4f12-907c-e6eea180c983] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:05] ERROR    [agent_fsm:1078] [f5401f0f-7f65-4f12-907c-e6eea180c983] --- FSM STATE: ERROR ---
[2025-06-18 12:55:05] ERROR    [agent_fsm:1101] [f5401f0f-7f65-4f12-907c-e6eea180c983] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:55:05] ERROR    [agent_fsm:1102] [f5401f0f-7f65-4f12-907c-e6eea180c983] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:05] WARNING  [agent_fsm:1224] [f5401f0f-7f65-4f12-907c-e6eea180c983] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:05] ERROR    [agent_fsm:1837] [f5401f0f-7f65-4f12-907c-e6eea180c983] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:55:05] INFO     [agent_fsm:1752] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Starting resilient FSM execution
[2025-06-18 12:55:05] INFO     [agent_fsm:1807] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] FSM STATE: INITIAL
[2025-06-18 12:55:05] INFO     [agent_fsm:665] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:55:05] DEBUG    [agent_fsm:680] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Turn count: 1, Action history length: 1
[2025-06-18 12:55:07] WARNING  [agent_fsm:1521] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:55:07] WARNING  [agent_fsm:1521] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:55:07] WARNING  [agent_fsm:1521] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:55:07] WARNING  [agent_fsm:1521] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:55:07] WARNING  [agent_fsm:1521] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:55:07] WARNING  [agent_fsm:1521] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:55:07] WARNING  [agent_fsm:1521] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 12:55:07] WARNING  [agent_fsm:1521] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Failed to parse JSON parameters for step 8, using fallback parser
[2025-06-18 12:55:07] INFO     [agent_fsm:773] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:55:07] INFO     [agent_fsm:820] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:55:07] INFO     [agent_fsm:922] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Tool execution completed
[2025-06-18 12:55:07] INFO     [agent_fsm:773] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:55:07] WARNING  [agent_fsm:803] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:55:07] INFO     [agent_fsm:665] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:55:07] DEBUG    [agent_fsm:680] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Turn count: 2, Action history length: 2
[2025-06-18 12:55:08] WARNING  [agent_fsm:1521] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:55:08] WARNING  [agent_fsm:1521] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:55:08] WARNING  [agent_fsm:1521] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 12:55:08] INFO     [agent_fsm:773] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:55:08] WARNING  [agent_fsm:803] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:55:08] INFO     [agent_fsm:665] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] --- FSM STATE: PLANNING (Step 3) ---
[2025-06-18 12:55:08] DEBUG    [agent_fsm:680] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Turn count: 3, Action history length: 3
[2025-06-18 12:55:09] WARNING  [agent_fsm:1521] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:55:09] WARNING  [agent_fsm:1521] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:55:09] WARNING  [agent_fsm:1521] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:55:09] WARNING  [agent_fsm:1521] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:55:09] WARNING  [agent_fsm:1224] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:09] ERROR    [agent_fsm:1078] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] --- FSM STATE: ERROR ---
[2025-06-18 12:55:09] ERROR    [agent_fsm:1101] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:55:09] ERROR    [agent_fsm:1102] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:09] WARNING  [agent_fsm:1224] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:09] ERROR    [agent_fsm:1078] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] --- FSM STATE: ERROR ---
[2025-06-18 12:55:09] ERROR    [agent_fsm:1101] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:55:09] ERROR    [agent_fsm:1102] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:09] WARNING  [agent_fsm:1224] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:09] ERROR    [agent_fsm:1078] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] --- FSM STATE: ERROR ---
[2025-06-18 12:55:09] ERROR    [agent_fsm:1101] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:55:09] ERROR    [agent_fsm:1102] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:09] WARNING  [agent_fsm:1224] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:09] ERROR    [agent_fsm:1078] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] --- FSM STATE: ERROR ---
[2025-06-18 12:55:09] ERROR    [agent_fsm:1101] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:55:09] ERROR    [agent_fsm:1102] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:09] WARNING  [agent_fsm:1224] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:09] ERROR    [agent_fsm:1078] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] --- FSM STATE: ERROR ---
[2025-06-18 12:55:09] ERROR    [agent_fsm:1101] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:55:09] ERROR    [agent_fsm:1102] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:09] WARNING  [agent_fsm:1224] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:09] ERROR    [agent_fsm:1078] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] --- FSM STATE: ERROR ---
[2025-06-18 12:55:09] ERROR    [agent_fsm:1101] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:55:09] ERROR    [agent_fsm:1102] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:09] WARNING  [agent_fsm:1224] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:09] ERROR    [agent_fsm:1078] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] --- FSM STATE: ERROR ---
[2025-06-18 12:55:09] ERROR    [agent_fsm:1101] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:55:09] ERROR    [agent_fsm:1102] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:09] WARNING  [agent_fsm:1224] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:09] ERROR    [agent_fsm:1078] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] --- FSM STATE: ERROR ---
[2025-06-18 12:55:09] ERROR    [agent_fsm:1101] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:55:09] ERROR    [agent_fsm:1102] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:09] WARNING  [agent_fsm:1224] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:09] ERROR    [agent_fsm:1078] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] --- FSM STATE: ERROR ---
[2025-06-18 12:55:09] ERROR    [agent_fsm:1101] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:55:09] ERROR    [agent_fsm:1102] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:09] WARNING  [agent_fsm:1224] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:09] ERROR    [agent_fsm:1078] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] --- FSM STATE: ERROR ---
[2025-06-18 12:55:09] ERROR    [agent_fsm:1101] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:55:09] ERROR    [agent_fsm:1102] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:09] WARNING  [agent_fsm:1224] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:09] ERROR    [agent_fsm:1078] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] --- FSM STATE: ERROR ---
[2025-06-18 12:55:09] ERROR    [agent_fsm:1101] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:55:09] ERROR    [agent_fsm:1102] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:09] WARNING  [agent_fsm:1224] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:09] ERROR    [agent_fsm:1078] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] --- FSM STATE: ERROR ---
[2025-06-18 12:55:09] ERROR    [agent_fsm:1101] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:55:09] ERROR    [agent_fsm:1102] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:09] WARNING  [agent_fsm:1224] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:09] ERROR    [agent_fsm:1078] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] --- FSM STATE: ERROR ---
[2025-06-18 12:55:09] ERROR    [agent_fsm:1101] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:55:09] ERROR    [agent_fsm:1102] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:09] WARNING  [agent_fsm:1224] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:09] ERROR    [agent_fsm:1078] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] --- FSM STATE: ERROR ---
[2025-06-18 12:55:09] ERROR    [agent_fsm:1101] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:55:09] ERROR    [agent_fsm:1102] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:09] WARNING  [agent_fsm:1224] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:09] ERROR    [agent_fsm:1078] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] --- FSM STATE: ERROR ---
[2025-06-18 12:55:09] ERROR    [agent_fsm:1101] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:55:09] ERROR    [agent_fsm:1102] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:09] WARNING  [agent_fsm:1224] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:09] ERROR    [agent_fsm:1078] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] --- FSM STATE: ERROR ---
[2025-06-18 12:55:09] ERROR    [agent_fsm:1101] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:55:09] ERROR    [agent_fsm:1102] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:09] WARNING  [agent_fsm:1224] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:09] ERROR    [agent_fsm:1078] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] --- FSM STATE: ERROR ---
[2025-06-18 12:55:09] ERROR    [agent_fsm:1101] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:55:09] ERROR    [agent_fsm:1102] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:09] WARNING  [agent_fsm:1224] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:09] ERROR    [agent_fsm:1078] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] --- FSM STATE: ERROR ---
[2025-06-18 12:55:09] ERROR    [agent_fsm:1101] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:55:09] ERROR    [agent_fsm:1102] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:09] WARNING  [agent_fsm:1224] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:09] ERROR    [agent_fsm:1078] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] --- FSM STATE: ERROR ---
[2025-06-18 12:55:09] ERROR    [agent_fsm:1101] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Error category: GENERAL, Occurrences: 19
[2025-06-18 12:55:09] ERROR    [agent_fsm:1102] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:09] WARNING  [agent_fsm:1224] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:09] ERROR    [agent_fsm:1837] [4d03c727-e8c0-450c-8ffd-c1713fad6d96] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:55:09] INFO     [agent_fsm:1752] [833e028c-22cb-450e-9f33-6bc64f84d321] Starting resilient FSM execution
[2025-06-18 12:55:09] INFO     [agent_fsm:1807] [833e028c-22cb-450e-9f33-6bc64f84d321] FSM STATE: INITIAL
[2025-06-18 12:55:09] INFO     [agent_fsm:665] [833e028c-22cb-450e-9f33-6bc64f84d321] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:55:09] DEBUG    [agent_fsm:680] [833e028c-22cb-450e-9f33-6bc64f84d321] Turn count: 1, Action history length: 1
[2025-06-18 12:55:13] WARNING  [agent_fsm:1521] [833e028c-22cb-450e-9f33-6bc64f84d321] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:55:13] WARNING  [agent_fsm:1521] [833e028c-22cb-450e-9f33-6bc64f84d321] Failed to parse JSON parameters for step 8, using fallback parser
[2025-06-18 12:55:13] WARNING  [agent_fsm:1521] [833e028c-22cb-450e-9f33-6bc64f84d321] Failed to parse JSON parameters for step 11, using fallback parser
[2025-06-18 12:55:13] WARNING  [agent_fsm:1521] [833e028c-22cb-450e-9f33-6bc64f84d321] Failed to parse JSON parameters for step 14, using fallback parser
[2025-06-18 12:55:13] WARNING  [agent_fsm:1521] [833e028c-22cb-450e-9f33-6bc64f84d321] Failed to parse JSON parameters for step 17, using fallback parser
[2025-06-18 12:55:13] WARNING  [agent_fsm:1521] [833e028c-22cb-450e-9f33-6bc64f84d321] Failed to parse JSON parameters for step 20, using fallback parser
[2025-06-18 12:55:13] WARNING  [agent_fsm:1521] [833e028c-22cb-450e-9f33-6bc64f84d321] Failed to parse JSON parameters for step 23, using fallback parser
[2025-06-18 12:55:13] WARNING  [agent_fsm:1521] [833e028c-22cb-450e-9f33-6bc64f84d321] Failed to parse JSON parameters for step 26, using fallback parser
[2025-06-18 12:55:13] WARNING  [agent_fsm:1521] [833e028c-22cb-450e-9f33-6bc64f84d321] Failed to parse JSON parameters for step 29, using fallback parser
[2025-06-18 12:55:13] WARNING  [agent_fsm:1521] [833e028c-22cb-450e-9f33-6bc64f84d321] Failed to parse JSON parameters for step 32, using fallback parser
[2025-06-18 12:55:13] WARNING  [agent_fsm:1521] [833e028c-22cb-450e-9f33-6bc64f84d321] Failed to parse JSON parameters for step 35, using fallback parser
[2025-06-18 12:55:13] INFO     [agent_fsm:773] [833e028c-22cb-450e-9f33-6bc64f84d321] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:55:13] INFO     [agent_fsm:820] [833e028c-22cb-450e-9f33-6bc64f84d321] Executing tool: advanced_file_reader with input: {'filename': 'path/to/sales_data.xlsx'}
[2025-06-18 12:55:13] INFO     [agent_fsm:922] [833e028c-22cb-450e-9f33-6bc64f84d321] Tool execution completed
[2025-06-18 12:55:13] INFO     [agent_fsm:773] [833e028c-22cb-450e-9f33-6bc64f84d321] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:55:13] WARNING  [agent_fsm:803] [833e028c-22cb-450e-9f33-6bc64f84d321] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:55:13] INFO     [agent_fsm:665] [833e028c-22cb-450e-9f33-6bc64f84d321] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:55:13] DEBUG    [agent_fsm:680] [833e028c-22cb-450e-9f33-6bc64f84d321] Turn count: 2, Action history length: 2
[2025-06-18 12:55:14] WARNING  [agent_fsm:1521] [833e028c-22cb-450e-9f33-6bc64f84d321] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:55:14] WARNING  [agent_fsm:1521] [833e028c-22cb-450e-9f33-6bc64f84d321] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:55:14] WARNING  [agent_fsm:1521] [833e028c-22cb-450e-9f33-6bc64f84d321] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:55:14] INFO     [agent_fsm:773] [833e028c-22cb-450e-9f33-6bc64f84d321] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:55:14] INFO     [agent_fsm:820] [833e028c-22cb-450e-9f33-6bc64f84d321] Executing tool: advanced_file_reader with input: {'filename': 'path/to/file.xlsx'}
[2025-06-18 12:55:14] INFO     [agent_fsm:922] [833e028c-22cb-450e-9f33-6bc64f84d321] Tool execution completed
[2025-06-18 12:55:14] INFO     [agent_fsm:773] [833e028c-22cb-450e-9f33-6bc64f84d321] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:55:14] WARNING  [agent_fsm:803] [833e028c-22cb-450e-9f33-6bc64f84d321] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:55:14] INFO     [agent_fsm:665] [833e028c-22cb-450e-9f33-6bc64f84d321] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:55:14] DEBUG    [agent_fsm:680] [833e028c-22cb-450e-9f33-6bc64f84d321] Turn count: 3, Action history length: 3
[2025-06-18 12:55:15] WARNING  [agent_fsm:1224] [833e028c-22cb-450e-9f33-6bc64f84d321] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:15] ERROR    [agent_fsm:1078] [833e028c-22cb-450e-9f33-6bc64f84d321] --- FSM STATE: ERROR ---
[2025-06-18 12:55:15] ERROR    [agent_fsm:1101] [833e028c-22cb-450e-9f33-6bc64f84d321] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:55:15] ERROR    [agent_fsm:1102] [833e028c-22cb-450e-9f33-6bc64f84d321] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:15] WARNING  [agent_fsm:1224] [833e028c-22cb-450e-9f33-6bc64f84d321] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:15] ERROR    [agent_fsm:1078] [833e028c-22cb-450e-9f33-6bc64f84d321] --- FSM STATE: ERROR ---
[2025-06-18 12:55:15] ERROR    [agent_fsm:1101] [833e028c-22cb-450e-9f33-6bc64f84d321] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:55:15] ERROR    [agent_fsm:1102] [833e028c-22cb-450e-9f33-6bc64f84d321] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:15] WARNING  [agent_fsm:1224] [833e028c-22cb-450e-9f33-6bc64f84d321] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:15] ERROR    [agent_fsm:1078] [833e028c-22cb-450e-9f33-6bc64f84d321] --- FSM STATE: ERROR ---
[2025-06-18 12:55:15] ERROR    [agent_fsm:1101] [833e028c-22cb-450e-9f33-6bc64f84d321] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:55:15] ERROR    [agent_fsm:1102] [833e028c-22cb-450e-9f33-6bc64f84d321] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:15] WARNING  [agent_fsm:1224] [833e028c-22cb-450e-9f33-6bc64f84d321] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:15] ERROR    [agent_fsm:1078] [833e028c-22cb-450e-9f33-6bc64f84d321] --- FSM STATE: ERROR ---
[2025-06-18 12:55:15] ERROR    [agent_fsm:1101] [833e028c-22cb-450e-9f33-6bc64f84d321] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:55:15] ERROR    [agent_fsm:1102] [833e028c-22cb-450e-9f33-6bc64f84d321] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:15] WARNING  [agent_fsm:1224] [833e028c-22cb-450e-9f33-6bc64f84d321] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:15] ERROR    [agent_fsm:1078] [833e028c-22cb-450e-9f33-6bc64f84d321] --- FSM STATE: ERROR ---
[2025-06-18 12:55:15] ERROR    [agent_fsm:1101] [833e028c-22cb-450e-9f33-6bc64f84d321] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:55:15] ERROR    [agent_fsm:1102] [833e028c-22cb-450e-9f33-6bc64f84d321] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:15] WARNING  [agent_fsm:1224] [833e028c-22cb-450e-9f33-6bc64f84d321] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:15] ERROR    [agent_fsm:1078] [833e028c-22cb-450e-9f33-6bc64f84d321] --- FSM STATE: ERROR ---
[2025-06-18 12:55:15] ERROR    [agent_fsm:1101] [833e028c-22cb-450e-9f33-6bc64f84d321] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:55:15] ERROR    [agent_fsm:1102] [833e028c-22cb-450e-9f33-6bc64f84d321] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:15] WARNING  [agent_fsm:1224] [833e028c-22cb-450e-9f33-6bc64f84d321] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:15] ERROR    [agent_fsm:1078] [833e028c-22cb-450e-9f33-6bc64f84d321] --- FSM STATE: ERROR ---
[2025-06-18 12:55:15] ERROR    [agent_fsm:1101] [833e028c-22cb-450e-9f33-6bc64f84d321] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:55:15] ERROR    [agent_fsm:1102] [833e028c-22cb-450e-9f33-6bc64f84d321] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:15] WARNING  [agent_fsm:1224] [833e028c-22cb-450e-9f33-6bc64f84d321] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:15] ERROR    [agent_fsm:1078] [833e028c-22cb-450e-9f33-6bc64f84d321] --- FSM STATE: ERROR ---
[2025-06-18 12:55:15] ERROR    [agent_fsm:1101] [833e028c-22cb-450e-9f33-6bc64f84d321] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:55:15] ERROR    [agent_fsm:1102] [833e028c-22cb-450e-9f33-6bc64f84d321] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:15] WARNING  [agent_fsm:1224] [833e028c-22cb-450e-9f33-6bc64f84d321] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:15] ERROR    [agent_fsm:1078] [833e028c-22cb-450e-9f33-6bc64f84d321] --- FSM STATE: ERROR ---
[2025-06-18 12:55:15] ERROR    [agent_fsm:1101] [833e028c-22cb-450e-9f33-6bc64f84d321] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:55:15] ERROR    [agent_fsm:1102] [833e028c-22cb-450e-9f33-6bc64f84d321] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:15] WARNING  [agent_fsm:1224] [833e028c-22cb-450e-9f33-6bc64f84d321] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:15] ERROR    [agent_fsm:1078] [833e028c-22cb-450e-9f33-6bc64f84d321] --- FSM STATE: ERROR ---
[2025-06-18 12:55:15] ERROR    [agent_fsm:1101] [833e028c-22cb-450e-9f33-6bc64f84d321] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:55:15] ERROR    [agent_fsm:1102] [833e028c-22cb-450e-9f33-6bc64f84d321] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:15] WARNING  [agent_fsm:1224] [833e028c-22cb-450e-9f33-6bc64f84d321] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:15] ERROR    [agent_fsm:1078] [833e028c-22cb-450e-9f33-6bc64f84d321] --- FSM STATE: ERROR ---
[2025-06-18 12:55:15] ERROR    [agent_fsm:1101] [833e028c-22cb-450e-9f33-6bc64f84d321] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:55:15] ERROR    [agent_fsm:1102] [833e028c-22cb-450e-9f33-6bc64f84d321] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:15] WARNING  [agent_fsm:1224] [833e028c-22cb-450e-9f33-6bc64f84d321] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:15] ERROR    [agent_fsm:1078] [833e028c-22cb-450e-9f33-6bc64f84d321] --- FSM STATE: ERROR ---
[2025-06-18 12:55:15] ERROR    [agent_fsm:1101] [833e028c-22cb-450e-9f33-6bc64f84d321] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:55:15] ERROR    [agent_fsm:1102] [833e028c-22cb-450e-9f33-6bc64f84d321] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:15] WARNING  [agent_fsm:1224] [833e028c-22cb-450e-9f33-6bc64f84d321] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:15] ERROR    [agent_fsm:1078] [833e028c-22cb-450e-9f33-6bc64f84d321] --- FSM STATE: ERROR ---
[2025-06-18 12:55:15] ERROR    [agent_fsm:1101] [833e028c-22cb-450e-9f33-6bc64f84d321] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:55:15] ERROR    [agent_fsm:1102] [833e028c-22cb-450e-9f33-6bc64f84d321] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:15] WARNING  [agent_fsm:1224] [833e028c-22cb-450e-9f33-6bc64f84d321] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:15] ERROR    [agent_fsm:1078] [833e028c-22cb-450e-9f33-6bc64f84d321] --- FSM STATE: ERROR ---
[2025-06-18 12:55:15] ERROR    [agent_fsm:1101] [833e028c-22cb-450e-9f33-6bc64f84d321] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:55:15] ERROR    [agent_fsm:1102] [833e028c-22cb-450e-9f33-6bc64f84d321] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:15] WARNING  [agent_fsm:1224] [833e028c-22cb-450e-9f33-6bc64f84d321] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:15] ERROR    [agent_fsm:1078] [833e028c-22cb-450e-9f33-6bc64f84d321] --- FSM STATE: ERROR ---
[2025-06-18 12:55:15] ERROR    [agent_fsm:1101] [833e028c-22cb-450e-9f33-6bc64f84d321] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:55:15] ERROR    [agent_fsm:1102] [833e028c-22cb-450e-9f33-6bc64f84d321] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:15] WARNING  [agent_fsm:1224] [833e028c-22cb-450e-9f33-6bc64f84d321] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:15] ERROR    [agent_fsm:1078] [833e028c-22cb-450e-9f33-6bc64f84d321] --- FSM STATE: ERROR ---
[2025-06-18 12:55:15] ERROR    [agent_fsm:1101] [833e028c-22cb-450e-9f33-6bc64f84d321] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:55:15] ERROR    [agent_fsm:1102] [833e028c-22cb-450e-9f33-6bc64f84d321] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:15] WARNING  [agent_fsm:1224] [833e028c-22cb-450e-9f33-6bc64f84d321] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:15] ERROR    [agent_fsm:1078] [833e028c-22cb-450e-9f33-6bc64f84d321] --- FSM STATE: ERROR ---
[2025-06-18 12:55:15] ERROR    [agent_fsm:1101] [833e028c-22cb-450e-9f33-6bc64f84d321] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:55:15] ERROR    [agent_fsm:1102] [833e028c-22cb-450e-9f33-6bc64f84d321] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:15] WARNING  [agent_fsm:1224] [833e028c-22cb-450e-9f33-6bc64f84d321] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:15] ERROR    [agent_fsm:1078] [833e028c-22cb-450e-9f33-6bc64f84d321] --- FSM STATE: ERROR ---
[2025-06-18 12:55:15] ERROR    [agent_fsm:1101] [833e028c-22cb-450e-9f33-6bc64f84d321] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:55:15] ERROR    [agent_fsm:1102] [833e028c-22cb-450e-9f33-6bc64f84d321] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:15] WARNING  [agent_fsm:1224] [833e028c-22cb-450e-9f33-6bc64f84d321] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:15] ERROR    [agent_fsm:1837] [833e028c-22cb-450e-9f33-6bc64f84d321] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:55:15] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 12:55:15] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 12:55:15] INFO     [agent_fsm:570] [e3b0cf92-33aa-415f-99e2-74ff2930ddde] Building resilient FSM graph
[2025-06-18 12:55:15] INFO     [agent_fsm:572] [e3b0cf92-33aa-415f-99e2-74ff2930ddde] FSMReActAgent graph built successfully
[2025-06-18 12:55:15] INFO     [agent_fsm:1752] [bc8db022-fe28-49c6-b19e-3b92cb274a8a] Starting resilient FSM execution
[2025-06-18 12:55:15] WARNING  [agent_fsm:1759] [bc8db022-fe28-49c6-b19e-3b92cb274a8a] FSM agent rejecting invalid input: '{{' - 1 validation error for ValidatedQuery
query
  Value error, Invalid placeholder query received: '{{' [type=value_error, input_value='{{', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/value_error
[2025-06-18 12:55:15] INFO     [agent_fsm:1752] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Starting resilient FSM execution
[2025-06-18 12:55:15] INFO     [agent_fsm:1807] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] FSM STATE: INITIAL
[2025-06-18 12:55:15] INFO     [agent_fsm:665] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:55:15] DEBUG    [agent_fsm:680] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Turn count: 1, Action history length: 1
[2025-06-18 12:55:17] WARNING  [agent_fsm:1333] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Tool image_analyzer not found in registry, will use stub
[2025-06-18 12:55:17] INFO     [agent_fsm:773] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:55:17] INFO     [agent_fsm:820] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Executing tool: web_researcher with input: {'query': 'What is 2 + 2?', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 12:55:17] INFO     [agent_fsm:922] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Tool execution completed
[2025-06-18 12:55:17] INFO     [agent_fsm:773] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:55:17] WARNING  [agent_fsm:803] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:55:17] INFO     [agent_fsm:665] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:55:17] DEBUG    [agent_fsm:680] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Turn count: 2, Action history length: 2
[2025-06-18 12:55:19] WARNING  [agent_fsm:1333] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Tool image_analyzer not found in registry, will use stub
[2025-06-18 12:55:19] INFO     [agent_fsm:773] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:55:19] INFO     [agent_fsm:820] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Executing tool: semantic_search_tool with input: {'query': '2 + 2', 'filename': 'knowledge_base.csv', 'top_k': 3}
[2025-06-18 12:55:19] INFO     [agent_fsm:922] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Tool execution completed
[2025-06-18 12:55:19] INFO     [agent_fsm:773] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:55:19] WARNING  [agent_fsm:803] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:55:19] INFO     [agent_fsm:665] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:55:19] DEBUG    [agent_fsm:680] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Turn count: 3, Action history length: 3
[2025-06-18 12:55:19] WARNING  [agent_fsm:1224] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:19] ERROR    [agent_fsm:1078] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] --- FSM STATE: ERROR ---
[2025-06-18 12:55:19] ERROR    [agent_fsm:1101] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:55:19] ERROR    [agent_fsm:1102] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:19] WARNING  [agent_fsm:1224] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:19] ERROR    [agent_fsm:1078] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] --- FSM STATE: ERROR ---
[2025-06-18 12:55:19] ERROR    [agent_fsm:1101] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:55:19] ERROR    [agent_fsm:1102] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:19] WARNING  [agent_fsm:1224] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:19] ERROR    [agent_fsm:1078] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] --- FSM STATE: ERROR ---
[2025-06-18 12:55:19] ERROR    [agent_fsm:1101] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:55:19] ERROR    [agent_fsm:1102] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:19] WARNING  [agent_fsm:1224] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:19] ERROR    [agent_fsm:1078] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] --- FSM STATE: ERROR ---
[2025-06-18 12:55:19] ERROR    [agent_fsm:1101] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:55:19] ERROR    [agent_fsm:1102] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:19] WARNING  [agent_fsm:1224] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:19] ERROR    [agent_fsm:1078] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] --- FSM STATE: ERROR ---
[2025-06-18 12:55:19] ERROR    [agent_fsm:1101] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:55:19] ERROR    [agent_fsm:1102] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:19] WARNING  [agent_fsm:1224] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:19] ERROR    [agent_fsm:1078] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] --- FSM STATE: ERROR ---
[2025-06-18 12:55:19] ERROR    [agent_fsm:1101] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:55:19] ERROR    [agent_fsm:1102] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:19] WARNING  [agent_fsm:1224] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:19] ERROR    [agent_fsm:1078] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] --- FSM STATE: ERROR ---
[2025-06-18 12:55:19] ERROR    [agent_fsm:1101] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:55:19] ERROR    [agent_fsm:1102] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:19] WARNING  [agent_fsm:1224] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:19] ERROR    [agent_fsm:1078] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] --- FSM STATE: ERROR ---
[2025-06-18 12:55:19] ERROR    [agent_fsm:1101] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:55:19] ERROR    [agent_fsm:1102] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:19] WARNING  [agent_fsm:1224] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:19] ERROR    [agent_fsm:1078] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] --- FSM STATE: ERROR ---
[2025-06-18 12:55:19] ERROR    [agent_fsm:1101] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:55:19] ERROR    [agent_fsm:1102] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:19] WARNING  [agent_fsm:1224] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:19] ERROR    [agent_fsm:1078] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] --- FSM STATE: ERROR ---
[2025-06-18 12:55:19] ERROR    [agent_fsm:1101] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:55:19] ERROR    [agent_fsm:1102] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:19] WARNING  [agent_fsm:1224] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:19] ERROR    [agent_fsm:1078] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] --- FSM STATE: ERROR ---
[2025-06-18 12:55:19] ERROR    [agent_fsm:1101] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:55:19] ERROR    [agent_fsm:1102] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:19] WARNING  [agent_fsm:1224] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:19] ERROR    [agent_fsm:1078] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] --- FSM STATE: ERROR ---
[2025-06-18 12:55:19] ERROR    [agent_fsm:1101] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:55:19] ERROR    [agent_fsm:1102] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:19] WARNING  [agent_fsm:1224] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:19] ERROR    [agent_fsm:1078] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] --- FSM STATE: ERROR ---
[2025-06-18 12:55:19] ERROR    [agent_fsm:1101] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:55:19] ERROR    [agent_fsm:1102] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:19] WARNING  [agent_fsm:1224] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:19] ERROR    [agent_fsm:1078] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] --- FSM STATE: ERROR ---
[2025-06-18 12:55:19] ERROR    [agent_fsm:1101] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:55:19] ERROR    [agent_fsm:1102] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:19] WARNING  [agent_fsm:1224] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:19] ERROR    [agent_fsm:1078] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] --- FSM STATE: ERROR ---
[2025-06-18 12:55:19] ERROR    [agent_fsm:1101] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:55:19] ERROR    [agent_fsm:1102] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:19] WARNING  [agent_fsm:1224] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:19] ERROR    [agent_fsm:1078] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] --- FSM STATE: ERROR ---
[2025-06-18 12:55:19] ERROR    [agent_fsm:1101] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:55:19] ERROR    [agent_fsm:1102] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:19] WARNING  [agent_fsm:1224] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:19] ERROR    [agent_fsm:1078] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] --- FSM STATE: ERROR ---
[2025-06-18 12:55:19] ERROR    [agent_fsm:1101] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:55:19] ERROR    [agent_fsm:1102] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:19] WARNING  [agent_fsm:1224] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:19] ERROR    [agent_fsm:1078] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] --- FSM STATE: ERROR ---
[2025-06-18 12:55:19] ERROR    [agent_fsm:1101] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:55:19] ERROR    [agent_fsm:1102] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Errors: ['Duplicate tool call detected']
[2025-06-18 12:55:19] WARNING  [agent_fsm:1224] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] Direct loop detected - same action repeated 3 times
[2025-06-18 12:55:19] ERROR    [agent_fsm:1837] [5c87066c-41c5-4bbe-88f6-b35e038a1e68] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:55:19] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 12:55:19] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 12:55:19] INFO     [agent_fsm:570] [83412829-041e-44ec-83e4-601a2dcff01e] Building resilient FSM graph
[2025-06-18 12:55:19] INFO     [agent_fsm:572] [83412829-041e-44ec-83e4-601a2dcff01e] FSMReActAgent graph built successfully
[2025-06-18 12:56:56] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 12:56:56] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 12:56:56] INFO     [agent_fsm:570] [29612ce9-915b-481e-b6ae-ab2109e36d41] Building resilient FSM graph
[2025-06-18 12:56:56] INFO     [agent_fsm:572] [29612ce9-915b-481e-b6ae-ab2109e36d41] FSMReActAgent graph built successfully
[2025-06-18 12:56:56] INFO     [agent_fsm:1752] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Starting resilient FSM execution
[2025-06-18 12:56:56] INFO     [agent_fsm:1807] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] FSM STATE: INITIAL
[2025-06-18 12:56:56] INFO     [agent_fsm:665] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:56:56] DEBUG    [agent_fsm:680] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Turn count: 1, Action history length: 1
[2025-06-18 12:56:57] WARNING  [agent_fsm:1521] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:56:57] WARNING  [agent_fsm:1521] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:56:57] INFO     [agent_fsm:773] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:56:57] INFO     [agent_fsm:820] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Executing tool: web_researcher with input: {'query': 'Capital of France', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 12:56:57] INFO     [agent_fsm:922] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Tool execution completed
[2025-06-18 12:56:57] INFO     [agent_fsm:773] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:56:57] WARNING  [agent_fsm:803] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:56:57] INFO     [agent_fsm:665] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:56:57] DEBUG    [agent_fsm:680] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Turn count: 2, Action history length: 2
[2025-06-18 12:56:59] INFO     [agent_fsm:773] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:56:59] INFO     [agent_fsm:820] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Executing tool: python_interpreter with input: {'code': 'result = tavily_search_result; print(result[0])'}
[2025-06-18 12:56:59] INFO     [agent_fsm:922] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Tool execution completed
[2025-06-18 12:56:59] INFO     [agent_fsm:773] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:56:59] WARNING  [agent_fsm:803] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:56:59] INFO     [agent_fsm:665] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:56:59] DEBUG    [agent_fsm:680] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Turn count: 3, Action history length: 3
[2025-06-18 12:57:00] WARNING  [agent_fsm:1521] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:57:00] WARNING  [agent_fsm:1521] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:57:00] WARNING  [agent_fsm:1521] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:57:00] WARNING  [agent_fsm:1224] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:00] ERROR    [agent_fsm:1078] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] --- FSM STATE: ERROR ---
[2025-06-18 12:57:00] ERROR    [agent_fsm:1101] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:57:00] ERROR    [agent_fsm:1102] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:00] WARNING  [agent_fsm:1224] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:00] ERROR    [agent_fsm:1078] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] --- FSM STATE: ERROR ---
[2025-06-18 12:57:00] ERROR    [agent_fsm:1101] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:57:00] ERROR    [agent_fsm:1102] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:00] WARNING  [agent_fsm:1224] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:00] ERROR    [agent_fsm:1078] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] --- FSM STATE: ERROR ---
[2025-06-18 12:57:00] ERROR    [agent_fsm:1101] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:57:00] ERROR    [agent_fsm:1102] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:00] WARNING  [agent_fsm:1224] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:00] ERROR    [agent_fsm:1078] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] --- FSM STATE: ERROR ---
[2025-06-18 12:57:00] ERROR    [agent_fsm:1101] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:57:00] ERROR    [agent_fsm:1102] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:00] WARNING  [agent_fsm:1224] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:00] ERROR    [agent_fsm:1078] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] --- FSM STATE: ERROR ---
[2025-06-18 12:57:00] ERROR    [agent_fsm:1101] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:57:00] ERROR    [agent_fsm:1102] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:00] WARNING  [agent_fsm:1224] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:00] ERROR    [agent_fsm:1078] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] --- FSM STATE: ERROR ---
[2025-06-18 12:57:00] ERROR    [agent_fsm:1101] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:57:00] ERROR    [agent_fsm:1102] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:00] WARNING  [agent_fsm:1224] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:00] ERROR    [agent_fsm:1078] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] --- FSM STATE: ERROR ---
[2025-06-18 12:57:00] ERROR    [agent_fsm:1101] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:57:00] ERROR    [agent_fsm:1102] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:00] WARNING  [agent_fsm:1224] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:00] ERROR    [agent_fsm:1078] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] --- FSM STATE: ERROR ---
[2025-06-18 12:57:00] ERROR    [agent_fsm:1101] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:57:00] ERROR    [agent_fsm:1102] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:00] WARNING  [agent_fsm:1224] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:00] ERROR    [agent_fsm:1078] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] --- FSM STATE: ERROR ---
[2025-06-18 12:57:00] ERROR    [agent_fsm:1101] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:57:00] ERROR    [agent_fsm:1102] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:00] WARNING  [agent_fsm:1224] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:00] ERROR    [agent_fsm:1078] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] --- FSM STATE: ERROR ---
[2025-06-18 12:57:00] ERROR    [agent_fsm:1101] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:57:00] ERROR    [agent_fsm:1102] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:00] WARNING  [agent_fsm:1224] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:00] ERROR    [agent_fsm:1078] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] --- FSM STATE: ERROR ---
[2025-06-18 12:57:00] ERROR    [agent_fsm:1101] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:57:00] ERROR    [agent_fsm:1102] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:00] WARNING  [agent_fsm:1224] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:00] ERROR    [agent_fsm:1078] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] --- FSM STATE: ERROR ---
[2025-06-18 12:57:00] ERROR    [agent_fsm:1101] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:57:00] ERROR    [agent_fsm:1102] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:00] WARNING  [agent_fsm:1224] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:00] ERROR    [agent_fsm:1078] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] --- FSM STATE: ERROR ---
[2025-06-18 12:57:00] ERROR    [agent_fsm:1101] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:57:00] ERROR    [agent_fsm:1102] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:00] WARNING  [agent_fsm:1224] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:00] ERROR    [agent_fsm:1078] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] --- FSM STATE: ERROR ---
[2025-06-18 12:57:00] ERROR    [agent_fsm:1101] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:57:00] ERROR    [agent_fsm:1102] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:00] WARNING  [agent_fsm:1224] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:00] ERROR    [agent_fsm:1078] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] --- FSM STATE: ERROR ---
[2025-06-18 12:57:00] ERROR    [agent_fsm:1101] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:57:00] ERROR    [agent_fsm:1102] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:00] WARNING  [agent_fsm:1224] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:00] ERROR    [agent_fsm:1078] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] --- FSM STATE: ERROR ---
[2025-06-18 12:57:00] ERROR    [agent_fsm:1101] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:57:00] ERROR    [agent_fsm:1102] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:00] WARNING  [agent_fsm:1224] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:00] ERROR    [agent_fsm:1078] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] --- FSM STATE: ERROR ---
[2025-06-18 12:57:00] ERROR    [agent_fsm:1101] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:57:00] ERROR    [agent_fsm:1102] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:00] WARNING  [agent_fsm:1224] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:00] ERROR    [agent_fsm:1078] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] --- FSM STATE: ERROR ---
[2025-06-18 12:57:00] ERROR    [agent_fsm:1101] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:57:00] ERROR    [agent_fsm:1102] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:00] WARNING  [agent_fsm:1224] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:00] ERROR    [agent_fsm:1837] [a3ccf9a6-0a14-4271-af4c-8b0f4f699f95] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:57:00] INFO     [agent_fsm:1752] [54865790-df74-4274-b75b-a67ac6ec1c97] Starting resilient FSM execution
[2025-06-18 12:57:00] INFO     [agent_fsm:1807] [54865790-df74-4274-b75b-a67ac6ec1c97] FSM STATE: INITIAL
[2025-06-18 12:57:00] INFO     [agent_fsm:665] [54865790-df74-4274-b75b-a67ac6ec1c97] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:57:00] DEBUG    [agent_fsm:680] [54865790-df74-4274-b75b-a67ac6ec1c97] Turn count: 1, Action history length: 1
[2025-06-18 12:57:01] WARNING  [agent_fsm:1521] [54865790-df74-4274-b75b-a67ac6ec1c97] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:57:01] INFO     [agent_fsm:773] [54865790-df74-4274-b75b-a67ac6ec1c97] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:57:01] INFO     [agent_fsm:820] [54865790-df74-4274-b75b-a67ac6ec1c97] Executing tool: web_researcher with input: {'query': 'definition of a leap year', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 12:57:01] INFO     [agent_fsm:922] [54865790-df74-4274-b75b-a67ac6ec1c97] Tool execution completed
[2025-06-18 12:57:01] INFO     [agent_fsm:773] [54865790-df74-4274-b75b-a67ac6ec1c97] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:57:01] WARNING  [agent_fsm:803] [54865790-df74-4274-b75b-a67ac6ec1c97] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:57:01] INFO     [agent_fsm:665] [54865790-df74-4274-b75b-a67ac6ec1c97] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:57:01] DEBUG    [agent_fsm:680] [54865790-df74-4274-b75b-a67ac6ec1c97] Turn count: 2, Action history length: 2
[2025-06-18 12:57:02] WARNING  [agent_fsm:1521] [54865790-df74-4274-b75b-a67ac6ec1c97] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:57:02] INFO     [agent_fsm:773] [54865790-df74-4274-b75b-a67ac6ec1c97] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:57:02] INFO     [agent_fsm:820] [54865790-df74-4274-b75b-a67ac6ec1c97] Executing tool: semantic_search_tool with input: {'query': 'characteristics of a leap year', 'filename': 'knowledge_base.csv', 'top_k': 3}
[2025-06-18 12:57:02] INFO     [agent_fsm:922] [54865790-df74-4274-b75b-a67ac6ec1c97] Tool execution completed
[2025-06-18 12:57:02] INFO     [agent_fsm:773] [54865790-df74-4274-b75b-a67ac6ec1c97] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:57:02] WARNING  [agent_fsm:803] [54865790-df74-4274-b75b-a67ac6ec1c97] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:57:02] INFO     [agent_fsm:665] [54865790-df74-4274-b75b-a67ac6ec1c97] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:57:02] DEBUG    [agent_fsm:680] [54865790-df74-4274-b75b-a67ac6ec1c97] Turn count: 3, Action history length: 3
[2025-06-18 12:57:02] WARNING  [agent_fsm:1224] [54865790-df74-4274-b75b-a67ac6ec1c97] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:02] ERROR    [agent_fsm:1078] [54865790-df74-4274-b75b-a67ac6ec1c97] --- FSM STATE: ERROR ---
[2025-06-18 12:57:02] ERROR    [agent_fsm:1101] [54865790-df74-4274-b75b-a67ac6ec1c97] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:57:02] ERROR    [agent_fsm:1102] [54865790-df74-4274-b75b-a67ac6ec1c97] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:02] WARNING  [agent_fsm:1224] [54865790-df74-4274-b75b-a67ac6ec1c97] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:02] ERROR    [agent_fsm:1078] [54865790-df74-4274-b75b-a67ac6ec1c97] --- FSM STATE: ERROR ---
[2025-06-18 12:57:02] ERROR    [agent_fsm:1101] [54865790-df74-4274-b75b-a67ac6ec1c97] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:57:02] ERROR    [agent_fsm:1102] [54865790-df74-4274-b75b-a67ac6ec1c97] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:02] WARNING  [agent_fsm:1224] [54865790-df74-4274-b75b-a67ac6ec1c97] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:02] ERROR    [agent_fsm:1078] [54865790-df74-4274-b75b-a67ac6ec1c97] --- FSM STATE: ERROR ---
[2025-06-18 12:57:02] ERROR    [agent_fsm:1101] [54865790-df74-4274-b75b-a67ac6ec1c97] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:57:02] ERROR    [agent_fsm:1102] [54865790-df74-4274-b75b-a67ac6ec1c97] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:02] WARNING  [agent_fsm:1224] [54865790-df74-4274-b75b-a67ac6ec1c97] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:02] ERROR    [agent_fsm:1078] [54865790-df74-4274-b75b-a67ac6ec1c97] --- FSM STATE: ERROR ---
[2025-06-18 12:57:02] ERROR    [agent_fsm:1101] [54865790-df74-4274-b75b-a67ac6ec1c97] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:57:02] ERROR    [agent_fsm:1102] [54865790-df74-4274-b75b-a67ac6ec1c97] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:02] WARNING  [agent_fsm:1224] [54865790-df74-4274-b75b-a67ac6ec1c97] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:02] ERROR    [agent_fsm:1078] [54865790-df74-4274-b75b-a67ac6ec1c97] --- FSM STATE: ERROR ---
[2025-06-18 12:57:02] ERROR    [agent_fsm:1101] [54865790-df74-4274-b75b-a67ac6ec1c97] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:57:02] ERROR    [agent_fsm:1102] [54865790-df74-4274-b75b-a67ac6ec1c97] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:02] WARNING  [agent_fsm:1224] [54865790-df74-4274-b75b-a67ac6ec1c97] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:02] ERROR    [agent_fsm:1078] [54865790-df74-4274-b75b-a67ac6ec1c97] --- FSM STATE: ERROR ---
[2025-06-18 12:57:02] ERROR    [agent_fsm:1101] [54865790-df74-4274-b75b-a67ac6ec1c97] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:57:02] ERROR    [agent_fsm:1102] [54865790-df74-4274-b75b-a67ac6ec1c97] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:02] WARNING  [agent_fsm:1224] [54865790-df74-4274-b75b-a67ac6ec1c97] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:02] ERROR    [agent_fsm:1078] [54865790-df74-4274-b75b-a67ac6ec1c97] --- FSM STATE: ERROR ---
[2025-06-18 12:57:02] ERROR    [agent_fsm:1101] [54865790-df74-4274-b75b-a67ac6ec1c97] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:57:02] ERROR    [agent_fsm:1102] [54865790-df74-4274-b75b-a67ac6ec1c97] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:02] WARNING  [agent_fsm:1224] [54865790-df74-4274-b75b-a67ac6ec1c97] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:02] ERROR    [agent_fsm:1078] [54865790-df74-4274-b75b-a67ac6ec1c97] --- FSM STATE: ERROR ---
[2025-06-18 12:57:02] ERROR    [agent_fsm:1101] [54865790-df74-4274-b75b-a67ac6ec1c97] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:57:02] ERROR    [agent_fsm:1102] [54865790-df74-4274-b75b-a67ac6ec1c97] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:02] WARNING  [agent_fsm:1224] [54865790-df74-4274-b75b-a67ac6ec1c97] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:02] ERROR    [agent_fsm:1078] [54865790-df74-4274-b75b-a67ac6ec1c97] --- FSM STATE: ERROR ---
[2025-06-18 12:57:02] ERROR    [agent_fsm:1101] [54865790-df74-4274-b75b-a67ac6ec1c97] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:57:02] ERROR    [agent_fsm:1102] [54865790-df74-4274-b75b-a67ac6ec1c97] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:02] WARNING  [agent_fsm:1224] [54865790-df74-4274-b75b-a67ac6ec1c97] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:02] ERROR    [agent_fsm:1078] [54865790-df74-4274-b75b-a67ac6ec1c97] --- FSM STATE: ERROR ---
[2025-06-18 12:57:02] ERROR    [agent_fsm:1101] [54865790-df74-4274-b75b-a67ac6ec1c97] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:57:02] ERROR    [agent_fsm:1102] [54865790-df74-4274-b75b-a67ac6ec1c97] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:02] WARNING  [agent_fsm:1224] [54865790-df74-4274-b75b-a67ac6ec1c97] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:02] ERROR    [agent_fsm:1078] [54865790-df74-4274-b75b-a67ac6ec1c97] --- FSM STATE: ERROR ---
[2025-06-18 12:57:02] ERROR    [agent_fsm:1101] [54865790-df74-4274-b75b-a67ac6ec1c97] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:57:02] ERROR    [agent_fsm:1102] [54865790-df74-4274-b75b-a67ac6ec1c97] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:02] WARNING  [agent_fsm:1224] [54865790-df74-4274-b75b-a67ac6ec1c97] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:02] ERROR    [agent_fsm:1078] [54865790-df74-4274-b75b-a67ac6ec1c97] --- FSM STATE: ERROR ---
[2025-06-18 12:57:02] ERROR    [agent_fsm:1101] [54865790-df74-4274-b75b-a67ac6ec1c97] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:57:02] ERROR    [agent_fsm:1102] [54865790-df74-4274-b75b-a67ac6ec1c97] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:02] WARNING  [agent_fsm:1224] [54865790-df74-4274-b75b-a67ac6ec1c97] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:02] ERROR    [agent_fsm:1078] [54865790-df74-4274-b75b-a67ac6ec1c97] --- FSM STATE: ERROR ---
[2025-06-18 12:57:02] ERROR    [agent_fsm:1101] [54865790-df74-4274-b75b-a67ac6ec1c97] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:57:02] ERROR    [agent_fsm:1102] [54865790-df74-4274-b75b-a67ac6ec1c97] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:02] WARNING  [agent_fsm:1224] [54865790-df74-4274-b75b-a67ac6ec1c97] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:02] ERROR    [agent_fsm:1078] [54865790-df74-4274-b75b-a67ac6ec1c97] --- FSM STATE: ERROR ---
[2025-06-18 12:57:02] ERROR    [agent_fsm:1101] [54865790-df74-4274-b75b-a67ac6ec1c97] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:57:02] ERROR    [agent_fsm:1102] [54865790-df74-4274-b75b-a67ac6ec1c97] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:02] WARNING  [agent_fsm:1224] [54865790-df74-4274-b75b-a67ac6ec1c97] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:02] ERROR    [agent_fsm:1078] [54865790-df74-4274-b75b-a67ac6ec1c97] --- FSM STATE: ERROR ---
[2025-06-18 12:57:02] ERROR    [agent_fsm:1101] [54865790-df74-4274-b75b-a67ac6ec1c97] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:57:02] ERROR    [agent_fsm:1102] [54865790-df74-4274-b75b-a67ac6ec1c97] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:02] WARNING  [agent_fsm:1224] [54865790-df74-4274-b75b-a67ac6ec1c97] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:02] ERROR    [agent_fsm:1078] [54865790-df74-4274-b75b-a67ac6ec1c97] --- FSM STATE: ERROR ---
[2025-06-18 12:57:02] ERROR    [agent_fsm:1101] [54865790-df74-4274-b75b-a67ac6ec1c97] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:57:02] ERROR    [agent_fsm:1102] [54865790-df74-4274-b75b-a67ac6ec1c97] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:02] WARNING  [agent_fsm:1224] [54865790-df74-4274-b75b-a67ac6ec1c97] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:02] ERROR    [agent_fsm:1078] [54865790-df74-4274-b75b-a67ac6ec1c97] --- FSM STATE: ERROR ---
[2025-06-18 12:57:02] ERROR    [agent_fsm:1101] [54865790-df74-4274-b75b-a67ac6ec1c97] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:57:02] ERROR    [agent_fsm:1102] [54865790-df74-4274-b75b-a67ac6ec1c97] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:02] WARNING  [agent_fsm:1224] [54865790-df74-4274-b75b-a67ac6ec1c97] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:02] ERROR    [agent_fsm:1078] [54865790-df74-4274-b75b-a67ac6ec1c97] --- FSM STATE: ERROR ---
[2025-06-18 12:57:02] ERROR    [agent_fsm:1101] [54865790-df74-4274-b75b-a67ac6ec1c97] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:57:02] ERROR    [agent_fsm:1102] [54865790-df74-4274-b75b-a67ac6ec1c97] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:02] WARNING  [agent_fsm:1224] [54865790-df74-4274-b75b-a67ac6ec1c97] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:02] ERROR    [agent_fsm:1837] [54865790-df74-4274-b75b-a67ac6ec1c97] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:57:02] INFO     [agent_fsm:1752] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Starting resilient FSM execution
[2025-06-18 12:57:02] INFO     [agent_fsm:1807] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] FSM STATE: INITIAL
[2025-06-18 12:57:02] INFO     [agent_fsm:665] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:57:02] DEBUG    [agent_fsm:680] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Turn count: 1, Action history length: 1
[2025-06-18 12:57:03] WARNING  [agent_fsm:1521] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:57:03] WARNING  [agent_fsm:1521] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:57:03] WARNING  [agent_fsm:1521] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:57:03] INFO     [agent_fsm:773] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:57:03] INFO     [agent_fsm:820] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:57:03] INFO     [agent_fsm:922] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Tool execution completed
[2025-06-18 12:57:03] INFO     [agent_fsm:773] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:57:03] WARNING  [agent_fsm:803] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:57:03] INFO     [agent_fsm:665] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:57:03] DEBUG    [agent_fsm:680] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Turn count: 2, Action history length: 2
[2025-06-18 12:57:04] WARNING  [agent_fsm:1521] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:57:04] INFO     [agent_fsm:773] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:57:04] INFO     [agent_fsm:820] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Executing tool: python_interpreter with input: {'code': 'result = ; print(result)'}
[2025-06-18 12:57:04] INFO     [agent_fsm:922] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Tool execution completed
[2025-06-18 12:57:04] INFO     [agent_fsm:773] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:57:04] WARNING  [agent_fsm:803] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:57:04] INFO     [agent_fsm:665] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:57:04] DEBUG    [agent_fsm:680] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Turn count: 3, Action history length: 3
[2025-06-18 12:57:05] WARNING  [agent_fsm:1521] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:57:05] WARNING  [agent_fsm:1521] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:57:05] WARNING  [agent_fsm:1521] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:57:05] WARNING  [agent_fsm:1224] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:05] ERROR    [agent_fsm:1078] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] --- FSM STATE: ERROR ---
[2025-06-18 12:57:05] ERROR    [agent_fsm:1101] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:57:05] ERROR    [agent_fsm:1102] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:05] WARNING  [agent_fsm:1224] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:05] ERROR    [agent_fsm:1078] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] --- FSM STATE: ERROR ---
[2025-06-18 12:57:05] ERROR    [agent_fsm:1101] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:57:05] ERROR    [agent_fsm:1102] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:05] WARNING  [agent_fsm:1224] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:05] ERROR    [agent_fsm:1078] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] --- FSM STATE: ERROR ---
[2025-06-18 12:57:05] ERROR    [agent_fsm:1101] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:57:05] ERROR    [agent_fsm:1102] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:05] WARNING  [agent_fsm:1224] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:05] ERROR    [agent_fsm:1078] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] --- FSM STATE: ERROR ---
[2025-06-18 12:57:05] ERROR    [agent_fsm:1101] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:57:05] ERROR    [agent_fsm:1102] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:05] WARNING  [agent_fsm:1224] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:05] ERROR    [agent_fsm:1078] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] --- FSM STATE: ERROR ---
[2025-06-18 12:57:05] ERROR    [agent_fsm:1101] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:57:05] ERROR    [agent_fsm:1102] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:05] WARNING  [agent_fsm:1224] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:05] ERROR    [agent_fsm:1078] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] --- FSM STATE: ERROR ---
[2025-06-18 12:57:05] ERROR    [agent_fsm:1101] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:57:05] ERROR    [agent_fsm:1102] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:05] WARNING  [agent_fsm:1224] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:05] ERROR    [agent_fsm:1078] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] --- FSM STATE: ERROR ---
[2025-06-18 12:57:05] ERROR    [agent_fsm:1101] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:57:05] ERROR    [agent_fsm:1102] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:05] WARNING  [agent_fsm:1224] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:05] ERROR    [agent_fsm:1078] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] --- FSM STATE: ERROR ---
[2025-06-18 12:57:05] ERROR    [agent_fsm:1101] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:57:05] ERROR    [agent_fsm:1102] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:05] WARNING  [agent_fsm:1224] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:05] ERROR    [agent_fsm:1078] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] --- FSM STATE: ERROR ---
[2025-06-18 12:57:05] ERROR    [agent_fsm:1101] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:57:05] ERROR    [agent_fsm:1102] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:05] WARNING  [agent_fsm:1224] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:05] ERROR    [agent_fsm:1078] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] --- FSM STATE: ERROR ---
[2025-06-18 12:57:05] ERROR    [agent_fsm:1101] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:57:05] ERROR    [agent_fsm:1102] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:05] WARNING  [agent_fsm:1224] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:05] ERROR    [agent_fsm:1078] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] --- FSM STATE: ERROR ---
[2025-06-18 12:57:05] ERROR    [agent_fsm:1101] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:57:05] ERROR    [agent_fsm:1102] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:05] WARNING  [agent_fsm:1224] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:05] ERROR    [agent_fsm:1078] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] --- FSM STATE: ERROR ---
[2025-06-18 12:57:05] ERROR    [agent_fsm:1101] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:57:05] ERROR    [agent_fsm:1102] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:05] WARNING  [agent_fsm:1224] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:05] ERROR    [agent_fsm:1078] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] --- FSM STATE: ERROR ---
[2025-06-18 12:57:05] ERROR    [agent_fsm:1101] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:57:05] ERROR    [agent_fsm:1102] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:05] WARNING  [agent_fsm:1224] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:05] ERROR    [agent_fsm:1078] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] --- FSM STATE: ERROR ---
[2025-06-18 12:57:05] ERROR    [agent_fsm:1101] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:57:05] ERROR    [agent_fsm:1102] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:05] WARNING  [agent_fsm:1224] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:05] ERROR    [agent_fsm:1078] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] --- FSM STATE: ERROR ---
[2025-06-18 12:57:05] ERROR    [agent_fsm:1101] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:57:05] ERROR    [agent_fsm:1102] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:05] WARNING  [agent_fsm:1224] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:05] ERROR    [agent_fsm:1078] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] --- FSM STATE: ERROR ---
[2025-06-18 12:57:05] ERROR    [agent_fsm:1101] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:57:05] ERROR    [agent_fsm:1102] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:05] WARNING  [agent_fsm:1224] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:05] ERROR    [agent_fsm:1078] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] --- FSM STATE: ERROR ---
[2025-06-18 12:57:05] ERROR    [agent_fsm:1101] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:57:05] ERROR    [agent_fsm:1102] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:05] WARNING  [agent_fsm:1224] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:05] ERROR    [agent_fsm:1078] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] --- FSM STATE: ERROR ---
[2025-06-18 12:57:05] ERROR    [agent_fsm:1101] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:57:05] ERROR    [agent_fsm:1102] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:05] WARNING  [agent_fsm:1224] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:05] ERROR    [agent_fsm:1837] [04b8d58a-19a1-49e7-bbeb-03493b8c3a95] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:57:05] INFO     [agent_fsm:1752] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Starting resilient FSM execution
[2025-06-18 12:57:05] INFO     [agent_fsm:1807] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] FSM STATE: INITIAL
[2025-06-18 12:57:05] INFO     [agent_fsm:665] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:57:05] DEBUG    [agent_fsm:680] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Turn count: 1, Action history length: 1
[2025-06-18 12:57:06] WARNING  [agent_fsm:1521] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:57:06] WARNING  [agent_fsm:1521] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:57:06] WARNING  [agent_fsm:1521] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:57:06] INFO     [agent_fsm:773] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:57:06] INFO     [agent_fsm:820] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Executing tool: web_researcher with input: {'query': 'largest planet in our solar system', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 12:57:06] INFO     [agent_fsm:922] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Tool execution completed
[2025-06-18 12:57:06] INFO     [agent_fsm:773] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:57:06] WARNING  [agent_fsm:803] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:57:06] INFO     [agent_fsm:665] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:57:06] DEBUG    [agent_fsm:680] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Turn count: 2, Action history length: 2
[2025-06-18 12:57:06] WARNING  [agent_fsm:1521] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:57:06] WARNING  [agent_fsm:1521] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:57:06] WARNING  [agent_fsm:1521] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:57:06] INFO     [agent_fsm:773] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:57:06] INFO     [agent_fsm:820] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:57:06] INFO     [agent_fsm:922] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Tool execution completed
[2025-06-18 12:57:06] INFO     [agent_fsm:773] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:57:06] WARNING  [agent_fsm:803] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:57:06] INFO     [agent_fsm:665] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:57:06] DEBUG    [agent_fsm:680] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Turn count: 3, Action history length: 3
[2025-06-18 12:57:07] WARNING  [agent_fsm:1521] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:57:07] WARNING  [agent_fsm:1521] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:57:07] WARNING  [agent_fsm:1521] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:57:07] WARNING  [agent_fsm:1224] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:07] ERROR    [agent_fsm:1078] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] --- FSM STATE: ERROR ---
[2025-06-18 12:57:07] ERROR    [agent_fsm:1101] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:57:07] ERROR    [agent_fsm:1102] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:07] WARNING  [agent_fsm:1224] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:07] ERROR    [agent_fsm:1078] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] --- FSM STATE: ERROR ---
[2025-06-18 12:57:07] ERROR    [agent_fsm:1101] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:57:07] ERROR    [agent_fsm:1102] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:07] WARNING  [agent_fsm:1224] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:07] ERROR    [agent_fsm:1078] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] --- FSM STATE: ERROR ---
[2025-06-18 12:57:07] ERROR    [agent_fsm:1101] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:57:07] ERROR    [agent_fsm:1102] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:07] WARNING  [agent_fsm:1224] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:07] ERROR    [agent_fsm:1078] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] --- FSM STATE: ERROR ---
[2025-06-18 12:57:07] ERROR    [agent_fsm:1101] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:57:07] ERROR    [agent_fsm:1102] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:07] WARNING  [agent_fsm:1224] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:07] ERROR    [agent_fsm:1078] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] --- FSM STATE: ERROR ---
[2025-06-18 12:57:07] ERROR    [agent_fsm:1101] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:57:07] ERROR    [agent_fsm:1102] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:07] WARNING  [agent_fsm:1224] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:07] ERROR    [agent_fsm:1078] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] --- FSM STATE: ERROR ---
[2025-06-18 12:57:07] ERROR    [agent_fsm:1101] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:57:07] ERROR    [agent_fsm:1102] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:07] WARNING  [agent_fsm:1224] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:07] ERROR    [agent_fsm:1078] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] --- FSM STATE: ERROR ---
[2025-06-18 12:57:07] ERROR    [agent_fsm:1101] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:57:07] ERROR    [agent_fsm:1102] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:07] WARNING  [agent_fsm:1224] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:07] ERROR    [agent_fsm:1078] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] --- FSM STATE: ERROR ---
[2025-06-18 12:57:07] ERROR    [agent_fsm:1101] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:57:07] ERROR    [agent_fsm:1102] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:07] WARNING  [agent_fsm:1224] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:07] ERROR    [agent_fsm:1078] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] --- FSM STATE: ERROR ---
[2025-06-18 12:57:07] ERROR    [agent_fsm:1101] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:57:07] ERROR    [agent_fsm:1102] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:07] WARNING  [agent_fsm:1224] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:07] ERROR    [agent_fsm:1078] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] --- FSM STATE: ERROR ---
[2025-06-18 12:57:07] ERROR    [agent_fsm:1101] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:57:07] ERROR    [agent_fsm:1102] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:07] WARNING  [agent_fsm:1224] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:07] ERROR    [agent_fsm:1078] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] --- FSM STATE: ERROR ---
[2025-06-18 12:57:07] ERROR    [agent_fsm:1101] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:57:07] ERROR    [agent_fsm:1102] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:07] WARNING  [agent_fsm:1224] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:07] ERROR    [agent_fsm:1078] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] --- FSM STATE: ERROR ---
[2025-06-18 12:57:07] ERROR    [agent_fsm:1101] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:57:07] ERROR    [agent_fsm:1102] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:07] WARNING  [agent_fsm:1224] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:07] ERROR    [agent_fsm:1078] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] --- FSM STATE: ERROR ---
[2025-06-18 12:57:07] ERROR    [agent_fsm:1101] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:57:07] ERROR    [agent_fsm:1102] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:07] WARNING  [agent_fsm:1224] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:07] ERROR    [agent_fsm:1078] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] --- FSM STATE: ERROR ---
[2025-06-18 12:57:07] ERROR    [agent_fsm:1101] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:57:07] ERROR    [agent_fsm:1102] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:07] WARNING  [agent_fsm:1224] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:07] ERROR    [agent_fsm:1078] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] --- FSM STATE: ERROR ---
[2025-06-18 12:57:07] ERROR    [agent_fsm:1101] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:57:07] ERROR    [agent_fsm:1102] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:07] WARNING  [agent_fsm:1224] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:07] ERROR    [agent_fsm:1078] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] --- FSM STATE: ERROR ---
[2025-06-18 12:57:07] ERROR    [agent_fsm:1101] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:57:07] ERROR    [agent_fsm:1102] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:07] WARNING  [agent_fsm:1224] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:07] ERROR    [agent_fsm:1078] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] --- FSM STATE: ERROR ---
[2025-06-18 12:57:07] ERROR    [agent_fsm:1101] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:57:07] ERROR    [agent_fsm:1102] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:07] WARNING  [agent_fsm:1224] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:07] ERROR    [agent_fsm:1078] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] --- FSM STATE: ERROR ---
[2025-06-18 12:57:07] ERROR    [agent_fsm:1101] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:57:07] ERROR    [agent_fsm:1102] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:07] WARNING  [agent_fsm:1224] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:07] ERROR    [agent_fsm:1837] [9e3d5ba1-dad8-4dbd-99c9-b2ea588054b4] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:57:07] INFO     [agent_fsm:1752] [1a749c9e-e458-4d63-8326-d3be77a12dec] Starting resilient FSM execution
[2025-06-18 12:57:07] INFO     [agent_fsm:1807] [1a749c9e-e458-4d63-8326-d3be77a12dec] FSM STATE: INITIAL
[2025-06-18 12:57:07] INFO     [agent_fsm:665] [1a749c9e-e458-4d63-8326-d3be77a12dec] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:57:07] DEBUG    [agent_fsm:680] [1a749c9e-e458-4d63-8326-d3be77a12dec] Turn count: 1, Action history length: 1
[2025-06-18 12:57:08] WARNING  [agent_fsm:1521] [1a749c9e-e458-4d63-8326-d3be77a12dec] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:57:08] INFO     [agent_fsm:773] [1a749c9e-e458-4d63-8326-d3be77a12dec] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:57:08] INFO     [agent_fsm:820] [1a749c9e-e458-4d63-8326-d3be77a12dec] Executing tool: web_researcher with input: {'query': 'extract video URL from googleusercontent.com/costa-rica/birds', 'date_range': None, 'search_type': 'general', 'source': 'search'}
[2025-06-18 12:57:08] INFO     [agent_fsm:922] [1a749c9e-e458-4d63-8326-d3be77a12dec] Tool execution completed
[2025-06-18 12:57:08] INFO     [agent_fsm:773] [1a749c9e-e458-4d63-8326-d3be77a12dec] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:57:08] WARNING  [agent_fsm:803] [1a749c9e-e458-4d63-8326-d3be77a12dec] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:57:08] INFO     [agent_fsm:665] [1a749c9e-e458-4d63-8326-d3be77a12dec] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:57:08] DEBUG    [agent_fsm:680] [1a749c9e-e458-4d63-8326-d3be77a12dec] Turn count: 2, Action history length: 2
[2025-06-18 12:57:09] WARNING  [agent_fsm:1521] [1a749c9e-e458-4d63-8326-d3be77a12dec] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:57:09] WARNING  [agent_fsm:1521] [1a749c9e-e458-4d63-8326-d3be77a12dec] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:57:09] INFO     [agent_fsm:773] [1a749c9e-e458-4d63-8326-d3be77a12dec] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:57:09] INFO     [agent_fsm:820] [1a749c9e-e458-4d63-8326-d3be77a12dec] Executing tool: gaia_video_analyzer with input: {'video_url': 'https://googleusercontent.com/costa-rica/birds'}
[2025-06-18 12:57:09] INFO     [agent_fsm:922] [1a749c9e-e458-4d63-8326-d3be77a12dec] Tool execution completed
[2025-06-18 12:57:09] INFO     [agent_fsm:773] [1a749c9e-e458-4d63-8326-d3be77a12dec] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:57:09] WARNING  [agent_fsm:803] [1a749c9e-e458-4d63-8326-d3be77a12dec] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:57:09] INFO     [agent_fsm:665] [1a749c9e-e458-4d63-8326-d3be77a12dec] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:57:09] DEBUG    [agent_fsm:680] [1a749c9e-e458-4d63-8326-d3be77a12dec] Turn count: 3, Action history length: 3
[2025-06-18 12:57:10] WARNING  [agent_fsm:1521] [1a749c9e-e458-4d63-8326-d3be77a12dec] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:57:10] WARNING  [agent_fsm:1224] [1a749c9e-e458-4d63-8326-d3be77a12dec] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:10] ERROR    [agent_fsm:1078] [1a749c9e-e458-4d63-8326-d3be77a12dec] --- FSM STATE: ERROR ---
[2025-06-18 12:57:10] ERROR    [agent_fsm:1101] [1a749c9e-e458-4d63-8326-d3be77a12dec] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:57:10] ERROR    [agent_fsm:1102] [1a749c9e-e458-4d63-8326-d3be77a12dec] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:10] WARNING  [agent_fsm:1224] [1a749c9e-e458-4d63-8326-d3be77a12dec] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:10] ERROR    [agent_fsm:1078] [1a749c9e-e458-4d63-8326-d3be77a12dec] --- FSM STATE: ERROR ---
[2025-06-18 12:57:10] ERROR    [agent_fsm:1101] [1a749c9e-e458-4d63-8326-d3be77a12dec] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:57:10] ERROR    [agent_fsm:1102] [1a749c9e-e458-4d63-8326-d3be77a12dec] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:10] WARNING  [agent_fsm:1224] [1a749c9e-e458-4d63-8326-d3be77a12dec] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:10] ERROR    [agent_fsm:1078] [1a749c9e-e458-4d63-8326-d3be77a12dec] --- FSM STATE: ERROR ---
[2025-06-18 12:57:10] ERROR    [agent_fsm:1101] [1a749c9e-e458-4d63-8326-d3be77a12dec] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:57:10] ERROR    [agent_fsm:1102] [1a749c9e-e458-4d63-8326-d3be77a12dec] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:10] WARNING  [agent_fsm:1224] [1a749c9e-e458-4d63-8326-d3be77a12dec] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:10] ERROR    [agent_fsm:1078] [1a749c9e-e458-4d63-8326-d3be77a12dec] --- FSM STATE: ERROR ---
[2025-06-18 12:57:10] ERROR    [agent_fsm:1101] [1a749c9e-e458-4d63-8326-d3be77a12dec] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:57:10] ERROR    [agent_fsm:1102] [1a749c9e-e458-4d63-8326-d3be77a12dec] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:10] WARNING  [agent_fsm:1224] [1a749c9e-e458-4d63-8326-d3be77a12dec] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:10] ERROR    [agent_fsm:1078] [1a749c9e-e458-4d63-8326-d3be77a12dec] --- FSM STATE: ERROR ---
[2025-06-18 12:57:10] ERROR    [agent_fsm:1101] [1a749c9e-e458-4d63-8326-d3be77a12dec] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:57:10] ERROR    [agent_fsm:1102] [1a749c9e-e458-4d63-8326-d3be77a12dec] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:10] WARNING  [agent_fsm:1224] [1a749c9e-e458-4d63-8326-d3be77a12dec] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:10] ERROR    [agent_fsm:1078] [1a749c9e-e458-4d63-8326-d3be77a12dec] --- FSM STATE: ERROR ---
[2025-06-18 12:57:10] ERROR    [agent_fsm:1101] [1a749c9e-e458-4d63-8326-d3be77a12dec] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:57:10] ERROR    [agent_fsm:1102] [1a749c9e-e458-4d63-8326-d3be77a12dec] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:10] WARNING  [agent_fsm:1224] [1a749c9e-e458-4d63-8326-d3be77a12dec] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:10] ERROR    [agent_fsm:1078] [1a749c9e-e458-4d63-8326-d3be77a12dec] --- FSM STATE: ERROR ---
[2025-06-18 12:57:10] ERROR    [agent_fsm:1101] [1a749c9e-e458-4d63-8326-d3be77a12dec] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:57:10] ERROR    [agent_fsm:1102] [1a749c9e-e458-4d63-8326-d3be77a12dec] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:10] WARNING  [agent_fsm:1224] [1a749c9e-e458-4d63-8326-d3be77a12dec] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:10] ERROR    [agent_fsm:1078] [1a749c9e-e458-4d63-8326-d3be77a12dec] --- FSM STATE: ERROR ---
[2025-06-18 12:57:10] ERROR    [agent_fsm:1101] [1a749c9e-e458-4d63-8326-d3be77a12dec] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:57:10] ERROR    [agent_fsm:1102] [1a749c9e-e458-4d63-8326-d3be77a12dec] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:10] WARNING  [agent_fsm:1224] [1a749c9e-e458-4d63-8326-d3be77a12dec] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:10] ERROR    [agent_fsm:1078] [1a749c9e-e458-4d63-8326-d3be77a12dec] --- FSM STATE: ERROR ---
[2025-06-18 12:57:10] ERROR    [agent_fsm:1101] [1a749c9e-e458-4d63-8326-d3be77a12dec] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:57:10] ERROR    [agent_fsm:1102] [1a749c9e-e458-4d63-8326-d3be77a12dec] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:10] WARNING  [agent_fsm:1224] [1a749c9e-e458-4d63-8326-d3be77a12dec] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:10] ERROR    [agent_fsm:1078] [1a749c9e-e458-4d63-8326-d3be77a12dec] --- FSM STATE: ERROR ---
[2025-06-18 12:57:10] ERROR    [agent_fsm:1101] [1a749c9e-e458-4d63-8326-d3be77a12dec] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:57:10] ERROR    [agent_fsm:1102] [1a749c9e-e458-4d63-8326-d3be77a12dec] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:10] WARNING  [agent_fsm:1224] [1a749c9e-e458-4d63-8326-d3be77a12dec] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:10] ERROR    [agent_fsm:1078] [1a749c9e-e458-4d63-8326-d3be77a12dec] --- FSM STATE: ERROR ---
[2025-06-18 12:57:10] ERROR    [agent_fsm:1101] [1a749c9e-e458-4d63-8326-d3be77a12dec] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:57:10] ERROR    [agent_fsm:1102] [1a749c9e-e458-4d63-8326-d3be77a12dec] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:10] WARNING  [agent_fsm:1224] [1a749c9e-e458-4d63-8326-d3be77a12dec] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:10] ERROR    [agent_fsm:1078] [1a749c9e-e458-4d63-8326-d3be77a12dec] --- FSM STATE: ERROR ---
[2025-06-18 12:57:10] ERROR    [agent_fsm:1101] [1a749c9e-e458-4d63-8326-d3be77a12dec] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:57:10] ERROR    [agent_fsm:1102] [1a749c9e-e458-4d63-8326-d3be77a12dec] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:10] WARNING  [agent_fsm:1224] [1a749c9e-e458-4d63-8326-d3be77a12dec] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:10] ERROR    [agent_fsm:1078] [1a749c9e-e458-4d63-8326-d3be77a12dec] --- FSM STATE: ERROR ---
[2025-06-18 12:57:10] ERROR    [agent_fsm:1101] [1a749c9e-e458-4d63-8326-d3be77a12dec] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:57:10] ERROR    [agent_fsm:1102] [1a749c9e-e458-4d63-8326-d3be77a12dec] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:10] WARNING  [agent_fsm:1224] [1a749c9e-e458-4d63-8326-d3be77a12dec] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:10] ERROR    [agent_fsm:1078] [1a749c9e-e458-4d63-8326-d3be77a12dec] --- FSM STATE: ERROR ---
[2025-06-18 12:57:10] ERROR    [agent_fsm:1101] [1a749c9e-e458-4d63-8326-d3be77a12dec] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:57:10] ERROR    [agent_fsm:1102] [1a749c9e-e458-4d63-8326-d3be77a12dec] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:10] WARNING  [agent_fsm:1224] [1a749c9e-e458-4d63-8326-d3be77a12dec] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:10] ERROR    [agent_fsm:1078] [1a749c9e-e458-4d63-8326-d3be77a12dec] --- FSM STATE: ERROR ---
[2025-06-18 12:57:10] ERROR    [agent_fsm:1101] [1a749c9e-e458-4d63-8326-d3be77a12dec] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:57:10] ERROR    [agent_fsm:1102] [1a749c9e-e458-4d63-8326-d3be77a12dec] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:10] WARNING  [agent_fsm:1224] [1a749c9e-e458-4d63-8326-d3be77a12dec] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:10] ERROR    [agent_fsm:1078] [1a749c9e-e458-4d63-8326-d3be77a12dec] --- FSM STATE: ERROR ---
[2025-06-18 12:57:10] ERROR    [agent_fsm:1101] [1a749c9e-e458-4d63-8326-d3be77a12dec] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:57:10] ERROR    [agent_fsm:1102] [1a749c9e-e458-4d63-8326-d3be77a12dec] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:10] WARNING  [agent_fsm:1224] [1a749c9e-e458-4d63-8326-d3be77a12dec] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:10] ERROR    [agent_fsm:1078] [1a749c9e-e458-4d63-8326-d3be77a12dec] --- FSM STATE: ERROR ---
[2025-06-18 12:57:10] ERROR    [agent_fsm:1101] [1a749c9e-e458-4d63-8326-d3be77a12dec] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:57:10] ERROR    [agent_fsm:1102] [1a749c9e-e458-4d63-8326-d3be77a12dec] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:10] WARNING  [agent_fsm:1224] [1a749c9e-e458-4d63-8326-d3be77a12dec] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:10] ERROR    [agent_fsm:1078] [1a749c9e-e458-4d63-8326-d3be77a12dec] --- FSM STATE: ERROR ---
[2025-06-18 12:57:10] ERROR    [agent_fsm:1101] [1a749c9e-e458-4d63-8326-d3be77a12dec] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:57:10] ERROR    [agent_fsm:1102] [1a749c9e-e458-4d63-8326-d3be77a12dec] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:10] WARNING  [agent_fsm:1224] [1a749c9e-e458-4d63-8326-d3be77a12dec] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:10] ERROR    [agent_fsm:1837] [1a749c9e-e458-4d63-8326-d3be77a12dec] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:57:10] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 12:57:10] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 12:57:10] INFO     [agent_fsm:570] [1694238e-81d2-471f-beb5-dc61dd089312] Building resilient FSM graph
[2025-06-18 12:57:10] INFO     [agent_fsm:572] [1694238e-81d2-471f-beb5-dc61dd089312] FSMReActAgent graph built successfully
[2025-06-18 12:57:10] INFO     [agent_fsm:1752] [2393c0dd-72d9-41e8-aea3-ee42473e24a2] Starting resilient FSM execution
[2025-06-18 12:57:10] INFO     [agent_fsm:1807] [2393c0dd-72d9-41e8-aea3-ee42473e24a2] FSM STATE: INITIAL
[2025-06-18 12:57:10] INFO     [agent_fsm:665] [2393c0dd-72d9-41e8-aea3-ee42473e24a2] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:57:10] DEBUG    [agent_fsm:680] [2393c0dd-72d9-41e8-aea3-ee42473e24a2] Turn count: 1, Action history length: 1
[2025-06-18 12:57:11] WARNING  [agent_fsm:1521] [2393c0dd-72d9-41e8-aea3-ee42473e24a2] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:57:11] WARNING  [agent_fsm:1521] [2393c0dd-72d9-41e8-aea3-ee42473e24a2] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 12:57:11] WARNING  [agent_fsm:1521] [2393c0dd-72d9-41e8-aea3-ee42473e24a2] Failed to parse JSON parameters for step 9, using fallback parser
[2025-06-18 12:57:11] WARNING  [agent_fsm:1333] [2393c0dd-72d9-41e8-aea3-ee42473e24a2] Tool image_analyzer not found in registry, will use stub
[2025-06-18 12:57:11] INFO     [agent_fsm:773] [2393c0dd-72d9-41e8-aea3-ee42473e24a2] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:57:11] INFO     [agent_fsm:820] [2393c0dd-72d9-41e8-aea3-ee42473e24a2] Executing tool: advanced_file_reader with input: {'filename': 'path/to/attached_excel_file.xlsx'}
[2025-06-18 12:57:11] INFO     [agent_fsm:922] [2393c0dd-72d9-41e8-aea3-ee42473e24a2] Tool execution completed
[2025-06-18 12:57:11] INFO     [agent_fsm:773] [2393c0dd-72d9-41e8-aea3-ee42473e24a2] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:57:11] WARNING  [agent_fsm:803] [2393c0dd-72d9-41e8-aea3-ee42473e24a2] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:57:11] INFO     [agent_fsm:665] [2393c0dd-72d9-41e8-aea3-ee42473e24a2] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:57:11] DEBUG    [agent_fsm:680] [2393c0dd-72d9-41e8-aea3-ee42473e24a2] Turn count: 2, Action history length: 2
[2025-06-18 12:57:12] INFO     [agent_fsm:955] [2393c0dd-72d9-41e8-aea3-ee42473e24a2] --- FSM STATE: SYNTHESIZING ---
[2025-06-18 12:57:13] INFO     [agent_fsm:1018] [2393c0dd-72d9-41e8-aea3-ee42473e24a2] --- FSM STATE: VERIFYING ---
[2025-06-18 12:57:13] INFO     [agent_fsm:1819] [2393c0dd-72d9-41e8-aea3-ee42473e24a2] FSM execution completed successfully
[2025-06-18 12:57:13] INFO     [agent_fsm:1752] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Starting resilient FSM execution
[2025-06-18 12:57:13] INFO     [agent_fsm:1807] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] FSM STATE: INITIAL
[2025-06-18 12:57:13] INFO     [agent_fsm:665] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:57:13] DEBUG    [agent_fsm:680] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Turn count: 1, Action history length: 1
[2025-06-18 12:57:14] WARNING  [agent_fsm:1333] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Tool image_analyzer not found in registry, will use stub
[2025-06-18 12:57:14] INFO     [agent_fsm:773] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:57:14] INFO     [agent_fsm:820] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Executing tool: video_analyzer with input: {'url': 'https://example.com/video.mp4', 'action': 'download_info'}
[2025-06-18 12:57:14] INFO     [agent_fsm:922] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Tool execution completed
[2025-06-18 12:57:14] INFO     [agent_fsm:773] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:57:14] WARNING  [agent_fsm:803] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:57:14] INFO     [agent_fsm:665] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:57:14] DEBUG    [agent_fsm:680] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Turn count: 2, Action history length: 2
[2025-06-18 12:57:16] WARNING  [agent_fsm:1521] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:57:16] WARNING  [agent_fsm:1521] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 12:57:16] INFO     [agent_fsm:773] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:57:16] INFO     [agent_fsm:820] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Executing tool: gaia_video_analyzer with input: {'video_url': 'https://example.com/video.mp4'}
[2025-06-18 12:57:16] INFO     [agent_fsm:922] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Tool execution completed
[2025-06-18 12:57:16] INFO     [agent_fsm:773] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:57:16] WARNING  [agent_fsm:803] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:57:16] INFO     [agent_fsm:665] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:57:16] DEBUG    [agent_fsm:680] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Turn count: 3, Action history length: 3
[2025-06-18 12:57:17] WARNING  [agent_fsm:1521] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Failed to parse JSON parameters for step 8, using fallback parser
[2025-06-18 12:57:17] WARNING  [agent_fsm:1224] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:17] ERROR    [agent_fsm:1078] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] --- FSM STATE: ERROR ---
[2025-06-18 12:57:17] ERROR    [agent_fsm:1101] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:57:17] ERROR    [agent_fsm:1102] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:17] WARNING  [agent_fsm:1224] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:17] ERROR    [agent_fsm:1078] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] --- FSM STATE: ERROR ---
[2025-06-18 12:57:17] ERROR    [agent_fsm:1101] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:57:17] ERROR    [agent_fsm:1102] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:17] WARNING  [agent_fsm:1224] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:17] ERROR    [agent_fsm:1078] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] --- FSM STATE: ERROR ---
[2025-06-18 12:57:17] ERROR    [agent_fsm:1101] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:57:17] ERROR    [agent_fsm:1102] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:17] WARNING  [agent_fsm:1224] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:17] ERROR    [agent_fsm:1078] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] --- FSM STATE: ERROR ---
[2025-06-18 12:57:17] ERROR    [agent_fsm:1101] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:57:17] ERROR    [agent_fsm:1102] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:17] WARNING  [agent_fsm:1224] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:17] ERROR    [agent_fsm:1078] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] --- FSM STATE: ERROR ---
[2025-06-18 12:57:17] ERROR    [agent_fsm:1101] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:57:17] ERROR    [agent_fsm:1102] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:17] WARNING  [agent_fsm:1224] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:17] ERROR    [agent_fsm:1078] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] --- FSM STATE: ERROR ---
[2025-06-18 12:57:17] ERROR    [agent_fsm:1101] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:57:17] ERROR    [agent_fsm:1102] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:17] WARNING  [agent_fsm:1224] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:17] ERROR    [agent_fsm:1078] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] --- FSM STATE: ERROR ---
[2025-06-18 12:57:17] ERROR    [agent_fsm:1101] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:57:17] ERROR    [agent_fsm:1102] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:17] WARNING  [agent_fsm:1224] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:17] ERROR    [agent_fsm:1078] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] --- FSM STATE: ERROR ---
[2025-06-18 12:57:17] ERROR    [agent_fsm:1101] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:57:17] ERROR    [agent_fsm:1102] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:17] WARNING  [agent_fsm:1224] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:17] ERROR    [agent_fsm:1078] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] --- FSM STATE: ERROR ---
[2025-06-18 12:57:17] ERROR    [agent_fsm:1101] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:57:17] ERROR    [agent_fsm:1102] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:17] WARNING  [agent_fsm:1224] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:17] ERROR    [agent_fsm:1078] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] --- FSM STATE: ERROR ---
[2025-06-18 12:57:17] ERROR    [agent_fsm:1101] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:57:17] ERROR    [agent_fsm:1102] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:17] WARNING  [agent_fsm:1224] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:17] ERROR    [agent_fsm:1078] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] --- FSM STATE: ERROR ---
[2025-06-18 12:57:17] ERROR    [agent_fsm:1101] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:57:17] ERROR    [agent_fsm:1102] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:17] WARNING  [agent_fsm:1224] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:17] ERROR    [agent_fsm:1078] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] --- FSM STATE: ERROR ---
[2025-06-18 12:57:17] ERROR    [agent_fsm:1101] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:57:17] ERROR    [agent_fsm:1102] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:17] WARNING  [agent_fsm:1224] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:17] ERROR    [agent_fsm:1078] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] --- FSM STATE: ERROR ---
[2025-06-18 12:57:17] ERROR    [agent_fsm:1101] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:57:17] ERROR    [agent_fsm:1102] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:17] WARNING  [agent_fsm:1224] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:17] ERROR    [agent_fsm:1078] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] --- FSM STATE: ERROR ---
[2025-06-18 12:57:17] ERROR    [agent_fsm:1101] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:57:17] ERROR    [agent_fsm:1102] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:17] WARNING  [agent_fsm:1224] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:17] ERROR    [agent_fsm:1078] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] --- FSM STATE: ERROR ---
[2025-06-18 12:57:17] ERROR    [agent_fsm:1101] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:57:17] ERROR    [agent_fsm:1102] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:17] WARNING  [agent_fsm:1224] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:17] ERROR    [agent_fsm:1078] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] --- FSM STATE: ERROR ---
[2025-06-18 12:57:17] ERROR    [agent_fsm:1101] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:57:17] ERROR    [agent_fsm:1102] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:17] WARNING  [agent_fsm:1224] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:17] ERROR    [agent_fsm:1078] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] --- FSM STATE: ERROR ---
[2025-06-18 12:57:17] ERROR    [agent_fsm:1101] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:57:17] ERROR    [agent_fsm:1102] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:17] WARNING  [agent_fsm:1224] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:17] ERROR    [agent_fsm:1078] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] --- FSM STATE: ERROR ---
[2025-06-18 12:57:17] ERROR    [agent_fsm:1101] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:57:17] ERROR    [agent_fsm:1102] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:17] WARNING  [agent_fsm:1224] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:17] ERROR    [agent_fsm:1837] [772cb9a9-c333-4b83-beec-de5a0a04ccaa] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:57:17] INFO     [agent_fsm:1752] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Starting resilient FSM execution
[2025-06-18 12:57:17] INFO     [agent_fsm:1807] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] FSM STATE: INITIAL
[2025-06-18 12:57:17] INFO     [agent_fsm:665] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:57:17] DEBUG    [agent_fsm:680] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Turn count: 1, Action history length: 1
[2025-06-18 12:57:18] WARNING  [agent_fsm:1521] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:57:18] WARNING  [agent_fsm:1521] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:57:18] INFO     [agent_fsm:773] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:57:18] INFO     [agent_fsm:820] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:57:18] INFO     [agent_fsm:922] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Tool execution completed
[2025-06-18 12:57:18] INFO     [agent_fsm:773] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:57:18] WARNING  [agent_fsm:803] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:57:18] INFO     [agent_fsm:665] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:57:18] DEBUG    [agent_fsm:680] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Turn count: 2, Action history length: 2
[2025-06-18 12:57:19] WARNING  [agent_fsm:1521] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:57:19] WARNING  [agent_fsm:1521] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:57:19] INFO     [agent_fsm:773] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:57:19] INFO     [agent_fsm:820] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Executing tool: python_interpreter with input: {'code': 'result = 2 + 2; print(result)'}
[2025-06-18 12:57:19] INFO     [agent_fsm:922] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Tool execution completed
[2025-06-18 12:57:19] INFO     [agent_fsm:773] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:57:19] WARNING  [agent_fsm:803] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:57:19] INFO     [agent_fsm:665] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:57:19] DEBUG    [agent_fsm:680] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Turn count: 3, Action history length: 3
[2025-06-18 12:57:20] WARNING  [agent_fsm:1521] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:57:20] WARNING  [agent_fsm:1521] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:57:20] WARNING  [agent_fsm:1224] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:20] ERROR    [agent_fsm:1078] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] --- FSM STATE: ERROR ---
[2025-06-18 12:57:20] ERROR    [agent_fsm:1101] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:57:20] ERROR    [agent_fsm:1102] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:20] WARNING  [agent_fsm:1224] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:20] ERROR    [agent_fsm:1078] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] --- FSM STATE: ERROR ---
[2025-06-18 12:57:20] ERROR    [agent_fsm:1101] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:57:20] ERROR    [agent_fsm:1102] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:20] WARNING  [agent_fsm:1224] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:20] ERROR    [agent_fsm:1078] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] --- FSM STATE: ERROR ---
[2025-06-18 12:57:20] ERROR    [agent_fsm:1101] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:57:20] ERROR    [agent_fsm:1102] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:20] WARNING  [agent_fsm:1224] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:20] ERROR    [agent_fsm:1078] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] --- FSM STATE: ERROR ---
[2025-06-18 12:57:20] ERROR    [agent_fsm:1101] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:57:20] ERROR    [agent_fsm:1102] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:20] WARNING  [agent_fsm:1224] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:20] ERROR    [agent_fsm:1078] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] --- FSM STATE: ERROR ---
[2025-06-18 12:57:20] ERROR    [agent_fsm:1101] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:57:20] ERROR    [agent_fsm:1102] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:20] WARNING  [agent_fsm:1224] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:20] ERROR    [agent_fsm:1078] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] --- FSM STATE: ERROR ---
[2025-06-18 12:57:20] ERROR    [agent_fsm:1101] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:57:20] ERROR    [agent_fsm:1102] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:20] WARNING  [agent_fsm:1224] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:20] ERROR    [agent_fsm:1078] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] --- FSM STATE: ERROR ---
[2025-06-18 12:57:20] ERROR    [agent_fsm:1101] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:57:20] ERROR    [agent_fsm:1102] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:20] WARNING  [agent_fsm:1224] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:20] ERROR    [agent_fsm:1078] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] --- FSM STATE: ERROR ---
[2025-06-18 12:57:20] ERROR    [agent_fsm:1101] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:57:20] ERROR    [agent_fsm:1102] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:20] WARNING  [agent_fsm:1224] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:20] ERROR    [agent_fsm:1078] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] --- FSM STATE: ERROR ---
[2025-06-18 12:57:20] ERROR    [agent_fsm:1101] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:57:20] ERROR    [agent_fsm:1102] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:20] WARNING  [agent_fsm:1224] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:20] ERROR    [agent_fsm:1078] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] --- FSM STATE: ERROR ---
[2025-06-18 12:57:20] ERROR    [agent_fsm:1101] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:57:20] ERROR    [agent_fsm:1102] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:20] WARNING  [agent_fsm:1224] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:20] ERROR    [agent_fsm:1078] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] --- FSM STATE: ERROR ---
[2025-06-18 12:57:20] ERROR    [agent_fsm:1101] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:57:20] ERROR    [agent_fsm:1102] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:20] WARNING  [agent_fsm:1224] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:20] ERROR    [agent_fsm:1078] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] --- FSM STATE: ERROR ---
[2025-06-18 12:57:20] ERROR    [agent_fsm:1101] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:57:20] ERROR    [agent_fsm:1102] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:20] WARNING  [agent_fsm:1224] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:20] ERROR    [agent_fsm:1078] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] --- FSM STATE: ERROR ---
[2025-06-18 12:57:20] ERROR    [agent_fsm:1101] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:57:20] ERROR    [agent_fsm:1102] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:20] WARNING  [agent_fsm:1224] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:20] ERROR    [agent_fsm:1078] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] --- FSM STATE: ERROR ---
[2025-06-18 12:57:20] ERROR    [agent_fsm:1101] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:57:20] ERROR    [agent_fsm:1102] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:20] WARNING  [agent_fsm:1224] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:20] ERROR    [agent_fsm:1078] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] --- FSM STATE: ERROR ---
[2025-06-18 12:57:20] ERROR    [agent_fsm:1101] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:57:20] ERROR    [agent_fsm:1102] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:20] WARNING  [agent_fsm:1224] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:20] ERROR    [agent_fsm:1078] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] --- FSM STATE: ERROR ---
[2025-06-18 12:57:20] ERROR    [agent_fsm:1101] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:57:20] ERROR    [agent_fsm:1102] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:20] WARNING  [agent_fsm:1224] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:20] ERROR    [agent_fsm:1078] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] --- FSM STATE: ERROR ---
[2025-06-18 12:57:20] ERROR    [agent_fsm:1101] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:57:20] ERROR    [agent_fsm:1102] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:20] WARNING  [agent_fsm:1224] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:20] ERROR    [agent_fsm:1078] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] --- FSM STATE: ERROR ---
[2025-06-18 12:57:20] ERROR    [agent_fsm:1101] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:57:20] ERROR    [agent_fsm:1102] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:20] WARNING  [agent_fsm:1224] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:20] ERROR    [agent_fsm:1837] [c5a755c6-ec21-4eb3-808e-02d6c7c4d79d] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:57:20] INFO     [agent_fsm:1752] [9abb8141-a48d-4d90-91c8-11bdfe1e99c3] Starting resilient FSM execution
[2025-06-18 12:57:20] INFO     [agent_fsm:1807] [9abb8141-a48d-4d90-91c8-11bdfe1e99c3] FSM STATE: INITIAL
[2025-06-18 12:57:20] INFO     [agent_fsm:665] [9abb8141-a48d-4d90-91c8-11bdfe1e99c3] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:57:20] DEBUG    [agent_fsm:680] [9abb8141-a48d-4d90-91c8-11bdfe1e99c3] Turn count: 1, Action history length: 1
[2025-06-18 12:57:21] WARNING  [agent_fsm:1521] [9abb8141-a48d-4d90-91c8-11bdfe1e99c3] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:57:21] WARNING  [agent_fsm:1521] [9abb8141-a48d-4d90-91c8-11bdfe1e99c3] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:57:21] INFO     [agent_fsm:773] [9abb8141-a48d-4d90-91c8-11bdfe1e99c3] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:57:21] INFO     [agent_fsm:820] [9abb8141-a48d-4d90-91c8-11bdfe1e99c3] Executing tool: chess_logic_tool with input: {'fen_string': 'rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR', 'analysis_time_seconds': 2.0}
[2025-06-18 12:57:21] INFO     [agent_fsm:922] [9abb8141-a48d-4d90-91c8-11bdfe1e99c3] Tool execution completed
[2025-06-18 12:57:21] INFO     [agent_fsm:773] [9abb8141-a48d-4d90-91c8-11bdfe1e99c3] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:57:21] WARNING  [agent_fsm:803] [9abb8141-a48d-4d90-91c8-11bdfe1e99c3] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:57:21] INFO     [agent_fsm:665] [9abb8141-a48d-4d90-91c8-11bdfe1e99c3] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:57:21] DEBUG    [agent_fsm:680] [9abb8141-a48d-4d90-91c8-11bdfe1e99c3] Turn count: 2, Action history length: 2
[2025-06-18 12:57:22] INFO     [agent_fsm:955] [9abb8141-a48d-4d90-91c8-11bdfe1e99c3] --- FSM STATE: SYNTHESIZING ---
[2025-06-18 12:57:22] INFO     [agent_fsm:1018] [9abb8141-a48d-4d90-91c8-11bdfe1e99c3] --- FSM STATE: VERIFYING ---
[2025-06-18 12:57:23] INFO     [agent_fsm:1819] [9abb8141-a48d-4d90-91c8-11bdfe1e99c3] FSM execution completed successfully
[2025-06-18 12:57:23] INFO     [agent_fsm:1752] [7a077064-76eb-4760-998f-07f42080427a] Starting resilient FSM execution
[2025-06-18 12:57:23] INFO     [agent_fsm:1807] [7a077064-76eb-4760-998f-07f42080427a] FSM STATE: INITIAL
[2025-06-18 12:57:23] INFO     [agent_fsm:665] [7a077064-76eb-4760-998f-07f42080427a] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:57:23] DEBUG    [agent_fsm:680] [7a077064-76eb-4760-998f-07f42080427a] Turn count: 1, Action history length: 1
[2025-06-18 12:57:24] WARNING  [agent_fsm:1521] [7a077064-76eb-4760-998f-07f42080427a] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:57:24] INFO     [agent_fsm:773] [7a077064-76eb-4760-998f-07f42080427a] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:57:24] INFO     [agent_fsm:820] [7a077064-76eb-4760-998f-07f42080427a] Executing tool: web_researcher with input: {'query': 'Nobel Prize in Physics 2023 winner', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 12:57:24] INFO     [agent_fsm:922] [7a077064-76eb-4760-998f-07f42080427a] Tool execution completed
[2025-06-18 12:57:24] INFO     [agent_fsm:773] [7a077064-76eb-4760-998f-07f42080427a] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:57:24] WARNING  [agent_fsm:803] [7a077064-76eb-4760-998f-07f42080427a] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:57:24] INFO     [agent_fsm:665] [7a077064-76eb-4760-998f-07f42080427a] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:57:24] DEBUG    [agent_fsm:680] [7a077064-76eb-4760-998f-07f42080427a] Turn count: 2, Action history length: 2
[2025-06-18 12:57:25] WARNING  [agent_fsm:1521] [7a077064-76eb-4760-998f-07f42080427a] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:57:25] INFO     [agent_fsm:773] [7a077064-76eb-4760-998f-07f42080427a] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:57:25] INFO     [agent_fsm:820] [7a077064-76eb-4760-998f-07f42080427a] Executing tool: semantic_search_tool with input: {'query': 'Nobel Prize in Physics 2023 winner', 'filename': 'knowledge_base.csv', 'top_k': 3}
[2025-06-18 12:57:25] INFO     [agent_fsm:922] [7a077064-76eb-4760-998f-07f42080427a] Tool execution completed
[2025-06-18 12:57:25] INFO     [agent_fsm:773] [7a077064-76eb-4760-998f-07f42080427a] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:57:25] WARNING  [agent_fsm:803] [7a077064-76eb-4760-998f-07f42080427a] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:57:25] INFO     [agent_fsm:665] [7a077064-76eb-4760-998f-07f42080427a] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:57:25] DEBUG    [agent_fsm:680] [7a077064-76eb-4760-998f-07f42080427a] Turn count: 3, Action history length: 3
[2025-06-18 12:57:26] WARNING  [agent_fsm:1521] [7a077064-76eb-4760-998f-07f42080427a] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:57:26] WARNING  [agent_fsm:1224] [7a077064-76eb-4760-998f-07f42080427a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:26] ERROR    [agent_fsm:1078] [7a077064-76eb-4760-998f-07f42080427a] --- FSM STATE: ERROR ---
[2025-06-18 12:57:26] ERROR    [agent_fsm:1101] [7a077064-76eb-4760-998f-07f42080427a] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:57:26] ERROR    [agent_fsm:1102] [7a077064-76eb-4760-998f-07f42080427a] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:26] WARNING  [agent_fsm:1224] [7a077064-76eb-4760-998f-07f42080427a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:26] ERROR    [agent_fsm:1078] [7a077064-76eb-4760-998f-07f42080427a] --- FSM STATE: ERROR ---
[2025-06-18 12:57:26] ERROR    [agent_fsm:1101] [7a077064-76eb-4760-998f-07f42080427a] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:57:26] ERROR    [agent_fsm:1102] [7a077064-76eb-4760-998f-07f42080427a] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:26] WARNING  [agent_fsm:1224] [7a077064-76eb-4760-998f-07f42080427a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:26] ERROR    [agent_fsm:1078] [7a077064-76eb-4760-998f-07f42080427a] --- FSM STATE: ERROR ---
[2025-06-18 12:57:26] ERROR    [agent_fsm:1101] [7a077064-76eb-4760-998f-07f42080427a] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:57:26] ERROR    [agent_fsm:1102] [7a077064-76eb-4760-998f-07f42080427a] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:26] WARNING  [agent_fsm:1224] [7a077064-76eb-4760-998f-07f42080427a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:26] ERROR    [agent_fsm:1078] [7a077064-76eb-4760-998f-07f42080427a] --- FSM STATE: ERROR ---
[2025-06-18 12:57:26] ERROR    [agent_fsm:1101] [7a077064-76eb-4760-998f-07f42080427a] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:57:26] ERROR    [agent_fsm:1102] [7a077064-76eb-4760-998f-07f42080427a] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:26] WARNING  [agent_fsm:1224] [7a077064-76eb-4760-998f-07f42080427a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:26] ERROR    [agent_fsm:1078] [7a077064-76eb-4760-998f-07f42080427a] --- FSM STATE: ERROR ---
[2025-06-18 12:57:26] ERROR    [agent_fsm:1101] [7a077064-76eb-4760-998f-07f42080427a] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:57:26] ERROR    [agent_fsm:1102] [7a077064-76eb-4760-998f-07f42080427a] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:26] WARNING  [agent_fsm:1224] [7a077064-76eb-4760-998f-07f42080427a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:26] ERROR    [agent_fsm:1078] [7a077064-76eb-4760-998f-07f42080427a] --- FSM STATE: ERROR ---
[2025-06-18 12:57:26] ERROR    [agent_fsm:1101] [7a077064-76eb-4760-998f-07f42080427a] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:57:26] ERROR    [agent_fsm:1102] [7a077064-76eb-4760-998f-07f42080427a] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:26] WARNING  [agent_fsm:1224] [7a077064-76eb-4760-998f-07f42080427a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:26] ERROR    [agent_fsm:1078] [7a077064-76eb-4760-998f-07f42080427a] --- FSM STATE: ERROR ---
[2025-06-18 12:57:26] ERROR    [agent_fsm:1101] [7a077064-76eb-4760-998f-07f42080427a] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:57:26] ERROR    [agent_fsm:1102] [7a077064-76eb-4760-998f-07f42080427a] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:26] WARNING  [agent_fsm:1224] [7a077064-76eb-4760-998f-07f42080427a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:26] ERROR    [agent_fsm:1078] [7a077064-76eb-4760-998f-07f42080427a] --- FSM STATE: ERROR ---
[2025-06-18 12:57:26] ERROR    [agent_fsm:1101] [7a077064-76eb-4760-998f-07f42080427a] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:57:26] ERROR    [agent_fsm:1102] [7a077064-76eb-4760-998f-07f42080427a] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:26] WARNING  [agent_fsm:1224] [7a077064-76eb-4760-998f-07f42080427a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:26] ERROR    [agent_fsm:1078] [7a077064-76eb-4760-998f-07f42080427a] --- FSM STATE: ERROR ---
[2025-06-18 12:57:26] ERROR    [agent_fsm:1101] [7a077064-76eb-4760-998f-07f42080427a] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:57:26] ERROR    [agent_fsm:1102] [7a077064-76eb-4760-998f-07f42080427a] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:26] WARNING  [agent_fsm:1224] [7a077064-76eb-4760-998f-07f42080427a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:26] ERROR    [agent_fsm:1078] [7a077064-76eb-4760-998f-07f42080427a] --- FSM STATE: ERROR ---
[2025-06-18 12:57:26] ERROR    [agent_fsm:1101] [7a077064-76eb-4760-998f-07f42080427a] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:57:26] ERROR    [agent_fsm:1102] [7a077064-76eb-4760-998f-07f42080427a] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:26] WARNING  [agent_fsm:1224] [7a077064-76eb-4760-998f-07f42080427a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:26] ERROR    [agent_fsm:1078] [7a077064-76eb-4760-998f-07f42080427a] --- FSM STATE: ERROR ---
[2025-06-18 12:57:26] ERROR    [agent_fsm:1101] [7a077064-76eb-4760-998f-07f42080427a] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:57:26] ERROR    [agent_fsm:1102] [7a077064-76eb-4760-998f-07f42080427a] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:26] WARNING  [agent_fsm:1224] [7a077064-76eb-4760-998f-07f42080427a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:26] ERROR    [agent_fsm:1078] [7a077064-76eb-4760-998f-07f42080427a] --- FSM STATE: ERROR ---
[2025-06-18 12:57:26] ERROR    [agent_fsm:1101] [7a077064-76eb-4760-998f-07f42080427a] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:57:26] ERROR    [agent_fsm:1102] [7a077064-76eb-4760-998f-07f42080427a] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:26] WARNING  [agent_fsm:1224] [7a077064-76eb-4760-998f-07f42080427a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:26] ERROR    [agent_fsm:1078] [7a077064-76eb-4760-998f-07f42080427a] --- FSM STATE: ERROR ---
[2025-06-18 12:57:26] ERROR    [agent_fsm:1101] [7a077064-76eb-4760-998f-07f42080427a] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:57:26] ERROR    [agent_fsm:1102] [7a077064-76eb-4760-998f-07f42080427a] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:26] WARNING  [agent_fsm:1224] [7a077064-76eb-4760-998f-07f42080427a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:26] ERROR    [agent_fsm:1078] [7a077064-76eb-4760-998f-07f42080427a] --- FSM STATE: ERROR ---
[2025-06-18 12:57:26] ERROR    [agent_fsm:1101] [7a077064-76eb-4760-998f-07f42080427a] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:57:26] ERROR    [agent_fsm:1102] [7a077064-76eb-4760-998f-07f42080427a] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:26] WARNING  [agent_fsm:1224] [7a077064-76eb-4760-998f-07f42080427a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:26] ERROR    [agent_fsm:1078] [7a077064-76eb-4760-998f-07f42080427a] --- FSM STATE: ERROR ---
[2025-06-18 12:57:26] ERROR    [agent_fsm:1101] [7a077064-76eb-4760-998f-07f42080427a] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:57:26] ERROR    [agent_fsm:1102] [7a077064-76eb-4760-998f-07f42080427a] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:26] WARNING  [agent_fsm:1224] [7a077064-76eb-4760-998f-07f42080427a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:26] ERROR    [agent_fsm:1078] [7a077064-76eb-4760-998f-07f42080427a] --- FSM STATE: ERROR ---
[2025-06-18 12:57:26] ERROR    [agent_fsm:1101] [7a077064-76eb-4760-998f-07f42080427a] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:57:26] ERROR    [agent_fsm:1102] [7a077064-76eb-4760-998f-07f42080427a] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:26] WARNING  [agent_fsm:1224] [7a077064-76eb-4760-998f-07f42080427a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:26] ERROR    [agent_fsm:1078] [7a077064-76eb-4760-998f-07f42080427a] --- FSM STATE: ERROR ---
[2025-06-18 12:57:26] ERROR    [agent_fsm:1101] [7a077064-76eb-4760-998f-07f42080427a] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:57:26] ERROR    [agent_fsm:1102] [7a077064-76eb-4760-998f-07f42080427a] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:26] WARNING  [agent_fsm:1224] [7a077064-76eb-4760-998f-07f42080427a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:26] ERROR    [agent_fsm:1078] [7a077064-76eb-4760-998f-07f42080427a] --- FSM STATE: ERROR ---
[2025-06-18 12:57:26] ERROR    [agent_fsm:1101] [7a077064-76eb-4760-998f-07f42080427a] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:57:26] ERROR    [agent_fsm:1102] [7a077064-76eb-4760-998f-07f42080427a] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:26] WARNING  [agent_fsm:1224] [7a077064-76eb-4760-998f-07f42080427a] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:26] ERROR    [agent_fsm:1837] [7a077064-76eb-4760-998f-07f42080427a] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:57:26] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 12:57:26] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 12:57:26] INFO     [agent_fsm:570] [285b0450-a9bf-4962-9a25-364726ec38dc] Building resilient FSM graph
[2025-06-18 12:57:26] INFO     [agent_fsm:572] [285b0450-a9bf-4962-9a25-364726ec38dc] FSMReActAgent graph built successfully
[2025-06-18 12:57:26] INFO     [agent_fsm:1752] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Starting resilient FSM execution
[2025-06-18 12:57:26] INFO     [agent_fsm:1807] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] FSM STATE: INITIAL
[2025-06-18 12:57:26] INFO     [agent_fsm:665] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:57:26] DEBUG    [agent_fsm:680] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Turn count: 1, Action history length: 1
[2025-06-18 12:57:27] WARNING  [agent_fsm:1521] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:57:27] INFO     [agent_fsm:773] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:57:27] INFO     [agent_fsm:820] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Executing tool: web_researcher with input: {'query': 'Mercedes Sosa discography', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 12:57:27] INFO     [agent_fsm:922] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Tool execution completed
[2025-06-18 12:57:27] INFO     [agent_fsm:773] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:57:27] WARNING  [agent_fsm:803] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:57:27] INFO     [agent_fsm:665] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:57:27] DEBUG    [agent_fsm:680] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Turn count: 2, Action history length: 2
[2025-06-18 12:57:27] WARNING  [agent_fsm:1521] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:57:28] WARNING  [agent_fsm:1521] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:57:28] INFO     [agent_fsm:773] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:57:28] INFO     [agent_fsm:820] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:57:28] INFO     [agent_fsm:922] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Tool execution completed
[2025-06-18 12:57:28] INFO     [agent_fsm:773] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:57:28] WARNING  [agent_fsm:803] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:57:28] INFO     [agent_fsm:665] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:57:28] DEBUG    [agent_fsm:680] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Turn count: 3, Action history length: 3
[2025-06-18 12:57:29] WARNING  [agent_fsm:1521] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:57:29] WARNING  [agent_fsm:1521] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:57:29] WARNING  [agent_fsm:1521] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:57:29] WARNING  [agent_fsm:1224] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:29] ERROR    [agent_fsm:1078] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] --- FSM STATE: ERROR ---
[2025-06-18 12:57:29] ERROR    [agent_fsm:1101] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:57:29] ERROR    [agent_fsm:1102] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:29] WARNING  [agent_fsm:1224] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:29] ERROR    [agent_fsm:1078] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] --- FSM STATE: ERROR ---
[2025-06-18 12:57:29] ERROR    [agent_fsm:1101] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:57:29] ERROR    [agent_fsm:1102] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:29] WARNING  [agent_fsm:1224] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:29] ERROR    [agent_fsm:1078] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] --- FSM STATE: ERROR ---
[2025-06-18 12:57:29] ERROR    [agent_fsm:1101] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:57:29] ERROR    [agent_fsm:1102] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:29] WARNING  [agent_fsm:1224] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:29] ERROR    [agent_fsm:1078] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] --- FSM STATE: ERROR ---
[2025-06-18 12:57:29] ERROR    [agent_fsm:1101] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:57:29] ERROR    [agent_fsm:1102] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:29] WARNING  [agent_fsm:1224] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:29] ERROR    [agent_fsm:1078] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] --- FSM STATE: ERROR ---
[2025-06-18 12:57:29] ERROR    [agent_fsm:1101] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:57:29] ERROR    [agent_fsm:1102] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:29] WARNING  [agent_fsm:1224] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:29] ERROR    [agent_fsm:1078] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] --- FSM STATE: ERROR ---
[2025-06-18 12:57:29] ERROR    [agent_fsm:1101] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:57:29] ERROR    [agent_fsm:1102] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:29] WARNING  [agent_fsm:1224] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:29] ERROR    [agent_fsm:1078] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] --- FSM STATE: ERROR ---
[2025-06-18 12:57:29] ERROR    [agent_fsm:1101] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:57:29] ERROR    [agent_fsm:1102] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:29] WARNING  [agent_fsm:1224] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:29] ERROR    [agent_fsm:1078] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] --- FSM STATE: ERROR ---
[2025-06-18 12:57:29] ERROR    [agent_fsm:1101] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:57:29] ERROR    [agent_fsm:1102] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:29] WARNING  [agent_fsm:1224] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:29] ERROR    [agent_fsm:1078] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] --- FSM STATE: ERROR ---
[2025-06-18 12:57:29] ERROR    [agent_fsm:1101] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:57:29] ERROR    [agent_fsm:1102] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:29] WARNING  [agent_fsm:1224] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:29] ERROR    [agent_fsm:1078] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] --- FSM STATE: ERROR ---
[2025-06-18 12:57:29] ERROR    [agent_fsm:1101] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:57:29] ERROR    [agent_fsm:1102] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:29] WARNING  [agent_fsm:1224] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:29] ERROR    [agent_fsm:1078] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] --- FSM STATE: ERROR ---
[2025-06-18 12:57:29] ERROR    [agent_fsm:1101] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:57:29] ERROR    [agent_fsm:1102] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:29] WARNING  [agent_fsm:1224] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:29] ERROR    [agent_fsm:1078] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] --- FSM STATE: ERROR ---
[2025-06-18 12:57:29] ERROR    [agent_fsm:1101] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:57:29] ERROR    [agent_fsm:1102] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:29] WARNING  [agent_fsm:1224] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:29] ERROR    [agent_fsm:1078] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] --- FSM STATE: ERROR ---
[2025-06-18 12:57:29] ERROR    [agent_fsm:1101] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:57:29] ERROR    [agent_fsm:1102] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:29] WARNING  [agent_fsm:1224] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:29] ERROR    [agent_fsm:1078] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] --- FSM STATE: ERROR ---
[2025-06-18 12:57:29] ERROR    [agent_fsm:1101] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:57:29] ERROR    [agent_fsm:1102] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:29] WARNING  [agent_fsm:1224] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:29] ERROR    [agent_fsm:1078] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] --- FSM STATE: ERROR ---
[2025-06-18 12:57:29] ERROR    [agent_fsm:1101] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:57:29] ERROR    [agent_fsm:1102] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:29] WARNING  [agent_fsm:1224] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:29] ERROR    [agent_fsm:1078] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] --- FSM STATE: ERROR ---
[2025-06-18 12:57:29] ERROR    [agent_fsm:1101] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:57:29] ERROR    [agent_fsm:1102] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:29] WARNING  [agent_fsm:1224] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:29] ERROR    [agent_fsm:1078] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] --- FSM STATE: ERROR ---
[2025-06-18 12:57:29] ERROR    [agent_fsm:1101] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:57:29] ERROR    [agent_fsm:1102] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:29] WARNING  [agent_fsm:1224] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:29] ERROR    [agent_fsm:1078] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] --- FSM STATE: ERROR ---
[2025-06-18 12:57:29] ERROR    [agent_fsm:1101] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:57:29] ERROR    [agent_fsm:1102] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:29] WARNING  [agent_fsm:1224] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:29] ERROR    [agent_fsm:1837] [a3fe7b69-14e7-4493-b432-bc803b23a6d6] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:57:29] INFO     [agent_fsm:1752] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Starting resilient FSM execution
[2025-06-18 12:57:29] INFO     [agent_fsm:1807] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] FSM STATE: INITIAL
[2025-06-18 12:57:29] INFO     [agent_fsm:665] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:57:29] DEBUG    [agent_fsm:680] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Turn count: 1, Action history length: 1
[2025-06-18 12:57:30] WARNING  [agent_fsm:1521] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:57:30] WARNING  [agent_fsm:1521] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:57:30] WARNING  [agent_fsm:1521] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:57:30] WARNING  [agent_fsm:1521] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:57:30] WARNING  [agent_fsm:1521] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:57:30] INFO     [agent_fsm:773] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:57:30] INFO     [agent_fsm:820] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:57:30] INFO     [agent_fsm:922] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Tool execution completed
[2025-06-18 12:57:30] INFO     [agent_fsm:773] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:57:30] WARNING  [agent_fsm:803] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:57:30] INFO     [agent_fsm:665] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:57:30] DEBUG    [agent_fsm:680] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Turn count: 2, Action history length: 2
[2025-06-18 12:57:31] WARNING  [agent_fsm:1521] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:57:31] WARNING  [agent_fsm:1521] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:57:31] WARNING  [agent_fsm:1521] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:57:31] WARNING  [agent_fsm:1521] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:57:31] INFO     [agent_fsm:773] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:57:31] INFO     [agent_fsm:820] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Executing tool: video_analyzer with input: {'url': 'https://www.youtube.com/watch?v=L1vXCYZAYYM', 'action': 'download_info'}
[2025-06-18 12:57:31] INFO     [agent_fsm:922] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Tool execution completed
[2025-06-18 12:57:31] INFO     [agent_fsm:773] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:57:31] WARNING  [agent_fsm:803] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:57:31] INFO     [agent_fsm:665] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:57:31] DEBUG    [agent_fsm:680] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Turn count: 3, Action history length: 3
[2025-06-18 12:57:32] WARNING  [agent_fsm:1521] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Failed to parse JSON parameters for step 8, using fallback parser
[2025-06-18 12:57:32] WARNING  [agent_fsm:1224] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:32] ERROR    [agent_fsm:1078] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] --- FSM STATE: ERROR ---
[2025-06-18 12:57:32] ERROR    [agent_fsm:1101] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:57:32] ERROR    [agent_fsm:1102] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:32] WARNING  [agent_fsm:1224] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:32] ERROR    [agent_fsm:1078] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] --- FSM STATE: ERROR ---
[2025-06-18 12:57:32] ERROR    [agent_fsm:1101] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:57:32] ERROR    [agent_fsm:1102] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:32] WARNING  [agent_fsm:1224] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:32] ERROR    [agent_fsm:1078] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] --- FSM STATE: ERROR ---
[2025-06-18 12:57:32] ERROR    [agent_fsm:1101] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:57:32] ERROR    [agent_fsm:1102] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:32] WARNING  [agent_fsm:1224] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:32] ERROR    [agent_fsm:1078] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] --- FSM STATE: ERROR ---
[2025-06-18 12:57:32] ERROR    [agent_fsm:1101] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:57:32] ERROR    [agent_fsm:1102] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:32] WARNING  [agent_fsm:1224] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:32] ERROR    [agent_fsm:1078] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] --- FSM STATE: ERROR ---
[2025-06-18 12:57:32] ERROR    [agent_fsm:1101] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:57:32] ERROR    [agent_fsm:1102] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:32] WARNING  [agent_fsm:1224] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:32] ERROR    [agent_fsm:1078] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] --- FSM STATE: ERROR ---
[2025-06-18 12:57:32] ERROR    [agent_fsm:1101] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:57:32] ERROR    [agent_fsm:1102] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:32] WARNING  [agent_fsm:1224] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:32] ERROR    [agent_fsm:1078] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] --- FSM STATE: ERROR ---
[2025-06-18 12:57:32] ERROR    [agent_fsm:1101] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:57:32] ERROR    [agent_fsm:1102] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:32] WARNING  [agent_fsm:1224] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:32] ERROR    [agent_fsm:1078] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] --- FSM STATE: ERROR ---
[2025-06-18 12:57:32] ERROR    [agent_fsm:1101] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:57:32] ERROR    [agent_fsm:1102] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:32] WARNING  [agent_fsm:1224] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:32] ERROR    [agent_fsm:1078] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] --- FSM STATE: ERROR ---
[2025-06-18 12:57:32] ERROR    [agent_fsm:1101] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:57:32] ERROR    [agent_fsm:1102] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:32] WARNING  [agent_fsm:1224] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:32] ERROR    [agent_fsm:1078] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] --- FSM STATE: ERROR ---
[2025-06-18 12:57:32] ERROR    [agent_fsm:1101] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:57:32] ERROR    [agent_fsm:1102] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:32] WARNING  [agent_fsm:1224] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:32] ERROR    [agent_fsm:1078] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] --- FSM STATE: ERROR ---
[2025-06-18 12:57:32] ERROR    [agent_fsm:1101] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:57:32] ERROR    [agent_fsm:1102] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:32] WARNING  [agent_fsm:1224] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:32] ERROR    [agent_fsm:1078] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] --- FSM STATE: ERROR ---
[2025-06-18 12:57:32] ERROR    [agent_fsm:1101] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:57:32] ERROR    [agent_fsm:1102] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:32] WARNING  [agent_fsm:1224] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:32] ERROR    [agent_fsm:1078] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] --- FSM STATE: ERROR ---
[2025-06-18 12:57:32] ERROR    [agent_fsm:1101] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:57:32] ERROR    [agent_fsm:1102] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:32] WARNING  [agent_fsm:1224] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:32] ERROR    [agent_fsm:1078] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] --- FSM STATE: ERROR ---
[2025-06-18 12:57:32] ERROR    [agent_fsm:1101] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:57:32] ERROR    [agent_fsm:1102] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:32] WARNING  [agent_fsm:1224] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:32] ERROR    [agent_fsm:1078] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] --- FSM STATE: ERROR ---
[2025-06-18 12:57:32] ERROR    [agent_fsm:1101] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:57:32] ERROR    [agent_fsm:1102] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:32] WARNING  [agent_fsm:1224] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:32] ERROR    [agent_fsm:1078] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] --- FSM STATE: ERROR ---
[2025-06-18 12:57:32] ERROR    [agent_fsm:1101] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:57:32] ERROR    [agent_fsm:1102] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:32] WARNING  [agent_fsm:1224] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:32] ERROR    [agent_fsm:1078] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] --- FSM STATE: ERROR ---
[2025-06-18 12:57:32] ERROR    [agent_fsm:1101] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:57:32] ERROR    [agent_fsm:1102] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:32] WARNING  [agent_fsm:1224] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:32] ERROR    [agent_fsm:1078] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] --- FSM STATE: ERROR ---
[2025-06-18 12:57:32] ERROR    [agent_fsm:1101] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:57:32] ERROR    [agent_fsm:1102] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:32] WARNING  [agent_fsm:1224] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:32] ERROR    [agent_fsm:1837] [ed7f0bad-0d04-4deb-9f6f-63ebd8a3c08c] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:57:32] INFO     [agent_fsm:1752] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Starting resilient FSM execution
[2025-06-18 12:57:32] INFO     [agent_fsm:1807] [b177de28-ac65-4a9d-842f-2ef5b89f976f] FSM STATE: INITIAL
[2025-06-18 12:57:32] INFO     [agent_fsm:665] [b177de28-ac65-4a9d-842f-2ef5b89f976f] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:57:32] DEBUG    [agent_fsm:680] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Turn count: 1, Action history length: 1
[2025-06-18 12:57:34] WARNING  [agent_fsm:1521] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:57:34] WARNING  [agent_fsm:1521] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:57:34] WARNING  [agent_fsm:1521] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:57:34] WARNING  [agent_fsm:1521] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:57:34] WARNING  [agent_fsm:1521] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:57:34] WARNING  [agent_fsm:1521] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 12:57:34] WARNING  [agent_fsm:1521] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Failed to parse JSON parameters for step 9, using fallback parser
[2025-06-18 12:57:34] WARNING  [agent_fsm:1521] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Failed to parse JSON parameters for step 10, using fallback parser
[2025-06-18 12:57:34] INFO     [agent_fsm:773] [b177de28-ac65-4a9d-842f-2ef5b89f976f] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:57:34] INFO     [agent_fsm:820] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:57:34] INFO     [agent_fsm:922] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Tool execution completed
[2025-06-18 12:57:34] INFO     [agent_fsm:773] [b177de28-ac65-4a9d-842f-2ef5b89f976f] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:57:34] WARNING  [agent_fsm:803] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:57:34] INFO     [agent_fsm:665] [b177de28-ac65-4a9d-842f-2ef5b89f976f] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:57:34] DEBUG    [agent_fsm:680] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Turn count: 2, Action history length: 2
[2025-06-18 12:57:36] WARNING  [agent_fsm:1521] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:57:36] WARNING  [agent_fsm:1521] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:57:36] WARNING  [agent_fsm:1521] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:57:36] WARNING  [agent_fsm:1521] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:57:36] WARNING  [agent_fsm:1521] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Failed to parse JSON parameters for step 8, using fallback parser
[2025-06-18 12:57:36] WARNING  [agent_fsm:1521] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Failed to parse JSON parameters for step 11, using fallback parser
[2025-06-18 12:57:36] INFO     [agent_fsm:773] [b177de28-ac65-4a9d-842f-2ef5b89f976f] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:57:36] INFO     [agent_fsm:820] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Executing tool: file_reader with input: {'filename': 'decoded_string.txt', 'lines': -1}
[2025-06-18 12:57:36] INFO     [agent_fsm:922] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Tool execution completed
[2025-06-18 12:57:36] INFO     [agent_fsm:773] [b177de28-ac65-4a9d-842f-2ef5b89f976f] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:57:36] WARNING  [agent_fsm:803] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:57:36] INFO     [agent_fsm:665] [b177de28-ac65-4a9d-842f-2ef5b89f976f] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:57:36] DEBUG    [agent_fsm:680] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Turn count: 3, Action history length: 3
[2025-06-18 12:57:37] WARNING  [agent_fsm:1521] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:57:37] WARNING  [agent_fsm:1521] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 12:57:37] WARNING  [agent_fsm:1521] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 12:57:37] WARNING  [agent_fsm:1521] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Failed to parse JSON parameters for step 8, using fallback parser
[2025-06-18 12:57:37] WARNING  [agent_fsm:1521] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Failed to parse JSON parameters for step 9, using fallback parser
[2025-06-18 12:57:37] WARNING  [agent_fsm:1521] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Failed to parse JSON parameters for step 10, using fallback parser
[2025-06-18 12:57:37] WARNING  [agent_fsm:1521] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Failed to parse JSON parameters for step 11, using fallback parser
[2025-06-18 12:57:37] WARNING  [agent_fsm:1521] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Failed to parse JSON parameters for step 12, using fallback parser
[2025-06-18 12:57:37] WARNING  [agent_fsm:1224] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:37] ERROR    [agent_fsm:1078] [b177de28-ac65-4a9d-842f-2ef5b89f976f] --- FSM STATE: ERROR ---
[2025-06-18 12:57:37] ERROR    [agent_fsm:1101] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:57:37] ERROR    [agent_fsm:1102] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:37] WARNING  [agent_fsm:1224] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:37] ERROR    [agent_fsm:1078] [b177de28-ac65-4a9d-842f-2ef5b89f976f] --- FSM STATE: ERROR ---
[2025-06-18 12:57:37] ERROR    [agent_fsm:1101] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:57:37] ERROR    [agent_fsm:1102] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:37] WARNING  [agent_fsm:1224] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:37] ERROR    [agent_fsm:1078] [b177de28-ac65-4a9d-842f-2ef5b89f976f] --- FSM STATE: ERROR ---
[2025-06-18 12:57:37] ERROR    [agent_fsm:1101] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:57:37] ERROR    [agent_fsm:1102] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:37] WARNING  [agent_fsm:1224] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:37] ERROR    [agent_fsm:1078] [b177de28-ac65-4a9d-842f-2ef5b89f976f] --- FSM STATE: ERROR ---
[2025-06-18 12:57:37] ERROR    [agent_fsm:1101] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:57:37] ERROR    [agent_fsm:1102] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:37] WARNING  [agent_fsm:1224] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:37] ERROR    [agent_fsm:1078] [b177de28-ac65-4a9d-842f-2ef5b89f976f] --- FSM STATE: ERROR ---
[2025-06-18 12:57:37] ERROR    [agent_fsm:1101] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:57:37] ERROR    [agent_fsm:1102] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:37] WARNING  [agent_fsm:1224] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:37] ERROR    [agent_fsm:1078] [b177de28-ac65-4a9d-842f-2ef5b89f976f] --- FSM STATE: ERROR ---
[2025-06-18 12:57:37] ERROR    [agent_fsm:1101] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:57:37] ERROR    [agent_fsm:1102] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:37] WARNING  [agent_fsm:1224] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:37] ERROR    [agent_fsm:1078] [b177de28-ac65-4a9d-842f-2ef5b89f976f] --- FSM STATE: ERROR ---
[2025-06-18 12:57:37] ERROR    [agent_fsm:1101] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:57:37] ERROR    [agent_fsm:1102] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:37] WARNING  [agent_fsm:1224] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:37] ERROR    [agent_fsm:1078] [b177de28-ac65-4a9d-842f-2ef5b89f976f] --- FSM STATE: ERROR ---
[2025-06-18 12:57:37] ERROR    [agent_fsm:1101] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:57:37] ERROR    [agent_fsm:1102] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:37] WARNING  [agent_fsm:1224] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:37] ERROR    [agent_fsm:1078] [b177de28-ac65-4a9d-842f-2ef5b89f976f] --- FSM STATE: ERROR ---
[2025-06-18 12:57:37] ERROR    [agent_fsm:1101] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:57:37] ERROR    [agent_fsm:1102] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:37] WARNING  [agent_fsm:1224] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:37] ERROR    [agent_fsm:1078] [b177de28-ac65-4a9d-842f-2ef5b89f976f] --- FSM STATE: ERROR ---
[2025-06-18 12:57:37] ERROR    [agent_fsm:1101] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:57:37] ERROR    [agent_fsm:1102] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:37] WARNING  [agent_fsm:1224] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:37] ERROR    [agent_fsm:1078] [b177de28-ac65-4a9d-842f-2ef5b89f976f] --- FSM STATE: ERROR ---
[2025-06-18 12:57:37] ERROR    [agent_fsm:1101] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:57:37] ERROR    [agent_fsm:1102] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:37] WARNING  [agent_fsm:1224] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:37] ERROR    [agent_fsm:1078] [b177de28-ac65-4a9d-842f-2ef5b89f976f] --- FSM STATE: ERROR ---
[2025-06-18 12:57:37] ERROR    [agent_fsm:1101] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:57:37] ERROR    [agent_fsm:1102] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:37] WARNING  [agent_fsm:1224] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:37] ERROR    [agent_fsm:1078] [b177de28-ac65-4a9d-842f-2ef5b89f976f] --- FSM STATE: ERROR ---
[2025-06-18 12:57:37] ERROR    [agent_fsm:1101] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:57:37] ERROR    [agent_fsm:1102] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:37] WARNING  [agent_fsm:1224] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:37] ERROR    [agent_fsm:1078] [b177de28-ac65-4a9d-842f-2ef5b89f976f] --- FSM STATE: ERROR ---
[2025-06-18 12:57:37] ERROR    [agent_fsm:1101] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:57:37] ERROR    [agent_fsm:1102] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:37] WARNING  [agent_fsm:1224] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:37] ERROR    [agent_fsm:1078] [b177de28-ac65-4a9d-842f-2ef5b89f976f] --- FSM STATE: ERROR ---
[2025-06-18 12:57:37] ERROR    [agent_fsm:1101] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:57:37] ERROR    [agent_fsm:1102] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:37] WARNING  [agent_fsm:1224] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:37] ERROR    [agent_fsm:1078] [b177de28-ac65-4a9d-842f-2ef5b89f976f] --- FSM STATE: ERROR ---
[2025-06-18 12:57:37] ERROR    [agent_fsm:1101] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:57:37] ERROR    [agent_fsm:1102] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:37] WARNING  [agent_fsm:1224] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:37] ERROR    [agent_fsm:1078] [b177de28-ac65-4a9d-842f-2ef5b89f976f] --- FSM STATE: ERROR ---
[2025-06-18 12:57:37] ERROR    [agent_fsm:1101] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:57:37] ERROR    [agent_fsm:1102] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:37] WARNING  [agent_fsm:1224] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:37] ERROR    [agent_fsm:1078] [b177de28-ac65-4a9d-842f-2ef5b89f976f] --- FSM STATE: ERROR ---
[2025-06-18 12:57:37] ERROR    [agent_fsm:1101] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:57:37] ERROR    [agent_fsm:1102] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:37] WARNING  [agent_fsm:1224] [b177de28-ac65-4a9d-842f-2ef5b89f976f] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:37] ERROR    [agent_fsm:1837] [b177de28-ac65-4a9d-842f-2ef5b89f976f] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:57:37] INFO     [agent_fsm:1752] [68015423-5dc0-4121-8163-396ddf997410] Starting resilient FSM execution
[2025-06-18 12:57:37] INFO     [agent_fsm:1807] [68015423-5dc0-4121-8163-396ddf997410] FSM STATE: INITIAL
[2025-06-18 12:57:37] INFO     [agent_fsm:665] [68015423-5dc0-4121-8163-396ddf997410] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:57:37] DEBUG    [agent_fsm:680] [68015423-5dc0-4121-8163-396ddf997410] Turn count: 1, Action history length: 1
[2025-06-18 12:57:38] WARNING  [agent_fsm:1521] [68015423-5dc0-4121-8163-396ddf997410] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:57:38] WARNING  [agent_fsm:1521] [68015423-5dc0-4121-8163-396ddf997410] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:57:38] WARNING  [agent_fsm:1521] [68015423-5dc0-4121-8163-396ddf997410] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:57:38] WARNING  [agent_fsm:1521] [68015423-5dc0-4121-8163-396ddf997410] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 12:57:38] INFO     [agent_fsm:773] [68015423-5dc0-4121-8163-396ddf997410] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:57:38] INFO     [agent_fsm:820] [68015423-5dc0-4121-8163-396ddf997410] Executing tool: advanced_file_reader with input: {'filename': 'path/to/sales_data.xlsx'}
[2025-06-18 12:57:38] INFO     [agent_fsm:922] [68015423-5dc0-4121-8163-396ddf997410] Tool execution completed
[2025-06-18 12:57:38] INFO     [agent_fsm:773] [68015423-5dc0-4121-8163-396ddf997410] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:57:38] WARNING  [agent_fsm:803] [68015423-5dc0-4121-8163-396ddf997410] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:57:38] INFO     [agent_fsm:665] [68015423-5dc0-4121-8163-396ddf997410] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:57:38] DEBUG    [agent_fsm:680] [68015423-5dc0-4121-8163-396ddf997410] Turn count: 2, Action history length: 2
[2025-06-18 12:57:40] WARNING  [agent_fsm:1521] [68015423-5dc0-4121-8163-396ddf997410] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:57:40] WARNING  [agent_fsm:1521] [68015423-5dc0-4121-8163-396ddf997410] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:57:40] WARNING  [agent_fsm:1521] [68015423-5dc0-4121-8163-396ddf997410] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 12:57:40] WARNING  [agent_fsm:1521] [68015423-5dc0-4121-8163-396ddf997410] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 12:57:40] WARNING  [agent_fsm:1521] [68015423-5dc0-4121-8163-396ddf997410] Failed to parse JSON parameters for step 8, using fallback parser
[2025-06-18 12:57:40] WARNING  [agent_fsm:1521] [68015423-5dc0-4121-8163-396ddf997410] Failed to parse JSON parameters for step 9, using fallback parser
[2025-06-18 12:57:40] INFO     [agent_fsm:773] [68015423-5dc0-4121-8163-396ddf997410] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:57:40] INFO     [agent_fsm:820] [68015423-5dc0-4121-8163-396ddf997410] Executing tool: advanced_file_reader with input: {'filename': 'path/to/file.xlsx'}
[2025-06-18 12:57:40] INFO     [agent_fsm:922] [68015423-5dc0-4121-8163-396ddf997410] Tool execution completed
[2025-06-18 12:57:40] INFO     [agent_fsm:773] [68015423-5dc0-4121-8163-396ddf997410] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 12:57:40] WARNING  [agent_fsm:803] [68015423-5dc0-4121-8163-396ddf997410] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:57:40] INFO     [agent_fsm:665] [68015423-5dc0-4121-8163-396ddf997410] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 12:57:40] DEBUG    [agent_fsm:680] [68015423-5dc0-4121-8163-396ddf997410] Turn count: 3, Action history length: 3
[2025-06-18 12:57:41] WARNING  [agent_fsm:1224] [68015423-5dc0-4121-8163-396ddf997410] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:41] ERROR    [agent_fsm:1078] [68015423-5dc0-4121-8163-396ddf997410] --- FSM STATE: ERROR ---
[2025-06-18 12:57:41] ERROR    [agent_fsm:1101] [68015423-5dc0-4121-8163-396ddf997410] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:57:41] ERROR    [agent_fsm:1102] [68015423-5dc0-4121-8163-396ddf997410] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:41] WARNING  [agent_fsm:1224] [68015423-5dc0-4121-8163-396ddf997410] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:41] ERROR    [agent_fsm:1078] [68015423-5dc0-4121-8163-396ddf997410] --- FSM STATE: ERROR ---
[2025-06-18 12:57:41] ERROR    [agent_fsm:1101] [68015423-5dc0-4121-8163-396ddf997410] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:57:41] ERROR    [agent_fsm:1102] [68015423-5dc0-4121-8163-396ddf997410] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:41] WARNING  [agent_fsm:1224] [68015423-5dc0-4121-8163-396ddf997410] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:41] ERROR    [agent_fsm:1078] [68015423-5dc0-4121-8163-396ddf997410] --- FSM STATE: ERROR ---
[2025-06-18 12:57:41] ERROR    [agent_fsm:1101] [68015423-5dc0-4121-8163-396ddf997410] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:57:41] ERROR    [agent_fsm:1102] [68015423-5dc0-4121-8163-396ddf997410] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:41] WARNING  [agent_fsm:1224] [68015423-5dc0-4121-8163-396ddf997410] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:41] ERROR    [agent_fsm:1078] [68015423-5dc0-4121-8163-396ddf997410] --- FSM STATE: ERROR ---
[2025-06-18 12:57:41] ERROR    [agent_fsm:1101] [68015423-5dc0-4121-8163-396ddf997410] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:57:41] ERROR    [agent_fsm:1102] [68015423-5dc0-4121-8163-396ddf997410] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:41] WARNING  [agent_fsm:1224] [68015423-5dc0-4121-8163-396ddf997410] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:41] ERROR    [agent_fsm:1078] [68015423-5dc0-4121-8163-396ddf997410] --- FSM STATE: ERROR ---
[2025-06-18 12:57:41] ERROR    [agent_fsm:1101] [68015423-5dc0-4121-8163-396ddf997410] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:57:41] ERROR    [agent_fsm:1102] [68015423-5dc0-4121-8163-396ddf997410] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:41] WARNING  [agent_fsm:1224] [68015423-5dc0-4121-8163-396ddf997410] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:41] ERROR    [agent_fsm:1078] [68015423-5dc0-4121-8163-396ddf997410] --- FSM STATE: ERROR ---
[2025-06-18 12:57:41] ERROR    [agent_fsm:1101] [68015423-5dc0-4121-8163-396ddf997410] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:57:41] ERROR    [agent_fsm:1102] [68015423-5dc0-4121-8163-396ddf997410] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:41] WARNING  [agent_fsm:1224] [68015423-5dc0-4121-8163-396ddf997410] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:41] ERROR    [agent_fsm:1078] [68015423-5dc0-4121-8163-396ddf997410] --- FSM STATE: ERROR ---
[2025-06-18 12:57:41] ERROR    [agent_fsm:1101] [68015423-5dc0-4121-8163-396ddf997410] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:57:41] ERROR    [agent_fsm:1102] [68015423-5dc0-4121-8163-396ddf997410] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:41] WARNING  [agent_fsm:1224] [68015423-5dc0-4121-8163-396ddf997410] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:41] ERROR    [agent_fsm:1078] [68015423-5dc0-4121-8163-396ddf997410] --- FSM STATE: ERROR ---
[2025-06-18 12:57:41] ERROR    [agent_fsm:1101] [68015423-5dc0-4121-8163-396ddf997410] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:57:41] ERROR    [agent_fsm:1102] [68015423-5dc0-4121-8163-396ddf997410] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:41] WARNING  [agent_fsm:1224] [68015423-5dc0-4121-8163-396ddf997410] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:41] ERROR    [agent_fsm:1078] [68015423-5dc0-4121-8163-396ddf997410] --- FSM STATE: ERROR ---
[2025-06-18 12:57:41] ERROR    [agent_fsm:1101] [68015423-5dc0-4121-8163-396ddf997410] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:57:41] ERROR    [agent_fsm:1102] [68015423-5dc0-4121-8163-396ddf997410] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:41] WARNING  [agent_fsm:1224] [68015423-5dc0-4121-8163-396ddf997410] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:41] ERROR    [agent_fsm:1078] [68015423-5dc0-4121-8163-396ddf997410] --- FSM STATE: ERROR ---
[2025-06-18 12:57:41] ERROR    [agent_fsm:1101] [68015423-5dc0-4121-8163-396ddf997410] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:57:41] ERROR    [agent_fsm:1102] [68015423-5dc0-4121-8163-396ddf997410] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:41] WARNING  [agent_fsm:1224] [68015423-5dc0-4121-8163-396ddf997410] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:41] ERROR    [agent_fsm:1078] [68015423-5dc0-4121-8163-396ddf997410] --- FSM STATE: ERROR ---
[2025-06-18 12:57:41] ERROR    [agent_fsm:1101] [68015423-5dc0-4121-8163-396ddf997410] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:57:41] ERROR    [agent_fsm:1102] [68015423-5dc0-4121-8163-396ddf997410] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:41] WARNING  [agent_fsm:1224] [68015423-5dc0-4121-8163-396ddf997410] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:41] ERROR    [agent_fsm:1078] [68015423-5dc0-4121-8163-396ddf997410] --- FSM STATE: ERROR ---
[2025-06-18 12:57:41] ERROR    [agent_fsm:1101] [68015423-5dc0-4121-8163-396ddf997410] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:57:41] ERROR    [agent_fsm:1102] [68015423-5dc0-4121-8163-396ddf997410] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:41] WARNING  [agent_fsm:1224] [68015423-5dc0-4121-8163-396ddf997410] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:41] ERROR    [agent_fsm:1078] [68015423-5dc0-4121-8163-396ddf997410] --- FSM STATE: ERROR ---
[2025-06-18 12:57:41] ERROR    [agent_fsm:1101] [68015423-5dc0-4121-8163-396ddf997410] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:57:41] ERROR    [agent_fsm:1102] [68015423-5dc0-4121-8163-396ddf997410] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:41] WARNING  [agent_fsm:1224] [68015423-5dc0-4121-8163-396ddf997410] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:41] ERROR    [agent_fsm:1078] [68015423-5dc0-4121-8163-396ddf997410] --- FSM STATE: ERROR ---
[2025-06-18 12:57:41] ERROR    [agent_fsm:1101] [68015423-5dc0-4121-8163-396ddf997410] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:57:41] ERROR    [agent_fsm:1102] [68015423-5dc0-4121-8163-396ddf997410] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:41] WARNING  [agent_fsm:1224] [68015423-5dc0-4121-8163-396ddf997410] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:41] ERROR    [agent_fsm:1078] [68015423-5dc0-4121-8163-396ddf997410] --- FSM STATE: ERROR ---
[2025-06-18 12:57:41] ERROR    [agent_fsm:1101] [68015423-5dc0-4121-8163-396ddf997410] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:57:41] ERROR    [agent_fsm:1102] [68015423-5dc0-4121-8163-396ddf997410] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:41] WARNING  [agent_fsm:1224] [68015423-5dc0-4121-8163-396ddf997410] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:41] ERROR    [agent_fsm:1078] [68015423-5dc0-4121-8163-396ddf997410] --- FSM STATE: ERROR ---
[2025-06-18 12:57:41] ERROR    [agent_fsm:1101] [68015423-5dc0-4121-8163-396ddf997410] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:57:41] ERROR    [agent_fsm:1102] [68015423-5dc0-4121-8163-396ddf997410] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:41] WARNING  [agent_fsm:1224] [68015423-5dc0-4121-8163-396ddf997410] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:41] ERROR    [agent_fsm:1078] [68015423-5dc0-4121-8163-396ddf997410] --- FSM STATE: ERROR ---
[2025-06-18 12:57:41] ERROR    [agent_fsm:1101] [68015423-5dc0-4121-8163-396ddf997410] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:57:41] ERROR    [agent_fsm:1102] [68015423-5dc0-4121-8163-396ddf997410] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:41] WARNING  [agent_fsm:1224] [68015423-5dc0-4121-8163-396ddf997410] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:41] ERROR    [agent_fsm:1078] [68015423-5dc0-4121-8163-396ddf997410] --- FSM STATE: ERROR ---
[2025-06-18 12:57:41] ERROR    [agent_fsm:1101] [68015423-5dc0-4121-8163-396ddf997410] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:57:41] ERROR    [agent_fsm:1102] [68015423-5dc0-4121-8163-396ddf997410] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:41] WARNING  [agent_fsm:1224] [68015423-5dc0-4121-8163-396ddf997410] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:41] ERROR    [agent_fsm:1837] [68015423-5dc0-4121-8163-396ddf997410] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:57:41] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 12:57:41] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 12:57:41] INFO     [agent_fsm:570] [7e6152ab-f277-41fd-a332-b451df582a7b] Building resilient FSM graph
[2025-06-18 12:57:41] INFO     [agent_fsm:572] [7e6152ab-f277-41fd-a332-b451df582a7b] FSMReActAgent graph built successfully
[2025-06-18 12:57:41] INFO     [agent_fsm:1752] [dfba9118-9efe-4178-a1e8-81ea8e90f5d2] Starting resilient FSM execution
[2025-06-18 12:57:41] WARNING  [agent_fsm:1759] [dfba9118-9efe-4178-a1e8-81ea8e90f5d2] FSM agent rejecting invalid input: '{{' - 1 validation error for ValidatedQuery
query
  Value error, Invalid placeholder query received: '{{' [type=value_error, input_value='{{', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/value_error
[2025-06-18 12:57:41] INFO     [agent_fsm:1752] [d1192233-9512-4b60-9f6f-65b0d7f95068] Starting resilient FSM execution
[2025-06-18 12:57:41] INFO     [agent_fsm:1807] [d1192233-9512-4b60-9f6f-65b0d7f95068] FSM STATE: INITIAL
[2025-06-18 12:57:41] INFO     [agent_fsm:665] [d1192233-9512-4b60-9f6f-65b0d7f95068] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 12:57:41] DEBUG    [agent_fsm:680] [d1192233-9512-4b60-9f6f-65b0d7f95068] Turn count: 1, Action history length: 1
[2025-06-18 12:57:42] WARNING  [agent_fsm:1521] [d1192233-9512-4b60-9f6f-65b0d7f95068] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:57:42] WARNING  [agent_fsm:1521] [d1192233-9512-4b60-9f6f-65b0d7f95068] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:57:42] INFO     [agent_fsm:773] [d1192233-9512-4b60-9f6f-65b0d7f95068] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 12:57:42] INFO     [agent_fsm:820] [d1192233-9512-4b60-9f6f-65b0d7f95068] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 12:57:42] INFO     [agent_fsm:922] [d1192233-9512-4b60-9f6f-65b0d7f95068] Tool execution completed
[2025-06-18 12:57:42] INFO     [agent_fsm:773] [d1192233-9512-4b60-9f6f-65b0d7f95068] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 12:57:42] WARNING  [agent_fsm:803] [d1192233-9512-4b60-9f6f-65b0d7f95068] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:57:42] INFO     [agent_fsm:665] [d1192233-9512-4b60-9f6f-65b0d7f95068] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 12:57:42] DEBUG    [agent_fsm:680] [d1192233-9512-4b60-9f6f-65b0d7f95068] Turn count: 2, Action history length: 2
[2025-06-18 12:57:43] WARNING  [agent_fsm:1521] [d1192233-9512-4b60-9f6f-65b0d7f95068] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:57:43] WARNING  [agent_fsm:1521] [d1192233-9512-4b60-9f6f-65b0d7f95068] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 12:57:43] WARNING  [agent_fsm:1521] [d1192233-9512-4b60-9f6f-65b0d7f95068] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 12:57:43] INFO     [agent_fsm:773] [d1192233-9512-4b60-9f6f-65b0d7f95068] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 12:57:43] WARNING  [agent_fsm:803] [d1192233-9512-4b60-9f6f-65b0d7f95068] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 12:57:43] INFO     [agent_fsm:665] [d1192233-9512-4b60-9f6f-65b0d7f95068] --- FSM STATE: PLANNING (Step 3) ---
[2025-06-18 12:57:43] DEBUG    [agent_fsm:680] [d1192233-9512-4b60-9f6f-65b0d7f95068] Turn count: 3, Action history length: 3
[2025-06-18 12:57:44] WARNING  [agent_fsm:1521] [d1192233-9512-4b60-9f6f-65b0d7f95068] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 12:57:44] WARNING  [agent_fsm:1521] [d1192233-9512-4b60-9f6f-65b0d7f95068] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 12:57:44] WARNING  [agent_fsm:1224] [d1192233-9512-4b60-9f6f-65b0d7f95068] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:44] ERROR    [agent_fsm:1078] [d1192233-9512-4b60-9f6f-65b0d7f95068] --- FSM STATE: ERROR ---
[2025-06-18 12:57:44] ERROR    [agent_fsm:1101] [d1192233-9512-4b60-9f6f-65b0d7f95068] Error category: GENERAL, Occurrences: 1
[2025-06-18 12:57:44] ERROR    [agent_fsm:1102] [d1192233-9512-4b60-9f6f-65b0d7f95068] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:44] WARNING  [agent_fsm:1224] [d1192233-9512-4b60-9f6f-65b0d7f95068] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:44] ERROR    [agent_fsm:1078] [d1192233-9512-4b60-9f6f-65b0d7f95068] --- FSM STATE: ERROR ---
[2025-06-18 12:57:44] ERROR    [agent_fsm:1101] [d1192233-9512-4b60-9f6f-65b0d7f95068] Error category: GENERAL, Occurrences: 2
[2025-06-18 12:57:44] ERROR    [agent_fsm:1102] [d1192233-9512-4b60-9f6f-65b0d7f95068] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:44] WARNING  [agent_fsm:1224] [d1192233-9512-4b60-9f6f-65b0d7f95068] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:44] ERROR    [agent_fsm:1078] [d1192233-9512-4b60-9f6f-65b0d7f95068] --- FSM STATE: ERROR ---
[2025-06-18 12:57:44] ERROR    [agent_fsm:1101] [d1192233-9512-4b60-9f6f-65b0d7f95068] Error category: GENERAL, Occurrences: 3
[2025-06-18 12:57:44] ERROR    [agent_fsm:1102] [d1192233-9512-4b60-9f6f-65b0d7f95068] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:44] WARNING  [agent_fsm:1224] [d1192233-9512-4b60-9f6f-65b0d7f95068] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:44] ERROR    [agent_fsm:1078] [d1192233-9512-4b60-9f6f-65b0d7f95068] --- FSM STATE: ERROR ---
[2025-06-18 12:57:44] ERROR    [agent_fsm:1101] [d1192233-9512-4b60-9f6f-65b0d7f95068] Error category: GENERAL, Occurrences: 4
[2025-06-18 12:57:44] ERROR    [agent_fsm:1102] [d1192233-9512-4b60-9f6f-65b0d7f95068] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:44] WARNING  [agent_fsm:1224] [d1192233-9512-4b60-9f6f-65b0d7f95068] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:44] ERROR    [agent_fsm:1078] [d1192233-9512-4b60-9f6f-65b0d7f95068] --- FSM STATE: ERROR ---
[2025-06-18 12:57:44] ERROR    [agent_fsm:1101] [d1192233-9512-4b60-9f6f-65b0d7f95068] Error category: GENERAL, Occurrences: 5
[2025-06-18 12:57:44] ERROR    [agent_fsm:1102] [d1192233-9512-4b60-9f6f-65b0d7f95068] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:44] WARNING  [agent_fsm:1224] [d1192233-9512-4b60-9f6f-65b0d7f95068] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:44] ERROR    [agent_fsm:1078] [d1192233-9512-4b60-9f6f-65b0d7f95068] --- FSM STATE: ERROR ---
[2025-06-18 12:57:44] ERROR    [agent_fsm:1101] [d1192233-9512-4b60-9f6f-65b0d7f95068] Error category: GENERAL, Occurrences: 6
[2025-06-18 12:57:44] ERROR    [agent_fsm:1102] [d1192233-9512-4b60-9f6f-65b0d7f95068] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:44] WARNING  [agent_fsm:1224] [d1192233-9512-4b60-9f6f-65b0d7f95068] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:44] ERROR    [agent_fsm:1078] [d1192233-9512-4b60-9f6f-65b0d7f95068] --- FSM STATE: ERROR ---
[2025-06-18 12:57:44] ERROR    [agent_fsm:1101] [d1192233-9512-4b60-9f6f-65b0d7f95068] Error category: GENERAL, Occurrences: 7
[2025-06-18 12:57:44] ERROR    [agent_fsm:1102] [d1192233-9512-4b60-9f6f-65b0d7f95068] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:44] WARNING  [agent_fsm:1224] [d1192233-9512-4b60-9f6f-65b0d7f95068] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:44] ERROR    [agent_fsm:1078] [d1192233-9512-4b60-9f6f-65b0d7f95068] --- FSM STATE: ERROR ---
[2025-06-18 12:57:44] ERROR    [agent_fsm:1101] [d1192233-9512-4b60-9f6f-65b0d7f95068] Error category: GENERAL, Occurrences: 8
[2025-06-18 12:57:44] ERROR    [agent_fsm:1102] [d1192233-9512-4b60-9f6f-65b0d7f95068] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:44] WARNING  [agent_fsm:1224] [d1192233-9512-4b60-9f6f-65b0d7f95068] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:44] ERROR    [agent_fsm:1078] [d1192233-9512-4b60-9f6f-65b0d7f95068] --- FSM STATE: ERROR ---
[2025-06-18 12:57:44] ERROR    [agent_fsm:1101] [d1192233-9512-4b60-9f6f-65b0d7f95068] Error category: GENERAL, Occurrences: 9
[2025-06-18 12:57:44] ERROR    [agent_fsm:1102] [d1192233-9512-4b60-9f6f-65b0d7f95068] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:44] WARNING  [agent_fsm:1224] [d1192233-9512-4b60-9f6f-65b0d7f95068] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:44] ERROR    [agent_fsm:1078] [d1192233-9512-4b60-9f6f-65b0d7f95068] --- FSM STATE: ERROR ---
[2025-06-18 12:57:44] ERROR    [agent_fsm:1101] [d1192233-9512-4b60-9f6f-65b0d7f95068] Error category: GENERAL, Occurrences: 10
[2025-06-18 12:57:44] ERROR    [agent_fsm:1102] [d1192233-9512-4b60-9f6f-65b0d7f95068] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:44] WARNING  [agent_fsm:1224] [d1192233-9512-4b60-9f6f-65b0d7f95068] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:44] ERROR    [agent_fsm:1078] [d1192233-9512-4b60-9f6f-65b0d7f95068] --- FSM STATE: ERROR ---
[2025-06-18 12:57:44] ERROR    [agent_fsm:1101] [d1192233-9512-4b60-9f6f-65b0d7f95068] Error category: GENERAL, Occurrences: 11
[2025-06-18 12:57:44] ERROR    [agent_fsm:1102] [d1192233-9512-4b60-9f6f-65b0d7f95068] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:44] WARNING  [agent_fsm:1224] [d1192233-9512-4b60-9f6f-65b0d7f95068] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:44] ERROR    [agent_fsm:1078] [d1192233-9512-4b60-9f6f-65b0d7f95068] --- FSM STATE: ERROR ---
[2025-06-18 12:57:44] ERROR    [agent_fsm:1101] [d1192233-9512-4b60-9f6f-65b0d7f95068] Error category: GENERAL, Occurrences: 12
[2025-06-18 12:57:44] ERROR    [agent_fsm:1102] [d1192233-9512-4b60-9f6f-65b0d7f95068] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:44] WARNING  [agent_fsm:1224] [d1192233-9512-4b60-9f6f-65b0d7f95068] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:44] ERROR    [agent_fsm:1078] [d1192233-9512-4b60-9f6f-65b0d7f95068] --- FSM STATE: ERROR ---
[2025-06-18 12:57:44] ERROR    [agent_fsm:1101] [d1192233-9512-4b60-9f6f-65b0d7f95068] Error category: GENERAL, Occurrences: 13
[2025-06-18 12:57:44] ERROR    [agent_fsm:1102] [d1192233-9512-4b60-9f6f-65b0d7f95068] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:44] WARNING  [agent_fsm:1224] [d1192233-9512-4b60-9f6f-65b0d7f95068] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:44] ERROR    [agent_fsm:1078] [d1192233-9512-4b60-9f6f-65b0d7f95068] --- FSM STATE: ERROR ---
[2025-06-18 12:57:44] ERROR    [agent_fsm:1101] [d1192233-9512-4b60-9f6f-65b0d7f95068] Error category: GENERAL, Occurrences: 14
[2025-06-18 12:57:44] ERROR    [agent_fsm:1102] [d1192233-9512-4b60-9f6f-65b0d7f95068] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:44] WARNING  [agent_fsm:1224] [d1192233-9512-4b60-9f6f-65b0d7f95068] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:44] ERROR    [agent_fsm:1078] [d1192233-9512-4b60-9f6f-65b0d7f95068] --- FSM STATE: ERROR ---
[2025-06-18 12:57:44] ERROR    [agent_fsm:1101] [d1192233-9512-4b60-9f6f-65b0d7f95068] Error category: GENERAL, Occurrences: 15
[2025-06-18 12:57:44] ERROR    [agent_fsm:1102] [d1192233-9512-4b60-9f6f-65b0d7f95068] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:44] WARNING  [agent_fsm:1224] [d1192233-9512-4b60-9f6f-65b0d7f95068] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:44] ERROR    [agent_fsm:1078] [d1192233-9512-4b60-9f6f-65b0d7f95068] --- FSM STATE: ERROR ---
[2025-06-18 12:57:44] ERROR    [agent_fsm:1101] [d1192233-9512-4b60-9f6f-65b0d7f95068] Error category: GENERAL, Occurrences: 16
[2025-06-18 12:57:44] ERROR    [agent_fsm:1102] [d1192233-9512-4b60-9f6f-65b0d7f95068] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:44] WARNING  [agent_fsm:1224] [d1192233-9512-4b60-9f6f-65b0d7f95068] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:44] ERROR    [agent_fsm:1078] [d1192233-9512-4b60-9f6f-65b0d7f95068] --- FSM STATE: ERROR ---
[2025-06-18 12:57:44] ERROR    [agent_fsm:1101] [d1192233-9512-4b60-9f6f-65b0d7f95068] Error category: GENERAL, Occurrences: 17
[2025-06-18 12:57:44] ERROR    [agent_fsm:1102] [d1192233-9512-4b60-9f6f-65b0d7f95068] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:44] WARNING  [agent_fsm:1224] [d1192233-9512-4b60-9f6f-65b0d7f95068] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:44] ERROR    [agent_fsm:1078] [d1192233-9512-4b60-9f6f-65b0d7f95068] --- FSM STATE: ERROR ---
[2025-06-18 12:57:44] ERROR    [agent_fsm:1101] [d1192233-9512-4b60-9f6f-65b0d7f95068] Error category: GENERAL, Occurrences: 18
[2025-06-18 12:57:44] ERROR    [agent_fsm:1102] [d1192233-9512-4b60-9f6f-65b0d7f95068] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:44] WARNING  [agent_fsm:1224] [d1192233-9512-4b60-9f6f-65b0d7f95068] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:44] ERROR    [agent_fsm:1078] [d1192233-9512-4b60-9f6f-65b0d7f95068] --- FSM STATE: ERROR ---
[2025-06-18 12:57:44] ERROR    [agent_fsm:1101] [d1192233-9512-4b60-9f6f-65b0d7f95068] Error category: GENERAL, Occurrences: 19
[2025-06-18 12:57:44] ERROR    [agent_fsm:1102] [d1192233-9512-4b60-9f6f-65b0d7f95068] Errors: ['Duplicate tool call detected']
[2025-06-18 12:57:44] WARNING  [agent_fsm:1224] [d1192233-9512-4b60-9f6f-65b0d7f95068] Direct loop detected - same action repeated 3 times
[2025-06-18 12:57:44] ERROR    [agent_fsm:1837] [d1192233-9512-4b60-9f6f-65b0d7f95068] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 12:57:44] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 12:57:44] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 12:57:44] INFO     [agent_fsm:570] [e6b5d230-e030-4fcb-9265-666a77d5c076] Building resilient FSM graph
[2025-06-18 12:57:44] INFO     [agent_fsm:572] [e6b5d230-e030-4fcb-9265-666a77d5c076] FSMReActAgent graph built successfully
[2025-06-18 13:00:34] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 13:00:34] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 13:00:34] INFO     [agent_fsm:570] [8801ea2e-b53d-43a5-a6df-26e061fd3846] Building resilient FSM graph
[2025-06-18 13:00:34] INFO     [agent_fsm:572] [8801ea2e-b53d-43a5-a6df-26e061fd3846] FSMReActAgent graph built successfully
[2025-06-18 13:00:34] INFO     [agent_fsm:1752] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Starting resilient FSM execution
[2025-06-18 13:00:34] INFO     [agent_fsm:1807] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] FSM STATE: INITIAL
[2025-06-18 13:00:34] INFO     [agent_fsm:665] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:00:34] DEBUG    [agent_fsm:680] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Turn count: 1, Action history length: 1
[2025-06-18 13:00:36] WARNING  [agent_fsm:1521] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:00:36] WARNING  [agent_fsm:1521] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Failed to parse JSON parameters for step 13, using fallback parser
[2025-06-18 13:00:36] WARNING  [agent_fsm:1333] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Tool image_analyzer not found in registry, will use stub
[2025-06-18 13:00:36] INFO     [agent_fsm:773] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:00:36] INFO     [agent_fsm:820] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Executing tool: web_researcher with input: {'query': 'Capital of France', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 13:00:36] INFO     [agent_fsm:922] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Tool execution completed
[2025-06-18 13:00:36] INFO     [agent_fsm:773] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:00:36] WARNING  [agent_fsm:803] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:00:36] INFO     [agent_fsm:665] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:00:36] DEBUG    [agent_fsm:680] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Turn count: 2, Action history length: 2
[2025-06-18 13:00:37] WARNING  [agent_fsm:1521] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:00:37] WARNING  [agent_fsm:1521] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:00:37] INFO     [agent_fsm:773] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:00:37] INFO     [agent_fsm:820] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:00:37] ERROR    [agent_fsm:840] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Tool execution failed: BaseTool.__call__() got an unexpected keyword argument 'query'
[2025-06-18 13:00:37] INFO     [agent_fsm:853] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Trying alternative tool: web_researcher
[2025-06-18 13:00:37] INFO     [agent_fsm:922] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Tool execution completed
[2025-06-18 13:00:37] INFO     [agent_fsm:773] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:00:37] INFO     [agent_fsm:820] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:00:37] ERROR    [agent_fsm:840] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Tool execution failed: BaseTool.__call__() got an unexpected keyword argument 'query'
[2025-06-18 13:00:37] INFO     [agent_fsm:853] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Trying alternative tool: web_researcher
[2025-06-18 13:00:37] INFO     [agent_fsm:922] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Tool execution completed
[2025-06-18 13:00:37] INFO     [agent_fsm:773] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] --- FSM STATE: TOOL_EXECUTION (Step 4) ---
[2025-06-18 13:00:37] INFO     [agent_fsm:820] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:00:37] ERROR    [agent_fsm:840] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Tool execution failed: BaseTool.__call__() got an unexpected keyword argument 'query'
[2025-06-18 13:00:37] INFO     [agent_fsm:853] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Trying alternative tool: web_researcher
[2025-06-18 13:00:37] INFO     [agent_fsm:922] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Tool execution completed
[2025-06-18 13:00:37] INFO     [agent_fsm:773] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] --- FSM STATE: TOOL_EXECUTION (Step 5) ---
[2025-06-18 13:00:37] INFO     [agent_fsm:820] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:00:37] WARNING  [agent_fsm:831] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 13:00:37] INFO     [agent_fsm:922] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Tool execution completed
[2025-06-18 13:00:37] INFO     [agent_fsm:773] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] --- FSM STATE: TOOL_EXECUTION (Step 6) ---
[2025-06-18 13:00:37] INFO     [agent_fsm:820] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:00:37] WARNING  [agent_fsm:831] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 13:00:37] INFO     [agent_fsm:922] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Tool execution completed
[2025-06-18 13:00:37] INFO     [agent_fsm:773] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] --- FSM STATE: TOOL_EXECUTION (Step 7) ---
[2025-06-18 13:00:37] INFO     [agent_fsm:820] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:00:37] WARNING  [agent_fsm:831] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 13:00:37] INFO     [agent_fsm:922] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Tool execution completed
[2025-06-18 13:00:37] INFO     [agent_fsm:773] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] --- FSM STATE: TOOL_EXECUTION (Step 8) ---
[2025-06-18 13:00:37] INFO     [agent_fsm:820] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:00:37] WARNING  [agent_fsm:831] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 13:00:37] INFO     [agent_fsm:922] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Tool execution completed
[2025-06-18 13:00:37] INFO     [agent_fsm:773] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] --- FSM STATE: TOOL_EXECUTION (Step 9) ---
[2025-06-18 13:00:37] INFO     [agent_fsm:820] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:00:37] WARNING  [agent_fsm:831] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 13:00:37] INFO     [agent_fsm:922] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Tool execution completed
[2025-06-18 13:00:37] INFO     [agent_fsm:773] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] --- FSM STATE: TOOL_EXECUTION (Step 10) ---
[2025-06-18 13:00:37] INFO     [agent_fsm:820] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:00:37] WARNING  [agent_fsm:831] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 13:00:37] INFO     [agent_fsm:922] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Tool execution completed
[2025-06-18 13:00:37] INFO     [agent_fsm:773] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] --- FSM STATE: TOOL_EXECUTION (Step 11) ---
[2025-06-18 13:00:37] INFO     [agent_fsm:820] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:00:37] WARNING  [agent_fsm:831] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 13:00:37] INFO     [agent_fsm:922] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Tool execution completed
[2025-06-18 13:00:37] INFO     [agent_fsm:773] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] --- FSM STATE: TOOL_EXECUTION (Step 12) ---
[2025-06-18 13:00:37] INFO     [agent_fsm:820] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:00:37] WARNING  [agent_fsm:831] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 13:00:37] INFO     [agent_fsm:922] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Tool execution completed
[2025-06-18 13:00:37] INFO     [agent_fsm:773] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] --- FSM STATE: TOOL_EXECUTION (Step 13) ---
[2025-06-18 13:00:37] INFO     [agent_fsm:820] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:00:37] WARNING  [agent_fsm:831] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 13:00:37] INFO     [agent_fsm:922] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Tool execution completed
[2025-06-18 13:00:37] INFO     [agent_fsm:773] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] --- FSM STATE: TOOL_EXECUTION (Step 14) ---
[2025-06-18 13:00:37] INFO     [agent_fsm:820] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:00:37] WARNING  [agent_fsm:831] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 13:00:37] INFO     [agent_fsm:922] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Tool execution completed
[2025-06-18 13:00:37] INFO     [agent_fsm:773] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] --- FSM STATE: TOOL_EXECUTION (Step 15) ---
[2025-06-18 13:00:37] INFO     [agent_fsm:820] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:00:37] WARNING  [agent_fsm:831] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 13:00:37] INFO     [agent_fsm:922] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Tool execution completed
[2025-06-18 13:00:37] INFO     [agent_fsm:773] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] --- FSM STATE: TOOL_EXECUTION (Step 16) ---
[2025-06-18 13:00:37] INFO     [agent_fsm:820] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:00:37] WARNING  [agent_fsm:831] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 13:00:37] INFO     [agent_fsm:922] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Tool execution completed
[2025-06-18 13:00:37] INFO     [agent_fsm:773] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] --- FSM STATE: TOOL_EXECUTION (Step 17) ---
[2025-06-18 13:00:37] INFO     [agent_fsm:820] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:00:37] WARNING  [agent_fsm:831] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 13:00:37] INFO     [agent_fsm:922] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Tool execution completed
[2025-06-18 13:00:37] INFO     [agent_fsm:773] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] --- FSM STATE: TOOL_EXECUTION (Step 18) ---
[2025-06-18 13:00:37] INFO     [agent_fsm:820] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:00:37] WARNING  [agent_fsm:831] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 13:00:37] INFO     [agent_fsm:922] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Tool execution completed
[2025-06-18 13:00:37] INFO     [agent_fsm:773] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] --- FSM STATE: TOOL_EXECUTION (Step 19) ---
[2025-06-18 13:00:37] INFO     [agent_fsm:820] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:00:37] WARNING  [agent_fsm:831] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 13:00:37] INFO     [agent_fsm:922] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Tool execution completed
[2025-06-18 13:00:37] WARNING  [agent_fsm:1229] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Max steps (20) reached, terminating
[2025-06-18 13:00:37] ERROR    [agent_fsm:1078] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] --- FSM STATE: ERROR ---
[2025-06-18 13:00:37] ERROR    [agent_fsm:1101] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:00:37] ERROR    [agent_fsm:1102] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:37] WARNING  [agent_fsm:1229] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Max steps (20) reached, terminating
[2025-06-18 13:00:37] ERROR    [agent_fsm:1078] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] --- FSM STATE: ERROR ---
[2025-06-18 13:00:37] ERROR    [agent_fsm:1101] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:00:37] ERROR    [agent_fsm:1102] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:37] WARNING  [agent_fsm:1229] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Max steps (20) reached, terminating
[2025-06-18 13:00:37] ERROR    [agent_fsm:1078] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] --- FSM STATE: ERROR ---
[2025-06-18 13:00:37] ERROR    [agent_fsm:1101] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:00:37] ERROR    [agent_fsm:1102] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:37] WARNING  [agent_fsm:1229] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] Max steps (20) reached, terminating
[2025-06-18 13:00:37] ERROR    [agent_fsm:1837] [b42c89d7-8a8b-4dfe-9f30-fc0889024962] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:00:37] INFO     [agent_fsm:1752] [5665feb7-0d45-456f-83ff-c13443f6bd34] Starting resilient FSM execution
[2025-06-18 13:00:37] INFO     [agent_fsm:1807] [5665feb7-0d45-456f-83ff-c13443f6bd34] FSM STATE: INITIAL
[2025-06-18 13:00:37] INFO     [agent_fsm:665] [5665feb7-0d45-456f-83ff-c13443f6bd34] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:00:37] DEBUG    [agent_fsm:680] [5665feb7-0d45-456f-83ff-c13443f6bd34] Turn count: 1, Action history length: 1
[2025-06-18 13:00:38] WARNING  [agent_fsm:1521] [5665feb7-0d45-456f-83ff-c13443f6bd34] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:00:38] WARNING  [agent_fsm:1521] [5665feb7-0d45-456f-83ff-c13443f6bd34] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 13:00:38] INFO     [agent_fsm:773] [5665feb7-0d45-456f-83ff-c13443f6bd34] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:00:38] INFO     [agent_fsm:820] [5665feb7-0d45-456f-83ff-c13443f6bd34] Executing tool: web_researcher with input: {'query': 'definition of a leap year', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 13:00:38] INFO     [agent_fsm:922] [5665feb7-0d45-456f-83ff-c13443f6bd34] Tool execution completed
[2025-06-18 13:00:38] INFO     [agent_fsm:773] [5665feb7-0d45-456f-83ff-c13443f6bd34] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:00:38] WARNING  [agent_fsm:803] [5665feb7-0d45-456f-83ff-c13443f6bd34] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:00:38] INFO     [agent_fsm:665] [5665feb7-0d45-456f-83ff-c13443f6bd34] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:00:38] DEBUG    [agent_fsm:680] [5665feb7-0d45-456f-83ff-c13443f6bd34] Turn count: 2, Action history length: 2
[2025-06-18 13:00:39] INFO     [agent_fsm:773] [5665feb7-0d45-456f-83ff-c13443f6bd34] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:00:39] INFO     [agent_fsm:820] [5665feb7-0d45-456f-83ff-c13443f6bd34] Executing tool: semantic_search_tool with input: {'query': 'characteristics of a leap year', 'filename': 'knowledge_base.csv', 'top_k': 3}
[2025-06-18 13:00:39] INFO     [agent_fsm:922] [5665feb7-0d45-456f-83ff-c13443f6bd34] Tool execution completed
[2025-06-18 13:00:39] INFO     [agent_fsm:773] [5665feb7-0d45-456f-83ff-c13443f6bd34] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:00:39] WARNING  [agent_fsm:803] [5665feb7-0d45-456f-83ff-c13443f6bd34] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:00:39] INFO     [agent_fsm:665] [5665feb7-0d45-456f-83ff-c13443f6bd34] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:00:39] DEBUG    [agent_fsm:680] [5665feb7-0d45-456f-83ff-c13443f6bd34] Turn count: 3, Action history length: 3
[2025-06-18 13:00:40] WARNING  [agent_fsm:1224] [5665feb7-0d45-456f-83ff-c13443f6bd34] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:40] ERROR    [agent_fsm:1078] [5665feb7-0d45-456f-83ff-c13443f6bd34] --- FSM STATE: ERROR ---
[2025-06-18 13:00:40] ERROR    [agent_fsm:1101] [5665feb7-0d45-456f-83ff-c13443f6bd34] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:00:40] ERROR    [agent_fsm:1102] [5665feb7-0d45-456f-83ff-c13443f6bd34] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:40] WARNING  [agent_fsm:1224] [5665feb7-0d45-456f-83ff-c13443f6bd34] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:40] ERROR    [agent_fsm:1078] [5665feb7-0d45-456f-83ff-c13443f6bd34] --- FSM STATE: ERROR ---
[2025-06-18 13:00:40] ERROR    [agent_fsm:1101] [5665feb7-0d45-456f-83ff-c13443f6bd34] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:00:40] ERROR    [agent_fsm:1102] [5665feb7-0d45-456f-83ff-c13443f6bd34] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:40] WARNING  [agent_fsm:1224] [5665feb7-0d45-456f-83ff-c13443f6bd34] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:40] ERROR    [agent_fsm:1078] [5665feb7-0d45-456f-83ff-c13443f6bd34] --- FSM STATE: ERROR ---
[2025-06-18 13:00:40] ERROR    [agent_fsm:1101] [5665feb7-0d45-456f-83ff-c13443f6bd34] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:00:40] ERROR    [agent_fsm:1102] [5665feb7-0d45-456f-83ff-c13443f6bd34] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:40] WARNING  [agent_fsm:1224] [5665feb7-0d45-456f-83ff-c13443f6bd34] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:40] ERROR    [agent_fsm:1078] [5665feb7-0d45-456f-83ff-c13443f6bd34] --- FSM STATE: ERROR ---
[2025-06-18 13:00:40] ERROR    [agent_fsm:1101] [5665feb7-0d45-456f-83ff-c13443f6bd34] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:00:40] ERROR    [agent_fsm:1102] [5665feb7-0d45-456f-83ff-c13443f6bd34] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:40] WARNING  [agent_fsm:1224] [5665feb7-0d45-456f-83ff-c13443f6bd34] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:40] ERROR    [agent_fsm:1078] [5665feb7-0d45-456f-83ff-c13443f6bd34] --- FSM STATE: ERROR ---
[2025-06-18 13:00:40] ERROR    [agent_fsm:1101] [5665feb7-0d45-456f-83ff-c13443f6bd34] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:00:40] ERROR    [agent_fsm:1102] [5665feb7-0d45-456f-83ff-c13443f6bd34] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:40] WARNING  [agent_fsm:1224] [5665feb7-0d45-456f-83ff-c13443f6bd34] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:40] ERROR    [agent_fsm:1078] [5665feb7-0d45-456f-83ff-c13443f6bd34] --- FSM STATE: ERROR ---
[2025-06-18 13:00:40] ERROR    [agent_fsm:1101] [5665feb7-0d45-456f-83ff-c13443f6bd34] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:00:40] ERROR    [agent_fsm:1102] [5665feb7-0d45-456f-83ff-c13443f6bd34] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:40] WARNING  [agent_fsm:1224] [5665feb7-0d45-456f-83ff-c13443f6bd34] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:40] ERROR    [agent_fsm:1078] [5665feb7-0d45-456f-83ff-c13443f6bd34] --- FSM STATE: ERROR ---
[2025-06-18 13:00:40] ERROR    [agent_fsm:1101] [5665feb7-0d45-456f-83ff-c13443f6bd34] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:00:40] ERROR    [agent_fsm:1102] [5665feb7-0d45-456f-83ff-c13443f6bd34] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:40] WARNING  [agent_fsm:1224] [5665feb7-0d45-456f-83ff-c13443f6bd34] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:40] ERROR    [agent_fsm:1078] [5665feb7-0d45-456f-83ff-c13443f6bd34] --- FSM STATE: ERROR ---
[2025-06-18 13:00:40] ERROR    [agent_fsm:1101] [5665feb7-0d45-456f-83ff-c13443f6bd34] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:00:40] ERROR    [agent_fsm:1102] [5665feb7-0d45-456f-83ff-c13443f6bd34] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:40] WARNING  [agent_fsm:1224] [5665feb7-0d45-456f-83ff-c13443f6bd34] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:40] ERROR    [agent_fsm:1078] [5665feb7-0d45-456f-83ff-c13443f6bd34] --- FSM STATE: ERROR ---
[2025-06-18 13:00:40] ERROR    [agent_fsm:1101] [5665feb7-0d45-456f-83ff-c13443f6bd34] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:00:40] ERROR    [agent_fsm:1102] [5665feb7-0d45-456f-83ff-c13443f6bd34] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:40] WARNING  [agent_fsm:1224] [5665feb7-0d45-456f-83ff-c13443f6bd34] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:40] ERROR    [agent_fsm:1078] [5665feb7-0d45-456f-83ff-c13443f6bd34] --- FSM STATE: ERROR ---
[2025-06-18 13:00:40] ERROR    [agent_fsm:1101] [5665feb7-0d45-456f-83ff-c13443f6bd34] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:00:40] ERROR    [agent_fsm:1102] [5665feb7-0d45-456f-83ff-c13443f6bd34] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:40] WARNING  [agent_fsm:1224] [5665feb7-0d45-456f-83ff-c13443f6bd34] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:40] ERROR    [agent_fsm:1078] [5665feb7-0d45-456f-83ff-c13443f6bd34] --- FSM STATE: ERROR ---
[2025-06-18 13:00:40] ERROR    [agent_fsm:1101] [5665feb7-0d45-456f-83ff-c13443f6bd34] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:00:40] ERROR    [agent_fsm:1102] [5665feb7-0d45-456f-83ff-c13443f6bd34] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:40] WARNING  [agent_fsm:1224] [5665feb7-0d45-456f-83ff-c13443f6bd34] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:40] ERROR    [agent_fsm:1078] [5665feb7-0d45-456f-83ff-c13443f6bd34] --- FSM STATE: ERROR ---
[2025-06-18 13:00:40] ERROR    [agent_fsm:1101] [5665feb7-0d45-456f-83ff-c13443f6bd34] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:00:40] ERROR    [agent_fsm:1102] [5665feb7-0d45-456f-83ff-c13443f6bd34] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:40] WARNING  [agent_fsm:1224] [5665feb7-0d45-456f-83ff-c13443f6bd34] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:40] ERROR    [agent_fsm:1078] [5665feb7-0d45-456f-83ff-c13443f6bd34] --- FSM STATE: ERROR ---
[2025-06-18 13:00:40] ERROR    [agent_fsm:1101] [5665feb7-0d45-456f-83ff-c13443f6bd34] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:00:40] ERROR    [agent_fsm:1102] [5665feb7-0d45-456f-83ff-c13443f6bd34] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:40] WARNING  [agent_fsm:1224] [5665feb7-0d45-456f-83ff-c13443f6bd34] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:40] ERROR    [agent_fsm:1078] [5665feb7-0d45-456f-83ff-c13443f6bd34] --- FSM STATE: ERROR ---
[2025-06-18 13:00:40] ERROR    [agent_fsm:1101] [5665feb7-0d45-456f-83ff-c13443f6bd34] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:00:40] ERROR    [agent_fsm:1102] [5665feb7-0d45-456f-83ff-c13443f6bd34] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:40] WARNING  [agent_fsm:1224] [5665feb7-0d45-456f-83ff-c13443f6bd34] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:40] ERROR    [agent_fsm:1078] [5665feb7-0d45-456f-83ff-c13443f6bd34] --- FSM STATE: ERROR ---
[2025-06-18 13:00:40] ERROR    [agent_fsm:1101] [5665feb7-0d45-456f-83ff-c13443f6bd34] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:00:40] ERROR    [agent_fsm:1102] [5665feb7-0d45-456f-83ff-c13443f6bd34] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:40] WARNING  [agent_fsm:1224] [5665feb7-0d45-456f-83ff-c13443f6bd34] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:40] ERROR    [agent_fsm:1078] [5665feb7-0d45-456f-83ff-c13443f6bd34] --- FSM STATE: ERROR ---
[2025-06-18 13:00:40] ERROR    [agent_fsm:1101] [5665feb7-0d45-456f-83ff-c13443f6bd34] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:00:40] ERROR    [agent_fsm:1102] [5665feb7-0d45-456f-83ff-c13443f6bd34] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:40] WARNING  [agent_fsm:1224] [5665feb7-0d45-456f-83ff-c13443f6bd34] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:40] ERROR    [agent_fsm:1078] [5665feb7-0d45-456f-83ff-c13443f6bd34] --- FSM STATE: ERROR ---
[2025-06-18 13:00:40] ERROR    [agent_fsm:1101] [5665feb7-0d45-456f-83ff-c13443f6bd34] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:00:40] ERROR    [agent_fsm:1102] [5665feb7-0d45-456f-83ff-c13443f6bd34] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:40] WARNING  [agent_fsm:1224] [5665feb7-0d45-456f-83ff-c13443f6bd34] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:40] ERROR    [agent_fsm:1078] [5665feb7-0d45-456f-83ff-c13443f6bd34] --- FSM STATE: ERROR ---
[2025-06-18 13:00:40] ERROR    [agent_fsm:1101] [5665feb7-0d45-456f-83ff-c13443f6bd34] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:00:40] ERROR    [agent_fsm:1102] [5665feb7-0d45-456f-83ff-c13443f6bd34] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:40] WARNING  [agent_fsm:1224] [5665feb7-0d45-456f-83ff-c13443f6bd34] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:40] ERROR    [agent_fsm:1837] [5665feb7-0d45-456f-83ff-c13443f6bd34] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:00:40] INFO     [agent_fsm:1752] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Starting resilient FSM execution
[2025-06-18 13:00:40] INFO     [agent_fsm:1807] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] FSM STATE: INITIAL
[2025-06-18 13:00:40] INFO     [agent_fsm:665] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:00:40] DEBUG    [agent_fsm:680] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Turn count: 1, Action history length: 1
[2025-06-18 13:00:41] WARNING  [agent_fsm:1521] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:00:41] INFO     [agent_fsm:773] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:00:41] INFO     [agent_fsm:820] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 13:00:41] INFO     [agent_fsm:922] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Tool execution completed
[2025-06-18 13:00:41] INFO     [agent_fsm:773] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:00:41] WARNING  [agent_fsm:803] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:00:41] INFO     [agent_fsm:665] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:00:41] DEBUG    [agent_fsm:680] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Turn count: 2, Action history length: 2
[2025-06-18 13:00:42] WARNING  [agent_fsm:1521] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:00:42] WARNING  [agent_fsm:1521] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:00:42] WARNING  [agent_fsm:1521] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:00:42] WARNING  [agent_fsm:1521] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:00:42] INFO     [agent_fsm:773] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:00:42] INFO     [agent_fsm:820] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Executing tool: python_interpreter with input: {'code': 'import sys; print(sys.stdin.read())'}
[2025-06-18 13:00:42] INFO     [agent_fsm:922] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Tool execution completed
[2025-06-18 13:00:42] INFO     [agent_fsm:773] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:00:42] WARNING  [agent_fsm:803] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:00:42] INFO     [agent_fsm:665] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:00:42] DEBUG    [agent_fsm:680] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Turn count: 3, Action history length: 3
[2025-06-18 13:00:43] WARNING  [agent_fsm:1521] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:00:43] WARNING  [agent_fsm:1521] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:00:43] WARNING  [agent_fsm:1224] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:43] ERROR    [agent_fsm:1078] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] --- FSM STATE: ERROR ---
[2025-06-18 13:00:43] ERROR    [agent_fsm:1101] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:00:43] ERROR    [agent_fsm:1102] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:43] WARNING  [agent_fsm:1224] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:43] ERROR    [agent_fsm:1078] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] --- FSM STATE: ERROR ---
[2025-06-18 13:00:43] ERROR    [agent_fsm:1101] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:00:43] ERROR    [agent_fsm:1102] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:43] WARNING  [agent_fsm:1224] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:43] ERROR    [agent_fsm:1078] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] --- FSM STATE: ERROR ---
[2025-06-18 13:00:43] ERROR    [agent_fsm:1101] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:00:43] ERROR    [agent_fsm:1102] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:43] WARNING  [agent_fsm:1224] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:43] ERROR    [agent_fsm:1078] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] --- FSM STATE: ERROR ---
[2025-06-18 13:00:43] ERROR    [agent_fsm:1101] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:00:43] ERROR    [agent_fsm:1102] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:43] WARNING  [agent_fsm:1224] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:43] ERROR    [agent_fsm:1078] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] --- FSM STATE: ERROR ---
[2025-06-18 13:00:43] ERROR    [agent_fsm:1101] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:00:43] ERROR    [agent_fsm:1102] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:43] WARNING  [agent_fsm:1224] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:43] ERROR    [agent_fsm:1078] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] --- FSM STATE: ERROR ---
[2025-06-18 13:00:43] ERROR    [agent_fsm:1101] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:00:43] ERROR    [agent_fsm:1102] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:43] WARNING  [agent_fsm:1224] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:43] ERROR    [agent_fsm:1078] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] --- FSM STATE: ERROR ---
[2025-06-18 13:00:43] ERROR    [agent_fsm:1101] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:00:43] ERROR    [agent_fsm:1102] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:43] WARNING  [agent_fsm:1224] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:43] ERROR    [agent_fsm:1078] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] --- FSM STATE: ERROR ---
[2025-06-18 13:00:43] ERROR    [agent_fsm:1101] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:00:43] ERROR    [agent_fsm:1102] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:43] WARNING  [agent_fsm:1224] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:43] ERROR    [agent_fsm:1078] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] --- FSM STATE: ERROR ---
[2025-06-18 13:00:43] ERROR    [agent_fsm:1101] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:00:43] ERROR    [agent_fsm:1102] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:43] WARNING  [agent_fsm:1224] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:43] ERROR    [agent_fsm:1078] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] --- FSM STATE: ERROR ---
[2025-06-18 13:00:43] ERROR    [agent_fsm:1101] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:00:43] ERROR    [agent_fsm:1102] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:43] WARNING  [agent_fsm:1224] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:43] ERROR    [agent_fsm:1078] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] --- FSM STATE: ERROR ---
[2025-06-18 13:00:43] ERROR    [agent_fsm:1101] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:00:43] ERROR    [agent_fsm:1102] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:43] WARNING  [agent_fsm:1224] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:43] ERROR    [agent_fsm:1078] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] --- FSM STATE: ERROR ---
[2025-06-18 13:00:43] ERROR    [agent_fsm:1101] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:00:43] ERROR    [agent_fsm:1102] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:43] WARNING  [agent_fsm:1224] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:43] ERROR    [agent_fsm:1078] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] --- FSM STATE: ERROR ---
[2025-06-18 13:00:43] ERROR    [agent_fsm:1101] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:00:43] ERROR    [agent_fsm:1102] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:43] WARNING  [agent_fsm:1224] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:43] ERROR    [agent_fsm:1078] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] --- FSM STATE: ERROR ---
[2025-06-18 13:00:43] ERROR    [agent_fsm:1101] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:00:43] ERROR    [agent_fsm:1102] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:43] WARNING  [agent_fsm:1224] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:43] ERROR    [agent_fsm:1078] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] --- FSM STATE: ERROR ---
[2025-06-18 13:00:43] ERROR    [agent_fsm:1101] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:00:43] ERROR    [agent_fsm:1102] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:43] WARNING  [agent_fsm:1224] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:43] ERROR    [agent_fsm:1078] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] --- FSM STATE: ERROR ---
[2025-06-18 13:00:43] ERROR    [agent_fsm:1101] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:00:43] ERROR    [agent_fsm:1102] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:43] WARNING  [agent_fsm:1224] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:43] ERROR    [agent_fsm:1078] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] --- FSM STATE: ERROR ---
[2025-06-18 13:00:43] ERROR    [agent_fsm:1101] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:00:43] ERROR    [agent_fsm:1102] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:43] WARNING  [agent_fsm:1224] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:43] ERROR    [agent_fsm:1078] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] --- FSM STATE: ERROR ---
[2025-06-18 13:00:43] ERROR    [agent_fsm:1101] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:00:43] ERROR    [agent_fsm:1102] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:43] WARNING  [agent_fsm:1224] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:43] ERROR    [agent_fsm:1837] [ab7c7542-ecb5-4213-b15b-c3f31e936a2a] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:00:43] INFO     [agent_fsm:1752] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Starting resilient FSM execution
[2025-06-18 13:00:43] INFO     [agent_fsm:1807] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] FSM STATE: INITIAL
[2025-06-18 13:00:43] INFO     [agent_fsm:665] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:00:43] DEBUG    [agent_fsm:680] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Turn count: 1, Action history length: 1
[2025-06-18 13:00:43] WARNING  [agent_fsm:1521] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:00:43] WARNING  [agent_fsm:1521] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:00:43] WARNING  [agent_fsm:1521] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:00:43] INFO     [agent_fsm:773] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:00:43] INFO     [agent_fsm:820] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Executing tool: web_researcher with input: {'query': 'largest planet in our solar system', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 13:00:43] INFO     [agent_fsm:922] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Tool execution completed
[2025-06-18 13:00:43] INFO     [agent_fsm:773] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:00:43] WARNING  [agent_fsm:803] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:00:43] INFO     [agent_fsm:665] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:00:43] DEBUG    [agent_fsm:680] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Turn count: 2, Action history length: 2
[2025-06-18 13:00:44] WARNING  [agent_fsm:1521] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:00:44] WARNING  [agent_fsm:1521] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:00:44] WARNING  [agent_fsm:1521] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:00:44] INFO     [agent_fsm:773] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:00:44] INFO     [agent_fsm:820] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 13:00:44] INFO     [agent_fsm:922] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Tool execution completed
[2025-06-18 13:00:44] INFO     [agent_fsm:773] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:00:44] WARNING  [agent_fsm:803] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:00:44] INFO     [agent_fsm:665] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:00:44] DEBUG    [agent_fsm:680] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Turn count: 3, Action history length: 3
[2025-06-18 13:00:45] WARNING  [agent_fsm:1521] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:00:45] WARNING  [agent_fsm:1521] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:00:45] WARNING  [agent_fsm:1521] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:00:45] WARNING  [agent_fsm:1224] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:45] ERROR    [agent_fsm:1078] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] --- FSM STATE: ERROR ---
[2025-06-18 13:00:45] ERROR    [agent_fsm:1101] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:00:45] ERROR    [agent_fsm:1102] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:45] WARNING  [agent_fsm:1224] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:45] ERROR    [agent_fsm:1078] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] --- FSM STATE: ERROR ---
[2025-06-18 13:00:45] ERROR    [agent_fsm:1101] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:00:45] ERROR    [agent_fsm:1102] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:45] WARNING  [agent_fsm:1224] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:45] ERROR    [agent_fsm:1078] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] --- FSM STATE: ERROR ---
[2025-06-18 13:00:45] ERROR    [agent_fsm:1101] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:00:45] ERROR    [agent_fsm:1102] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:45] WARNING  [agent_fsm:1224] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:45] ERROR    [agent_fsm:1078] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] --- FSM STATE: ERROR ---
[2025-06-18 13:00:45] ERROR    [agent_fsm:1101] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:00:45] ERROR    [agent_fsm:1102] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:45] WARNING  [agent_fsm:1224] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:45] ERROR    [agent_fsm:1078] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] --- FSM STATE: ERROR ---
[2025-06-18 13:00:45] ERROR    [agent_fsm:1101] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:00:45] ERROR    [agent_fsm:1102] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:45] WARNING  [agent_fsm:1224] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:45] ERROR    [agent_fsm:1078] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] --- FSM STATE: ERROR ---
[2025-06-18 13:00:45] ERROR    [agent_fsm:1101] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:00:45] ERROR    [agent_fsm:1102] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:45] WARNING  [agent_fsm:1224] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:45] ERROR    [agent_fsm:1078] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] --- FSM STATE: ERROR ---
[2025-06-18 13:00:45] ERROR    [agent_fsm:1101] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:00:45] ERROR    [agent_fsm:1102] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:45] WARNING  [agent_fsm:1224] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:45] ERROR    [agent_fsm:1078] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] --- FSM STATE: ERROR ---
[2025-06-18 13:00:45] ERROR    [agent_fsm:1101] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:00:45] ERROR    [agent_fsm:1102] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:45] WARNING  [agent_fsm:1224] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:45] ERROR    [agent_fsm:1078] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] --- FSM STATE: ERROR ---
[2025-06-18 13:00:45] ERROR    [agent_fsm:1101] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:00:45] ERROR    [agent_fsm:1102] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:45] WARNING  [agent_fsm:1224] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:45] ERROR    [agent_fsm:1078] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] --- FSM STATE: ERROR ---
[2025-06-18 13:00:45] ERROR    [agent_fsm:1101] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:00:45] ERROR    [agent_fsm:1102] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:45] WARNING  [agent_fsm:1224] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:45] ERROR    [agent_fsm:1078] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] --- FSM STATE: ERROR ---
[2025-06-18 13:00:45] ERROR    [agent_fsm:1101] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:00:45] ERROR    [agent_fsm:1102] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:45] WARNING  [agent_fsm:1224] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:45] ERROR    [agent_fsm:1078] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] --- FSM STATE: ERROR ---
[2025-06-18 13:00:45] ERROR    [agent_fsm:1101] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:00:45] ERROR    [agent_fsm:1102] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:45] WARNING  [agent_fsm:1224] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:45] ERROR    [agent_fsm:1078] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] --- FSM STATE: ERROR ---
[2025-06-18 13:00:45] ERROR    [agent_fsm:1101] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:00:45] ERROR    [agent_fsm:1102] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:45] WARNING  [agent_fsm:1224] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:45] ERROR    [agent_fsm:1078] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] --- FSM STATE: ERROR ---
[2025-06-18 13:00:45] ERROR    [agent_fsm:1101] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:00:45] ERROR    [agent_fsm:1102] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:45] WARNING  [agent_fsm:1224] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:45] ERROR    [agent_fsm:1078] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] --- FSM STATE: ERROR ---
[2025-06-18 13:00:45] ERROR    [agent_fsm:1101] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:00:45] ERROR    [agent_fsm:1102] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:45] WARNING  [agent_fsm:1224] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:45] ERROR    [agent_fsm:1078] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] --- FSM STATE: ERROR ---
[2025-06-18 13:00:45] ERROR    [agent_fsm:1101] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:00:45] ERROR    [agent_fsm:1102] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:45] WARNING  [agent_fsm:1224] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:45] ERROR    [agent_fsm:1078] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] --- FSM STATE: ERROR ---
[2025-06-18 13:00:45] ERROR    [agent_fsm:1101] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:00:45] ERROR    [agent_fsm:1102] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:45] WARNING  [agent_fsm:1224] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:45] ERROR    [agent_fsm:1078] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] --- FSM STATE: ERROR ---
[2025-06-18 13:00:45] ERROR    [agent_fsm:1101] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:00:45] ERROR    [agent_fsm:1102] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:45] WARNING  [agent_fsm:1224] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:45] ERROR    [agent_fsm:1837] [adb8ccaa-c590-4028-acfb-3cf8bca1a557] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:00:45] INFO     [agent_fsm:1752] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Starting resilient FSM execution
[2025-06-18 13:00:45] INFO     [agent_fsm:1807] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] FSM STATE: INITIAL
[2025-06-18 13:00:45] INFO     [agent_fsm:665] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:00:45] DEBUG    [agent_fsm:680] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Turn count: 1, Action history length: 1
[2025-06-18 13:00:46] WARNING  [agent_fsm:1521] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:00:46] INFO     [agent_fsm:773] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:00:46] INFO     [agent_fsm:820] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Executing tool: web_researcher with input: {'query': 'extract video URL from googleusercontent.com/costa-rica/birds', 'date_range': None, 'search_type': 'general', 'source': 'search'}
[2025-06-18 13:00:46] INFO     [agent_fsm:922] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Tool execution completed
[2025-06-18 13:00:46] INFO     [agent_fsm:773] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:00:46] WARNING  [agent_fsm:803] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:00:46] INFO     [agent_fsm:665] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:00:46] DEBUG    [agent_fsm:680] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Turn count: 2, Action history length: 2
[2025-06-18 13:00:47] WARNING  [agent_fsm:1521] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:00:47] WARNING  [agent_fsm:1521] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:00:47] INFO     [agent_fsm:773] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:00:47] INFO     [agent_fsm:820] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 13:00:47] INFO     [agent_fsm:922] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Tool execution completed
[2025-06-18 13:00:47] INFO     [agent_fsm:773] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:00:47] WARNING  [agent_fsm:803] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:00:47] INFO     [agent_fsm:665] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:00:47] DEBUG    [agent_fsm:680] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Turn count: 3, Action history length: 3
[2025-06-18 13:00:48] WARNING  [agent_fsm:1521] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:00:48] WARNING  [agent_fsm:1224] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:48] ERROR    [agent_fsm:1078] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] --- FSM STATE: ERROR ---
[2025-06-18 13:00:48] ERROR    [agent_fsm:1101] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:00:48] ERROR    [agent_fsm:1102] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:48] WARNING  [agent_fsm:1224] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:48] ERROR    [agent_fsm:1078] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] --- FSM STATE: ERROR ---
[2025-06-18 13:00:48] ERROR    [agent_fsm:1101] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:00:48] ERROR    [agent_fsm:1102] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:48] WARNING  [agent_fsm:1224] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:48] ERROR    [agent_fsm:1078] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] --- FSM STATE: ERROR ---
[2025-06-18 13:00:48] ERROR    [agent_fsm:1101] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:00:48] ERROR    [agent_fsm:1102] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:48] WARNING  [agent_fsm:1224] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:48] ERROR    [agent_fsm:1078] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] --- FSM STATE: ERROR ---
[2025-06-18 13:00:48] ERROR    [agent_fsm:1101] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:00:48] ERROR    [agent_fsm:1102] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:48] WARNING  [agent_fsm:1224] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:48] ERROR    [agent_fsm:1078] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] --- FSM STATE: ERROR ---
[2025-06-18 13:00:48] ERROR    [agent_fsm:1101] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:00:48] ERROR    [agent_fsm:1102] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:48] WARNING  [agent_fsm:1224] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:48] ERROR    [agent_fsm:1078] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] --- FSM STATE: ERROR ---
[2025-06-18 13:00:48] ERROR    [agent_fsm:1101] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:00:48] ERROR    [agent_fsm:1102] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:48] WARNING  [agent_fsm:1224] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:48] ERROR    [agent_fsm:1078] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] --- FSM STATE: ERROR ---
[2025-06-18 13:00:48] ERROR    [agent_fsm:1101] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:00:48] ERROR    [agent_fsm:1102] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:48] WARNING  [agent_fsm:1224] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:48] ERROR    [agent_fsm:1078] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] --- FSM STATE: ERROR ---
[2025-06-18 13:00:48] ERROR    [agent_fsm:1101] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:00:48] ERROR    [agent_fsm:1102] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:48] WARNING  [agent_fsm:1224] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:48] ERROR    [agent_fsm:1078] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] --- FSM STATE: ERROR ---
[2025-06-18 13:00:48] ERROR    [agent_fsm:1101] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:00:48] ERROR    [agent_fsm:1102] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:48] WARNING  [agent_fsm:1224] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:48] ERROR    [agent_fsm:1078] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] --- FSM STATE: ERROR ---
[2025-06-18 13:00:48] ERROR    [agent_fsm:1101] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:00:48] ERROR    [agent_fsm:1102] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:48] WARNING  [agent_fsm:1224] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:48] ERROR    [agent_fsm:1078] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] --- FSM STATE: ERROR ---
[2025-06-18 13:00:48] ERROR    [agent_fsm:1101] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:00:48] ERROR    [agent_fsm:1102] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:48] WARNING  [agent_fsm:1224] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:48] ERROR    [agent_fsm:1078] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] --- FSM STATE: ERROR ---
[2025-06-18 13:00:48] ERROR    [agent_fsm:1101] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:00:48] ERROR    [agent_fsm:1102] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:48] WARNING  [agent_fsm:1224] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:48] ERROR    [agent_fsm:1078] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] --- FSM STATE: ERROR ---
[2025-06-18 13:00:48] ERROR    [agent_fsm:1101] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:00:48] ERROR    [agent_fsm:1102] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:48] WARNING  [agent_fsm:1224] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:48] ERROR    [agent_fsm:1078] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] --- FSM STATE: ERROR ---
[2025-06-18 13:00:48] ERROR    [agent_fsm:1101] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:00:48] ERROR    [agent_fsm:1102] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:48] WARNING  [agent_fsm:1224] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:48] ERROR    [agent_fsm:1078] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] --- FSM STATE: ERROR ---
[2025-06-18 13:00:48] ERROR    [agent_fsm:1101] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:00:48] ERROR    [agent_fsm:1102] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:48] WARNING  [agent_fsm:1224] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:48] ERROR    [agent_fsm:1078] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] --- FSM STATE: ERROR ---
[2025-06-18 13:00:48] ERROR    [agent_fsm:1101] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:00:48] ERROR    [agent_fsm:1102] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:48] WARNING  [agent_fsm:1224] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:48] ERROR    [agent_fsm:1078] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] --- FSM STATE: ERROR ---
[2025-06-18 13:00:48] ERROR    [agent_fsm:1101] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:00:48] ERROR    [agent_fsm:1102] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:48] WARNING  [agent_fsm:1224] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:48] ERROR    [agent_fsm:1078] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] --- FSM STATE: ERROR ---
[2025-06-18 13:00:48] ERROR    [agent_fsm:1101] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:00:48] ERROR    [agent_fsm:1102] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:48] WARNING  [agent_fsm:1224] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:48] ERROR    [agent_fsm:1837] [e1b127a6-a31f-45a1-874d-b76fcc5a24d3] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:00:48] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 13:00:48] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 13:00:48] INFO     [agent_fsm:570] [b288a165-20e0-48a5-b0f6-593ffe888574] Building resilient FSM graph
[2025-06-18 13:00:48] INFO     [agent_fsm:572] [b288a165-20e0-48a5-b0f6-593ffe888574] FSMReActAgent graph built successfully
[2025-06-18 13:00:48] INFO     [agent_fsm:1752] [8273fcfb-f446-4261-88b7-771f5eb3d326] Starting resilient FSM execution
[2025-06-18 13:00:48] INFO     [agent_fsm:1807] [8273fcfb-f446-4261-88b7-771f5eb3d326] FSM STATE: INITIAL
[2025-06-18 13:00:48] INFO     [agent_fsm:665] [8273fcfb-f446-4261-88b7-771f5eb3d326] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:00:48] DEBUG    [agent_fsm:680] [8273fcfb-f446-4261-88b7-771f5eb3d326] Turn count: 1, Action history length: 1
[2025-06-18 13:00:49] WARNING  [agent_fsm:1521] [8273fcfb-f446-4261-88b7-771f5eb3d326] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:00:49] WARNING  [agent_fsm:1521] [8273fcfb-f446-4261-88b7-771f5eb3d326] Failed to parse JSON parameters for step 8, using fallback parser
[2025-06-18 13:00:49] WARNING  [agent_fsm:1521] [8273fcfb-f446-4261-88b7-771f5eb3d326] Failed to parse JSON parameters for step 13, using fallback parser
[2025-06-18 13:00:49] INFO     [agent_fsm:773] [8273fcfb-f446-4261-88b7-771f5eb3d326] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:00:49] INFO     [agent_fsm:820] [8273fcfb-f446-4261-88b7-771f5eb3d326] Executing tool: advanced_file_reader with input: {'filename': 'path/to/attached_excel_file.xlsx'}
[2025-06-18 13:00:49] INFO     [agent_fsm:922] [8273fcfb-f446-4261-88b7-771f5eb3d326] Tool execution completed
[2025-06-18 13:00:49] INFO     [agent_fsm:773] [8273fcfb-f446-4261-88b7-771f5eb3d326] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:00:49] WARNING  [agent_fsm:803] [8273fcfb-f446-4261-88b7-771f5eb3d326] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:00:49] INFO     [agent_fsm:665] [8273fcfb-f446-4261-88b7-771f5eb3d326] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:00:49] DEBUG    [agent_fsm:680] [8273fcfb-f446-4261-88b7-771f5eb3d326] Turn count: 2, Action history length: 2
[2025-06-18 13:00:51] INFO     [agent_fsm:955] [8273fcfb-f446-4261-88b7-771f5eb3d326] --- FSM STATE: SYNTHESIZING ---
[2025-06-18 13:00:51] INFO     [agent_fsm:1018] [8273fcfb-f446-4261-88b7-771f5eb3d326] --- FSM STATE: VERIFYING ---
[2025-06-18 13:00:52] INFO     [agent_fsm:1819] [8273fcfb-f446-4261-88b7-771f5eb3d326] FSM execution completed successfully
[2025-06-18 13:00:52] INFO     [agent_fsm:1752] [c9bbf880-8422-4a73-85a6-930d090019f0] Starting resilient FSM execution
[2025-06-18 13:00:52] INFO     [agent_fsm:1807] [c9bbf880-8422-4a73-85a6-930d090019f0] FSM STATE: INITIAL
[2025-06-18 13:00:52] INFO     [agent_fsm:665] [c9bbf880-8422-4a73-85a6-930d090019f0] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:00:52] DEBUG    [agent_fsm:680] [c9bbf880-8422-4a73-85a6-930d090019f0] Turn count: 1, Action history length: 1
[2025-06-18 13:00:53] WARNING  [agent_fsm:1521] [c9bbf880-8422-4a73-85a6-930d090019f0] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:00:53] WARNING  [agent_fsm:1333] [c9bbf880-8422-4a73-85a6-930d090019f0] Tool image_analyzer not found in registry, will use stub
[2025-06-18 13:00:53] INFO     [agent_fsm:773] [c9bbf880-8422-4a73-85a6-930d090019f0] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:00:53] INFO     [agent_fsm:820] [c9bbf880-8422-4a73-85a6-930d090019f0] Executing tool: video_analyzer with input: {'url': 'https://example.com/video.mp4', 'action': 'download_info'}
[2025-06-18 13:00:53] INFO     [agent_fsm:922] [c9bbf880-8422-4a73-85a6-930d090019f0] Tool execution completed
[2025-06-18 13:00:53] INFO     [agent_fsm:773] [c9bbf880-8422-4a73-85a6-930d090019f0] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:00:53] WARNING  [agent_fsm:803] [c9bbf880-8422-4a73-85a6-930d090019f0] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:00:53] INFO     [agent_fsm:665] [c9bbf880-8422-4a73-85a6-930d090019f0] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:00:53] DEBUG    [agent_fsm:680] [c9bbf880-8422-4a73-85a6-930d090019f0] Turn count: 2, Action history length: 2
[2025-06-18 13:00:54] WARNING  [agent_fsm:1521] [c9bbf880-8422-4a73-85a6-930d090019f0] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:00:54] WARNING  [agent_fsm:1521] [c9bbf880-8422-4a73-85a6-930d090019f0] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 13:00:54] INFO     [agent_fsm:773] [c9bbf880-8422-4a73-85a6-930d090019f0] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:00:54] INFO     [agent_fsm:820] [c9bbf880-8422-4a73-85a6-930d090019f0] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 13:00:54] INFO     [agent_fsm:922] [c9bbf880-8422-4a73-85a6-930d090019f0] Tool execution completed
[2025-06-18 13:00:54] INFO     [agent_fsm:773] [c9bbf880-8422-4a73-85a6-930d090019f0] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:00:54] WARNING  [agent_fsm:803] [c9bbf880-8422-4a73-85a6-930d090019f0] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:00:54] INFO     [agent_fsm:665] [c9bbf880-8422-4a73-85a6-930d090019f0] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:00:54] DEBUG    [agent_fsm:680] [c9bbf880-8422-4a73-85a6-930d090019f0] Turn count: 3, Action history length: 3
[2025-06-18 13:00:55] WARNING  [agent_fsm:1521] [c9bbf880-8422-4a73-85a6-930d090019f0] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:00:55] WARNING  [agent_fsm:1521] [c9bbf880-8422-4a73-85a6-930d090019f0] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:00:55] WARNING  [agent_fsm:1521] [c9bbf880-8422-4a73-85a6-930d090019f0] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:00:55] WARNING  [agent_fsm:1521] [c9bbf880-8422-4a73-85a6-930d090019f0] Failed to parse JSON parameters for step 8, using fallback parser
[2025-06-18 13:00:55] WARNING  [agent_fsm:1224] [c9bbf880-8422-4a73-85a6-930d090019f0] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:55] ERROR    [agent_fsm:1078] [c9bbf880-8422-4a73-85a6-930d090019f0] --- FSM STATE: ERROR ---
[2025-06-18 13:00:55] ERROR    [agent_fsm:1101] [c9bbf880-8422-4a73-85a6-930d090019f0] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:00:55] ERROR    [agent_fsm:1102] [c9bbf880-8422-4a73-85a6-930d090019f0] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:55] WARNING  [agent_fsm:1224] [c9bbf880-8422-4a73-85a6-930d090019f0] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:55] ERROR    [agent_fsm:1078] [c9bbf880-8422-4a73-85a6-930d090019f0] --- FSM STATE: ERROR ---
[2025-06-18 13:00:55] ERROR    [agent_fsm:1101] [c9bbf880-8422-4a73-85a6-930d090019f0] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:00:55] ERROR    [agent_fsm:1102] [c9bbf880-8422-4a73-85a6-930d090019f0] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:55] WARNING  [agent_fsm:1224] [c9bbf880-8422-4a73-85a6-930d090019f0] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:55] ERROR    [agent_fsm:1078] [c9bbf880-8422-4a73-85a6-930d090019f0] --- FSM STATE: ERROR ---
[2025-06-18 13:00:55] ERROR    [agent_fsm:1101] [c9bbf880-8422-4a73-85a6-930d090019f0] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:00:55] ERROR    [agent_fsm:1102] [c9bbf880-8422-4a73-85a6-930d090019f0] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:55] WARNING  [agent_fsm:1224] [c9bbf880-8422-4a73-85a6-930d090019f0] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:55] ERROR    [agent_fsm:1078] [c9bbf880-8422-4a73-85a6-930d090019f0] --- FSM STATE: ERROR ---
[2025-06-18 13:00:55] ERROR    [agent_fsm:1101] [c9bbf880-8422-4a73-85a6-930d090019f0] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:00:55] ERROR    [agent_fsm:1102] [c9bbf880-8422-4a73-85a6-930d090019f0] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:55] WARNING  [agent_fsm:1224] [c9bbf880-8422-4a73-85a6-930d090019f0] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:55] ERROR    [agent_fsm:1078] [c9bbf880-8422-4a73-85a6-930d090019f0] --- FSM STATE: ERROR ---
[2025-06-18 13:00:55] ERROR    [agent_fsm:1101] [c9bbf880-8422-4a73-85a6-930d090019f0] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:00:55] ERROR    [agent_fsm:1102] [c9bbf880-8422-4a73-85a6-930d090019f0] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:55] WARNING  [agent_fsm:1224] [c9bbf880-8422-4a73-85a6-930d090019f0] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:55] ERROR    [agent_fsm:1078] [c9bbf880-8422-4a73-85a6-930d090019f0] --- FSM STATE: ERROR ---
[2025-06-18 13:00:55] ERROR    [agent_fsm:1101] [c9bbf880-8422-4a73-85a6-930d090019f0] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:00:55] ERROR    [agent_fsm:1102] [c9bbf880-8422-4a73-85a6-930d090019f0] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:55] WARNING  [agent_fsm:1224] [c9bbf880-8422-4a73-85a6-930d090019f0] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:55] ERROR    [agent_fsm:1078] [c9bbf880-8422-4a73-85a6-930d090019f0] --- FSM STATE: ERROR ---
[2025-06-18 13:00:55] ERROR    [agent_fsm:1101] [c9bbf880-8422-4a73-85a6-930d090019f0] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:00:55] ERROR    [agent_fsm:1102] [c9bbf880-8422-4a73-85a6-930d090019f0] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:55] WARNING  [agent_fsm:1224] [c9bbf880-8422-4a73-85a6-930d090019f0] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:55] ERROR    [agent_fsm:1078] [c9bbf880-8422-4a73-85a6-930d090019f0] --- FSM STATE: ERROR ---
[2025-06-18 13:00:55] ERROR    [agent_fsm:1101] [c9bbf880-8422-4a73-85a6-930d090019f0] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:00:55] ERROR    [agent_fsm:1102] [c9bbf880-8422-4a73-85a6-930d090019f0] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:55] WARNING  [agent_fsm:1224] [c9bbf880-8422-4a73-85a6-930d090019f0] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:55] ERROR    [agent_fsm:1078] [c9bbf880-8422-4a73-85a6-930d090019f0] --- FSM STATE: ERROR ---
[2025-06-18 13:00:55] ERROR    [agent_fsm:1101] [c9bbf880-8422-4a73-85a6-930d090019f0] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:00:55] ERROR    [agent_fsm:1102] [c9bbf880-8422-4a73-85a6-930d090019f0] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:55] WARNING  [agent_fsm:1224] [c9bbf880-8422-4a73-85a6-930d090019f0] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:55] ERROR    [agent_fsm:1078] [c9bbf880-8422-4a73-85a6-930d090019f0] --- FSM STATE: ERROR ---
[2025-06-18 13:00:55] ERROR    [agent_fsm:1101] [c9bbf880-8422-4a73-85a6-930d090019f0] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:00:55] ERROR    [agent_fsm:1102] [c9bbf880-8422-4a73-85a6-930d090019f0] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:55] WARNING  [agent_fsm:1224] [c9bbf880-8422-4a73-85a6-930d090019f0] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:55] ERROR    [agent_fsm:1078] [c9bbf880-8422-4a73-85a6-930d090019f0] --- FSM STATE: ERROR ---
[2025-06-18 13:00:55] ERROR    [agent_fsm:1101] [c9bbf880-8422-4a73-85a6-930d090019f0] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:00:55] ERROR    [agent_fsm:1102] [c9bbf880-8422-4a73-85a6-930d090019f0] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:55] WARNING  [agent_fsm:1224] [c9bbf880-8422-4a73-85a6-930d090019f0] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:55] ERROR    [agent_fsm:1078] [c9bbf880-8422-4a73-85a6-930d090019f0] --- FSM STATE: ERROR ---
[2025-06-18 13:00:55] ERROR    [agent_fsm:1101] [c9bbf880-8422-4a73-85a6-930d090019f0] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:00:55] ERROR    [agent_fsm:1102] [c9bbf880-8422-4a73-85a6-930d090019f0] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:55] WARNING  [agent_fsm:1224] [c9bbf880-8422-4a73-85a6-930d090019f0] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:55] ERROR    [agent_fsm:1078] [c9bbf880-8422-4a73-85a6-930d090019f0] --- FSM STATE: ERROR ---
[2025-06-18 13:00:55] ERROR    [agent_fsm:1101] [c9bbf880-8422-4a73-85a6-930d090019f0] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:00:55] ERROR    [agent_fsm:1102] [c9bbf880-8422-4a73-85a6-930d090019f0] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:55] WARNING  [agent_fsm:1224] [c9bbf880-8422-4a73-85a6-930d090019f0] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:55] ERROR    [agent_fsm:1078] [c9bbf880-8422-4a73-85a6-930d090019f0] --- FSM STATE: ERROR ---
[2025-06-18 13:00:55] ERROR    [agent_fsm:1101] [c9bbf880-8422-4a73-85a6-930d090019f0] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:00:55] ERROR    [agent_fsm:1102] [c9bbf880-8422-4a73-85a6-930d090019f0] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:55] WARNING  [agent_fsm:1224] [c9bbf880-8422-4a73-85a6-930d090019f0] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:55] ERROR    [agent_fsm:1078] [c9bbf880-8422-4a73-85a6-930d090019f0] --- FSM STATE: ERROR ---
[2025-06-18 13:00:55] ERROR    [agent_fsm:1101] [c9bbf880-8422-4a73-85a6-930d090019f0] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:00:55] ERROR    [agent_fsm:1102] [c9bbf880-8422-4a73-85a6-930d090019f0] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:55] WARNING  [agent_fsm:1224] [c9bbf880-8422-4a73-85a6-930d090019f0] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:55] ERROR    [agent_fsm:1078] [c9bbf880-8422-4a73-85a6-930d090019f0] --- FSM STATE: ERROR ---
[2025-06-18 13:00:55] ERROR    [agent_fsm:1101] [c9bbf880-8422-4a73-85a6-930d090019f0] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:00:55] ERROR    [agent_fsm:1102] [c9bbf880-8422-4a73-85a6-930d090019f0] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:55] WARNING  [agent_fsm:1224] [c9bbf880-8422-4a73-85a6-930d090019f0] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:55] ERROR    [agent_fsm:1078] [c9bbf880-8422-4a73-85a6-930d090019f0] --- FSM STATE: ERROR ---
[2025-06-18 13:00:55] ERROR    [agent_fsm:1101] [c9bbf880-8422-4a73-85a6-930d090019f0] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:00:55] ERROR    [agent_fsm:1102] [c9bbf880-8422-4a73-85a6-930d090019f0] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:55] WARNING  [agent_fsm:1224] [c9bbf880-8422-4a73-85a6-930d090019f0] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:55] ERROR    [agent_fsm:1078] [c9bbf880-8422-4a73-85a6-930d090019f0] --- FSM STATE: ERROR ---
[2025-06-18 13:00:55] ERROR    [agent_fsm:1101] [c9bbf880-8422-4a73-85a6-930d090019f0] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:00:55] ERROR    [agent_fsm:1102] [c9bbf880-8422-4a73-85a6-930d090019f0] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:55] WARNING  [agent_fsm:1224] [c9bbf880-8422-4a73-85a6-930d090019f0] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:55] ERROR    [agent_fsm:1837] [c9bbf880-8422-4a73-85a6-930d090019f0] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:00:55] INFO     [agent_fsm:1752] [86e47dd6-2117-437e-848d-11ea5b976482] Starting resilient FSM execution
[2025-06-18 13:00:55] INFO     [agent_fsm:1807] [86e47dd6-2117-437e-848d-11ea5b976482] FSM STATE: INITIAL
[2025-06-18 13:00:55] INFO     [agent_fsm:665] [86e47dd6-2117-437e-848d-11ea5b976482] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:00:55] DEBUG    [agent_fsm:680] [86e47dd6-2117-437e-848d-11ea5b976482] Turn count: 1, Action history length: 1
[2025-06-18 13:00:56] WARNING  [agent_fsm:1521] [86e47dd6-2117-437e-848d-11ea5b976482] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:00:56] WARNING  [agent_fsm:1521] [86e47dd6-2117-437e-848d-11ea5b976482] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 13:00:56] INFO     [agent_fsm:773] [86e47dd6-2117-437e-848d-11ea5b976482] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:00:56] INFO     [agent_fsm:820] [86e47dd6-2117-437e-848d-11ea5b976482] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 13:00:56] INFO     [agent_fsm:922] [86e47dd6-2117-437e-848d-11ea5b976482] Tool execution completed
[2025-06-18 13:00:56] INFO     [agent_fsm:773] [86e47dd6-2117-437e-848d-11ea5b976482] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:00:56] WARNING  [agent_fsm:803] [86e47dd6-2117-437e-848d-11ea5b976482] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:00:56] INFO     [agent_fsm:665] [86e47dd6-2117-437e-848d-11ea5b976482] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:00:56] DEBUG    [agent_fsm:680] [86e47dd6-2117-437e-848d-11ea5b976482] Turn count: 2, Action history length: 2
[2025-06-18 13:00:57] WARNING  [agent_fsm:1521] [86e47dd6-2117-437e-848d-11ea5b976482] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:00:57] INFO     [agent_fsm:773] [86e47dd6-2117-437e-848d-11ea5b976482] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:00:57] INFO     [agent_fsm:820] [86e47dd6-2117-437e-848d-11ea5b976482] Executing tool: python_interpreter with input: {'code': 'result = 2 + 2; print(result)'}
[2025-06-18 13:00:57] INFO     [agent_fsm:922] [86e47dd6-2117-437e-848d-11ea5b976482] Tool execution completed
[2025-06-18 13:00:57] INFO     [agent_fsm:773] [86e47dd6-2117-437e-848d-11ea5b976482] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:00:57] WARNING  [agent_fsm:803] [86e47dd6-2117-437e-848d-11ea5b976482] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:00:57] INFO     [agent_fsm:665] [86e47dd6-2117-437e-848d-11ea5b976482] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:00:57] DEBUG    [agent_fsm:680] [86e47dd6-2117-437e-848d-11ea5b976482] Turn count: 3, Action history length: 3
[2025-06-18 13:00:57] WARNING  [agent_fsm:1521] [86e47dd6-2117-437e-848d-11ea5b976482] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:00:57] WARNING  [agent_fsm:1521] [86e47dd6-2117-437e-848d-11ea5b976482] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:00:57] WARNING  [agent_fsm:1224] [86e47dd6-2117-437e-848d-11ea5b976482] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:57] ERROR    [agent_fsm:1078] [86e47dd6-2117-437e-848d-11ea5b976482] --- FSM STATE: ERROR ---
[2025-06-18 13:00:57] ERROR    [agent_fsm:1101] [86e47dd6-2117-437e-848d-11ea5b976482] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:00:57] ERROR    [agent_fsm:1102] [86e47dd6-2117-437e-848d-11ea5b976482] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:57] WARNING  [agent_fsm:1224] [86e47dd6-2117-437e-848d-11ea5b976482] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:57] ERROR    [agent_fsm:1078] [86e47dd6-2117-437e-848d-11ea5b976482] --- FSM STATE: ERROR ---
[2025-06-18 13:00:57] ERROR    [agent_fsm:1101] [86e47dd6-2117-437e-848d-11ea5b976482] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:00:57] ERROR    [agent_fsm:1102] [86e47dd6-2117-437e-848d-11ea5b976482] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:57] WARNING  [agent_fsm:1224] [86e47dd6-2117-437e-848d-11ea5b976482] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:57] ERROR    [agent_fsm:1078] [86e47dd6-2117-437e-848d-11ea5b976482] --- FSM STATE: ERROR ---
[2025-06-18 13:00:57] ERROR    [agent_fsm:1101] [86e47dd6-2117-437e-848d-11ea5b976482] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:00:57] ERROR    [agent_fsm:1102] [86e47dd6-2117-437e-848d-11ea5b976482] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:57] WARNING  [agent_fsm:1224] [86e47dd6-2117-437e-848d-11ea5b976482] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:57] ERROR    [agent_fsm:1078] [86e47dd6-2117-437e-848d-11ea5b976482] --- FSM STATE: ERROR ---
[2025-06-18 13:00:57] ERROR    [agent_fsm:1101] [86e47dd6-2117-437e-848d-11ea5b976482] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:00:57] ERROR    [agent_fsm:1102] [86e47dd6-2117-437e-848d-11ea5b976482] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:57] WARNING  [agent_fsm:1224] [86e47dd6-2117-437e-848d-11ea5b976482] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:57] ERROR    [agent_fsm:1078] [86e47dd6-2117-437e-848d-11ea5b976482] --- FSM STATE: ERROR ---
[2025-06-18 13:00:57] ERROR    [agent_fsm:1101] [86e47dd6-2117-437e-848d-11ea5b976482] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:00:57] ERROR    [agent_fsm:1102] [86e47dd6-2117-437e-848d-11ea5b976482] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:57] WARNING  [agent_fsm:1224] [86e47dd6-2117-437e-848d-11ea5b976482] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:57] ERROR    [agent_fsm:1078] [86e47dd6-2117-437e-848d-11ea5b976482] --- FSM STATE: ERROR ---
[2025-06-18 13:00:57] ERROR    [agent_fsm:1101] [86e47dd6-2117-437e-848d-11ea5b976482] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:00:57] ERROR    [agent_fsm:1102] [86e47dd6-2117-437e-848d-11ea5b976482] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:57] WARNING  [agent_fsm:1224] [86e47dd6-2117-437e-848d-11ea5b976482] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:57] ERROR    [agent_fsm:1078] [86e47dd6-2117-437e-848d-11ea5b976482] --- FSM STATE: ERROR ---
[2025-06-18 13:00:57] ERROR    [agent_fsm:1101] [86e47dd6-2117-437e-848d-11ea5b976482] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:00:57] ERROR    [agent_fsm:1102] [86e47dd6-2117-437e-848d-11ea5b976482] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:57] WARNING  [agent_fsm:1224] [86e47dd6-2117-437e-848d-11ea5b976482] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:57] ERROR    [agent_fsm:1078] [86e47dd6-2117-437e-848d-11ea5b976482] --- FSM STATE: ERROR ---
[2025-06-18 13:00:57] ERROR    [agent_fsm:1101] [86e47dd6-2117-437e-848d-11ea5b976482] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:00:57] ERROR    [agent_fsm:1102] [86e47dd6-2117-437e-848d-11ea5b976482] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:57] WARNING  [agent_fsm:1224] [86e47dd6-2117-437e-848d-11ea5b976482] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:57] ERROR    [agent_fsm:1078] [86e47dd6-2117-437e-848d-11ea5b976482] --- FSM STATE: ERROR ---
[2025-06-18 13:00:57] ERROR    [agent_fsm:1101] [86e47dd6-2117-437e-848d-11ea5b976482] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:00:57] ERROR    [agent_fsm:1102] [86e47dd6-2117-437e-848d-11ea5b976482] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:57] WARNING  [agent_fsm:1224] [86e47dd6-2117-437e-848d-11ea5b976482] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:57] ERROR    [agent_fsm:1078] [86e47dd6-2117-437e-848d-11ea5b976482] --- FSM STATE: ERROR ---
[2025-06-18 13:00:57] ERROR    [agent_fsm:1101] [86e47dd6-2117-437e-848d-11ea5b976482] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:00:57] ERROR    [agent_fsm:1102] [86e47dd6-2117-437e-848d-11ea5b976482] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:57] WARNING  [agent_fsm:1224] [86e47dd6-2117-437e-848d-11ea5b976482] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:57] ERROR    [agent_fsm:1078] [86e47dd6-2117-437e-848d-11ea5b976482] --- FSM STATE: ERROR ---
[2025-06-18 13:00:57] ERROR    [agent_fsm:1101] [86e47dd6-2117-437e-848d-11ea5b976482] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:00:57] ERROR    [agent_fsm:1102] [86e47dd6-2117-437e-848d-11ea5b976482] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:57] WARNING  [agent_fsm:1224] [86e47dd6-2117-437e-848d-11ea5b976482] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:57] ERROR    [agent_fsm:1078] [86e47dd6-2117-437e-848d-11ea5b976482] --- FSM STATE: ERROR ---
[2025-06-18 13:00:57] ERROR    [agent_fsm:1101] [86e47dd6-2117-437e-848d-11ea5b976482] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:00:57] ERROR    [agent_fsm:1102] [86e47dd6-2117-437e-848d-11ea5b976482] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:57] WARNING  [agent_fsm:1224] [86e47dd6-2117-437e-848d-11ea5b976482] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:57] ERROR    [agent_fsm:1078] [86e47dd6-2117-437e-848d-11ea5b976482] --- FSM STATE: ERROR ---
[2025-06-18 13:00:57] ERROR    [agent_fsm:1101] [86e47dd6-2117-437e-848d-11ea5b976482] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:00:57] ERROR    [agent_fsm:1102] [86e47dd6-2117-437e-848d-11ea5b976482] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:57] WARNING  [agent_fsm:1224] [86e47dd6-2117-437e-848d-11ea5b976482] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:57] ERROR    [agent_fsm:1078] [86e47dd6-2117-437e-848d-11ea5b976482] --- FSM STATE: ERROR ---
[2025-06-18 13:00:57] ERROR    [agent_fsm:1101] [86e47dd6-2117-437e-848d-11ea5b976482] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:00:57] ERROR    [agent_fsm:1102] [86e47dd6-2117-437e-848d-11ea5b976482] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:57] WARNING  [agent_fsm:1224] [86e47dd6-2117-437e-848d-11ea5b976482] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:57] ERROR    [agent_fsm:1078] [86e47dd6-2117-437e-848d-11ea5b976482] --- FSM STATE: ERROR ---
[2025-06-18 13:00:57] ERROR    [agent_fsm:1101] [86e47dd6-2117-437e-848d-11ea5b976482] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:00:57] ERROR    [agent_fsm:1102] [86e47dd6-2117-437e-848d-11ea5b976482] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:57] WARNING  [agent_fsm:1224] [86e47dd6-2117-437e-848d-11ea5b976482] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:57] ERROR    [agent_fsm:1078] [86e47dd6-2117-437e-848d-11ea5b976482] --- FSM STATE: ERROR ---
[2025-06-18 13:00:57] ERROR    [agent_fsm:1101] [86e47dd6-2117-437e-848d-11ea5b976482] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:00:57] ERROR    [agent_fsm:1102] [86e47dd6-2117-437e-848d-11ea5b976482] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:57] WARNING  [agent_fsm:1224] [86e47dd6-2117-437e-848d-11ea5b976482] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:57] ERROR    [agent_fsm:1078] [86e47dd6-2117-437e-848d-11ea5b976482] --- FSM STATE: ERROR ---
[2025-06-18 13:00:57] ERROR    [agent_fsm:1101] [86e47dd6-2117-437e-848d-11ea5b976482] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:00:57] ERROR    [agent_fsm:1102] [86e47dd6-2117-437e-848d-11ea5b976482] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:57] WARNING  [agent_fsm:1224] [86e47dd6-2117-437e-848d-11ea5b976482] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:57] ERROR    [agent_fsm:1078] [86e47dd6-2117-437e-848d-11ea5b976482] --- FSM STATE: ERROR ---
[2025-06-18 13:00:57] ERROR    [agent_fsm:1101] [86e47dd6-2117-437e-848d-11ea5b976482] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:00:57] ERROR    [agent_fsm:1102] [86e47dd6-2117-437e-848d-11ea5b976482] Errors: ['Duplicate tool call detected']
[2025-06-18 13:00:57] WARNING  [agent_fsm:1224] [86e47dd6-2117-437e-848d-11ea5b976482] Direct loop detected - same action repeated 3 times
[2025-06-18 13:00:57] ERROR    [agent_fsm:1837] [86e47dd6-2117-437e-848d-11ea5b976482] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:00:57] INFO     [agent_fsm:1752] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Starting resilient FSM execution
[2025-06-18 13:00:57] INFO     [agent_fsm:1807] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] FSM STATE: INITIAL
[2025-06-18 13:00:57] INFO     [agent_fsm:665] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:00:57] DEBUG    [agent_fsm:680] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Turn count: 1, Action history length: 1
[2025-06-18 13:00:58] WARNING  [agent_fsm:1521] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:00:58] WARNING  [agent_fsm:1521] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 13:00:58] INFO     [agent_fsm:773] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:00:58] INFO     [agent_fsm:820] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Executing tool: web_researcher with input: {'query': 'chess position analysis', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 13:00:58] INFO     [agent_fsm:922] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Tool execution completed
[2025-06-18 13:00:58] INFO     [agent_fsm:773] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:00:58] WARNING  [agent_fsm:803] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:00:58] INFO     [agent_fsm:665] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:00:58] DEBUG    [agent_fsm:680] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Turn count: 2, Action history length: 2
[2025-06-18 13:01:00] WARNING  [agent_fsm:1521] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:01:00] WARNING  [agent_fsm:1521] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:01:00] INFO     [agent_fsm:773] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:01:00] INFO     [agent_fsm:820] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Executing tool: semantic_search_tool with input: {'query': 'chess position analysis tools', 'filename': 'knowledge_base.csv', 'top_k': 3}
[2025-06-18 13:01:00] INFO     [agent_fsm:922] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Tool execution completed
[2025-06-18 13:01:00] INFO     [agent_fsm:773] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:01:00] WARNING  [agent_fsm:803] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:01:00] INFO     [agent_fsm:665] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:01:00] DEBUG    [agent_fsm:680] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Turn count: 3, Action history length: 3
[2025-06-18 13:01:01] WARNING  [agent_fsm:1224] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:01] ERROR    [agent_fsm:1078] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] --- FSM STATE: ERROR ---
[2025-06-18 13:01:01] ERROR    [agent_fsm:1101] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:01:01] ERROR    [agent_fsm:1102] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:01] WARNING  [agent_fsm:1224] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:01] ERROR    [agent_fsm:1078] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] --- FSM STATE: ERROR ---
[2025-06-18 13:01:01] ERROR    [agent_fsm:1101] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:01:01] ERROR    [agent_fsm:1102] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:01] WARNING  [agent_fsm:1224] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:01] ERROR    [agent_fsm:1078] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] --- FSM STATE: ERROR ---
[2025-06-18 13:01:01] ERROR    [agent_fsm:1101] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:01:01] ERROR    [agent_fsm:1102] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:01] WARNING  [agent_fsm:1224] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:01] ERROR    [agent_fsm:1078] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] --- FSM STATE: ERROR ---
[2025-06-18 13:01:01] ERROR    [agent_fsm:1101] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:01:01] ERROR    [agent_fsm:1102] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:01] WARNING  [agent_fsm:1224] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:01] ERROR    [agent_fsm:1078] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] --- FSM STATE: ERROR ---
[2025-06-18 13:01:01] ERROR    [agent_fsm:1101] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:01:01] ERROR    [agent_fsm:1102] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:01] WARNING  [agent_fsm:1224] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:01] ERROR    [agent_fsm:1078] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] --- FSM STATE: ERROR ---
[2025-06-18 13:01:01] ERROR    [agent_fsm:1101] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:01:01] ERROR    [agent_fsm:1102] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:01] WARNING  [agent_fsm:1224] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:01] ERROR    [agent_fsm:1078] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] --- FSM STATE: ERROR ---
[2025-06-18 13:01:01] ERROR    [agent_fsm:1101] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:01:01] ERROR    [agent_fsm:1102] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:01] WARNING  [agent_fsm:1224] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:01] ERROR    [agent_fsm:1078] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] --- FSM STATE: ERROR ---
[2025-06-18 13:01:01] ERROR    [agent_fsm:1101] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:01:01] ERROR    [agent_fsm:1102] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:01] WARNING  [agent_fsm:1224] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:01] ERROR    [agent_fsm:1078] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] --- FSM STATE: ERROR ---
[2025-06-18 13:01:01] ERROR    [agent_fsm:1101] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:01:01] ERROR    [agent_fsm:1102] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:01] WARNING  [agent_fsm:1224] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:01] ERROR    [agent_fsm:1078] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] --- FSM STATE: ERROR ---
[2025-06-18 13:01:01] ERROR    [agent_fsm:1101] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:01:01] ERROR    [agent_fsm:1102] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:01] WARNING  [agent_fsm:1224] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:01] ERROR    [agent_fsm:1078] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] --- FSM STATE: ERROR ---
[2025-06-18 13:01:01] ERROR    [agent_fsm:1101] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:01:01] ERROR    [agent_fsm:1102] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:01] WARNING  [agent_fsm:1224] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:01] ERROR    [agent_fsm:1078] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] --- FSM STATE: ERROR ---
[2025-06-18 13:01:01] ERROR    [agent_fsm:1101] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:01:01] ERROR    [agent_fsm:1102] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:01] WARNING  [agent_fsm:1224] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:01] ERROR    [agent_fsm:1078] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] --- FSM STATE: ERROR ---
[2025-06-18 13:01:01] ERROR    [agent_fsm:1101] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:01:01] ERROR    [agent_fsm:1102] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:01] WARNING  [agent_fsm:1224] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:01] ERROR    [agent_fsm:1078] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] --- FSM STATE: ERROR ---
[2025-06-18 13:01:01] ERROR    [agent_fsm:1101] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:01:01] ERROR    [agent_fsm:1102] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:01] WARNING  [agent_fsm:1224] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:01] ERROR    [agent_fsm:1078] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] --- FSM STATE: ERROR ---
[2025-06-18 13:01:01] ERROR    [agent_fsm:1101] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:01:01] ERROR    [agent_fsm:1102] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:01] WARNING  [agent_fsm:1224] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:01] ERROR    [agent_fsm:1078] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] --- FSM STATE: ERROR ---
[2025-06-18 13:01:01] ERROR    [agent_fsm:1101] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:01:01] ERROR    [agent_fsm:1102] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:01] WARNING  [agent_fsm:1224] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:01] ERROR    [agent_fsm:1078] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] --- FSM STATE: ERROR ---
[2025-06-18 13:01:01] ERROR    [agent_fsm:1101] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:01:01] ERROR    [agent_fsm:1102] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:01] WARNING  [agent_fsm:1224] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:01] ERROR    [agent_fsm:1078] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] --- FSM STATE: ERROR ---
[2025-06-18 13:01:01] ERROR    [agent_fsm:1101] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:01:01] ERROR    [agent_fsm:1102] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:01] WARNING  [agent_fsm:1224] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:01] ERROR    [agent_fsm:1837] [9e27ee2e-7e93-4325-918d-bdbe1fec1622] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:01:01] INFO     [agent_fsm:1752] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Starting resilient FSM execution
[2025-06-18 13:01:01] INFO     [agent_fsm:1807] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] FSM STATE: INITIAL
[2025-06-18 13:01:01] INFO     [agent_fsm:665] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:01:01] DEBUG    [agent_fsm:680] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Turn count: 1, Action history length: 1
[2025-06-18 13:01:02] WARNING  [agent_fsm:1521] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:01:02] WARNING  [agent_fsm:1521] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:01:02] WARNING  [agent_fsm:1521] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:01:02] INFO     [agent_fsm:773] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:01:02] INFO     [agent_fsm:820] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Executing tool: web_researcher with input: {'query': 'Nobel Prize in Physics 2023 winner', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 13:01:02] INFO     [agent_fsm:922] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Tool execution completed
[2025-06-18 13:01:02] INFO     [agent_fsm:773] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:01:02] WARNING  [agent_fsm:803] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:01:02] INFO     [agent_fsm:665] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:01:02] DEBUG    [agent_fsm:680] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Turn count: 2, Action history length: 2
[2025-06-18 13:01:03] WARNING  [agent_fsm:1521] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:01:03] WARNING  [agent_fsm:1521] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:01:03] INFO     [agent_fsm:773] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:01:03] INFO     [agent_fsm:820] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Executing tool: semantic_search_tool with input: {'query': 'Nobel Prize in Physics 2023 winner', 'filename': 'knowledge_base.csv', 'top_k': 3}
[2025-06-18 13:01:03] INFO     [agent_fsm:922] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Tool execution completed
[2025-06-18 13:01:03] INFO     [agent_fsm:773] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:01:03] WARNING  [agent_fsm:803] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:01:03] INFO     [agent_fsm:665] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:01:03] DEBUG    [agent_fsm:680] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Turn count: 3, Action history length: 3
[2025-06-18 13:01:04] WARNING  [agent_fsm:1521] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:01:04] WARNING  [agent_fsm:1224] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:04] ERROR    [agent_fsm:1078] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] --- FSM STATE: ERROR ---
[2025-06-18 13:01:04] ERROR    [agent_fsm:1101] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:01:04] ERROR    [agent_fsm:1102] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:04] WARNING  [agent_fsm:1224] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:04] ERROR    [agent_fsm:1078] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] --- FSM STATE: ERROR ---
[2025-06-18 13:01:04] ERROR    [agent_fsm:1101] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:01:04] ERROR    [agent_fsm:1102] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:04] WARNING  [agent_fsm:1224] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:04] ERROR    [agent_fsm:1078] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] --- FSM STATE: ERROR ---
[2025-06-18 13:01:04] ERROR    [agent_fsm:1101] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:01:04] ERROR    [agent_fsm:1102] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:04] WARNING  [agent_fsm:1224] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:04] ERROR    [agent_fsm:1078] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] --- FSM STATE: ERROR ---
[2025-06-18 13:01:04] ERROR    [agent_fsm:1101] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:01:04] ERROR    [agent_fsm:1102] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:04] WARNING  [agent_fsm:1224] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:04] ERROR    [agent_fsm:1078] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] --- FSM STATE: ERROR ---
[2025-06-18 13:01:04] ERROR    [agent_fsm:1101] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:01:04] ERROR    [agent_fsm:1102] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:04] WARNING  [agent_fsm:1224] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:04] ERROR    [agent_fsm:1078] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] --- FSM STATE: ERROR ---
[2025-06-18 13:01:04] ERROR    [agent_fsm:1101] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:01:04] ERROR    [agent_fsm:1102] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:04] WARNING  [agent_fsm:1224] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:04] ERROR    [agent_fsm:1078] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] --- FSM STATE: ERROR ---
[2025-06-18 13:01:04] ERROR    [agent_fsm:1101] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:01:04] ERROR    [agent_fsm:1102] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:04] WARNING  [agent_fsm:1224] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:04] ERROR    [agent_fsm:1078] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] --- FSM STATE: ERROR ---
[2025-06-18 13:01:04] ERROR    [agent_fsm:1101] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:01:04] ERROR    [agent_fsm:1102] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:04] WARNING  [agent_fsm:1224] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:04] ERROR    [agent_fsm:1078] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] --- FSM STATE: ERROR ---
[2025-06-18 13:01:04] ERROR    [agent_fsm:1101] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:01:04] ERROR    [agent_fsm:1102] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:04] WARNING  [agent_fsm:1224] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:04] ERROR    [agent_fsm:1078] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] --- FSM STATE: ERROR ---
[2025-06-18 13:01:04] ERROR    [agent_fsm:1101] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:01:04] ERROR    [agent_fsm:1102] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:04] WARNING  [agent_fsm:1224] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:04] ERROR    [agent_fsm:1078] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] --- FSM STATE: ERROR ---
[2025-06-18 13:01:04] ERROR    [agent_fsm:1101] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:01:04] ERROR    [agent_fsm:1102] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:04] WARNING  [agent_fsm:1224] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:04] ERROR    [agent_fsm:1078] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] --- FSM STATE: ERROR ---
[2025-06-18 13:01:04] ERROR    [agent_fsm:1101] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:01:04] ERROR    [agent_fsm:1102] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:04] WARNING  [agent_fsm:1224] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:04] ERROR    [agent_fsm:1078] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] --- FSM STATE: ERROR ---
[2025-06-18 13:01:04] ERROR    [agent_fsm:1101] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:01:04] ERROR    [agent_fsm:1102] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:04] WARNING  [agent_fsm:1224] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:04] ERROR    [agent_fsm:1078] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] --- FSM STATE: ERROR ---
[2025-06-18 13:01:04] ERROR    [agent_fsm:1101] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:01:04] ERROR    [agent_fsm:1102] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:04] WARNING  [agent_fsm:1224] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:04] ERROR    [agent_fsm:1078] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] --- FSM STATE: ERROR ---
[2025-06-18 13:01:04] ERROR    [agent_fsm:1101] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:01:04] ERROR    [agent_fsm:1102] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:04] WARNING  [agent_fsm:1224] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:04] ERROR    [agent_fsm:1078] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] --- FSM STATE: ERROR ---
[2025-06-18 13:01:04] ERROR    [agent_fsm:1101] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:01:04] ERROR    [agent_fsm:1102] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:04] WARNING  [agent_fsm:1224] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:04] ERROR    [agent_fsm:1078] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] --- FSM STATE: ERROR ---
[2025-06-18 13:01:04] ERROR    [agent_fsm:1101] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:01:04] ERROR    [agent_fsm:1102] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:04] WARNING  [agent_fsm:1224] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:04] ERROR    [agent_fsm:1078] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] --- FSM STATE: ERROR ---
[2025-06-18 13:01:04] ERROR    [agent_fsm:1101] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:01:04] ERROR    [agent_fsm:1102] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:04] WARNING  [agent_fsm:1224] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:04] ERROR    [agent_fsm:1837] [24acff1e-a5f1-4db7-86f1-62f731c47fc7] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:01:04] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 13:01:04] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 13:01:04] INFO     [agent_fsm:570] [983c7978-41f5-42a2-a7c8-4a068fcca9fd] Building resilient FSM graph
[2025-06-18 13:01:04] INFO     [agent_fsm:572] [983c7978-41f5-42a2-a7c8-4a068fcca9fd] FSMReActAgent graph built successfully
[2025-06-18 13:01:04] INFO     [agent_fsm:1752] [5b851b51-263c-40df-aed4-04e4974f029c] Starting resilient FSM execution
[2025-06-18 13:01:04] INFO     [agent_fsm:1807] [5b851b51-263c-40df-aed4-04e4974f029c] FSM STATE: INITIAL
[2025-06-18 13:01:04] INFO     [agent_fsm:665] [5b851b51-263c-40df-aed4-04e4974f029c] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:01:04] DEBUG    [agent_fsm:680] [5b851b51-263c-40df-aed4-04e4974f029c] Turn count: 1, Action history length: 1
[2025-06-18 13:01:05] WARNING  [agent_fsm:1521] [5b851b51-263c-40df-aed4-04e4974f029c] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:01:05] WARNING  [agent_fsm:1521] [5b851b51-263c-40df-aed4-04e4974f029c] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:01:05] INFO     [agent_fsm:773] [5b851b51-263c-40df-aed4-04e4974f029c] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:01:05] INFO     [agent_fsm:820] [5b851b51-263c-40df-aed4-04e4974f029c] Executing tool: web_researcher with input: {'query': 'Mercedes Sosa discography', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 13:01:05] INFO     [agent_fsm:922] [5b851b51-263c-40df-aed4-04e4974f029c] Tool execution completed
[2025-06-18 13:01:05] INFO     [agent_fsm:773] [5b851b51-263c-40df-aed4-04e4974f029c] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:01:05] WARNING  [agent_fsm:803] [5b851b51-263c-40df-aed4-04e4974f029c] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:01:05] INFO     [agent_fsm:665] [5b851b51-263c-40df-aed4-04e4974f029c] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:01:05] DEBUG    [agent_fsm:680] [5b851b51-263c-40df-aed4-04e4974f029c] Turn count: 2, Action history length: 2
[2025-06-18 13:01:06] WARNING  [agent_fsm:1521] [5b851b51-263c-40df-aed4-04e4974f029c] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:01:06] WARNING  [agent_fsm:1521] [5b851b51-263c-40df-aed4-04e4974f029c] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:01:06] INFO     [agent_fsm:773] [5b851b51-263c-40df-aed4-04e4974f029c] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:01:06] INFO     [agent_fsm:820] [5b851b51-263c-40df-aed4-04e4974f029c] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 13:01:06] INFO     [agent_fsm:922] [5b851b51-263c-40df-aed4-04e4974f029c] Tool execution completed
[2025-06-18 13:01:06] INFO     [agent_fsm:773] [5b851b51-263c-40df-aed4-04e4974f029c] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:01:06] WARNING  [agent_fsm:803] [5b851b51-263c-40df-aed4-04e4974f029c] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:01:06] INFO     [agent_fsm:665] [5b851b51-263c-40df-aed4-04e4974f029c] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:01:06] DEBUG    [agent_fsm:680] [5b851b51-263c-40df-aed4-04e4974f029c] Turn count: 3, Action history length: 3
[2025-06-18 13:01:07] WARNING  [agent_fsm:1521] [5b851b51-263c-40df-aed4-04e4974f029c] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:01:07] WARNING  [agent_fsm:1521] [5b851b51-263c-40df-aed4-04e4974f029c] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:01:07] WARNING  [agent_fsm:1521] [5b851b51-263c-40df-aed4-04e4974f029c] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:01:07] WARNING  [agent_fsm:1224] [5b851b51-263c-40df-aed4-04e4974f029c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:07] ERROR    [agent_fsm:1078] [5b851b51-263c-40df-aed4-04e4974f029c] --- FSM STATE: ERROR ---
[2025-06-18 13:01:07] ERROR    [agent_fsm:1101] [5b851b51-263c-40df-aed4-04e4974f029c] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:01:07] ERROR    [agent_fsm:1102] [5b851b51-263c-40df-aed4-04e4974f029c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:07] WARNING  [agent_fsm:1224] [5b851b51-263c-40df-aed4-04e4974f029c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:07] ERROR    [agent_fsm:1078] [5b851b51-263c-40df-aed4-04e4974f029c] --- FSM STATE: ERROR ---
[2025-06-18 13:01:07] ERROR    [agent_fsm:1101] [5b851b51-263c-40df-aed4-04e4974f029c] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:01:07] ERROR    [agent_fsm:1102] [5b851b51-263c-40df-aed4-04e4974f029c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:07] WARNING  [agent_fsm:1224] [5b851b51-263c-40df-aed4-04e4974f029c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:07] ERROR    [agent_fsm:1078] [5b851b51-263c-40df-aed4-04e4974f029c] --- FSM STATE: ERROR ---
[2025-06-18 13:01:07] ERROR    [agent_fsm:1101] [5b851b51-263c-40df-aed4-04e4974f029c] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:01:07] ERROR    [agent_fsm:1102] [5b851b51-263c-40df-aed4-04e4974f029c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:07] WARNING  [agent_fsm:1224] [5b851b51-263c-40df-aed4-04e4974f029c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:07] ERROR    [agent_fsm:1078] [5b851b51-263c-40df-aed4-04e4974f029c] --- FSM STATE: ERROR ---
[2025-06-18 13:01:07] ERROR    [agent_fsm:1101] [5b851b51-263c-40df-aed4-04e4974f029c] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:01:07] ERROR    [agent_fsm:1102] [5b851b51-263c-40df-aed4-04e4974f029c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:07] WARNING  [agent_fsm:1224] [5b851b51-263c-40df-aed4-04e4974f029c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:07] ERROR    [agent_fsm:1078] [5b851b51-263c-40df-aed4-04e4974f029c] --- FSM STATE: ERROR ---
[2025-06-18 13:01:07] ERROR    [agent_fsm:1101] [5b851b51-263c-40df-aed4-04e4974f029c] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:01:07] ERROR    [agent_fsm:1102] [5b851b51-263c-40df-aed4-04e4974f029c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:07] WARNING  [agent_fsm:1224] [5b851b51-263c-40df-aed4-04e4974f029c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:07] ERROR    [agent_fsm:1078] [5b851b51-263c-40df-aed4-04e4974f029c] --- FSM STATE: ERROR ---
[2025-06-18 13:01:07] ERROR    [agent_fsm:1101] [5b851b51-263c-40df-aed4-04e4974f029c] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:01:07] ERROR    [agent_fsm:1102] [5b851b51-263c-40df-aed4-04e4974f029c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:07] WARNING  [agent_fsm:1224] [5b851b51-263c-40df-aed4-04e4974f029c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:07] ERROR    [agent_fsm:1078] [5b851b51-263c-40df-aed4-04e4974f029c] --- FSM STATE: ERROR ---
[2025-06-18 13:01:07] ERROR    [agent_fsm:1101] [5b851b51-263c-40df-aed4-04e4974f029c] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:01:07] ERROR    [agent_fsm:1102] [5b851b51-263c-40df-aed4-04e4974f029c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:07] WARNING  [agent_fsm:1224] [5b851b51-263c-40df-aed4-04e4974f029c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:07] ERROR    [agent_fsm:1078] [5b851b51-263c-40df-aed4-04e4974f029c] --- FSM STATE: ERROR ---
[2025-06-18 13:01:07] ERROR    [agent_fsm:1101] [5b851b51-263c-40df-aed4-04e4974f029c] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:01:07] ERROR    [agent_fsm:1102] [5b851b51-263c-40df-aed4-04e4974f029c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:07] WARNING  [agent_fsm:1224] [5b851b51-263c-40df-aed4-04e4974f029c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:07] ERROR    [agent_fsm:1078] [5b851b51-263c-40df-aed4-04e4974f029c] --- FSM STATE: ERROR ---
[2025-06-18 13:01:07] ERROR    [agent_fsm:1101] [5b851b51-263c-40df-aed4-04e4974f029c] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:01:07] ERROR    [agent_fsm:1102] [5b851b51-263c-40df-aed4-04e4974f029c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:07] WARNING  [agent_fsm:1224] [5b851b51-263c-40df-aed4-04e4974f029c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:07] ERROR    [agent_fsm:1078] [5b851b51-263c-40df-aed4-04e4974f029c] --- FSM STATE: ERROR ---
[2025-06-18 13:01:07] ERROR    [agent_fsm:1101] [5b851b51-263c-40df-aed4-04e4974f029c] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:01:07] ERROR    [agent_fsm:1102] [5b851b51-263c-40df-aed4-04e4974f029c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:07] WARNING  [agent_fsm:1224] [5b851b51-263c-40df-aed4-04e4974f029c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:07] ERROR    [agent_fsm:1078] [5b851b51-263c-40df-aed4-04e4974f029c] --- FSM STATE: ERROR ---
[2025-06-18 13:01:07] ERROR    [agent_fsm:1101] [5b851b51-263c-40df-aed4-04e4974f029c] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:01:07] ERROR    [agent_fsm:1102] [5b851b51-263c-40df-aed4-04e4974f029c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:07] WARNING  [agent_fsm:1224] [5b851b51-263c-40df-aed4-04e4974f029c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:07] ERROR    [agent_fsm:1078] [5b851b51-263c-40df-aed4-04e4974f029c] --- FSM STATE: ERROR ---
[2025-06-18 13:01:07] ERROR    [agent_fsm:1101] [5b851b51-263c-40df-aed4-04e4974f029c] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:01:07] ERROR    [agent_fsm:1102] [5b851b51-263c-40df-aed4-04e4974f029c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:07] WARNING  [agent_fsm:1224] [5b851b51-263c-40df-aed4-04e4974f029c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:07] ERROR    [agent_fsm:1078] [5b851b51-263c-40df-aed4-04e4974f029c] --- FSM STATE: ERROR ---
[2025-06-18 13:01:07] ERROR    [agent_fsm:1101] [5b851b51-263c-40df-aed4-04e4974f029c] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:01:07] ERROR    [agent_fsm:1102] [5b851b51-263c-40df-aed4-04e4974f029c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:07] WARNING  [agent_fsm:1224] [5b851b51-263c-40df-aed4-04e4974f029c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:07] ERROR    [agent_fsm:1078] [5b851b51-263c-40df-aed4-04e4974f029c] --- FSM STATE: ERROR ---
[2025-06-18 13:01:07] ERROR    [agent_fsm:1101] [5b851b51-263c-40df-aed4-04e4974f029c] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:01:07] ERROR    [agent_fsm:1102] [5b851b51-263c-40df-aed4-04e4974f029c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:07] WARNING  [agent_fsm:1224] [5b851b51-263c-40df-aed4-04e4974f029c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:07] ERROR    [agent_fsm:1078] [5b851b51-263c-40df-aed4-04e4974f029c] --- FSM STATE: ERROR ---
[2025-06-18 13:01:07] ERROR    [agent_fsm:1101] [5b851b51-263c-40df-aed4-04e4974f029c] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:01:07] ERROR    [agent_fsm:1102] [5b851b51-263c-40df-aed4-04e4974f029c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:07] WARNING  [agent_fsm:1224] [5b851b51-263c-40df-aed4-04e4974f029c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:07] ERROR    [agent_fsm:1078] [5b851b51-263c-40df-aed4-04e4974f029c] --- FSM STATE: ERROR ---
[2025-06-18 13:01:07] ERROR    [agent_fsm:1101] [5b851b51-263c-40df-aed4-04e4974f029c] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:01:07] ERROR    [agent_fsm:1102] [5b851b51-263c-40df-aed4-04e4974f029c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:07] WARNING  [agent_fsm:1224] [5b851b51-263c-40df-aed4-04e4974f029c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:07] ERROR    [agent_fsm:1078] [5b851b51-263c-40df-aed4-04e4974f029c] --- FSM STATE: ERROR ---
[2025-06-18 13:01:07] ERROR    [agent_fsm:1101] [5b851b51-263c-40df-aed4-04e4974f029c] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:01:07] ERROR    [agent_fsm:1102] [5b851b51-263c-40df-aed4-04e4974f029c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:07] WARNING  [agent_fsm:1224] [5b851b51-263c-40df-aed4-04e4974f029c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:07] ERROR    [agent_fsm:1078] [5b851b51-263c-40df-aed4-04e4974f029c] --- FSM STATE: ERROR ---
[2025-06-18 13:01:07] ERROR    [agent_fsm:1101] [5b851b51-263c-40df-aed4-04e4974f029c] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:01:07] ERROR    [agent_fsm:1102] [5b851b51-263c-40df-aed4-04e4974f029c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:07] WARNING  [agent_fsm:1224] [5b851b51-263c-40df-aed4-04e4974f029c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:07] ERROR    [agent_fsm:1837] [5b851b51-263c-40df-aed4-04e4974f029c] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:01:07] INFO     [agent_fsm:1752] [e311b52e-db46-4803-87c9-e2355dafbafc] Starting resilient FSM execution
[2025-06-18 13:01:07] INFO     [agent_fsm:1807] [e311b52e-db46-4803-87c9-e2355dafbafc] FSM STATE: INITIAL
[2025-06-18 13:01:07] INFO     [agent_fsm:665] [e311b52e-db46-4803-87c9-e2355dafbafc] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:01:07] DEBUG    [agent_fsm:680] [e311b52e-db46-4803-87c9-e2355dafbafc] Turn count: 1, Action history length: 1
[2025-06-18 13:01:08] WARNING  [agent_fsm:1521] [e311b52e-db46-4803-87c9-e2355dafbafc] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:01:08] WARNING  [agent_fsm:1521] [e311b52e-db46-4803-87c9-e2355dafbafc] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:01:08] WARNING  [agent_fsm:1521] [e311b52e-db46-4803-87c9-e2355dafbafc] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:01:08] WARNING  [agent_fsm:1521] [e311b52e-db46-4803-87c9-e2355dafbafc] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 13:01:08] INFO     [agent_fsm:773] [e311b52e-db46-4803-87c9-e2355dafbafc] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:01:08] INFO     [agent_fsm:820] [e311b52e-db46-4803-87c9-e2355dafbafc] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 13:01:08] INFO     [agent_fsm:922] [e311b52e-db46-4803-87c9-e2355dafbafc] Tool execution completed
[2025-06-18 13:01:08] INFO     [agent_fsm:773] [e311b52e-db46-4803-87c9-e2355dafbafc] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:01:08] WARNING  [agent_fsm:803] [e311b52e-db46-4803-87c9-e2355dafbafc] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:01:08] INFO     [agent_fsm:665] [e311b52e-db46-4803-87c9-e2355dafbafc] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:01:08] DEBUG    [agent_fsm:680] [e311b52e-db46-4803-87c9-e2355dafbafc] Turn count: 2, Action history length: 2
[2025-06-18 13:01:09] WARNING  [agent_fsm:1521] [e311b52e-db46-4803-87c9-e2355dafbafc] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:01:09] WARNING  [agent_fsm:1521] [e311b52e-db46-4803-87c9-e2355dafbafc] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:01:09] WARNING  [agent_fsm:1521] [e311b52e-db46-4803-87c9-e2355dafbafc] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 13:01:09] INFO     [agent_fsm:773] [e311b52e-db46-4803-87c9-e2355dafbafc] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:01:09] INFO     [agent_fsm:820] [e311b52e-db46-4803-87c9-e2355dafbafc] Executing tool: video_analyzer with input: {'url': 'https://www.youtube.com/watch?v=L1vXCYZAYYM', 'action': 'download_info'}
[2025-06-18 13:01:09] INFO     [agent_fsm:922] [e311b52e-db46-4803-87c9-e2355dafbafc] Tool execution completed
[2025-06-18 13:01:09] INFO     [agent_fsm:773] [e311b52e-db46-4803-87c9-e2355dafbafc] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:01:09] WARNING  [agent_fsm:803] [e311b52e-db46-4803-87c9-e2355dafbafc] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:01:09] INFO     [agent_fsm:665] [e311b52e-db46-4803-87c9-e2355dafbafc] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:01:09] DEBUG    [agent_fsm:680] [e311b52e-db46-4803-87c9-e2355dafbafc] Turn count: 3, Action history length: 3
[2025-06-18 13:01:10] WARNING  [agent_fsm:1521] [e311b52e-db46-4803-87c9-e2355dafbafc] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:01:10] WARNING  [agent_fsm:1224] [e311b52e-db46-4803-87c9-e2355dafbafc] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:10] ERROR    [agent_fsm:1078] [e311b52e-db46-4803-87c9-e2355dafbafc] --- FSM STATE: ERROR ---
[2025-06-18 13:01:10] ERROR    [agent_fsm:1101] [e311b52e-db46-4803-87c9-e2355dafbafc] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:01:10] ERROR    [agent_fsm:1102] [e311b52e-db46-4803-87c9-e2355dafbafc] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:10] WARNING  [agent_fsm:1224] [e311b52e-db46-4803-87c9-e2355dafbafc] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:10] ERROR    [agent_fsm:1078] [e311b52e-db46-4803-87c9-e2355dafbafc] --- FSM STATE: ERROR ---
[2025-06-18 13:01:10] ERROR    [agent_fsm:1101] [e311b52e-db46-4803-87c9-e2355dafbafc] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:01:10] ERROR    [agent_fsm:1102] [e311b52e-db46-4803-87c9-e2355dafbafc] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:10] WARNING  [agent_fsm:1224] [e311b52e-db46-4803-87c9-e2355dafbafc] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:10] ERROR    [agent_fsm:1078] [e311b52e-db46-4803-87c9-e2355dafbafc] --- FSM STATE: ERROR ---
[2025-06-18 13:01:10] ERROR    [agent_fsm:1101] [e311b52e-db46-4803-87c9-e2355dafbafc] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:01:10] ERROR    [agent_fsm:1102] [e311b52e-db46-4803-87c9-e2355dafbafc] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:10] WARNING  [agent_fsm:1224] [e311b52e-db46-4803-87c9-e2355dafbafc] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:10] ERROR    [agent_fsm:1078] [e311b52e-db46-4803-87c9-e2355dafbafc] --- FSM STATE: ERROR ---
[2025-06-18 13:01:10] ERROR    [agent_fsm:1101] [e311b52e-db46-4803-87c9-e2355dafbafc] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:01:10] ERROR    [agent_fsm:1102] [e311b52e-db46-4803-87c9-e2355dafbafc] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:10] WARNING  [agent_fsm:1224] [e311b52e-db46-4803-87c9-e2355dafbafc] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:10] ERROR    [agent_fsm:1078] [e311b52e-db46-4803-87c9-e2355dafbafc] --- FSM STATE: ERROR ---
[2025-06-18 13:01:10] ERROR    [agent_fsm:1101] [e311b52e-db46-4803-87c9-e2355dafbafc] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:01:10] ERROR    [agent_fsm:1102] [e311b52e-db46-4803-87c9-e2355dafbafc] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:10] WARNING  [agent_fsm:1224] [e311b52e-db46-4803-87c9-e2355dafbafc] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:10] ERROR    [agent_fsm:1078] [e311b52e-db46-4803-87c9-e2355dafbafc] --- FSM STATE: ERROR ---
[2025-06-18 13:01:10] ERROR    [agent_fsm:1101] [e311b52e-db46-4803-87c9-e2355dafbafc] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:01:10] ERROR    [agent_fsm:1102] [e311b52e-db46-4803-87c9-e2355dafbafc] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:10] WARNING  [agent_fsm:1224] [e311b52e-db46-4803-87c9-e2355dafbafc] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:10] ERROR    [agent_fsm:1078] [e311b52e-db46-4803-87c9-e2355dafbafc] --- FSM STATE: ERROR ---
[2025-06-18 13:01:10] ERROR    [agent_fsm:1101] [e311b52e-db46-4803-87c9-e2355dafbafc] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:01:10] ERROR    [agent_fsm:1102] [e311b52e-db46-4803-87c9-e2355dafbafc] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:10] WARNING  [agent_fsm:1224] [e311b52e-db46-4803-87c9-e2355dafbafc] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:10] ERROR    [agent_fsm:1078] [e311b52e-db46-4803-87c9-e2355dafbafc] --- FSM STATE: ERROR ---
[2025-06-18 13:01:10] ERROR    [agent_fsm:1101] [e311b52e-db46-4803-87c9-e2355dafbafc] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:01:10] ERROR    [agent_fsm:1102] [e311b52e-db46-4803-87c9-e2355dafbafc] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:10] WARNING  [agent_fsm:1224] [e311b52e-db46-4803-87c9-e2355dafbafc] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:10] ERROR    [agent_fsm:1078] [e311b52e-db46-4803-87c9-e2355dafbafc] --- FSM STATE: ERROR ---
[2025-06-18 13:01:10] ERROR    [agent_fsm:1101] [e311b52e-db46-4803-87c9-e2355dafbafc] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:01:10] ERROR    [agent_fsm:1102] [e311b52e-db46-4803-87c9-e2355dafbafc] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:10] WARNING  [agent_fsm:1224] [e311b52e-db46-4803-87c9-e2355dafbafc] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:10] ERROR    [agent_fsm:1078] [e311b52e-db46-4803-87c9-e2355dafbafc] --- FSM STATE: ERROR ---
[2025-06-18 13:01:10] ERROR    [agent_fsm:1101] [e311b52e-db46-4803-87c9-e2355dafbafc] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:01:10] ERROR    [agent_fsm:1102] [e311b52e-db46-4803-87c9-e2355dafbafc] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:10] WARNING  [agent_fsm:1224] [e311b52e-db46-4803-87c9-e2355dafbafc] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:10] ERROR    [agent_fsm:1078] [e311b52e-db46-4803-87c9-e2355dafbafc] --- FSM STATE: ERROR ---
[2025-06-18 13:01:10] ERROR    [agent_fsm:1101] [e311b52e-db46-4803-87c9-e2355dafbafc] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:01:10] ERROR    [agent_fsm:1102] [e311b52e-db46-4803-87c9-e2355dafbafc] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:10] WARNING  [agent_fsm:1224] [e311b52e-db46-4803-87c9-e2355dafbafc] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:10] ERROR    [agent_fsm:1078] [e311b52e-db46-4803-87c9-e2355dafbafc] --- FSM STATE: ERROR ---
[2025-06-18 13:01:10] ERROR    [agent_fsm:1101] [e311b52e-db46-4803-87c9-e2355dafbafc] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:01:10] ERROR    [agent_fsm:1102] [e311b52e-db46-4803-87c9-e2355dafbafc] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:10] WARNING  [agent_fsm:1224] [e311b52e-db46-4803-87c9-e2355dafbafc] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:10] ERROR    [agent_fsm:1078] [e311b52e-db46-4803-87c9-e2355dafbafc] --- FSM STATE: ERROR ---
[2025-06-18 13:01:10] ERROR    [agent_fsm:1101] [e311b52e-db46-4803-87c9-e2355dafbafc] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:01:10] ERROR    [agent_fsm:1102] [e311b52e-db46-4803-87c9-e2355dafbafc] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:10] WARNING  [agent_fsm:1224] [e311b52e-db46-4803-87c9-e2355dafbafc] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:10] ERROR    [agent_fsm:1078] [e311b52e-db46-4803-87c9-e2355dafbafc] --- FSM STATE: ERROR ---
[2025-06-18 13:01:10] ERROR    [agent_fsm:1101] [e311b52e-db46-4803-87c9-e2355dafbafc] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:01:10] ERROR    [agent_fsm:1102] [e311b52e-db46-4803-87c9-e2355dafbafc] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:10] WARNING  [agent_fsm:1224] [e311b52e-db46-4803-87c9-e2355dafbafc] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:10] ERROR    [agent_fsm:1078] [e311b52e-db46-4803-87c9-e2355dafbafc] --- FSM STATE: ERROR ---
[2025-06-18 13:01:10] ERROR    [agent_fsm:1101] [e311b52e-db46-4803-87c9-e2355dafbafc] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:01:10] ERROR    [agent_fsm:1102] [e311b52e-db46-4803-87c9-e2355dafbafc] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:10] WARNING  [agent_fsm:1224] [e311b52e-db46-4803-87c9-e2355dafbafc] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:10] ERROR    [agent_fsm:1078] [e311b52e-db46-4803-87c9-e2355dafbafc] --- FSM STATE: ERROR ---
[2025-06-18 13:01:10] ERROR    [agent_fsm:1101] [e311b52e-db46-4803-87c9-e2355dafbafc] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:01:10] ERROR    [agent_fsm:1102] [e311b52e-db46-4803-87c9-e2355dafbafc] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:10] WARNING  [agent_fsm:1224] [e311b52e-db46-4803-87c9-e2355dafbafc] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:10] ERROR    [agent_fsm:1078] [e311b52e-db46-4803-87c9-e2355dafbafc] --- FSM STATE: ERROR ---
[2025-06-18 13:01:10] ERROR    [agent_fsm:1101] [e311b52e-db46-4803-87c9-e2355dafbafc] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:01:10] ERROR    [agent_fsm:1102] [e311b52e-db46-4803-87c9-e2355dafbafc] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:10] WARNING  [agent_fsm:1224] [e311b52e-db46-4803-87c9-e2355dafbafc] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:10] ERROR    [agent_fsm:1078] [e311b52e-db46-4803-87c9-e2355dafbafc] --- FSM STATE: ERROR ---
[2025-06-18 13:01:10] ERROR    [agent_fsm:1101] [e311b52e-db46-4803-87c9-e2355dafbafc] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:01:10] ERROR    [agent_fsm:1102] [e311b52e-db46-4803-87c9-e2355dafbafc] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:10] WARNING  [agent_fsm:1224] [e311b52e-db46-4803-87c9-e2355dafbafc] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:10] ERROR    [agent_fsm:1837] [e311b52e-db46-4803-87c9-e2355dafbafc] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:01:10] INFO     [agent_fsm:1752] [c59dafc8-ed8a-4a47-b0af-29903205985c] Starting resilient FSM execution
[2025-06-18 13:01:10] INFO     [agent_fsm:1807] [c59dafc8-ed8a-4a47-b0af-29903205985c] FSM STATE: INITIAL
[2025-06-18 13:01:10] INFO     [agent_fsm:665] [c59dafc8-ed8a-4a47-b0af-29903205985c] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:01:10] DEBUG    [agent_fsm:680] [c59dafc8-ed8a-4a47-b0af-29903205985c] Turn count: 1, Action history length: 1
[2025-06-18 13:01:12] WARNING  [agent_fsm:1521] [c59dafc8-ed8a-4a47-b0af-29903205985c] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:01:12] WARNING  [agent_fsm:1521] [c59dafc8-ed8a-4a47-b0af-29903205985c] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:01:12] WARNING  [agent_fsm:1521] [c59dafc8-ed8a-4a47-b0af-29903205985c] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:01:12] WARNING  [agent_fsm:1521] [c59dafc8-ed8a-4a47-b0af-29903205985c] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:01:12] WARNING  [agent_fsm:1521] [c59dafc8-ed8a-4a47-b0af-29903205985c] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 13:01:12] WARNING  [agent_fsm:1521] [c59dafc8-ed8a-4a47-b0af-29903205985c] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 13:01:12] INFO     [agent_fsm:773] [c59dafc8-ed8a-4a47-b0af-29903205985c] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:01:12] INFO     [agent_fsm:820] [c59dafc8-ed8a-4a47-b0af-29903205985c] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 13:01:12] INFO     [agent_fsm:922] [c59dafc8-ed8a-4a47-b0af-29903205985c] Tool execution completed
[2025-06-18 13:01:12] INFO     [agent_fsm:773] [c59dafc8-ed8a-4a47-b0af-29903205985c] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:01:12] WARNING  [agent_fsm:803] [c59dafc8-ed8a-4a47-b0af-29903205985c] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:01:12] INFO     [agent_fsm:665] [c59dafc8-ed8a-4a47-b0af-29903205985c] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:01:12] DEBUG    [agent_fsm:680] [c59dafc8-ed8a-4a47-b0af-29903205985c] Turn count: 2, Action history length: 2
[2025-06-18 13:01:15] WARNING  [agent_fsm:1521] [c59dafc8-ed8a-4a47-b0af-29903205985c] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:01:15] WARNING  [agent_fsm:1521] [c59dafc8-ed8a-4a47-b0af-29903205985c] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:01:15] WARNING  [agent_fsm:1521] [c59dafc8-ed8a-4a47-b0af-29903205985c] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:01:15] WARNING  [agent_fsm:1521] [c59dafc8-ed8a-4a47-b0af-29903205985c] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:01:15] WARNING  [agent_fsm:1521] [c59dafc8-ed8a-4a47-b0af-29903205985c] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 13:01:15] WARNING  [agent_fsm:1521] [c59dafc8-ed8a-4a47-b0af-29903205985c] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 13:01:15] WARNING  [agent_fsm:1521] [c59dafc8-ed8a-4a47-b0af-29903205985c] Failed to parse JSON parameters for step 8, using fallback parser
[2025-06-18 13:01:15] WARNING  [agent_fsm:1521] [c59dafc8-ed8a-4a47-b0af-29903205985c] Failed to parse JSON parameters for step 9, using fallback parser
[2025-06-18 13:01:15] WARNING  [agent_fsm:1521] [c59dafc8-ed8a-4a47-b0af-29903205985c] Failed to parse JSON parameters for step 10, using fallback parser
[2025-06-18 13:01:15] WARNING  [agent_fsm:1521] [c59dafc8-ed8a-4a47-b0af-29903205985c] Failed to parse JSON parameters for step 11, using fallback parser
[2025-06-18 13:01:15] WARNING  [agent_fsm:1521] [c59dafc8-ed8a-4a47-b0af-29903205985c] Failed to parse JSON parameters for step 12, using fallback parser
[2025-06-18 13:01:15] WARNING  [agent_fsm:1521] [c59dafc8-ed8a-4a47-b0af-29903205985c] Failed to parse JSON parameters for step 13, using fallback parser
[2025-06-18 13:01:15] WARNING  [agent_fsm:1521] [c59dafc8-ed8a-4a47-b0af-29903205985c] Failed to parse JSON parameters for step 14, using fallback parser
[2025-06-18 13:01:15] WARNING  [agent_fsm:1521] [c59dafc8-ed8a-4a47-b0af-29903205985c] Failed to parse JSON parameters for step 15, using fallback parser
[2025-06-18 13:01:15] WARNING  [agent_fsm:1521] [c59dafc8-ed8a-4a47-b0af-29903205985c] Failed to parse JSON parameters for step 16, using fallback parser
[2025-06-18 13:01:15] WARNING  [agent_fsm:1521] [c59dafc8-ed8a-4a47-b0af-29903205985c] Failed to parse JSON parameters for step 17, using fallback parser
[2025-06-18 13:01:15] WARNING  [agent_fsm:1521] [c59dafc8-ed8a-4a47-b0af-29903205985c] Failed to parse JSON parameters for step 18, using fallback parser
[2025-06-18 13:01:15] WARNING  [agent_fsm:1521] [c59dafc8-ed8a-4a47-b0af-29903205985c] Failed to parse JSON parameters for step 19, using fallback parser
[2025-06-18 13:01:15] WARNING  [agent_fsm:1521] [c59dafc8-ed8a-4a47-b0af-29903205985c] Failed to parse JSON parameters for step 20, using fallback parser
[2025-06-18 13:01:15] WARNING  [agent_fsm:1521] [c59dafc8-ed8a-4a47-b0af-29903205985c] Failed to parse JSON parameters for step 21, using fallback parser
[2025-06-18 13:01:15] WARNING  [agent_fsm:1521] [c59dafc8-ed8a-4a47-b0af-29903205985c] Failed to parse JSON parameters for step 22, using fallback parser
[2025-06-18 13:01:15] INFO     [agent_fsm:773] [c59dafc8-ed8a-4a47-b0af-29903205985c] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:01:15] WARNING  [agent_fsm:803] [c59dafc8-ed8a-4a47-b0af-29903205985c] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:01:15] INFO     [agent_fsm:665] [c59dafc8-ed8a-4a47-b0af-29903205985c] --- FSM STATE: PLANNING (Step 3) ---
[2025-06-18 13:01:15] DEBUG    [agent_fsm:680] [c59dafc8-ed8a-4a47-b0af-29903205985c] Turn count: 3, Action history length: 3
[2025-06-18 13:01:17] WARNING  [agent_fsm:1521] [c59dafc8-ed8a-4a47-b0af-29903205985c] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:01:17] WARNING  [agent_fsm:1521] [c59dafc8-ed8a-4a47-b0af-29903205985c] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:01:17] WARNING  [agent_fsm:1521] [c59dafc8-ed8a-4a47-b0af-29903205985c] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 13:01:17] WARNING  [agent_fsm:1521] [c59dafc8-ed8a-4a47-b0af-29903205985c] Failed to parse JSON parameters for step 10, using fallback parser
[2025-06-18 13:01:17] WARNING  [agent_fsm:1224] [c59dafc8-ed8a-4a47-b0af-29903205985c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:17] ERROR    [agent_fsm:1078] [c59dafc8-ed8a-4a47-b0af-29903205985c] --- FSM STATE: ERROR ---
[2025-06-18 13:01:17] ERROR    [agent_fsm:1101] [c59dafc8-ed8a-4a47-b0af-29903205985c] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:01:17] ERROR    [agent_fsm:1102] [c59dafc8-ed8a-4a47-b0af-29903205985c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:17] WARNING  [agent_fsm:1224] [c59dafc8-ed8a-4a47-b0af-29903205985c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:17] ERROR    [agent_fsm:1078] [c59dafc8-ed8a-4a47-b0af-29903205985c] --- FSM STATE: ERROR ---
[2025-06-18 13:01:17] ERROR    [agent_fsm:1101] [c59dafc8-ed8a-4a47-b0af-29903205985c] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:01:17] ERROR    [agent_fsm:1102] [c59dafc8-ed8a-4a47-b0af-29903205985c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:17] WARNING  [agent_fsm:1224] [c59dafc8-ed8a-4a47-b0af-29903205985c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:17] ERROR    [agent_fsm:1078] [c59dafc8-ed8a-4a47-b0af-29903205985c] --- FSM STATE: ERROR ---
[2025-06-18 13:01:17] ERROR    [agent_fsm:1101] [c59dafc8-ed8a-4a47-b0af-29903205985c] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:01:17] ERROR    [agent_fsm:1102] [c59dafc8-ed8a-4a47-b0af-29903205985c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:17] WARNING  [agent_fsm:1224] [c59dafc8-ed8a-4a47-b0af-29903205985c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:17] ERROR    [agent_fsm:1078] [c59dafc8-ed8a-4a47-b0af-29903205985c] --- FSM STATE: ERROR ---
[2025-06-18 13:01:17] ERROR    [agent_fsm:1101] [c59dafc8-ed8a-4a47-b0af-29903205985c] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:01:17] ERROR    [agent_fsm:1102] [c59dafc8-ed8a-4a47-b0af-29903205985c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:17] WARNING  [agent_fsm:1224] [c59dafc8-ed8a-4a47-b0af-29903205985c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:17] ERROR    [agent_fsm:1078] [c59dafc8-ed8a-4a47-b0af-29903205985c] --- FSM STATE: ERROR ---
[2025-06-18 13:01:17] ERROR    [agent_fsm:1101] [c59dafc8-ed8a-4a47-b0af-29903205985c] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:01:17] ERROR    [agent_fsm:1102] [c59dafc8-ed8a-4a47-b0af-29903205985c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:17] WARNING  [agent_fsm:1224] [c59dafc8-ed8a-4a47-b0af-29903205985c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:17] ERROR    [agent_fsm:1078] [c59dafc8-ed8a-4a47-b0af-29903205985c] --- FSM STATE: ERROR ---
[2025-06-18 13:01:17] ERROR    [agent_fsm:1101] [c59dafc8-ed8a-4a47-b0af-29903205985c] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:01:17] ERROR    [agent_fsm:1102] [c59dafc8-ed8a-4a47-b0af-29903205985c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:17] WARNING  [agent_fsm:1224] [c59dafc8-ed8a-4a47-b0af-29903205985c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:17] ERROR    [agent_fsm:1078] [c59dafc8-ed8a-4a47-b0af-29903205985c] --- FSM STATE: ERROR ---
[2025-06-18 13:01:17] ERROR    [agent_fsm:1101] [c59dafc8-ed8a-4a47-b0af-29903205985c] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:01:17] ERROR    [agent_fsm:1102] [c59dafc8-ed8a-4a47-b0af-29903205985c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:17] WARNING  [agent_fsm:1224] [c59dafc8-ed8a-4a47-b0af-29903205985c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:17] ERROR    [agent_fsm:1078] [c59dafc8-ed8a-4a47-b0af-29903205985c] --- FSM STATE: ERROR ---
[2025-06-18 13:01:17] ERROR    [agent_fsm:1101] [c59dafc8-ed8a-4a47-b0af-29903205985c] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:01:17] ERROR    [agent_fsm:1102] [c59dafc8-ed8a-4a47-b0af-29903205985c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:17] WARNING  [agent_fsm:1224] [c59dafc8-ed8a-4a47-b0af-29903205985c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:17] ERROR    [agent_fsm:1078] [c59dafc8-ed8a-4a47-b0af-29903205985c] --- FSM STATE: ERROR ---
[2025-06-18 13:01:17] ERROR    [agent_fsm:1101] [c59dafc8-ed8a-4a47-b0af-29903205985c] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:01:17] ERROR    [agent_fsm:1102] [c59dafc8-ed8a-4a47-b0af-29903205985c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:17] WARNING  [agent_fsm:1224] [c59dafc8-ed8a-4a47-b0af-29903205985c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:17] ERROR    [agent_fsm:1078] [c59dafc8-ed8a-4a47-b0af-29903205985c] --- FSM STATE: ERROR ---
[2025-06-18 13:01:17] ERROR    [agent_fsm:1101] [c59dafc8-ed8a-4a47-b0af-29903205985c] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:01:17] ERROR    [agent_fsm:1102] [c59dafc8-ed8a-4a47-b0af-29903205985c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:17] WARNING  [agent_fsm:1224] [c59dafc8-ed8a-4a47-b0af-29903205985c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:17] ERROR    [agent_fsm:1078] [c59dafc8-ed8a-4a47-b0af-29903205985c] --- FSM STATE: ERROR ---
[2025-06-18 13:01:17] ERROR    [agent_fsm:1101] [c59dafc8-ed8a-4a47-b0af-29903205985c] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:01:17] ERROR    [agent_fsm:1102] [c59dafc8-ed8a-4a47-b0af-29903205985c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:17] WARNING  [agent_fsm:1224] [c59dafc8-ed8a-4a47-b0af-29903205985c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:17] ERROR    [agent_fsm:1078] [c59dafc8-ed8a-4a47-b0af-29903205985c] --- FSM STATE: ERROR ---
[2025-06-18 13:01:17] ERROR    [agent_fsm:1101] [c59dafc8-ed8a-4a47-b0af-29903205985c] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:01:17] ERROR    [agent_fsm:1102] [c59dafc8-ed8a-4a47-b0af-29903205985c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:17] WARNING  [agent_fsm:1224] [c59dafc8-ed8a-4a47-b0af-29903205985c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:17] ERROR    [agent_fsm:1078] [c59dafc8-ed8a-4a47-b0af-29903205985c] --- FSM STATE: ERROR ---
[2025-06-18 13:01:17] ERROR    [agent_fsm:1101] [c59dafc8-ed8a-4a47-b0af-29903205985c] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:01:17] ERROR    [agent_fsm:1102] [c59dafc8-ed8a-4a47-b0af-29903205985c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:17] WARNING  [agent_fsm:1224] [c59dafc8-ed8a-4a47-b0af-29903205985c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:17] ERROR    [agent_fsm:1078] [c59dafc8-ed8a-4a47-b0af-29903205985c] --- FSM STATE: ERROR ---
[2025-06-18 13:01:17] ERROR    [agent_fsm:1101] [c59dafc8-ed8a-4a47-b0af-29903205985c] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:01:17] ERROR    [agent_fsm:1102] [c59dafc8-ed8a-4a47-b0af-29903205985c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:17] WARNING  [agent_fsm:1224] [c59dafc8-ed8a-4a47-b0af-29903205985c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:17] ERROR    [agent_fsm:1078] [c59dafc8-ed8a-4a47-b0af-29903205985c] --- FSM STATE: ERROR ---
[2025-06-18 13:01:17] ERROR    [agent_fsm:1101] [c59dafc8-ed8a-4a47-b0af-29903205985c] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:01:17] ERROR    [agent_fsm:1102] [c59dafc8-ed8a-4a47-b0af-29903205985c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:17] WARNING  [agent_fsm:1224] [c59dafc8-ed8a-4a47-b0af-29903205985c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:17] ERROR    [agent_fsm:1078] [c59dafc8-ed8a-4a47-b0af-29903205985c] --- FSM STATE: ERROR ---
[2025-06-18 13:01:17] ERROR    [agent_fsm:1101] [c59dafc8-ed8a-4a47-b0af-29903205985c] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:01:17] ERROR    [agent_fsm:1102] [c59dafc8-ed8a-4a47-b0af-29903205985c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:17] WARNING  [agent_fsm:1224] [c59dafc8-ed8a-4a47-b0af-29903205985c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:17] ERROR    [agent_fsm:1078] [c59dafc8-ed8a-4a47-b0af-29903205985c] --- FSM STATE: ERROR ---
[2025-06-18 13:01:17] ERROR    [agent_fsm:1101] [c59dafc8-ed8a-4a47-b0af-29903205985c] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:01:17] ERROR    [agent_fsm:1102] [c59dafc8-ed8a-4a47-b0af-29903205985c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:17] WARNING  [agent_fsm:1224] [c59dafc8-ed8a-4a47-b0af-29903205985c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:17] ERROR    [agent_fsm:1078] [c59dafc8-ed8a-4a47-b0af-29903205985c] --- FSM STATE: ERROR ---
[2025-06-18 13:01:17] ERROR    [agent_fsm:1101] [c59dafc8-ed8a-4a47-b0af-29903205985c] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:01:17] ERROR    [agent_fsm:1102] [c59dafc8-ed8a-4a47-b0af-29903205985c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:17] WARNING  [agent_fsm:1224] [c59dafc8-ed8a-4a47-b0af-29903205985c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:17] ERROR    [agent_fsm:1078] [c59dafc8-ed8a-4a47-b0af-29903205985c] --- FSM STATE: ERROR ---
[2025-06-18 13:01:17] ERROR    [agent_fsm:1101] [c59dafc8-ed8a-4a47-b0af-29903205985c] Error category: GENERAL, Occurrences: 19
[2025-06-18 13:01:17] ERROR    [agent_fsm:1102] [c59dafc8-ed8a-4a47-b0af-29903205985c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:17] WARNING  [agent_fsm:1224] [c59dafc8-ed8a-4a47-b0af-29903205985c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:17] ERROR    [agent_fsm:1837] [c59dafc8-ed8a-4a47-b0af-29903205985c] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:01:17] INFO     [agent_fsm:1752] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Starting resilient FSM execution
[2025-06-18 13:01:17] INFO     [agent_fsm:1807] [abb5a76e-0a30-4283-b027-55ad493f5fdc] FSM STATE: INITIAL
[2025-06-18 13:01:17] INFO     [agent_fsm:665] [abb5a76e-0a30-4283-b027-55ad493f5fdc] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:01:17] DEBUG    [agent_fsm:680] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Turn count: 1, Action history length: 1
[2025-06-18 13:01:18] WARNING  [agent_fsm:1521] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:01:18] WARNING  [agent_fsm:1521] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 13:01:18] INFO     [agent_fsm:773] [abb5a76e-0a30-4283-b027-55ad493f5fdc] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:01:18] INFO     [agent_fsm:820] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Executing tool: advanced_file_reader with input: {'filename': 'path/to/sales_data.xlsx'}
[2025-06-18 13:01:18] INFO     [agent_fsm:922] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Tool execution completed
[2025-06-18 13:01:18] INFO     [agent_fsm:773] [abb5a76e-0a30-4283-b027-55ad493f5fdc] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:01:18] WARNING  [agent_fsm:803] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:01:18] INFO     [agent_fsm:665] [abb5a76e-0a30-4283-b027-55ad493f5fdc] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:01:18] DEBUG    [agent_fsm:680] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Turn count: 2, Action history length: 2
[2025-06-18 13:01:19] WARNING  [agent_fsm:1521] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:01:19] WARNING  [agent_fsm:1521] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:01:19] WARNING  [agent_fsm:1521] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:01:19] WARNING  [agent_fsm:1521] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 13:01:19] WARNING  [agent_fsm:1521] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 13:01:19] INFO     [agent_fsm:773] [abb5a76e-0a30-4283-b027-55ad493f5fdc] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:01:19] INFO     [agent_fsm:820] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Executing tool: advanced_file_reader with input: {'filename': 'path/to/file.xlsx'}
[2025-06-18 13:01:19] INFO     [agent_fsm:922] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Tool execution completed
[2025-06-18 13:01:19] INFO     [agent_fsm:773] [abb5a76e-0a30-4283-b027-55ad493f5fdc] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:01:19] WARNING  [agent_fsm:803] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:01:19] INFO     [agent_fsm:665] [abb5a76e-0a30-4283-b027-55ad493f5fdc] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:01:19] DEBUG    [agent_fsm:680] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Turn count: 3, Action history length: 3
[2025-06-18 13:01:20] WARNING  [agent_fsm:1224] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:20] ERROR    [agent_fsm:1078] [abb5a76e-0a30-4283-b027-55ad493f5fdc] --- FSM STATE: ERROR ---
[2025-06-18 13:01:20] ERROR    [agent_fsm:1101] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:01:20] ERROR    [agent_fsm:1102] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:20] WARNING  [agent_fsm:1224] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:20] ERROR    [agent_fsm:1078] [abb5a76e-0a30-4283-b027-55ad493f5fdc] --- FSM STATE: ERROR ---
[2025-06-18 13:01:20] ERROR    [agent_fsm:1101] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:01:20] ERROR    [agent_fsm:1102] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:20] WARNING  [agent_fsm:1224] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:20] ERROR    [agent_fsm:1078] [abb5a76e-0a30-4283-b027-55ad493f5fdc] --- FSM STATE: ERROR ---
[2025-06-18 13:01:20] ERROR    [agent_fsm:1101] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:01:20] ERROR    [agent_fsm:1102] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:20] WARNING  [agent_fsm:1224] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:20] ERROR    [agent_fsm:1078] [abb5a76e-0a30-4283-b027-55ad493f5fdc] --- FSM STATE: ERROR ---
[2025-06-18 13:01:20] ERROR    [agent_fsm:1101] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:01:20] ERROR    [agent_fsm:1102] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:20] WARNING  [agent_fsm:1224] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:20] ERROR    [agent_fsm:1078] [abb5a76e-0a30-4283-b027-55ad493f5fdc] --- FSM STATE: ERROR ---
[2025-06-18 13:01:20] ERROR    [agent_fsm:1101] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:01:20] ERROR    [agent_fsm:1102] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:20] WARNING  [agent_fsm:1224] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:20] ERROR    [agent_fsm:1078] [abb5a76e-0a30-4283-b027-55ad493f5fdc] --- FSM STATE: ERROR ---
[2025-06-18 13:01:20] ERROR    [agent_fsm:1101] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:01:20] ERROR    [agent_fsm:1102] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:20] WARNING  [agent_fsm:1224] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:20] ERROR    [agent_fsm:1078] [abb5a76e-0a30-4283-b027-55ad493f5fdc] --- FSM STATE: ERROR ---
[2025-06-18 13:01:20] ERROR    [agent_fsm:1101] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:01:20] ERROR    [agent_fsm:1102] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:20] WARNING  [agent_fsm:1224] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:20] ERROR    [agent_fsm:1078] [abb5a76e-0a30-4283-b027-55ad493f5fdc] --- FSM STATE: ERROR ---
[2025-06-18 13:01:20] ERROR    [agent_fsm:1101] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:01:20] ERROR    [agent_fsm:1102] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:20] WARNING  [agent_fsm:1224] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:20] ERROR    [agent_fsm:1078] [abb5a76e-0a30-4283-b027-55ad493f5fdc] --- FSM STATE: ERROR ---
[2025-06-18 13:01:20] ERROR    [agent_fsm:1101] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:01:20] ERROR    [agent_fsm:1102] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:20] WARNING  [agent_fsm:1224] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:20] ERROR    [agent_fsm:1078] [abb5a76e-0a30-4283-b027-55ad493f5fdc] --- FSM STATE: ERROR ---
[2025-06-18 13:01:20] ERROR    [agent_fsm:1101] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:01:20] ERROR    [agent_fsm:1102] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:20] WARNING  [agent_fsm:1224] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:20] ERROR    [agent_fsm:1078] [abb5a76e-0a30-4283-b027-55ad493f5fdc] --- FSM STATE: ERROR ---
[2025-06-18 13:01:20] ERROR    [agent_fsm:1101] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:01:20] ERROR    [agent_fsm:1102] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:20] WARNING  [agent_fsm:1224] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:20] ERROR    [agent_fsm:1078] [abb5a76e-0a30-4283-b027-55ad493f5fdc] --- FSM STATE: ERROR ---
[2025-06-18 13:01:20] ERROR    [agent_fsm:1101] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:01:20] ERROR    [agent_fsm:1102] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:20] WARNING  [agent_fsm:1224] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:20] ERROR    [agent_fsm:1078] [abb5a76e-0a30-4283-b027-55ad493f5fdc] --- FSM STATE: ERROR ---
[2025-06-18 13:01:20] ERROR    [agent_fsm:1101] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:01:20] ERROR    [agent_fsm:1102] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:20] WARNING  [agent_fsm:1224] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:20] ERROR    [agent_fsm:1078] [abb5a76e-0a30-4283-b027-55ad493f5fdc] --- FSM STATE: ERROR ---
[2025-06-18 13:01:20] ERROR    [agent_fsm:1101] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:01:20] ERROR    [agent_fsm:1102] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:20] WARNING  [agent_fsm:1224] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:20] ERROR    [agent_fsm:1078] [abb5a76e-0a30-4283-b027-55ad493f5fdc] --- FSM STATE: ERROR ---
[2025-06-18 13:01:20] ERROR    [agent_fsm:1101] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:01:20] ERROR    [agent_fsm:1102] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:20] WARNING  [agent_fsm:1224] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:20] ERROR    [agent_fsm:1078] [abb5a76e-0a30-4283-b027-55ad493f5fdc] --- FSM STATE: ERROR ---
[2025-06-18 13:01:20] ERROR    [agent_fsm:1101] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:01:20] ERROR    [agent_fsm:1102] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:20] WARNING  [agent_fsm:1224] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:20] ERROR    [agent_fsm:1078] [abb5a76e-0a30-4283-b027-55ad493f5fdc] --- FSM STATE: ERROR ---
[2025-06-18 13:01:20] ERROR    [agent_fsm:1101] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:01:20] ERROR    [agent_fsm:1102] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:20] WARNING  [agent_fsm:1224] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:20] ERROR    [agent_fsm:1078] [abb5a76e-0a30-4283-b027-55ad493f5fdc] --- FSM STATE: ERROR ---
[2025-06-18 13:01:20] ERROR    [agent_fsm:1101] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:01:20] ERROR    [agent_fsm:1102] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:20] WARNING  [agent_fsm:1224] [abb5a76e-0a30-4283-b027-55ad493f5fdc] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:20] ERROR    [agent_fsm:1837] [abb5a76e-0a30-4283-b027-55ad493f5fdc] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:01:20] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 13:01:20] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 13:01:20] INFO     [agent_fsm:570] [695aad5b-1d2a-44fe-beee-d7fcc9d5bd68] Building resilient FSM graph
[2025-06-18 13:01:21] INFO     [agent_fsm:572] [695aad5b-1d2a-44fe-beee-d7fcc9d5bd68] FSMReActAgent graph built successfully
[2025-06-18 13:01:21] INFO     [agent_fsm:1752] [5d412edd-7a84-4eca-bf8b-b94e689d7e1d] Starting resilient FSM execution
[2025-06-18 13:01:21] WARNING  [agent_fsm:1759] [5d412edd-7a84-4eca-bf8b-b94e689d7e1d] FSM agent rejecting invalid input: '{{' - 1 validation error for ValidatedQuery
query
  Value error, Invalid placeholder query received: '{{' [type=value_error, input_value='{{', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/value_error
[2025-06-18 13:01:21] INFO     [agent_fsm:1752] [1036690f-9dbd-439e-8b48-633ab89b7891] Starting resilient FSM execution
[2025-06-18 13:01:21] INFO     [agent_fsm:1807] [1036690f-9dbd-439e-8b48-633ab89b7891] FSM STATE: INITIAL
[2025-06-18 13:01:21] INFO     [agent_fsm:665] [1036690f-9dbd-439e-8b48-633ab89b7891] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:01:21] DEBUG    [agent_fsm:680] [1036690f-9dbd-439e-8b48-633ab89b7891] Turn count: 1, Action history length: 1
[2025-06-18 13:01:22] WARNING  [agent_fsm:1333] [1036690f-9dbd-439e-8b48-633ab89b7891] Tool image_analyzer not found in registry, will use stub
[2025-06-18 13:01:22] INFO     [agent_fsm:773] [1036690f-9dbd-439e-8b48-633ab89b7891] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:01:22] INFO     [agent_fsm:820] [1036690f-9dbd-439e-8b48-633ab89b7891] Executing tool: web_researcher with input: {'query': 'What is 2 + 2?', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 13:01:22] INFO     [agent_fsm:922] [1036690f-9dbd-439e-8b48-633ab89b7891] Tool execution completed
[2025-06-18 13:01:22] INFO     [agent_fsm:773] [1036690f-9dbd-439e-8b48-633ab89b7891] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:01:22] WARNING  [agent_fsm:803] [1036690f-9dbd-439e-8b48-633ab89b7891] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:01:22] INFO     [agent_fsm:665] [1036690f-9dbd-439e-8b48-633ab89b7891] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:01:22] DEBUG    [agent_fsm:680] [1036690f-9dbd-439e-8b48-633ab89b7891] Turn count: 2, Action history length: 2
[2025-06-18 13:01:23] INFO     [agent_fsm:773] [1036690f-9dbd-439e-8b48-633ab89b7891] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:01:23] INFO     [agent_fsm:820] [1036690f-9dbd-439e-8b48-633ab89b7891] Executing tool: semantic_search_tool with input: {'query': 'What is 2 + 2?', 'filename': 'knowledge_base.csv', 'top_k': 3}
[2025-06-18 13:01:23] INFO     [agent_fsm:922] [1036690f-9dbd-439e-8b48-633ab89b7891] Tool execution completed
[2025-06-18 13:01:23] INFO     [agent_fsm:773] [1036690f-9dbd-439e-8b48-633ab89b7891] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:01:23] WARNING  [agent_fsm:803] [1036690f-9dbd-439e-8b48-633ab89b7891] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:01:23] INFO     [agent_fsm:665] [1036690f-9dbd-439e-8b48-633ab89b7891] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:01:23] DEBUG    [agent_fsm:680] [1036690f-9dbd-439e-8b48-633ab89b7891] Turn count: 3, Action history length: 3
[2025-06-18 13:01:24] WARNING  [agent_fsm:1224] [1036690f-9dbd-439e-8b48-633ab89b7891] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:24] ERROR    [agent_fsm:1078] [1036690f-9dbd-439e-8b48-633ab89b7891] --- FSM STATE: ERROR ---
[2025-06-18 13:01:24] ERROR    [agent_fsm:1101] [1036690f-9dbd-439e-8b48-633ab89b7891] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:01:24] ERROR    [agent_fsm:1102] [1036690f-9dbd-439e-8b48-633ab89b7891] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:24] WARNING  [agent_fsm:1224] [1036690f-9dbd-439e-8b48-633ab89b7891] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:24] ERROR    [agent_fsm:1078] [1036690f-9dbd-439e-8b48-633ab89b7891] --- FSM STATE: ERROR ---
[2025-06-18 13:01:24] ERROR    [agent_fsm:1101] [1036690f-9dbd-439e-8b48-633ab89b7891] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:01:24] ERROR    [agent_fsm:1102] [1036690f-9dbd-439e-8b48-633ab89b7891] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:24] WARNING  [agent_fsm:1224] [1036690f-9dbd-439e-8b48-633ab89b7891] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:24] ERROR    [agent_fsm:1078] [1036690f-9dbd-439e-8b48-633ab89b7891] --- FSM STATE: ERROR ---
[2025-06-18 13:01:24] ERROR    [agent_fsm:1101] [1036690f-9dbd-439e-8b48-633ab89b7891] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:01:24] ERROR    [agent_fsm:1102] [1036690f-9dbd-439e-8b48-633ab89b7891] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:24] WARNING  [agent_fsm:1224] [1036690f-9dbd-439e-8b48-633ab89b7891] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:24] ERROR    [agent_fsm:1078] [1036690f-9dbd-439e-8b48-633ab89b7891] --- FSM STATE: ERROR ---
[2025-06-18 13:01:24] ERROR    [agent_fsm:1101] [1036690f-9dbd-439e-8b48-633ab89b7891] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:01:24] ERROR    [agent_fsm:1102] [1036690f-9dbd-439e-8b48-633ab89b7891] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:24] WARNING  [agent_fsm:1224] [1036690f-9dbd-439e-8b48-633ab89b7891] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:24] ERROR    [agent_fsm:1078] [1036690f-9dbd-439e-8b48-633ab89b7891] --- FSM STATE: ERROR ---
[2025-06-18 13:01:24] ERROR    [agent_fsm:1101] [1036690f-9dbd-439e-8b48-633ab89b7891] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:01:24] ERROR    [agent_fsm:1102] [1036690f-9dbd-439e-8b48-633ab89b7891] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:24] WARNING  [agent_fsm:1224] [1036690f-9dbd-439e-8b48-633ab89b7891] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:24] ERROR    [agent_fsm:1078] [1036690f-9dbd-439e-8b48-633ab89b7891] --- FSM STATE: ERROR ---
[2025-06-18 13:01:24] ERROR    [agent_fsm:1101] [1036690f-9dbd-439e-8b48-633ab89b7891] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:01:24] ERROR    [agent_fsm:1102] [1036690f-9dbd-439e-8b48-633ab89b7891] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:24] WARNING  [agent_fsm:1224] [1036690f-9dbd-439e-8b48-633ab89b7891] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:24] ERROR    [agent_fsm:1078] [1036690f-9dbd-439e-8b48-633ab89b7891] --- FSM STATE: ERROR ---
[2025-06-18 13:01:24] ERROR    [agent_fsm:1101] [1036690f-9dbd-439e-8b48-633ab89b7891] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:01:24] ERROR    [agent_fsm:1102] [1036690f-9dbd-439e-8b48-633ab89b7891] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:24] WARNING  [agent_fsm:1224] [1036690f-9dbd-439e-8b48-633ab89b7891] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:24] ERROR    [agent_fsm:1078] [1036690f-9dbd-439e-8b48-633ab89b7891] --- FSM STATE: ERROR ---
[2025-06-18 13:01:24] ERROR    [agent_fsm:1101] [1036690f-9dbd-439e-8b48-633ab89b7891] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:01:24] ERROR    [agent_fsm:1102] [1036690f-9dbd-439e-8b48-633ab89b7891] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:24] WARNING  [agent_fsm:1224] [1036690f-9dbd-439e-8b48-633ab89b7891] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:24] ERROR    [agent_fsm:1078] [1036690f-9dbd-439e-8b48-633ab89b7891] --- FSM STATE: ERROR ---
[2025-06-18 13:01:24] ERROR    [agent_fsm:1101] [1036690f-9dbd-439e-8b48-633ab89b7891] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:01:24] ERROR    [agent_fsm:1102] [1036690f-9dbd-439e-8b48-633ab89b7891] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:24] WARNING  [agent_fsm:1224] [1036690f-9dbd-439e-8b48-633ab89b7891] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:24] ERROR    [agent_fsm:1078] [1036690f-9dbd-439e-8b48-633ab89b7891] --- FSM STATE: ERROR ---
[2025-06-18 13:01:24] ERROR    [agent_fsm:1101] [1036690f-9dbd-439e-8b48-633ab89b7891] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:01:24] ERROR    [agent_fsm:1102] [1036690f-9dbd-439e-8b48-633ab89b7891] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:24] WARNING  [agent_fsm:1224] [1036690f-9dbd-439e-8b48-633ab89b7891] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:24] ERROR    [agent_fsm:1078] [1036690f-9dbd-439e-8b48-633ab89b7891] --- FSM STATE: ERROR ---
[2025-06-18 13:01:24] ERROR    [agent_fsm:1101] [1036690f-9dbd-439e-8b48-633ab89b7891] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:01:24] ERROR    [agent_fsm:1102] [1036690f-9dbd-439e-8b48-633ab89b7891] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:24] WARNING  [agent_fsm:1224] [1036690f-9dbd-439e-8b48-633ab89b7891] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:24] ERROR    [agent_fsm:1078] [1036690f-9dbd-439e-8b48-633ab89b7891] --- FSM STATE: ERROR ---
[2025-06-18 13:01:24] ERROR    [agent_fsm:1101] [1036690f-9dbd-439e-8b48-633ab89b7891] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:01:24] ERROR    [agent_fsm:1102] [1036690f-9dbd-439e-8b48-633ab89b7891] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:24] WARNING  [agent_fsm:1224] [1036690f-9dbd-439e-8b48-633ab89b7891] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:24] ERROR    [agent_fsm:1078] [1036690f-9dbd-439e-8b48-633ab89b7891] --- FSM STATE: ERROR ---
[2025-06-18 13:01:24] ERROR    [agent_fsm:1101] [1036690f-9dbd-439e-8b48-633ab89b7891] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:01:24] ERROR    [agent_fsm:1102] [1036690f-9dbd-439e-8b48-633ab89b7891] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:24] WARNING  [agent_fsm:1224] [1036690f-9dbd-439e-8b48-633ab89b7891] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:24] ERROR    [agent_fsm:1078] [1036690f-9dbd-439e-8b48-633ab89b7891] --- FSM STATE: ERROR ---
[2025-06-18 13:01:24] ERROR    [agent_fsm:1101] [1036690f-9dbd-439e-8b48-633ab89b7891] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:01:24] ERROR    [agent_fsm:1102] [1036690f-9dbd-439e-8b48-633ab89b7891] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:24] WARNING  [agent_fsm:1224] [1036690f-9dbd-439e-8b48-633ab89b7891] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:24] ERROR    [agent_fsm:1078] [1036690f-9dbd-439e-8b48-633ab89b7891] --- FSM STATE: ERROR ---
[2025-06-18 13:01:24] ERROR    [agent_fsm:1101] [1036690f-9dbd-439e-8b48-633ab89b7891] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:01:24] ERROR    [agent_fsm:1102] [1036690f-9dbd-439e-8b48-633ab89b7891] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:24] WARNING  [agent_fsm:1224] [1036690f-9dbd-439e-8b48-633ab89b7891] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:24] ERROR    [agent_fsm:1078] [1036690f-9dbd-439e-8b48-633ab89b7891] --- FSM STATE: ERROR ---
[2025-06-18 13:01:24] ERROR    [agent_fsm:1101] [1036690f-9dbd-439e-8b48-633ab89b7891] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:01:24] ERROR    [agent_fsm:1102] [1036690f-9dbd-439e-8b48-633ab89b7891] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:24] WARNING  [agent_fsm:1224] [1036690f-9dbd-439e-8b48-633ab89b7891] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:24] ERROR    [agent_fsm:1078] [1036690f-9dbd-439e-8b48-633ab89b7891] --- FSM STATE: ERROR ---
[2025-06-18 13:01:24] ERROR    [agent_fsm:1101] [1036690f-9dbd-439e-8b48-633ab89b7891] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:01:24] ERROR    [agent_fsm:1102] [1036690f-9dbd-439e-8b48-633ab89b7891] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:24] WARNING  [agent_fsm:1224] [1036690f-9dbd-439e-8b48-633ab89b7891] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:24] ERROR    [agent_fsm:1078] [1036690f-9dbd-439e-8b48-633ab89b7891] --- FSM STATE: ERROR ---
[2025-06-18 13:01:24] ERROR    [agent_fsm:1101] [1036690f-9dbd-439e-8b48-633ab89b7891] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:01:24] ERROR    [agent_fsm:1102] [1036690f-9dbd-439e-8b48-633ab89b7891] Errors: ['Duplicate tool call detected']
[2025-06-18 13:01:24] WARNING  [agent_fsm:1224] [1036690f-9dbd-439e-8b48-633ab89b7891] Direct loop detected - same action repeated 3 times
[2025-06-18 13:01:24] ERROR    [agent_fsm:1837] [1036690f-9dbd-439e-8b48-633ab89b7891] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:01:24] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 13:01:24] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 13:01:24] INFO     [agent_fsm:570] [2d0bd36b-10b9-4ca6-bed3-e63dbbe6b0f4] Building resilient FSM graph
[2025-06-18 13:01:24] INFO     [agent_fsm:572] [2d0bd36b-10b9-4ca6-bed3-e63dbbe6b0f4] FSMReActAgent graph built successfully
[2025-06-18 13:03:18] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 13:03:18] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 13:03:18] INFO     [agent_fsm:570] [2e4da976-723f-498a-9c2a-6c7a00ef1d85] Building resilient FSM graph
[2025-06-18 13:03:18] INFO     [agent_fsm:572] [2e4da976-723f-498a-9c2a-6c7a00ef1d85] FSMReActAgent graph built successfully
[2025-06-18 13:03:18] INFO     [agent_fsm:1752] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Starting resilient FSM execution
[2025-06-18 13:03:18] INFO     [agent_fsm:1807] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] FSM STATE: INITIAL
[2025-06-18 13:03:18] INFO     [agent_fsm:665] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:03:18] DEBUG    [agent_fsm:680] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Turn count: 1, Action history length: 1
[2025-06-18 13:03:19] INFO     [agent_fsm:773] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:03:19] INFO     [agent_fsm:820] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Executing tool: web_researcher with input: {'query': 'Capital of France', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 13:03:19] INFO     [agent_fsm:922] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Tool execution completed
[2025-06-18 13:03:19] INFO     [agent_fsm:773] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:03:19] WARNING  [agent_fsm:803] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:03:19] INFO     [agent_fsm:665] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:03:19] DEBUG    [agent_fsm:680] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Turn count: 2, Action history length: 2
[2025-06-18 13:03:20] WARNING  [agent_fsm:1521] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:03:20] INFO     [agent_fsm:773] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:03:20] INFO     [agent_fsm:820] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:03:20] ERROR    [agent_fsm:840] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Tool execution failed: BaseTool.__call__() got an unexpected keyword argument 'query'
[2025-06-18 13:03:20] INFO     [agent_fsm:853] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Trying alternative tool: web_researcher
[2025-06-18 13:03:20] INFO     [agent_fsm:922] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Tool execution completed
[2025-06-18 13:03:20] INFO     [agent_fsm:773] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:03:20] INFO     [agent_fsm:820] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:03:20] ERROR    [agent_fsm:840] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Tool execution failed: BaseTool.__call__() got an unexpected keyword argument 'query'
[2025-06-18 13:03:20] INFO     [agent_fsm:853] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Trying alternative tool: web_researcher
[2025-06-18 13:03:20] INFO     [agent_fsm:922] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Tool execution completed
[2025-06-18 13:03:20] INFO     [agent_fsm:773] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] --- FSM STATE: TOOL_EXECUTION (Step 4) ---
[2025-06-18 13:03:20] INFO     [agent_fsm:820] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:03:20] ERROR    [agent_fsm:840] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Tool execution failed: BaseTool.__call__() got an unexpected keyword argument 'query'
[2025-06-18 13:03:20] INFO     [agent_fsm:853] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Trying alternative tool: web_researcher
[2025-06-18 13:03:20] INFO     [agent_fsm:922] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Tool execution completed
[2025-06-18 13:03:20] INFO     [agent_fsm:773] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] --- FSM STATE: TOOL_EXECUTION (Step 5) ---
[2025-06-18 13:03:20] INFO     [agent_fsm:820] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:03:20] WARNING  [agent_fsm:831] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 13:03:20] INFO     [agent_fsm:922] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Tool execution completed
[2025-06-18 13:03:20] INFO     [agent_fsm:773] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] --- FSM STATE: TOOL_EXECUTION (Step 6) ---
[2025-06-18 13:03:20] INFO     [agent_fsm:820] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:03:20] WARNING  [agent_fsm:831] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 13:03:20] INFO     [agent_fsm:922] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Tool execution completed
[2025-06-18 13:03:20] INFO     [agent_fsm:773] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] --- FSM STATE: TOOL_EXECUTION (Step 7) ---
[2025-06-18 13:03:20] INFO     [agent_fsm:820] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:03:20] WARNING  [agent_fsm:831] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 13:03:20] INFO     [agent_fsm:922] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Tool execution completed
[2025-06-18 13:03:20] INFO     [agent_fsm:773] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] --- FSM STATE: TOOL_EXECUTION (Step 8) ---
[2025-06-18 13:03:20] INFO     [agent_fsm:820] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:03:20] WARNING  [agent_fsm:831] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 13:03:20] INFO     [agent_fsm:922] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Tool execution completed
[2025-06-18 13:03:20] INFO     [agent_fsm:773] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] --- FSM STATE: TOOL_EXECUTION (Step 9) ---
[2025-06-18 13:03:20] INFO     [agent_fsm:820] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:03:20] WARNING  [agent_fsm:831] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 13:03:20] INFO     [agent_fsm:922] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Tool execution completed
[2025-06-18 13:03:20] INFO     [agent_fsm:773] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] --- FSM STATE: TOOL_EXECUTION (Step 10) ---
[2025-06-18 13:03:20] INFO     [agent_fsm:820] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:03:20] WARNING  [agent_fsm:831] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 13:03:20] INFO     [agent_fsm:922] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Tool execution completed
[2025-06-18 13:03:20] INFO     [agent_fsm:773] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] --- FSM STATE: TOOL_EXECUTION (Step 11) ---
[2025-06-18 13:03:20] INFO     [agent_fsm:820] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:03:20] WARNING  [agent_fsm:831] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 13:03:20] INFO     [agent_fsm:922] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Tool execution completed
[2025-06-18 13:03:20] INFO     [agent_fsm:773] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] --- FSM STATE: TOOL_EXECUTION (Step 12) ---
[2025-06-18 13:03:20] INFO     [agent_fsm:820] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:03:20] WARNING  [agent_fsm:831] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 13:03:20] INFO     [agent_fsm:922] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Tool execution completed
[2025-06-18 13:03:20] INFO     [agent_fsm:773] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] --- FSM STATE: TOOL_EXECUTION (Step 13) ---
[2025-06-18 13:03:20] INFO     [agent_fsm:820] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:03:20] WARNING  [agent_fsm:831] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 13:03:20] INFO     [agent_fsm:922] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Tool execution completed
[2025-06-18 13:03:20] INFO     [agent_fsm:773] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] --- FSM STATE: TOOL_EXECUTION (Step 14) ---
[2025-06-18 13:03:20] INFO     [agent_fsm:820] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:03:20] WARNING  [agent_fsm:831] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 13:03:20] INFO     [agent_fsm:922] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Tool execution completed
[2025-06-18 13:03:20] INFO     [agent_fsm:773] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] --- FSM STATE: TOOL_EXECUTION (Step 15) ---
[2025-06-18 13:03:20] INFO     [agent_fsm:820] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:03:20] WARNING  [agent_fsm:831] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 13:03:20] INFO     [agent_fsm:922] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Tool execution completed
[2025-06-18 13:03:20] INFO     [agent_fsm:773] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] --- FSM STATE: TOOL_EXECUTION (Step 16) ---
[2025-06-18 13:03:20] INFO     [agent_fsm:820] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:03:20] WARNING  [agent_fsm:831] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 13:03:20] INFO     [agent_fsm:922] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Tool execution completed
[2025-06-18 13:03:20] INFO     [agent_fsm:773] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] --- FSM STATE: TOOL_EXECUTION (Step 17) ---
[2025-06-18 13:03:20] INFO     [agent_fsm:820] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:03:20] WARNING  [agent_fsm:831] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 13:03:20] INFO     [agent_fsm:922] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Tool execution completed
[2025-06-18 13:03:20] INFO     [agent_fsm:773] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] --- FSM STATE: TOOL_EXECUTION (Step 18) ---
[2025-06-18 13:03:20] INFO     [agent_fsm:820] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:03:20] WARNING  [agent_fsm:831] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 13:03:20] INFO     [agent_fsm:922] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Tool execution completed
[2025-06-18 13:03:20] INFO     [agent_fsm:773] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] --- FSM STATE: TOOL_EXECUTION (Step 19) ---
[2025-06-18 13:03:20] INFO     [agent_fsm:820] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:03:20] WARNING  [agent_fsm:831] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 13:03:20] INFO     [agent_fsm:922] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Tool execution completed
[2025-06-18 13:03:20] WARNING  [agent_fsm:1229] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Max steps (20) reached, terminating
[2025-06-18 13:03:20] ERROR    [agent_fsm:1078] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] --- FSM STATE: ERROR ---
[2025-06-18 13:03:20] ERROR    [agent_fsm:1101] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:03:20] ERROR    [agent_fsm:1102] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:20] WARNING  [agent_fsm:1229] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Max steps (20) reached, terminating
[2025-06-18 13:03:20] ERROR    [agent_fsm:1078] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] --- FSM STATE: ERROR ---
[2025-06-18 13:03:20] ERROR    [agent_fsm:1101] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:03:20] ERROR    [agent_fsm:1102] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:20] WARNING  [agent_fsm:1229] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Max steps (20) reached, terminating
[2025-06-18 13:03:20] ERROR    [agent_fsm:1078] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] --- FSM STATE: ERROR ---
[2025-06-18 13:03:20] ERROR    [agent_fsm:1101] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:03:20] ERROR    [agent_fsm:1102] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:20] WARNING  [agent_fsm:1229] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] Max steps (20) reached, terminating
[2025-06-18 13:03:20] ERROR    [agent_fsm:1837] [2826db24-0cb3-4ea6-bb0a-e4c7030d561a] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:03:20] INFO     [agent_fsm:1752] [60fae373-973c-4e93-8414-3900d9f9c7ff] Starting resilient FSM execution
[2025-06-18 13:03:20] INFO     [agent_fsm:1807] [60fae373-973c-4e93-8414-3900d9f9c7ff] FSM STATE: INITIAL
[2025-06-18 13:03:20] INFO     [agent_fsm:665] [60fae373-973c-4e93-8414-3900d9f9c7ff] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:03:20] DEBUG    [agent_fsm:680] [60fae373-973c-4e93-8414-3900d9f9c7ff] Turn count: 1, Action history length: 1
[2025-06-18 13:03:21] INFO     [agent_fsm:773] [60fae373-973c-4e93-8414-3900d9f9c7ff] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:03:21] INFO     [agent_fsm:820] [60fae373-973c-4e93-8414-3900d9f9c7ff] Executing tool: web_researcher with input: {'query': 'definition of a leap year', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 13:03:21] INFO     [agent_fsm:922] [60fae373-973c-4e93-8414-3900d9f9c7ff] Tool execution completed
[2025-06-18 13:03:21] INFO     [agent_fsm:773] [60fae373-973c-4e93-8414-3900d9f9c7ff] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:03:21] WARNING  [agent_fsm:803] [60fae373-973c-4e93-8414-3900d9f9c7ff] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:03:21] INFO     [agent_fsm:665] [60fae373-973c-4e93-8414-3900d9f9c7ff] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:03:21] DEBUG    [agent_fsm:680] [60fae373-973c-4e93-8414-3900d9f9c7ff] Turn count: 2, Action history length: 2
[2025-06-18 13:03:22] INFO     [agent_fsm:773] [60fae373-973c-4e93-8414-3900d9f9c7ff] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:03:22] INFO     [agent_fsm:820] [60fae373-973c-4e93-8414-3900d9f9c7ff] Executing tool: semantic_search_tool with input: {'query': 'characteristics of a leap year', 'filename': 'knowledge_base.csv', 'top_k': 3}
[2025-06-18 13:03:22] INFO     [agent_fsm:922] [60fae373-973c-4e93-8414-3900d9f9c7ff] Tool execution completed
[2025-06-18 13:03:22] INFO     [agent_fsm:773] [60fae373-973c-4e93-8414-3900d9f9c7ff] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:03:22] WARNING  [agent_fsm:803] [60fae373-973c-4e93-8414-3900d9f9c7ff] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:03:22] INFO     [agent_fsm:665] [60fae373-973c-4e93-8414-3900d9f9c7ff] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:03:22] DEBUG    [agent_fsm:680] [60fae373-973c-4e93-8414-3900d9f9c7ff] Turn count: 3, Action history length: 3
[2025-06-18 13:03:23] WARNING  [agent_fsm:1224] [60fae373-973c-4e93-8414-3900d9f9c7ff] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:23] ERROR    [agent_fsm:1078] [60fae373-973c-4e93-8414-3900d9f9c7ff] --- FSM STATE: ERROR ---
[2025-06-18 13:03:23] ERROR    [agent_fsm:1101] [60fae373-973c-4e93-8414-3900d9f9c7ff] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:03:23] ERROR    [agent_fsm:1102] [60fae373-973c-4e93-8414-3900d9f9c7ff] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:23] WARNING  [agent_fsm:1224] [60fae373-973c-4e93-8414-3900d9f9c7ff] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:23] ERROR    [agent_fsm:1078] [60fae373-973c-4e93-8414-3900d9f9c7ff] --- FSM STATE: ERROR ---
[2025-06-18 13:03:23] ERROR    [agent_fsm:1101] [60fae373-973c-4e93-8414-3900d9f9c7ff] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:03:23] ERROR    [agent_fsm:1102] [60fae373-973c-4e93-8414-3900d9f9c7ff] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:23] WARNING  [agent_fsm:1224] [60fae373-973c-4e93-8414-3900d9f9c7ff] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:23] ERROR    [agent_fsm:1078] [60fae373-973c-4e93-8414-3900d9f9c7ff] --- FSM STATE: ERROR ---
[2025-06-18 13:03:23] ERROR    [agent_fsm:1101] [60fae373-973c-4e93-8414-3900d9f9c7ff] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:03:23] ERROR    [agent_fsm:1102] [60fae373-973c-4e93-8414-3900d9f9c7ff] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:23] WARNING  [agent_fsm:1224] [60fae373-973c-4e93-8414-3900d9f9c7ff] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:23] ERROR    [agent_fsm:1078] [60fae373-973c-4e93-8414-3900d9f9c7ff] --- FSM STATE: ERROR ---
[2025-06-18 13:03:23] ERROR    [agent_fsm:1101] [60fae373-973c-4e93-8414-3900d9f9c7ff] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:03:23] ERROR    [agent_fsm:1102] [60fae373-973c-4e93-8414-3900d9f9c7ff] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:23] WARNING  [agent_fsm:1224] [60fae373-973c-4e93-8414-3900d9f9c7ff] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:23] ERROR    [agent_fsm:1078] [60fae373-973c-4e93-8414-3900d9f9c7ff] --- FSM STATE: ERROR ---
[2025-06-18 13:03:23] ERROR    [agent_fsm:1101] [60fae373-973c-4e93-8414-3900d9f9c7ff] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:03:23] ERROR    [agent_fsm:1102] [60fae373-973c-4e93-8414-3900d9f9c7ff] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:23] WARNING  [agent_fsm:1224] [60fae373-973c-4e93-8414-3900d9f9c7ff] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:23] ERROR    [agent_fsm:1078] [60fae373-973c-4e93-8414-3900d9f9c7ff] --- FSM STATE: ERROR ---
[2025-06-18 13:03:23] ERROR    [agent_fsm:1101] [60fae373-973c-4e93-8414-3900d9f9c7ff] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:03:23] ERROR    [agent_fsm:1102] [60fae373-973c-4e93-8414-3900d9f9c7ff] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:23] WARNING  [agent_fsm:1224] [60fae373-973c-4e93-8414-3900d9f9c7ff] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:23] ERROR    [agent_fsm:1078] [60fae373-973c-4e93-8414-3900d9f9c7ff] --- FSM STATE: ERROR ---
[2025-06-18 13:03:23] ERROR    [agent_fsm:1101] [60fae373-973c-4e93-8414-3900d9f9c7ff] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:03:23] ERROR    [agent_fsm:1102] [60fae373-973c-4e93-8414-3900d9f9c7ff] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:23] WARNING  [agent_fsm:1224] [60fae373-973c-4e93-8414-3900d9f9c7ff] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:23] ERROR    [agent_fsm:1078] [60fae373-973c-4e93-8414-3900d9f9c7ff] --- FSM STATE: ERROR ---
[2025-06-18 13:03:23] ERROR    [agent_fsm:1101] [60fae373-973c-4e93-8414-3900d9f9c7ff] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:03:23] ERROR    [agent_fsm:1102] [60fae373-973c-4e93-8414-3900d9f9c7ff] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:23] WARNING  [agent_fsm:1224] [60fae373-973c-4e93-8414-3900d9f9c7ff] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:23] ERROR    [agent_fsm:1078] [60fae373-973c-4e93-8414-3900d9f9c7ff] --- FSM STATE: ERROR ---
[2025-06-18 13:03:23] ERROR    [agent_fsm:1101] [60fae373-973c-4e93-8414-3900d9f9c7ff] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:03:23] ERROR    [agent_fsm:1102] [60fae373-973c-4e93-8414-3900d9f9c7ff] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:23] WARNING  [agent_fsm:1224] [60fae373-973c-4e93-8414-3900d9f9c7ff] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:23] ERROR    [agent_fsm:1078] [60fae373-973c-4e93-8414-3900d9f9c7ff] --- FSM STATE: ERROR ---
[2025-06-18 13:03:23] ERROR    [agent_fsm:1101] [60fae373-973c-4e93-8414-3900d9f9c7ff] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:03:23] ERROR    [agent_fsm:1102] [60fae373-973c-4e93-8414-3900d9f9c7ff] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:23] WARNING  [agent_fsm:1224] [60fae373-973c-4e93-8414-3900d9f9c7ff] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:23] ERROR    [agent_fsm:1078] [60fae373-973c-4e93-8414-3900d9f9c7ff] --- FSM STATE: ERROR ---
[2025-06-18 13:03:23] ERROR    [agent_fsm:1101] [60fae373-973c-4e93-8414-3900d9f9c7ff] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:03:23] ERROR    [agent_fsm:1102] [60fae373-973c-4e93-8414-3900d9f9c7ff] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:23] WARNING  [agent_fsm:1224] [60fae373-973c-4e93-8414-3900d9f9c7ff] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:23] ERROR    [agent_fsm:1078] [60fae373-973c-4e93-8414-3900d9f9c7ff] --- FSM STATE: ERROR ---
[2025-06-18 13:03:23] ERROR    [agent_fsm:1101] [60fae373-973c-4e93-8414-3900d9f9c7ff] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:03:23] ERROR    [agent_fsm:1102] [60fae373-973c-4e93-8414-3900d9f9c7ff] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:23] WARNING  [agent_fsm:1224] [60fae373-973c-4e93-8414-3900d9f9c7ff] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:23] ERROR    [agent_fsm:1078] [60fae373-973c-4e93-8414-3900d9f9c7ff] --- FSM STATE: ERROR ---
[2025-06-18 13:03:23] ERROR    [agent_fsm:1101] [60fae373-973c-4e93-8414-3900d9f9c7ff] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:03:23] ERROR    [agent_fsm:1102] [60fae373-973c-4e93-8414-3900d9f9c7ff] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:23] WARNING  [agent_fsm:1224] [60fae373-973c-4e93-8414-3900d9f9c7ff] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:23] ERROR    [agent_fsm:1078] [60fae373-973c-4e93-8414-3900d9f9c7ff] --- FSM STATE: ERROR ---
[2025-06-18 13:03:23] ERROR    [agent_fsm:1101] [60fae373-973c-4e93-8414-3900d9f9c7ff] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:03:23] ERROR    [agent_fsm:1102] [60fae373-973c-4e93-8414-3900d9f9c7ff] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:23] WARNING  [agent_fsm:1224] [60fae373-973c-4e93-8414-3900d9f9c7ff] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:23] ERROR    [agent_fsm:1078] [60fae373-973c-4e93-8414-3900d9f9c7ff] --- FSM STATE: ERROR ---
[2025-06-18 13:03:23] ERROR    [agent_fsm:1101] [60fae373-973c-4e93-8414-3900d9f9c7ff] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:03:23] ERROR    [agent_fsm:1102] [60fae373-973c-4e93-8414-3900d9f9c7ff] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:23] WARNING  [agent_fsm:1224] [60fae373-973c-4e93-8414-3900d9f9c7ff] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:23] ERROR    [agent_fsm:1078] [60fae373-973c-4e93-8414-3900d9f9c7ff] --- FSM STATE: ERROR ---
[2025-06-18 13:03:23] ERROR    [agent_fsm:1101] [60fae373-973c-4e93-8414-3900d9f9c7ff] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:03:23] ERROR    [agent_fsm:1102] [60fae373-973c-4e93-8414-3900d9f9c7ff] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:23] WARNING  [agent_fsm:1224] [60fae373-973c-4e93-8414-3900d9f9c7ff] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:23] ERROR    [agent_fsm:1078] [60fae373-973c-4e93-8414-3900d9f9c7ff] --- FSM STATE: ERROR ---
[2025-06-18 13:03:23] ERROR    [agent_fsm:1101] [60fae373-973c-4e93-8414-3900d9f9c7ff] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:03:23] ERROR    [agent_fsm:1102] [60fae373-973c-4e93-8414-3900d9f9c7ff] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:23] WARNING  [agent_fsm:1224] [60fae373-973c-4e93-8414-3900d9f9c7ff] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:23] ERROR    [agent_fsm:1078] [60fae373-973c-4e93-8414-3900d9f9c7ff] --- FSM STATE: ERROR ---
[2025-06-18 13:03:23] ERROR    [agent_fsm:1101] [60fae373-973c-4e93-8414-3900d9f9c7ff] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:03:23] ERROR    [agent_fsm:1102] [60fae373-973c-4e93-8414-3900d9f9c7ff] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:23] WARNING  [agent_fsm:1224] [60fae373-973c-4e93-8414-3900d9f9c7ff] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:23] ERROR    [agent_fsm:1837] [60fae373-973c-4e93-8414-3900d9f9c7ff] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:03:23] INFO     [agent_fsm:1752] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Starting resilient FSM execution
[2025-06-18 13:03:23] INFO     [agent_fsm:1807] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] FSM STATE: INITIAL
[2025-06-18 13:03:23] INFO     [agent_fsm:665] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:03:23] DEBUG    [agent_fsm:680] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Turn count: 1, Action history length: 1
[2025-06-18 13:03:23] WARNING  [agent_fsm:1521] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:03:23] WARNING  [agent_fsm:1333] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Tool None not found in registry, will use stub
[2025-06-18 13:03:23] INFO     [agent_fsm:773] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:03:23] INFO     [agent_fsm:820] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 13:03:23] INFO     [agent_fsm:922] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Tool execution completed
[2025-06-18 13:03:23] INFO     [agent_fsm:773] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:03:23] WARNING  [agent_fsm:803] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:03:23] INFO     [agent_fsm:665] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:03:23] DEBUG    [agent_fsm:680] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Turn count: 2, Action history length: 2
[2025-06-18 13:03:24] WARNING  [agent_fsm:1521] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:03:24] WARNING  [agent_fsm:1521] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:03:24] INFO     [agent_fsm:773] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:03:24] WARNING  [agent_fsm:803] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:03:24] INFO     [agent_fsm:665] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] --- FSM STATE: PLANNING (Step 3) ---
[2025-06-18 13:03:24] DEBUG    [agent_fsm:680] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Turn count: 3, Action history length: 3
[2025-06-18 13:03:25] WARNING  [agent_fsm:1521] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:03:25] WARNING  [agent_fsm:1521] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:03:25] WARNING  [agent_fsm:1224] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:25] ERROR    [agent_fsm:1078] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] --- FSM STATE: ERROR ---
[2025-06-18 13:03:25] ERROR    [agent_fsm:1101] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:03:25] ERROR    [agent_fsm:1102] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:25] WARNING  [agent_fsm:1224] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:25] ERROR    [agent_fsm:1078] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] --- FSM STATE: ERROR ---
[2025-06-18 13:03:25] ERROR    [agent_fsm:1101] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:03:25] ERROR    [agent_fsm:1102] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:25] WARNING  [agent_fsm:1224] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:25] ERROR    [agent_fsm:1078] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] --- FSM STATE: ERROR ---
[2025-06-18 13:03:25] ERROR    [agent_fsm:1101] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:03:25] ERROR    [agent_fsm:1102] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:25] WARNING  [agent_fsm:1224] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:25] ERROR    [agent_fsm:1078] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] --- FSM STATE: ERROR ---
[2025-06-18 13:03:25] ERROR    [agent_fsm:1101] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:03:25] ERROR    [agent_fsm:1102] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:25] WARNING  [agent_fsm:1224] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:25] ERROR    [agent_fsm:1078] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] --- FSM STATE: ERROR ---
[2025-06-18 13:03:25] ERROR    [agent_fsm:1101] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:03:25] ERROR    [agent_fsm:1102] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:25] WARNING  [agent_fsm:1224] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:25] ERROR    [agent_fsm:1078] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] --- FSM STATE: ERROR ---
[2025-06-18 13:03:25] ERROR    [agent_fsm:1101] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:03:25] ERROR    [agent_fsm:1102] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:25] WARNING  [agent_fsm:1224] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:25] ERROR    [agent_fsm:1078] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] --- FSM STATE: ERROR ---
[2025-06-18 13:03:25] ERROR    [agent_fsm:1101] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:03:25] ERROR    [agent_fsm:1102] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:25] WARNING  [agent_fsm:1224] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:25] ERROR    [agent_fsm:1078] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] --- FSM STATE: ERROR ---
[2025-06-18 13:03:25] ERROR    [agent_fsm:1101] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:03:25] ERROR    [agent_fsm:1102] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:25] WARNING  [agent_fsm:1224] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:25] ERROR    [agent_fsm:1078] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] --- FSM STATE: ERROR ---
[2025-06-18 13:03:25] ERROR    [agent_fsm:1101] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:03:25] ERROR    [agent_fsm:1102] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:25] WARNING  [agent_fsm:1224] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:25] ERROR    [agent_fsm:1078] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] --- FSM STATE: ERROR ---
[2025-06-18 13:03:25] ERROR    [agent_fsm:1101] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:03:25] ERROR    [agent_fsm:1102] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:25] WARNING  [agent_fsm:1224] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:25] ERROR    [agent_fsm:1078] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] --- FSM STATE: ERROR ---
[2025-06-18 13:03:25] ERROR    [agent_fsm:1101] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:03:25] ERROR    [agent_fsm:1102] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:25] WARNING  [agent_fsm:1224] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:25] ERROR    [agent_fsm:1078] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] --- FSM STATE: ERROR ---
[2025-06-18 13:03:25] ERROR    [agent_fsm:1101] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:03:25] ERROR    [agent_fsm:1102] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:25] WARNING  [agent_fsm:1224] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:25] ERROR    [agent_fsm:1078] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] --- FSM STATE: ERROR ---
[2025-06-18 13:03:25] ERROR    [agent_fsm:1101] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:03:25] ERROR    [agent_fsm:1102] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:25] WARNING  [agent_fsm:1224] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:25] ERROR    [agent_fsm:1078] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] --- FSM STATE: ERROR ---
[2025-06-18 13:03:25] ERROR    [agent_fsm:1101] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:03:25] ERROR    [agent_fsm:1102] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:25] WARNING  [agent_fsm:1224] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:25] ERROR    [agent_fsm:1078] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] --- FSM STATE: ERROR ---
[2025-06-18 13:03:25] ERROR    [agent_fsm:1101] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:03:25] ERROR    [agent_fsm:1102] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:25] WARNING  [agent_fsm:1224] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:25] ERROR    [agent_fsm:1078] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] --- FSM STATE: ERROR ---
[2025-06-18 13:03:25] ERROR    [agent_fsm:1101] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:03:25] ERROR    [agent_fsm:1102] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:25] WARNING  [agent_fsm:1224] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:25] ERROR    [agent_fsm:1078] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] --- FSM STATE: ERROR ---
[2025-06-18 13:03:25] ERROR    [agent_fsm:1101] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:03:25] ERROR    [agent_fsm:1102] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:25] WARNING  [agent_fsm:1224] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:25] ERROR    [agent_fsm:1078] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] --- FSM STATE: ERROR ---
[2025-06-18 13:03:25] ERROR    [agent_fsm:1101] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:03:25] ERROR    [agent_fsm:1102] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:25] WARNING  [agent_fsm:1224] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:25] ERROR    [agent_fsm:1078] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] --- FSM STATE: ERROR ---
[2025-06-18 13:03:25] ERROR    [agent_fsm:1101] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Error category: GENERAL, Occurrences: 19
[2025-06-18 13:03:25] ERROR    [agent_fsm:1102] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:25] WARNING  [agent_fsm:1224] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:25] ERROR    [agent_fsm:1837] [bd4d813d-b9e1-43d1-ab26-2fbf68d0b9e6] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:03:25] INFO     [agent_fsm:1752] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Starting resilient FSM execution
[2025-06-18 13:03:25] INFO     [agent_fsm:1807] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] FSM STATE: INITIAL
[2025-06-18 13:03:25] INFO     [agent_fsm:665] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:03:25] DEBUG    [agent_fsm:680] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Turn count: 1, Action history length: 1
[2025-06-18 13:03:26] WARNING  [agent_fsm:1521] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:03:26] WARNING  [agent_fsm:1521] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:03:26] WARNING  [agent_fsm:1521] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:03:26] INFO     [agent_fsm:773] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:03:26] INFO     [agent_fsm:820] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Executing tool: web_researcher with input: {'query': 'largest planet in our solar system', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 13:03:26] INFO     [agent_fsm:922] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Tool execution completed
[2025-06-18 13:03:26] INFO     [agent_fsm:773] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:03:26] WARNING  [agent_fsm:803] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:03:26] INFO     [agent_fsm:665] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:03:26] DEBUG    [agent_fsm:680] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Turn count: 2, Action history length: 2
[2025-06-18 13:03:30] WARNING  [agent_fsm:1521] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:03:30] WARNING  [agent_fsm:1521] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:03:30] WARNING  [agent_fsm:1521] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:03:30] INFO     [agent_fsm:773] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:03:30] INFO     [agent_fsm:820] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 13:03:30] INFO     [agent_fsm:922] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Tool execution completed
[2025-06-18 13:03:30] INFO     [agent_fsm:773] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:03:30] WARNING  [agent_fsm:803] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:03:30] INFO     [agent_fsm:665] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:03:30] DEBUG    [agent_fsm:680] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Turn count: 3, Action history length: 3
[2025-06-18 13:03:30] WARNING  [agent_fsm:1521] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:03:30] WARNING  [agent_fsm:1521] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:03:30] WARNING  [agent_fsm:1521] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:03:30] WARNING  [agent_fsm:1224] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:30] ERROR    [agent_fsm:1078] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] --- FSM STATE: ERROR ---
[2025-06-18 13:03:30] ERROR    [agent_fsm:1101] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:03:30] ERROR    [agent_fsm:1102] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:30] WARNING  [agent_fsm:1224] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:30] ERROR    [agent_fsm:1078] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] --- FSM STATE: ERROR ---
[2025-06-18 13:03:30] ERROR    [agent_fsm:1101] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:03:30] ERROR    [agent_fsm:1102] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:30] WARNING  [agent_fsm:1224] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:30] ERROR    [agent_fsm:1078] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] --- FSM STATE: ERROR ---
[2025-06-18 13:03:30] ERROR    [agent_fsm:1101] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:03:30] ERROR    [agent_fsm:1102] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:30] WARNING  [agent_fsm:1224] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:30] ERROR    [agent_fsm:1078] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] --- FSM STATE: ERROR ---
[2025-06-18 13:03:30] ERROR    [agent_fsm:1101] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:03:30] ERROR    [agent_fsm:1102] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:30] WARNING  [agent_fsm:1224] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:30] ERROR    [agent_fsm:1078] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] --- FSM STATE: ERROR ---
[2025-06-18 13:03:30] ERROR    [agent_fsm:1101] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:03:30] ERROR    [agent_fsm:1102] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:30] WARNING  [agent_fsm:1224] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:30] ERROR    [agent_fsm:1078] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] --- FSM STATE: ERROR ---
[2025-06-18 13:03:30] ERROR    [agent_fsm:1101] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:03:30] ERROR    [agent_fsm:1102] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:30] WARNING  [agent_fsm:1224] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:30] ERROR    [agent_fsm:1078] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] --- FSM STATE: ERROR ---
[2025-06-18 13:03:30] ERROR    [agent_fsm:1101] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:03:30] ERROR    [agent_fsm:1102] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:30] WARNING  [agent_fsm:1224] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:30] ERROR    [agent_fsm:1078] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] --- FSM STATE: ERROR ---
[2025-06-18 13:03:30] ERROR    [agent_fsm:1101] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:03:30] ERROR    [agent_fsm:1102] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:30] WARNING  [agent_fsm:1224] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:30] ERROR    [agent_fsm:1078] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] --- FSM STATE: ERROR ---
[2025-06-18 13:03:30] ERROR    [agent_fsm:1101] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:03:30] ERROR    [agent_fsm:1102] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:30] WARNING  [agent_fsm:1224] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:30] ERROR    [agent_fsm:1078] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] --- FSM STATE: ERROR ---
[2025-06-18 13:03:30] ERROR    [agent_fsm:1101] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:03:30] ERROR    [agent_fsm:1102] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:30] WARNING  [agent_fsm:1224] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:30] ERROR    [agent_fsm:1078] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] --- FSM STATE: ERROR ---
[2025-06-18 13:03:30] ERROR    [agent_fsm:1101] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:03:30] ERROR    [agent_fsm:1102] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:30] WARNING  [agent_fsm:1224] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:30] ERROR    [agent_fsm:1078] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] --- FSM STATE: ERROR ---
[2025-06-18 13:03:30] ERROR    [agent_fsm:1101] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:03:30] ERROR    [agent_fsm:1102] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:30] WARNING  [agent_fsm:1224] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:30] ERROR    [agent_fsm:1078] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] --- FSM STATE: ERROR ---
[2025-06-18 13:03:30] ERROR    [agent_fsm:1101] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:03:30] ERROR    [agent_fsm:1102] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:30] WARNING  [agent_fsm:1224] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:30] ERROR    [agent_fsm:1078] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] --- FSM STATE: ERROR ---
[2025-06-18 13:03:30] ERROR    [agent_fsm:1101] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:03:30] ERROR    [agent_fsm:1102] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:30] WARNING  [agent_fsm:1224] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:30] ERROR    [agent_fsm:1078] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] --- FSM STATE: ERROR ---
[2025-06-18 13:03:30] ERROR    [agent_fsm:1101] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:03:30] ERROR    [agent_fsm:1102] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:30] WARNING  [agent_fsm:1224] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:30] ERROR    [agent_fsm:1078] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] --- FSM STATE: ERROR ---
[2025-06-18 13:03:30] ERROR    [agent_fsm:1101] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:03:30] ERROR    [agent_fsm:1102] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:30] WARNING  [agent_fsm:1224] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:30] ERROR    [agent_fsm:1078] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] --- FSM STATE: ERROR ---
[2025-06-18 13:03:30] ERROR    [agent_fsm:1101] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:03:30] ERROR    [agent_fsm:1102] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:30] WARNING  [agent_fsm:1224] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:30] ERROR    [agent_fsm:1078] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] --- FSM STATE: ERROR ---
[2025-06-18 13:03:30] ERROR    [agent_fsm:1101] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:03:30] ERROR    [agent_fsm:1102] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:30] WARNING  [agent_fsm:1224] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:30] ERROR    [agent_fsm:1837] [6c278805-538b-4fd9-a0b6-45c6e57cca8c] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:03:30] INFO     [agent_fsm:1752] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Starting resilient FSM execution
[2025-06-18 13:03:30] INFO     [agent_fsm:1807] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] FSM STATE: INITIAL
[2025-06-18 13:03:30] INFO     [agent_fsm:665] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:03:30] DEBUG    [agent_fsm:680] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Turn count: 1, Action history length: 1
[2025-06-18 13:03:31] WARNING  [agent_fsm:1521] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:03:31] INFO     [agent_fsm:773] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:03:31] INFO     [agent_fsm:820] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Executing tool: web_researcher with input: {'query': 'extract video URL from googleusercontent.com/costa-rica/birds', 'date_range': None, 'search_type': 'general', 'source': 'search'}
[2025-06-18 13:03:31] INFO     [agent_fsm:922] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Tool execution completed
[2025-06-18 13:03:31] INFO     [agent_fsm:773] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:03:31] WARNING  [agent_fsm:803] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:03:31] INFO     [agent_fsm:665] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:03:31] DEBUG    [agent_fsm:680] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Turn count: 2, Action history length: 2
[2025-06-18 13:03:33] WARNING  [agent_fsm:1521] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:03:33] WARNING  [agent_fsm:1521] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:03:33] WARNING  [agent_fsm:1521] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:03:33] INFO     [agent_fsm:773] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:03:33] INFO     [agent_fsm:820] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 13:03:33] INFO     [agent_fsm:922] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Tool execution completed
[2025-06-18 13:03:33] INFO     [agent_fsm:773] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:03:33] WARNING  [agent_fsm:803] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:03:33] INFO     [agent_fsm:665] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:03:33] DEBUG    [agent_fsm:680] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Turn count: 3, Action history length: 3
[2025-06-18 13:03:34] WARNING  [agent_fsm:1521] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:03:34] WARNING  [agent_fsm:1521] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 13:03:34] WARNING  [agent_fsm:1521] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 13:03:34] WARNING  [agent_fsm:1521] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Failed to parse JSON parameters for step 8, using fallback parser
[2025-06-18 13:03:34] WARNING  [agent_fsm:1224] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:34] ERROR    [agent_fsm:1078] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] --- FSM STATE: ERROR ---
[2025-06-18 13:03:34] ERROR    [agent_fsm:1101] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:03:34] ERROR    [agent_fsm:1102] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:34] WARNING  [agent_fsm:1224] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:34] ERROR    [agent_fsm:1078] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] --- FSM STATE: ERROR ---
[2025-06-18 13:03:34] ERROR    [agent_fsm:1101] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:03:34] ERROR    [agent_fsm:1102] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:34] WARNING  [agent_fsm:1224] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:34] ERROR    [agent_fsm:1078] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] --- FSM STATE: ERROR ---
[2025-06-18 13:03:34] ERROR    [agent_fsm:1101] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:03:34] ERROR    [agent_fsm:1102] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:34] WARNING  [agent_fsm:1224] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:34] ERROR    [agent_fsm:1078] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] --- FSM STATE: ERROR ---
[2025-06-18 13:03:34] ERROR    [agent_fsm:1101] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:03:34] ERROR    [agent_fsm:1102] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:34] WARNING  [agent_fsm:1224] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:34] ERROR    [agent_fsm:1078] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] --- FSM STATE: ERROR ---
[2025-06-18 13:03:34] ERROR    [agent_fsm:1101] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:03:34] ERROR    [agent_fsm:1102] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:34] WARNING  [agent_fsm:1224] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:34] ERROR    [agent_fsm:1078] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] --- FSM STATE: ERROR ---
[2025-06-18 13:03:34] ERROR    [agent_fsm:1101] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:03:34] ERROR    [agent_fsm:1102] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:34] WARNING  [agent_fsm:1224] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:34] ERROR    [agent_fsm:1078] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] --- FSM STATE: ERROR ---
[2025-06-18 13:03:34] ERROR    [agent_fsm:1101] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:03:34] ERROR    [agent_fsm:1102] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:34] WARNING  [agent_fsm:1224] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:34] ERROR    [agent_fsm:1078] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] --- FSM STATE: ERROR ---
[2025-06-18 13:03:34] ERROR    [agent_fsm:1101] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:03:34] ERROR    [agent_fsm:1102] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:34] WARNING  [agent_fsm:1224] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:34] ERROR    [agent_fsm:1078] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] --- FSM STATE: ERROR ---
[2025-06-18 13:03:34] ERROR    [agent_fsm:1101] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:03:34] ERROR    [agent_fsm:1102] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:34] WARNING  [agent_fsm:1224] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:34] ERROR    [agent_fsm:1078] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] --- FSM STATE: ERROR ---
[2025-06-18 13:03:34] ERROR    [agent_fsm:1101] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:03:34] ERROR    [agent_fsm:1102] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:34] WARNING  [agent_fsm:1224] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:34] ERROR    [agent_fsm:1078] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] --- FSM STATE: ERROR ---
[2025-06-18 13:03:34] ERROR    [agent_fsm:1101] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:03:34] ERROR    [agent_fsm:1102] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:34] WARNING  [agent_fsm:1224] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:34] ERROR    [agent_fsm:1078] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] --- FSM STATE: ERROR ---
[2025-06-18 13:03:34] ERROR    [agent_fsm:1101] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:03:34] ERROR    [agent_fsm:1102] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:34] WARNING  [agent_fsm:1224] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:34] ERROR    [agent_fsm:1078] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] --- FSM STATE: ERROR ---
[2025-06-18 13:03:34] ERROR    [agent_fsm:1101] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:03:34] ERROR    [agent_fsm:1102] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:34] WARNING  [agent_fsm:1224] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:34] ERROR    [agent_fsm:1078] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] --- FSM STATE: ERROR ---
[2025-06-18 13:03:34] ERROR    [agent_fsm:1101] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:03:34] ERROR    [agent_fsm:1102] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:34] WARNING  [agent_fsm:1224] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:34] ERROR    [agent_fsm:1078] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] --- FSM STATE: ERROR ---
[2025-06-18 13:03:34] ERROR    [agent_fsm:1101] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:03:34] ERROR    [agent_fsm:1102] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:34] WARNING  [agent_fsm:1224] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:34] ERROR    [agent_fsm:1078] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] --- FSM STATE: ERROR ---
[2025-06-18 13:03:34] ERROR    [agent_fsm:1101] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:03:34] ERROR    [agent_fsm:1102] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:34] WARNING  [agent_fsm:1224] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:34] ERROR    [agent_fsm:1078] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] --- FSM STATE: ERROR ---
[2025-06-18 13:03:34] ERROR    [agent_fsm:1101] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:03:34] ERROR    [agent_fsm:1102] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:34] WARNING  [agent_fsm:1224] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:34] ERROR    [agent_fsm:1078] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] --- FSM STATE: ERROR ---
[2025-06-18 13:03:34] ERROR    [agent_fsm:1101] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:03:34] ERROR    [agent_fsm:1102] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:34] WARNING  [agent_fsm:1224] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:34] ERROR    [agent_fsm:1837] [e3fe888d-f9bb-4487-afb6-0784d6b6684a] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:03:34] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 13:03:34] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 13:03:34] INFO     [agent_fsm:570] [4b62d9b9-88ce-4ff6-aaf8-b470336b93b0] Building resilient FSM graph
[2025-06-18 13:03:34] INFO     [agent_fsm:572] [4b62d9b9-88ce-4ff6-aaf8-b470336b93b0] FSMReActAgent graph built successfully
[2025-06-18 13:03:34] INFO     [agent_fsm:1752] [f750b89c-86e3-4084-b8bc-e7624533da12] Starting resilient FSM execution
[2025-06-18 13:03:34] INFO     [agent_fsm:1807] [f750b89c-86e3-4084-b8bc-e7624533da12] FSM STATE: INITIAL
[2025-06-18 13:03:34] INFO     [agent_fsm:665] [f750b89c-86e3-4084-b8bc-e7624533da12] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:03:34] DEBUG    [agent_fsm:680] [f750b89c-86e3-4084-b8bc-e7624533da12] Turn count: 1, Action history length: 1
[2025-06-18 13:03:35] INFO     [agent_fsm:773] [f750b89c-86e3-4084-b8bc-e7624533da12] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:03:35] INFO     [agent_fsm:820] [f750b89c-86e3-4084-b8bc-e7624533da12] Executing tool: advanced_file_reader with input: {'filename': 'path/to/attached_excel_file.xlsx'}
[2025-06-18 13:03:35] INFO     [agent_fsm:922] [f750b89c-86e3-4084-b8bc-e7624533da12] Tool execution completed
[2025-06-18 13:03:35] INFO     [agent_fsm:773] [f750b89c-86e3-4084-b8bc-e7624533da12] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:03:35] WARNING  [agent_fsm:803] [f750b89c-86e3-4084-b8bc-e7624533da12] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:03:35] INFO     [agent_fsm:665] [f750b89c-86e3-4084-b8bc-e7624533da12] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:03:35] DEBUG    [agent_fsm:680] [f750b89c-86e3-4084-b8bc-e7624533da12] Turn count: 2, Action history length: 2
[2025-06-18 13:03:36] INFO     [agent_fsm:955] [f750b89c-86e3-4084-b8bc-e7624533da12] --- FSM STATE: SYNTHESIZING ---
[2025-06-18 13:03:36] INFO     [agent_fsm:1018] [f750b89c-86e3-4084-b8bc-e7624533da12] --- FSM STATE: VERIFYING ---
[2025-06-18 13:03:37] INFO     [agent_fsm:1819] [f750b89c-86e3-4084-b8bc-e7624533da12] FSM execution completed successfully
[2025-06-18 13:03:37] INFO     [agent_fsm:1752] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Starting resilient FSM execution
[2025-06-18 13:03:37] INFO     [agent_fsm:1807] [51dc1947-43b8-4b56-bd47-9d61d56ced70] FSM STATE: INITIAL
[2025-06-18 13:03:37] INFO     [agent_fsm:665] [51dc1947-43b8-4b56-bd47-9d61d56ced70] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:03:37] DEBUG    [agent_fsm:680] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Turn count: 1, Action history length: 1
[2025-06-18 13:03:38] WARNING  [agent_fsm:1521] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:03:38] WARNING  [agent_fsm:1521] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:03:38] WARNING  [agent_fsm:1521] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:03:38] WARNING  [agent_fsm:1521] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:03:38] WARNING  [agent_fsm:1521] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 13:03:38] WARNING  [agent_fsm:1521] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Failed to parse JSON parameters for step 9, using fallback parser
[2025-06-18 13:03:38] INFO     [agent_fsm:773] [51dc1947-43b8-4b56-bd47-9d61d56ced70] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:03:38] INFO     [agent_fsm:820] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Executing tool: video_analyzer with input: {'url': 'https://example.com/video.mp4', 'action': 'download_info'}
[2025-06-18 13:03:38] INFO     [agent_fsm:922] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Tool execution completed
[2025-06-18 13:03:38] INFO     [agent_fsm:773] [51dc1947-43b8-4b56-bd47-9d61d56ced70] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:03:38] WARNING  [agent_fsm:803] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:03:38] INFO     [agent_fsm:665] [51dc1947-43b8-4b56-bd47-9d61d56ced70] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:03:38] DEBUG    [agent_fsm:680] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Turn count: 2, Action history length: 2
[2025-06-18 13:03:39] WARNING  [agent_fsm:1521] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:03:39] WARNING  [agent_fsm:1521] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:03:39] WARNING  [agent_fsm:1521] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 13:03:39] INFO     [agent_fsm:773] [51dc1947-43b8-4b56-bd47-9d61d56ced70] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:03:39] WARNING  [agent_fsm:803] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:03:39] INFO     [agent_fsm:665] [51dc1947-43b8-4b56-bd47-9d61d56ced70] --- FSM STATE: PLANNING (Step 3) ---
[2025-06-18 13:03:39] DEBUG    [agent_fsm:680] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Turn count: 3, Action history length: 3
[2025-06-18 13:03:42] WARNING  [agent_fsm:1521] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:03:42] WARNING  [agent_fsm:1521] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:03:42] WARNING  [agent_fsm:1521] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Failed to parse JSON parameters for step 8, using fallback parser
[2025-06-18 13:03:42] WARNING  [agent_fsm:1521] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Failed to parse JSON parameters for step 10, using fallback parser
[2025-06-18 13:03:42] WARNING  [agent_fsm:1521] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Failed to parse JSON parameters for step 12, using fallback parser
[2025-06-18 13:03:42] WARNING  [agent_fsm:1521] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Failed to parse JSON parameters for step 14, using fallback parser
[2025-06-18 13:03:42] WARNING  [agent_fsm:1521] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Failed to parse JSON parameters for step 16, using fallback parser
[2025-06-18 13:03:42] WARNING  [agent_fsm:1521] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Failed to parse JSON parameters for step 18, using fallback parser
[2025-06-18 13:03:42] WARNING  [agent_fsm:1521] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Failed to parse JSON parameters for step 20, using fallback parser
[2025-06-18 13:03:42] WARNING  [agent_fsm:1521] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Failed to parse JSON parameters for step 22, using fallback parser
[2025-06-18 13:03:42] WARNING  [agent_fsm:1521] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Failed to parse JSON parameters for step 24, using fallback parser
[2025-06-18 13:03:42] WARNING  [agent_fsm:1521] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Failed to parse JSON parameters for step 26, using fallback parser
[2025-06-18 13:03:42] WARNING  [agent_fsm:1521] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Failed to parse JSON parameters for step 28, using fallback parser
[2025-06-18 13:03:42] WARNING  [agent_fsm:1521] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Failed to parse JSON parameters for step 30, using fallback parser
[2025-06-18 13:03:42] WARNING  [agent_fsm:1224] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:42] ERROR    [agent_fsm:1078] [51dc1947-43b8-4b56-bd47-9d61d56ced70] --- FSM STATE: ERROR ---
[2025-06-18 13:03:42] ERROR    [agent_fsm:1101] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:03:42] ERROR    [agent_fsm:1102] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:42] WARNING  [agent_fsm:1224] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:42] ERROR    [agent_fsm:1078] [51dc1947-43b8-4b56-bd47-9d61d56ced70] --- FSM STATE: ERROR ---
[2025-06-18 13:03:42] ERROR    [agent_fsm:1101] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:03:42] ERROR    [agent_fsm:1102] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:42] WARNING  [agent_fsm:1224] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:42] ERROR    [agent_fsm:1078] [51dc1947-43b8-4b56-bd47-9d61d56ced70] --- FSM STATE: ERROR ---
[2025-06-18 13:03:42] ERROR    [agent_fsm:1101] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:03:42] ERROR    [agent_fsm:1102] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:42] WARNING  [agent_fsm:1224] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:42] ERROR    [agent_fsm:1078] [51dc1947-43b8-4b56-bd47-9d61d56ced70] --- FSM STATE: ERROR ---
[2025-06-18 13:03:42] ERROR    [agent_fsm:1101] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:03:42] ERROR    [agent_fsm:1102] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:42] WARNING  [agent_fsm:1224] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:42] ERROR    [agent_fsm:1078] [51dc1947-43b8-4b56-bd47-9d61d56ced70] --- FSM STATE: ERROR ---
[2025-06-18 13:03:42] ERROR    [agent_fsm:1101] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:03:42] ERROR    [agent_fsm:1102] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:42] WARNING  [agent_fsm:1224] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:42] ERROR    [agent_fsm:1078] [51dc1947-43b8-4b56-bd47-9d61d56ced70] --- FSM STATE: ERROR ---
[2025-06-18 13:03:42] ERROR    [agent_fsm:1101] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:03:42] ERROR    [agent_fsm:1102] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:42] WARNING  [agent_fsm:1224] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:42] ERROR    [agent_fsm:1078] [51dc1947-43b8-4b56-bd47-9d61d56ced70] --- FSM STATE: ERROR ---
[2025-06-18 13:03:42] ERROR    [agent_fsm:1101] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:03:42] ERROR    [agent_fsm:1102] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:42] WARNING  [agent_fsm:1224] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:42] ERROR    [agent_fsm:1078] [51dc1947-43b8-4b56-bd47-9d61d56ced70] --- FSM STATE: ERROR ---
[2025-06-18 13:03:42] ERROR    [agent_fsm:1101] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:03:42] ERROR    [agent_fsm:1102] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:42] WARNING  [agent_fsm:1224] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:42] ERROR    [agent_fsm:1078] [51dc1947-43b8-4b56-bd47-9d61d56ced70] --- FSM STATE: ERROR ---
[2025-06-18 13:03:42] ERROR    [agent_fsm:1101] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:03:42] ERROR    [agent_fsm:1102] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:42] WARNING  [agent_fsm:1224] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:42] ERROR    [agent_fsm:1078] [51dc1947-43b8-4b56-bd47-9d61d56ced70] --- FSM STATE: ERROR ---
[2025-06-18 13:03:42] ERROR    [agent_fsm:1101] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:03:42] ERROR    [agent_fsm:1102] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:42] WARNING  [agent_fsm:1224] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:42] ERROR    [agent_fsm:1078] [51dc1947-43b8-4b56-bd47-9d61d56ced70] --- FSM STATE: ERROR ---
[2025-06-18 13:03:42] ERROR    [agent_fsm:1101] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:03:42] ERROR    [agent_fsm:1102] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:42] WARNING  [agent_fsm:1224] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:42] ERROR    [agent_fsm:1078] [51dc1947-43b8-4b56-bd47-9d61d56ced70] --- FSM STATE: ERROR ---
[2025-06-18 13:03:42] ERROR    [agent_fsm:1101] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:03:42] ERROR    [agent_fsm:1102] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:42] WARNING  [agent_fsm:1224] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:42] ERROR    [agent_fsm:1078] [51dc1947-43b8-4b56-bd47-9d61d56ced70] --- FSM STATE: ERROR ---
[2025-06-18 13:03:42] ERROR    [agent_fsm:1101] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:03:42] ERROR    [agent_fsm:1102] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:42] WARNING  [agent_fsm:1224] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:42] ERROR    [agent_fsm:1078] [51dc1947-43b8-4b56-bd47-9d61d56ced70] --- FSM STATE: ERROR ---
[2025-06-18 13:03:42] ERROR    [agent_fsm:1101] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:03:42] ERROR    [agent_fsm:1102] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:42] WARNING  [agent_fsm:1224] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:42] ERROR    [agent_fsm:1078] [51dc1947-43b8-4b56-bd47-9d61d56ced70] --- FSM STATE: ERROR ---
[2025-06-18 13:03:42] ERROR    [agent_fsm:1101] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:03:42] ERROR    [agent_fsm:1102] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:42] WARNING  [agent_fsm:1224] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:42] ERROR    [agent_fsm:1078] [51dc1947-43b8-4b56-bd47-9d61d56ced70] --- FSM STATE: ERROR ---
[2025-06-18 13:03:42] ERROR    [agent_fsm:1101] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:03:42] ERROR    [agent_fsm:1102] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:42] WARNING  [agent_fsm:1224] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:42] ERROR    [agent_fsm:1078] [51dc1947-43b8-4b56-bd47-9d61d56ced70] --- FSM STATE: ERROR ---
[2025-06-18 13:03:42] ERROR    [agent_fsm:1101] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:03:42] ERROR    [agent_fsm:1102] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:42] WARNING  [agent_fsm:1224] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:42] ERROR    [agent_fsm:1078] [51dc1947-43b8-4b56-bd47-9d61d56ced70] --- FSM STATE: ERROR ---
[2025-06-18 13:03:42] ERROR    [agent_fsm:1101] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:03:42] ERROR    [agent_fsm:1102] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:42] WARNING  [agent_fsm:1224] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:42] ERROR    [agent_fsm:1078] [51dc1947-43b8-4b56-bd47-9d61d56ced70] --- FSM STATE: ERROR ---
[2025-06-18 13:03:42] ERROR    [agent_fsm:1101] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Error category: GENERAL, Occurrences: 19
[2025-06-18 13:03:42] ERROR    [agent_fsm:1102] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:42] WARNING  [agent_fsm:1224] [51dc1947-43b8-4b56-bd47-9d61d56ced70] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:42] ERROR    [agent_fsm:1837] [51dc1947-43b8-4b56-bd47-9d61d56ced70] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:03:42] INFO     [agent_fsm:1752] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Starting resilient FSM execution
[2025-06-18 13:03:42] INFO     [agent_fsm:1807] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] FSM STATE: INITIAL
[2025-06-18 13:03:42] INFO     [agent_fsm:665] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:03:42] DEBUG    [agent_fsm:680] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Turn count: 1, Action history length: 1
[2025-06-18 13:03:44] WARNING  [agent_fsm:1521] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Failed to parse JSON parameters for step 8, using fallback parser
[2025-06-18 13:03:44] WARNING  [agent_fsm:1333] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Tool image_analyzer not found in registry, will use stub
[2025-06-18 13:03:44] INFO     [agent_fsm:773] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:03:44] INFO     [agent_fsm:820] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Executing tool: web_researcher with input: {'query': 'What is 2 + 2?', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 13:03:44] INFO     [agent_fsm:922] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Tool execution completed
[2025-06-18 13:03:44] INFO     [agent_fsm:773] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:03:44] WARNING  [agent_fsm:803] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:03:44] INFO     [agent_fsm:665] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:03:44] DEBUG    [agent_fsm:680] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Turn count: 2, Action history length: 2
[2025-06-18 13:03:44] WARNING  [agent_fsm:1521] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:03:44] INFO     [agent_fsm:773] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:03:44] INFO     [agent_fsm:820] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Executing tool: semantic_search_tool with input: {'query': 'What is 2 + 2?', 'filename': 'knowledge_base.csv', 'top_k': 3}
[2025-06-18 13:03:44] INFO     [agent_fsm:922] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Tool execution completed
[2025-06-18 13:03:44] INFO     [agent_fsm:773] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:03:44] WARNING  [agent_fsm:803] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:03:44] INFO     [agent_fsm:665] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:03:44] DEBUG    [agent_fsm:680] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Turn count: 3, Action history length: 3
[2025-06-18 13:03:45] WARNING  [agent_fsm:1224] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:45] ERROR    [agent_fsm:1078] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] --- FSM STATE: ERROR ---
[2025-06-18 13:03:45] ERROR    [agent_fsm:1101] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:03:45] ERROR    [agent_fsm:1102] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:45] WARNING  [agent_fsm:1224] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:45] ERROR    [agent_fsm:1078] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] --- FSM STATE: ERROR ---
[2025-06-18 13:03:45] ERROR    [agent_fsm:1101] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:03:45] ERROR    [agent_fsm:1102] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:45] WARNING  [agent_fsm:1224] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:45] ERROR    [agent_fsm:1078] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] --- FSM STATE: ERROR ---
[2025-06-18 13:03:45] ERROR    [agent_fsm:1101] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:03:45] ERROR    [agent_fsm:1102] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:45] WARNING  [agent_fsm:1224] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:45] ERROR    [agent_fsm:1078] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] --- FSM STATE: ERROR ---
[2025-06-18 13:03:45] ERROR    [agent_fsm:1101] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:03:45] ERROR    [agent_fsm:1102] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:45] WARNING  [agent_fsm:1224] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:45] ERROR    [agent_fsm:1078] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] --- FSM STATE: ERROR ---
[2025-06-18 13:03:45] ERROR    [agent_fsm:1101] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:03:45] ERROR    [agent_fsm:1102] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:45] WARNING  [agent_fsm:1224] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:45] ERROR    [agent_fsm:1078] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] --- FSM STATE: ERROR ---
[2025-06-18 13:03:45] ERROR    [agent_fsm:1101] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:03:45] ERROR    [agent_fsm:1102] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:45] WARNING  [agent_fsm:1224] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:45] ERROR    [agent_fsm:1078] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] --- FSM STATE: ERROR ---
[2025-06-18 13:03:45] ERROR    [agent_fsm:1101] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:03:45] ERROR    [agent_fsm:1102] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:45] WARNING  [agent_fsm:1224] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:45] ERROR    [agent_fsm:1078] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] --- FSM STATE: ERROR ---
[2025-06-18 13:03:45] ERROR    [agent_fsm:1101] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:03:45] ERROR    [agent_fsm:1102] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:45] WARNING  [agent_fsm:1224] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:45] ERROR    [agent_fsm:1078] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] --- FSM STATE: ERROR ---
[2025-06-18 13:03:45] ERROR    [agent_fsm:1101] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:03:45] ERROR    [agent_fsm:1102] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:45] WARNING  [agent_fsm:1224] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:45] ERROR    [agent_fsm:1078] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] --- FSM STATE: ERROR ---
[2025-06-18 13:03:45] ERROR    [agent_fsm:1101] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:03:45] ERROR    [agent_fsm:1102] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:45] WARNING  [agent_fsm:1224] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:45] ERROR    [agent_fsm:1078] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] --- FSM STATE: ERROR ---
[2025-06-18 13:03:45] ERROR    [agent_fsm:1101] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:03:45] ERROR    [agent_fsm:1102] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:45] WARNING  [agent_fsm:1224] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:45] ERROR    [agent_fsm:1078] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] --- FSM STATE: ERROR ---
[2025-06-18 13:03:45] ERROR    [agent_fsm:1101] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:03:45] ERROR    [agent_fsm:1102] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:45] WARNING  [agent_fsm:1224] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:45] ERROR    [agent_fsm:1078] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] --- FSM STATE: ERROR ---
[2025-06-18 13:03:45] ERROR    [agent_fsm:1101] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:03:45] ERROR    [agent_fsm:1102] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:45] WARNING  [agent_fsm:1224] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:45] ERROR    [agent_fsm:1078] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] --- FSM STATE: ERROR ---
[2025-06-18 13:03:45] ERROR    [agent_fsm:1101] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:03:45] ERROR    [agent_fsm:1102] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:45] WARNING  [agent_fsm:1224] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:45] ERROR    [agent_fsm:1078] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] --- FSM STATE: ERROR ---
[2025-06-18 13:03:45] ERROR    [agent_fsm:1101] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:03:45] ERROR    [agent_fsm:1102] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:45] WARNING  [agent_fsm:1224] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:45] ERROR    [agent_fsm:1078] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] --- FSM STATE: ERROR ---
[2025-06-18 13:03:45] ERROR    [agent_fsm:1101] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:03:45] ERROR    [agent_fsm:1102] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:45] WARNING  [agent_fsm:1224] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:45] ERROR    [agent_fsm:1078] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] --- FSM STATE: ERROR ---
[2025-06-18 13:03:45] ERROR    [agent_fsm:1101] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:03:45] ERROR    [agent_fsm:1102] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:45] WARNING  [agent_fsm:1224] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:45] ERROR    [agent_fsm:1078] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] --- FSM STATE: ERROR ---
[2025-06-18 13:03:45] ERROR    [agent_fsm:1101] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:03:45] ERROR    [agent_fsm:1102] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:45] WARNING  [agent_fsm:1224] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:45] ERROR    [agent_fsm:1837] [83b5fc19-6f88-4e59-a5f3-3c0e7165801d] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:03:45] INFO     [agent_fsm:1752] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Starting resilient FSM execution
[2025-06-18 13:03:45] INFO     [agent_fsm:1807] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] FSM STATE: INITIAL
[2025-06-18 13:03:45] INFO     [agent_fsm:665] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:03:45] DEBUG    [agent_fsm:680] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Turn count: 1, Action history length: 1
[2025-06-18 13:03:46] WARNING  [agent_fsm:1521] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:03:46] WARNING  [agent_fsm:1521] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 13:03:46] INFO     [agent_fsm:773] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:03:46] INFO     [agent_fsm:820] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Executing tool: web_researcher with input: {'query': 'chess position analysis', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 13:03:46] INFO     [agent_fsm:922] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Tool execution completed
[2025-06-18 13:03:46] INFO     [agent_fsm:773] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:03:46] WARNING  [agent_fsm:803] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:03:46] INFO     [agent_fsm:665] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:03:46] DEBUG    [agent_fsm:680] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Turn count: 2, Action history length: 2
[2025-06-18 13:03:47] WARNING  [agent_fsm:1521] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:03:47] WARNING  [agent_fsm:1521] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:03:47] WARNING  [agent_fsm:1521] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 13:03:47] INFO     [agent_fsm:773] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:03:47] INFO     [agent_fsm:820] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Executing tool: semantic_search_tool with input: {'query': 'chess position analysis tools', 'filename': 'knowledge_base.csv', 'top_k': 3}
[2025-06-18 13:03:47] INFO     [agent_fsm:922] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Tool execution completed
[2025-06-18 13:03:47] INFO     [agent_fsm:773] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:03:47] WARNING  [agent_fsm:803] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:03:47] INFO     [agent_fsm:665] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:03:47] DEBUG    [agent_fsm:680] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Turn count: 3, Action history length: 3
[2025-06-18 13:03:49] WARNING  [agent_fsm:1224] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:49] ERROR    [agent_fsm:1078] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] --- FSM STATE: ERROR ---
[2025-06-18 13:03:49] ERROR    [agent_fsm:1101] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:03:49] ERROR    [agent_fsm:1102] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:49] WARNING  [agent_fsm:1224] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:49] ERROR    [agent_fsm:1078] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] --- FSM STATE: ERROR ---
[2025-06-18 13:03:49] ERROR    [agent_fsm:1101] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:03:49] ERROR    [agent_fsm:1102] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:49] WARNING  [agent_fsm:1224] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:49] ERROR    [agent_fsm:1078] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] --- FSM STATE: ERROR ---
[2025-06-18 13:03:49] ERROR    [agent_fsm:1101] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:03:49] ERROR    [agent_fsm:1102] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:49] WARNING  [agent_fsm:1224] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:49] ERROR    [agent_fsm:1078] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] --- FSM STATE: ERROR ---
[2025-06-18 13:03:49] ERROR    [agent_fsm:1101] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:03:49] ERROR    [agent_fsm:1102] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:49] WARNING  [agent_fsm:1224] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:49] ERROR    [agent_fsm:1078] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] --- FSM STATE: ERROR ---
[2025-06-18 13:03:49] ERROR    [agent_fsm:1101] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:03:49] ERROR    [agent_fsm:1102] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:49] WARNING  [agent_fsm:1224] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:49] ERROR    [agent_fsm:1078] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] --- FSM STATE: ERROR ---
[2025-06-18 13:03:49] ERROR    [agent_fsm:1101] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:03:49] ERROR    [agent_fsm:1102] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:49] WARNING  [agent_fsm:1224] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:49] ERROR    [agent_fsm:1078] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] --- FSM STATE: ERROR ---
[2025-06-18 13:03:49] ERROR    [agent_fsm:1101] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:03:49] ERROR    [agent_fsm:1102] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:49] WARNING  [agent_fsm:1224] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:49] ERROR    [agent_fsm:1078] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] --- FSM STATE: ERROR ---
[2025-06-18 13:03:49] ERROR    [agent_fsm:1101] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:03:49] ERROR    [agent_fsm:1102] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:49] WARNING  [agent_fsm:1224] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:49] ERROR    [agent_fsm:1078] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] --- FSM STATE: ERROR ---
[2025-06-18 13:03:49] ERROR    [agent_fsm:1101] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:03:49] ERROR    [agent_fsm:1102] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:49] WARNING  [agent_fsm:1224] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:49] ERROR    [agent_fsm:1078] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] --- FSM STATE: ERROR ---
[2025-06-18 13:03:49] ERROR    [agent_fsm:1101] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:03:49] ERROR    [agent_fsm:1102] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:49] WARNING  [agent_fsm:1224] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:49] ERROR    [agent_fsm:1078] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] --- FSM STATE: ERROR ---
[2025-06-18 13:03:49] ERROR    [agent_fsm:1101] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:03:49] ERROR    [agent_fsm:1102] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:49] WARNING  [agent_fsm:1224] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:49] ERROR    [agent_fsm:1078] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] --- FSM STATE: ERROR ---
[2025-06-18 13:03:49] ERROR    [agent_fsm:1101] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:03:49] ERROR    [agent_fsm:1102] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:49] WARNING  [agent_fsm:1224] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:49] ERROR    [agent_fsm:1078] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] --- FSM STATE: ERROR ---
[2025-06-18 13:03:49] ERROR    [agent_fsm:1101] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:03:49] ERROR    [agent_fsm:1102] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:49] WARNING  [agent_fsm:1224] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:49] ERROR    [agent_fsm:1078] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] --- FSM STATE: ERROR ---
[2025-06-18 13:03:49] ERROR    [agent_fsm:1101] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:03:49] ERROR    [agent_fsm:1102] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:49] WARNING  [agent_fsm:1224] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:49] ERROR    [agent_fsm:1078] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] --- FSM STATE: ERROR ---
[2025-06-18 13:03:49] ERROR    [agent_fsm:1101] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:03:49] ERROR    [agent_fsm:1102] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:49] WARNING  [agent_fsm:1224] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:49] ERROR    [agent_fsm:1078] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] --- FSM STATE: ERROR ---
[2025-06-18 13:03:49] ERROR    [agent_fsm:1101] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:03:49] ERROR    [agent_fsm:1102] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:49] WARNING  [agent_fsm:1224] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:49] ERROR    [agent_fsm:1078] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] --- FSM STATE: ERROR ---
[2025-06-18 13:03:49] ERROR    [agent_fsm:1101] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:03:49] ERROR    [agent_fsm:1102] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:49] WARNING  [agent_fsm:1224] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:49] ERROR    [agent_fsm:1078] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] --- FSM STATE: ERROR ---
[2025-06-18 13:03:49] ERROR    [agent_fsm:1101] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:03:49] ERROR    [agent_fsm:1102] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:49] WARNING  [agent_fsm:1224] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:49] ERROR    [agent_fsm:1837] [d7b66361-79dd-44f7-9da3-fd36dae4d2e3] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:03:49] INFO     [agent_fsm:1752] [537bafd6-2ebd-4fde-b407-5f333553573b] Starting resilient FSM execution
[2025-06-18 13:03:49] INFO     [agent_fsm:1807] [537bafd6-2ebd-4fde-b407-5f333553573b] FSM STATE: INITIAL
[2025-06-18 13:03:49] INFO     [agent_fsm:665] [537bafd6-2ebd-4fde-b407-5f333553573b] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:03:49] DEBUG    [agent_fsm:680] [537bafd6-2ebd-4fde-b407-5f333553573b] Turn count: 1, Action history length: 1
[2025-06-18 13:03:50] WARNING  [agent_fsm:1521] [537bafd6-2ebd-4fde-b407-5f333553573b] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:03:50] WARNING  [agent_fsm:1521] [537bafd6-2ebd-4fde-b407-5f333553573b] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:03:50] INFO     [agent_fsm:773] [537bafd6-2ebd-4fde-b407-5f333553573b] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:03:50] INFO     [agent_fsm:820] [537bafd6-2ebd-4fde-b407-5f333553573b] Executing tool: web_researcher with input: {'query': 'Nobel Prize in Physics 2023', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 13:03:50] INFO     [agent_fsm:922] [537bafd6-2ebd-4fde-b407-5f333553573b] Tool execution completed
[2025-06-18 13:03:50] INFO     [agent_fsm:773] [537bafd6-2ebd-4fde-b407-5f333553573b] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:03:50] WARNING  [agent_fsm:803] [537bafd6-2ebd-4fde-b407-5f333553573b] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:03:50] INFO     [agent_fsm:665] [537bafd6-2ebd-4fde-b407-5f333553573b] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:03:50] DEBUG    [agent_fsm:680] [537bafd6-2ebd-4fde-b407-5f333553573b] Turn count: 2, Action history length: 2
[2025-06-18 13:03:50] WARNING  [agent_fsm:1521] [537bafd6-2ebd-4fde-b407-5f333553573b] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:03:50] INFO     [agent_fsm:773] [537bafd6-2ebd-4fde-b407-5f333553573b] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:03:50] INFO     [agent_fsm:820] [537bafd6-2ebd-4fde-b407-5f333553573b] Executing tool: semantic_search_tool with input: {'query': 'Nobel Prize in Physics 2023 winner', 'filename': 'knowledge_base.csv', 'top_k': 3}
[2025-06-18 13:03:50] INFO     [agent_fsm:922] [537bafd6-2ebd-4fde-b407-5f333553573b] Tool execution completed
[2025-06-18 13:03:50] INFO     [agent_fsm:773] [537bafd6-2ebd-4fde-b407-5f333553573b] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:03:50] WARNING  [agent_fsm:803] [537bafd6-2ebd-4fde-b407-5f333553573b] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:03:50] INFO     [agent_fsm:665] [537bafd6-2ebd-4fde-b407-5f333553573b] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:03:50] DEBUG    [agent_fsm:680] [537bafd6-2ebd-4fde-b407-5f333553573b] Turn count: 3, Action history length: 3
[2025-06-18 13:03:52] WARNING  [agent_fsm:1521] [537bafd6-2ebd-4fde-b407-5f333553573b] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:03:52] WARNING  [agent_fsm:1521] [537bafd6-2ebd-4fde-b407-5f333553573b] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:03:52] WARNING  [agent_fsm:1224] [537bafd6-2ebd-4fde-b407-5f333553573b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:52] ERROR    [agent_fsm:1078] [537bafd6-2ebd-4fde-b407-5f333553573b] --- FSM STATE: ERROR ---
[2025-06-18 13:03:52] ERROR    [agent_fsm:1101] [537bafd6-2ebd-4fde-b407-5f333553573b] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:03:52] ERROR    [agent_fsm:1102] [537bafd6-2ebd-4fde-b407-5f333553573b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:52] WARNING  [agent_fsm:1224] [537bafd6-2ebd-4fde-b407-5f333553573b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:52] ERROR    [agent_fsm:1078] [537bafd6-2ebd-4fde-b407-5f333553573b] --- FSM STATE: ERROR ---
[2025-06-18 13:03:52] ERROR    [agent_fsm:1101] [537bafd6-2ebd-4fde-b407-5f333553573b] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:03:52] ERROR    [agent_fsm:1102] [537bafd6-2ebd-4fde-b407-5f333553573b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:52] WARNING  [agent_fsm:1224] [537bafd6-2ebd-4fde-b407-5f333553573b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:52] ERROR    [agent_fsm:1078] [537bafd6-2ebd-4fde-b407-5f333553573b] --- FSM STATE: ERROR ---
[2025-06-18 13:03:52] ERROR    [agent_fsm:1101] [537bafd6-2ebd-4fde-b407-5f333553573b] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:03:52] ERROR    [agent_fsm:1102] [537bafd6-2ebd-4fde-b407-5f333553573b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:52] WARNING  [agent_fsm:1224] [537bafd6-2ebd-4fde-b407-5f333553573b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:52] ERROR    [agent_fsm:1078] [537bafd6-2ebd-4fde-b407-5f333553573b] --- FSM STATE: ERROR ---
[2025-06-18 13:03:52] ERROR    [agent_fsm:1101] [537bafd6-2ebd-4fde-b407-5f333553573b] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:03:52] ERROR    [agent_fsm:1102] [537bafd6-2ebd-4fde-b407-5f333553573b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:52] WARNING  [agent_fsm:1224] [537bafd6-2ebd-4fde-b407-5f333553573b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:52] ERROR    [agent_fsm:1078] [537bafd6-2ebd-4fde-b407-5f333553573b] --- FSM STATE: ERROR ---
[2025-06-18 13:03:52] ERROR    [agent_fsm:1101] [537bafd6-2ebd-4fde-b407-5f333553573b] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:03:52] ERROR    [agent_fsm:1102] [537bafd6-2ebd-4fde-b407-5f333553573b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:52] WARNING  [agent_fsm:1224] [537bafd6-2ebd-4fde-b407-5f333553573b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:52] ERROR    [agent_fsm:1078] [537bafd6-2ebd-4fde-b407-5f333553573b] --- FSM STATE: ERROR ---
[2025-06-18 13:03:52] ERROR    [agent_fsm:1101] [537bafd6-2ebd-4fde-b407-5f333553573b] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:03:52] ERROR    [agent_fsm:1102] [537bafd6-2ebd-4fde-b407-5f333553573b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:52] WARNING  [agent_fsm:1224] [537bafd6-2ebd-4fde-b407-5f333553573b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:52] ERROR    [agent_fsm:1078] [537bafd6-2ebd-4fde-b407-5f333553573b] --- FSM STATE: ERROR ---
[2025-06-18 13:03:52] ERROR    [agent_fsm:1101] [537bafd6-2ebd-4fde-b407-5f333553573b] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:03:52] ERROR    [agent_fsm:1102] [537bafd6-2ebd-4fde-b407-5f333553573b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:52] WARNING  [agent_fsm:1224] [537bafd6-2ebd-4fde-b407-5f333553573b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:52] ERROR    [agent_fsm:1078] [537bafd6-2ebd-4fde-b407-5f333553573b] --- FSM STATE: ERROR ---
[2025-06-18 13:03:52] ERROR    [agent_fsm:1101] [537bafd6-2ebd-4fde-b407-5f333553573b] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:03:52] ERROR    [agent_fsm:1102] [537bafd6-2ebd-4fde-b407-5f333553573b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:52] WARNING  [agent_fsm:1224] [537bafd6-2ebd-4fde-b407-5f333553573b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:52] ERROR    [agent_fsm:1078] [537bafd6-2ebd-4fde-b407-5f333553573b] --- FSM STATE: ERROR ---
[2025-06-18 13:03:52] ERROR    [agent_fsm:1101] [537bafd6-2ebd-4fde-b407-5f333553573b] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:03:52] ERROR    [agent_fsm:1102] [537bafd6-2ebd-4fde-b407-5f333553573b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:52] WARNING  [agent_fsm:1224] [537bafd6-2ebd-4fde-b407-5f333553573b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:52] ERROR    [agent_fsm:1078] [537bafd6-2ebd-4fde-b407-5f333553573b] --- FSM STATE: ERROR ---
[2025-06-18 13:03:52] ERROR    [agent_fsm:1101] [537bafd6-2ebd-4fde-b407-5f333553573b] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:03:52] ERROR    [agent_fsm:1102] [537bafd6-2ebd-4fde-b407-5f333553573b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:52] WARNING  [agent_fsm:1224] [537bafd6-2ebd-4fde-b407-5f333553573b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:52] ERROR    [agent_fsm:1078] [537bafd6-2ebd-4fde-b407-5f333553573b] --- FSM STATE: ERROR ---
[2025-06-18 13:03:52] ERROR    [agent_fsm:1101] [537bafd6-2ebd-4fde-b407-5f333553573b] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:03:52] ERROR    [agent_fsm:1102] [537bafd6-2ebd-4fde-b407-5f333553573b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:52] WARNING  [agent_fsm:1224] [537bafd6-2ebd-4fde-b407-5f333553573b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:52] ERROR    [agent_fsm:1078] [537bafd6-2ebd-4fde-b407-5f333553573b] --- FSM STATE: ERROR ---
[2025-06-18 13:03:52] ERROR    [agent_fsm:1101] [537bafd6-2ebd-4fde-b407-5f333553573b] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:03:52] ERROR    [agent_fsm:1102] [537bafd6-2ebd-4fde-b407-5f333553573b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:52] WARNING  [agent_fsm:1224] [537bafd6-2ebd-4fde-b407-5f333553573b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:52] ERROR    [agent_fsm:1078] [537bafd6-2ebd-4fde-b407-5f333553573b] --- FSM STATE: ERROR ---
[2025-06-18 13:03:52] ERROR    [agent_fsm:1101] [537bafd6-2ebd-4fde-b407-5f333553573b] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:03:52] ERROR    [agent_fsm:1102] [537bafd6-2ebd-4fde-b407-5f333553573b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:52] WARNING  [agent_fsm:1224] [537bafd6-2ebd-4fde-b407-5f333553573b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:52] ERROR    [agent_fsm:1078] [537bafd6-2ebd-4fde-b407-5f333553573b] --- FSM STATE: ERROR ---
[2025-06-18 13:03:52] ERROR    [agent_fsm:1101] [537bafd6-2ebd-4fde-b407-5f333553573b] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:03:52] ERROR    [agent_fsm:1102] [537bafd6-2ebd-4fde-b407-5f333553573b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:52] WARNING  [agent_fsm:1224] [537bafd6-2ebd-4fde-b407-5f333553573b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:52] ERROR    [agent_fsm:1078] [537bafd6-2ebd-4fde-b407-5f333553573b] --- FSM STATE: ERROR ---
[2025-06-18 13:03:52] ERROR    [agent_fsm:1101] [537bafd6-2ebd-4fde-b407-5f333553573b] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:03:52] ERROR    [agent_fsm:1102] [537bafd6-2ebd-4fde-b407-5f333553573b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:52] WARNING  [agent_fsm:1224] [537bafd6-2ebd-4fde-b407-5f333553573b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:52] ERROR    [agent_fsm:1078] [537bafd6-2ebd-4fde-b407-5f333553573b] --- FSM STATE: ERROR ---
[2025-06-18 13:03:52] ERROR    [agent_fsm:1101] [537bafd6-2ebd-4fde-b407-5f333553573b] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:03:52] ERROR    [agent_fsm:1102] [537bafd6-2ebd-4fde-b407-5f333553573b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:52] WARNING  [agent_fsm:1224] [537bafd6-2ebd-4fde-b407-5f333553573b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:52] ERROR    [agent_fsm:1078] [537bafd6-2ebd-4fde-b407-5f333553573b] --- FSM STATE: ERROR ---
[2025-06-18 13:03:52] ERROR    [agent_fsm:1101] [537bafd6-2ebd-4fde-b407-5f333553573b] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:03:52] ERROR    [agent_fsm:1102] [537bafd6-2ebd-4fde-b407-5f333553573b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:52] WARNING  [agent_fsm:1224] [537bafd6-2ebd-4fde-b407-5f333553573b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:52] ERROR    [agent_fsm:1078] [537bafd6-2ebd-4fde-b407-5f333553573b] --- FSM STATE: ERROR ---
[2025-06-18 13:03:52] ERROR    [agent_fsm:1101] [537bafd6-2ebd-4fde-b407-5f333553573b] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:03:52] ERROR    [agent_fsm:1102] [537bafd6-2ebd-4fde-b407-5f333553573b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:52] WARNING  [agent_fsm:1224] [537bafd6-2ebd-4fde-b407-5f333553573b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:52] ERROR    [agent_fsm:1837] [537bafd6-2ebd-4fde-b407-5f333553573b] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:03:52] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 13:03:52] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 13:03:52] INFO     [agent_fsm:570] [5cef53ec-4f76-4eba-861e-de03451a8f2b] Building resilient FSM graph
[2025-06-18 13:03:52] INFO     [agent_fsm:572] [5cef53ec-4f76-4eba-861e-de03451a8f2b] FSMReActAgent graph built successfully
[2025-06-18 13:03:52] INFO     [agent_fsm:1752] [1f9dff09-b766-4481-88b2-48f72be26a7d] Starting resilient FSM execution
[2025-06-18 13:03:52] INFO     [agent_fsm:1807] [1f9dff09-b766-4481-88b2-48f72be26a7d] FSM STATE: INITIAL
[2025-06-18 13:03:52] INFO     [agent_fsm:665] [1f9dff09-b766-4481-88b2-48f72be26a7d] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:03:52] DEBUG    [agent_fsm:680] [1f9dff09-b766-4481-88b2-48f72be26a7d] Turn count: 1, Action history length: 1
[2025-06-18 13:03:53] WARNING  [agent_fsm:1521] [1f9dff09-b766-4481-88b2-48f72be26a7d] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:03:53] WARNING  [agent_fsm:1521] [1f9dff09-b766-4481-88b2-48f72be26a7d] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:03:53] INFO     [agent_fsm:773] [1f9dff09-b766-4481-88b2-48f72be26a7d] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:03:53] INFO     [agent_fsm:820] [1f9dff09-b766-4481-88b2-48f72be26a7d] Executing tool: web_researcher with input: {'query': 'Mercedes Sosa discography', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 13:03:53] INFO     [agent_fsm:922] [1f9dff09-b766-4481-88b2-48f72be26a7d] Tool execution completed
[2025-06-18 13:03:53] INFO     [agent_fsm:773] [1f9dff09-b766-4481-88b2-48f72be26a7d] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:03:53] WARNING  [agent_fsm:803] [1f9dff09-b766-4481-88b2-48f72be26a7d] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:03:53] INFO     [agent_fsm:665] [1f9dff09-b766-4481-88b2-48f72be26a7d] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:03:53] DEBUG    [agent_fsm:680] [1f9dff09-b766-4481-88b2-48f72be26a7d] Turn count: 2, Action history length: 2
[2025-06-18 13:03:53] WARNING  [agent_fsm:1521] [1f9dff09-b766-4481-88b2-48f72be26a7d] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:03:53] WARNING  [agent_fsm:1521] [1f9dff09-b766-4481-88b2-48f72be26a7d] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:03:53] WARNING  [agent_fsm:1521] [1f9dff09-b766-4481-88b2-48f72be26a7d] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:03:53] INFO     [agent_fsm:773] [1f9dff09-b766-4481-88b2-48f72be26a7d] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:03:53] INFO     [agent_fsm:820] [1f9dff09-b766-4481-88b2-48f72be26a7d] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 13:03:53] INFO     [agent_fsm:922] [1f9dff09-b766-4481-88b2-48f72be26a7d] Tool execution completed
[2025-06-18 13:03:53] INFO     [agent_fsm:773] [1f9dff09-b766-4481-88b2-48f72be26a7d] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:03:53] WARNING  [agent_fsm:803] [1f9dff09-b766-4481-88b2-48f72be26a7d] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:03:53] INFO     [agent_fsm:665] [1f9dff09-b766-4481-88b2-48f72be26a7d] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:03:53] DEBUG    [agent_fsm:680] [1f9dff09-b766-4481-88b2-48f72be26a7d] Turn count: 3, Action history length: 3
[2025-06-18 13:03:54] WARNING  [agent_fsm:1521] [1f9dff09-b766-4481-88b2-48f72be26a7d] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:03:54] WARNING  [agent_fsm:1521] [1f9dff09-b766-4481-88b2-48f72be26a7d] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:03:54] WARNING  [agent_fsm:1224] [1f9dff09-b766-4481-88b2-48f72be26a7d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:54] ERROR    [agent_fsm:1078] [1f9dff09-b766-4481-88b2-48f72be26a7d] --- FSM STATE: ERROR ---
[2025-06-18 13:03:54] ERROR    [agent_fsm:1101] [1f9dff09-b766-4481-88b2-48f72be26a7d] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:03:54] ERROR    [agent_fsm:1102] [1f9dff09-b766-4481-88b2-48f72be26a7d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:54] WARNING  [agent_fsm:1224] [1f9dff09-b766-4481-88b2-48f72be26a7d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:54] ERROR    [agent_fsm:1078] [1f9dff09-b766-4481-88b2-48f72be26a7d] --- FSM STATE: ERROR ---
[2025-06-18 13:03:54] ERROR    [agent_fsm:1101] [1f9dff09-b766-4481-88b2-48f72be26a7d] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:03:54] ERROR    [agent_fsm:1102] [1f9dff09-b766-4481-88b2-48f72be26a7d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:54] WARNING  [agent_fsm:1224] [1f9dff09-b766-4481-88b2-48f72be26a7d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:54] ERROR    [agent_fsm:1078] [1f9dff09-b766-4481-88b2-48f72be26a7d] --- FSM STATE: ERROR ---
[2025-06-18 13:03:54] ERROR    [agent_fsm:1101] [1f9dff09-b766-4481-88b2-48f72be26a7d] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:03:54] ERROR    [agent_fsm:1102] [1f9dff09-b766-4481-88b2-48f72be26a7d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:54] WARNING  [agent_fsm:1224] [1f9dff09-b766-4481-88b2-48f72be26a7d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:54] ERROR    [agent_fsm:1078] [1f9dff09-b766-4481-88b2-48f72be26a7d] --- FSM STATE: ERROR ---
[2025-06-18 13:03:54] ERROR    [agent_fsm:1101] [1f9dff09-b766-4481-88b2-48f72be26a7d] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:03:54] ERROR    [agent_fsm:1102] [1f9dff09-b766-4481-88b2-48f72be26a7d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:54] WARNING  [agent_fsm:1224] [1f9dff09-b766-4481-88b2-48f72be26a7d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:54] ERROR    [agent_fsm:1078] [1f9dff09-b766-4481-88b2-48f72be26a7d] --- FSM STATE: ERROR ---
[2025-06-18 13:03:54] ERROR    [agent_fsm:1101] [1f9dff09-b766-4481-88b2-48f72be26a7d] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:03:54] ERROR    [agent_fsm:1102] [1f9dff09-b766-4481-88b2-48f72be26a7d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:54] WARNING  [agent_fsm:1224] [1f9dff09-b766-4481-88b2-48f72be26a7d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:54] ERROR    [agent_fsm:1078] [1f9dff09-b766-4481-88b2-48f72be26a7d] --- FSM STATE: ERROR ---
[2025-06-18 13:03:54] ERROR    [agent_fsm:1101] [1f9dff09-b766-4481-88b2-48f72be26a7d] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:03:54] ERROR    [agent_fsm:1102] [1f9dff09-b766-4481-88b2-48f72be26a7d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:54] WARNING  [agent_fsm:1224] [1f9dff09-b766-4481-88b2-48f72be26a7d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:54] ERROR    [agent_fsm:1078] [1f9dff09-b766-4481-88b2-48f72be26a7d] --- FSM STATE: ERROR ---
[2025-06-18 13:03:54] ERROR    [agent_fsm:1101] [1f9dff09-b766-4481-88b2-48f72be26a7d] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:03:54] ERROR    [agent_fsm:1102] [1f9dff09-b766-4481-88b2-48f72be26a7d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:54] WARNING  [agent_fsm:1224] [1f9dff09-b766-4481-88b2-48f72be26a7d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:54] ERROR    [agent_fsm:1078] [1f9dff09-b766-4481-88b2-48f72be26a7d] --- FSM STATE: ERROR ---
[2025-06-18 13:03:54] ERROR    [agent_fsm:1101] [1f9dff09-b766-4481-88b2-48f72be26a7d] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:03:54] ERROR    [agent_fsm:1102] [1f9dff09-b766-4481-88b2-48f72be26a7d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:54] WARNING  [agent_fsm:1224] [1f9dff09-b766-4481-88b2-48f72be26a7d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:54] ERROR    [agent_fsm:1078] [1f9dff09-b766-4481-88b2-48f72be26a7d] --- FSM STATE: ERROR ---
[2025-06-18 13:03:54] ERROR    [agent_fsm:1101] [1f9dff09-b766-4481-88b2-48f72be26a7d] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:03:54] ERROR    [agent_fsm:1102] [1f9dff09-b766-4481-88b2-48f72be26a7d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:54] WARNING  [agent_fsm:1224] [1f9dff09-b766-4481-88b2-48f72be26a7d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:54] ERROR    [agent_fsm:1078] [1f9dff09-b766-4481-88b2-48f72be26a7d] --- FSM STATE: ERROR ---
[2025-06-18 13:03:54] ERROR    [agent_fsm:1101] [1f9dff09-b766-4481-88b2-48f72be26a7d] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:03:54] ERROR    [agent_fsm:1102] [1f9dff09-b766-4481-88b2-48f72be26a7d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:54] WARNING  [agent_fsm:1224] [1f9dff09-b766-4481-88b2-48f72be26a7d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:54] ERROR    [agent_fsm:1078] [1f9dff09-b766-4481-88b2-48f72be26a7d] --- FSM STATE: ERROR ---
[2025-06-18 13:03:54] ERROR    [agent_fsm:1101] [1f9dff09-b766-4481-88b2-48f72be26a7d] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:03:54] ERROR    [agent_fsm:1102] [1f9dff09-b766-4481-88b2-48f72be26a7d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:54] WARNING  [agent_fsm:1224] [1f9dff09-b766-4481-88b2-48f72be26a7d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:54] ERROR    [agent_fsm:1078] [1f9dff09-b766-4481-88b2-48f72be26a7d] --- FSM STATE: ERROR ---
[2025-06-18 13:03:54] ERROR    [agent_fsm:1101] [1f9dff09-b766-4481-88b2-48f72be26a7d] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:03:54] ERROR    [agent_fsm:1102] [1f9dff09-b766-4481-88b2-48f72be26a7d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:54] WARNING  [agent_fsm:1224] [1f9dff09-b766-4481-88b2-48f72be26a7d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:54] ERROR    [agent_fsm:1078] [1f9dff09-b766-4481-88b2-48f72be26a7d] --- FSM STATE: ERROR ---
[2025-06-18 13:03:54] ERROR    [agent_fsm:1101] [1f9dff09-b766-4481-88b2-48f72be26a7d] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:03:54] ERROR    [agent_fsm:1102] [1f9dff09-b766-4481-88b2-48f72be26a7d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:54] WARNING  [agent_fsm:1224] [1f9dff09-b766-4481-88b2-48f72be26a7d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:54] ERROR    [agent_fsm:1078] [1f9dff09-b766-4481-88b2-48f72be26a7d] --- FSM STATE: ERROR ---
[2025-06-18 13:03:54] ERROR    [agent_fsm:1101] [1f9dff09-b766-4481-88b2-48f72be26a7d] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:03:54] ERROR    [agent_fsm:1102] [1f9dff09-b766-4481-88b2-48f72be26a7d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:54] WARNING  [agent_fsm:1224] [1f9dff09-b766-4481-88b2-48f72be26a7d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:54] ERROR    [agent_fsm:1078] [1f9dff09-b766-4481-88b2-48f72be26a7d] --- FSM STATE: ERROR ---
[2025-06-18 13:03:54] ERROR    [agent_fsm:1101] [1f9dff09-b766-4481-88b2-48f72be26a7d] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:03:54] ERROR    [agent_fsm:1102] [1f9dff09-b766-4481-88b2-48f72be26a7d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:54] WARNING  [agent_fsm:1224] [1f9dff09-b766-4481-88b2-48f72be26a7d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:54] ERROR    [agent_fsm:1078] [1f9dff09-b766-4481-88b2-48f72be26a7d] --- FSM STATE: ERROR ---
[2025-06-18 13:03:54] ERROR    [agent_fsm:1101] [1f9dff09-b766-4481-88b2-48f72be26a7d] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:03:54] ERROR    [agent_fsm:1102] [1f9dff09-b766-4481-88b2-48f72be26a7d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:54] WARNING  [agent_fsm:1224] [1f9dff09-b766-4481-88b2-48f72be26a7d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:54] ERROR    [agent_fsm:1078] [1f9dff09-b766-4481-88b2-48f72be26a7d] --- FSM STATE: ERROR ---
[2025-06-18 13:03:54] ERROR    [agent_fsm:1101] [1f9dff09-b766-4481-88b2-48f72be26a7d] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:03:54] ERROR    [agent_fsm:1102] [1f9dff09-b766-4481-88b2-48f72be26a7d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:54] WARNING  [agent_fsm:1224] [1f9dff09-b766-4481-88b2-48f72be26a7d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:54] ERROR    [agent_fsm:1078] [1f9dff09-b766-4481-88b2-48f72be26a7d] --- FSM STATE: ERROR ---
[2025-06-18 13:03:54] ERROR    [agent_fsm:1101] [1f9dff09-b766-4481-88b2-48f72be26a7d] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:03:54] ERROR    [agent_fsm:1102] [1f9dff09-b766-4481-88b2-48f72be26a7d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:54] WARNING  [agent_fsm:1224] [1f9dff09-b766-4481-88b2-48f72be26a7d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:54] ERROR    [agent_fsm:1837] [1f9dff09-b766-4481-88b2-48f72be26a7d] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:03:54] INFO     [agent_fsm:1752] [277eb82e-d294-4313-b271-353b077a7c07] Starting resilient FSM execution
[2025-06-18 13:03:54] INFO     [agent_fsm:1807] [277eb82e-d294-4313-b271-353b077a7c07] FSM STATE: INITIAL
[2025-06-18 13:03:54] INFO     [agent_fsm:665] [277eb82e-d294-4313-b271-353b077a7c07] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:03:54] DEBUG    [agent_fsm:680] [277eb82e-d294-4313-b271-353b077a7c07] Turn count: 1, Action history length: 1
[2025-06-18 13:03:56] WARNING  [agent_fsm:1521] [277eb82e-d294-4313-b271-353b077a7c07] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:03:56] WARNING  [agent_fsm:1521] [277eb82e-d294-4313-b271-353b077a7c07] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:03:56] WARNING  [agent_fsm:1521] [277eb82e-d294-4313-b271-353b077a7c07] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:03:56] WARNING  [agent_fsm:1521] [277eb82e-d294-4313-b271-353b077a7c07] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:03:56] WARNING  [agent_fsm:1521] [277eb82e-d294-4313-b271-353b077a7c07] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 13:03:56] WARNING  [agent_fsm:1521] [277eb82e-d294-4313-b271-353b077a7c07] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 13:03:56] INFO     [agent_fsm:773] [277eb82e-d294-4313-b271-353b077a7c07] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:03:56] INFO     [agent_fsm:820] [277eb82e-d294-4313-b271-353b077a7c07] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 13:03:56] INFO     [agent_fsm:922] [277eb82e-d294-4313-b271-353b077a7c07] Tool execution completed
[2025-06-18 13:03:56] INFO     [agent_fsm:773] [277eb82e-d294-4313-b271-353b077a7c07] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:03:56] WARNING  [agent_fsm:803] [277eb82e-d294-4313-b271-353b077a7c07] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:03:56] INFO     [agent_fsm:665] [277eb82e-d294-4313-b271-353b077a7c07] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:03:56] DEBUG    [agent_fsm:680] [277eb82e-d294-4313-b271-353b077a7c07] Turn count: 2, Action history length: 2
[2025-06-18 13:03:57] WARNING  [agent_fsm:1521] [277eb82e-d294-4313-b271-353b077a7c07] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:03:57] WARNING  [agent_fsm:1521] [277eb82e-d294-4313-b271-353b077a7c07] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:03:57] WARNING  [agent_fsm:1521] [277eb82e-d294-4313-b271-353b077a7c07] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 13:03:57] WARNING  [agent_fsm:1521] [277eb82e-d294-4313-b271-353b077a7c07] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 13:03:57] WARNING  [agent_fsm:1521] [277eb82e-d294-4313-b271-353b077a7c07] Failed to parse JSON parameters for step 8, using fallback parser
[2025-06-18 13:03:57] INFO     [agent_fsm:773] [277eb82e-d294-4313-b271-353b077a7c07] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:03:57] INFO     [agent_fsm:820] [277eb82e-d294-4313-b271-353b077a7c07] Executing tool: video_analyzer with input: {'url': 'https://www.youtube.com/watch?v=L1vXCYZAYYM', 'action': 'download_info'}
[2025-06-18 13:03:57] INFO     [agent_fsm:922] [277eb82e-d294-4313-b271-353b077a7c07] Tool execution completed
[2025-06-18 13:03:57] INFO     [agent_fsm:773] [277eb82e-d294-4313-b271-353b077a7c07] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:03:57] WARNING  [agent_fsm:803] [277eb82e-d294-4313-b271-353b077a7c07] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:03:57] INFO     [agent_fsm:665] [277eb82e-d294-4313-b271-353b077a7c07] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:03:57] DEBUG    [agent_fsm:680] [277eb82e-d294-4313-b271-353b077a7c07] Turn count: 3, Action history length: 3
[2025-06-18 13:03:59] WARNING  [agent_fsm:1521] [277eb82e-d294-4313-b271-353b077a7c07] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:03:59] WARNING  [agent_fsm:1521] [277eb82e-d294-4313-b271-353b077a7c07] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:03:59] WARNING  [agent_fsm:1521] [277eb82e-d294-4313-b271-353b077a7c07] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:03:59] WARNING  [agent_fsm:1333] [277eb82e-d294-4313-b271-353b077a7c07] Tool video_analyzer_production not found in registry, will use stub
[2025-06-18 13:03:59] WARNING  [agent_fsm:1224] [277eb82e-d294-4313-b271-353b077a7c07] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:59] ERROR    [agent_fsm:1078] [277eb82e-d294-4313-b271-353b077a7c07] --- FSM STATE: ERROR ---
[2025-06-18 13:03:59] ERROR    [agent_fsm:1101] [277eb82e-d294-4313-b271-353b077a7c07] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:03:59] ERROR    [agent_fsm:1102] [277eb82e-d294-4313-b271-353b077a7c07] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:59] WARNING  [agent_fsm:1224] [277eb82e-d294-4313-b271-353b077a7c07] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:59] ERROR    [agent_fsm:1078] [277eb82e-d294-4313-b271-353b077a7c07] --- FSM STATE: ERROR ---
[2025-06-18 13:03:59] ERROR    [agent_fsm:1101] [277eb82e-d294-4313-b271-353b077a7c07] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:03:59] ERROR    [agent_fsm:1102] [277eb82e-d294-4313-b271-353b077a7c07] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:59] WARNING  [agent_fsm:1224] [277eb82e-d294-4313-b271-353b077a7c07] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:59] ERROR    [agent_fsm:1078] [277eb82e-d294-4313-b271-353b077a7c07] --- FSM STATE: ERROR ---
[2025-06-18 13:03:59] ERROR    [agent_fsm:1101] [277eb82e-d294-4313-b271-353b077a7c07] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:03:59] ERROR    [agent_fsm:1102] [277eb82e-d294-4313-b271-353b077a7c07] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:59] WARNING  [agent_fsm:1224] [277eb82e-d294-4313-b271-353b077a7c07] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:59] ERROR    [agent_fsm:1078] [277eb82e-d294-4313-b271-353b077a7c07] --- FSM STATE: ERROR ---
[2025-06-18 13:03:59] ERROR    [agent_fsm:1101] [277eb82e-d294-4313-b271-353b077a7c07] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:03:59] ERROR    [agent_fsm:1102] [277eb82e-d294-4313-b271-353b077a7c07] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:59] WARNING  [agent_fsm:1224] [277eb82e-d294-4313-b271-353b077a7c07] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:59] ERROR    [agent_fsm:1078] [277eb82e-d294-4313-b271-353b077a7c07] --- FSM STATE: ERROR ---
[2025-06-18 13:03:59] ERROR    [agent_fsm:1101] [277eb82e-d294-4313-b271-353b077a7c07] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:03:59] ERROR    [agent_fsm:1102] [277eb82e-d294-4313-b271-353b077a7c07] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:59] WARNING  [agent_fsm:1224] [277eb82e-d294-4313-b271-353b077a7c07] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:59] ERROR    [agent_fsm:1078] [277eb82e-d294-4313-b271-353b077a7c07] --- FSM STATE: ERROR ---
[2025-06-18 13:03:59] ERROR    [agent_fsm:1101] [277eb82e-d294-4313-b271-353b077a7c07] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:03:59] ERROR    [agent_fsm:1102] [277eb82e-d294-4313-b271-353b077a7c07] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:59] WARNING  [agent_fsm:1224] [277eb82e-d294-4313-b271-353b077a7c07] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:59] ERROR    [agent_fsm:1078] [277eb82e-d294-4313-b271-353b077a7c07] --- FSM STATE: ERROR ---
[2025-06-18 13:03:59] ERROR    [agent_fsm:1101] [277eb82e-d294-4313-b271-353b077a7c07] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:03:59] ERROR    [agent_fsm:1102] [277eb82e-d294-4313-b271-353b077a7c07] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:59] WARNING  [agent_fsm:1224] [277eb82e-d294-4313-b271-353b077a7c07] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:59] ERROR    [agent_fsm:1078] [277eb82e-d294-4313-b271-353b077a7c07] --- FSM STATE: ERROR ---
[2025-06-18 13:03:59] ERROR    [agent_fsm:1101] [277eb82e-d294-4313-b271-353b077a7c07] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:03:59] ERROR    [agent_fsm:1102] [277eb82e-d294-4313-b271-353b077a7c07] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:59] WARNING  [agent_fsm:1224] [277eb82e-d294-4313-b271-353b077a7c07] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:59] ERROR    [agent_fsm:1078] [277eb82e-d294-4313-b271-353b077a7c07] --- FSM STATE: ERROR ---
[2025-06-18 13:03:59] ERROR    [agent_fsm:1101] [277eb82e-d294-4313-b271-353b077a7c07] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:03:59] ERROR    [agent_fsm:1102] [277eb82e-d294-4313-b271-353b077a7c07] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:59] WARNING  [agent_fsm:1224] [277eb82e-d294-4313-b271-353b077a7c07] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:59] ERROR    [agent_fsm:1078] [277eb82e-d294-4313-b271-353b077a7c07] --- FSM STATE: ERROR ---
[2025-06-18 13:03:59] ERROR    [agent_fsm:1101] [277eb82e-d294-4313-b271-353b077a7c07] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:03:59] ERROR    [agent_fsm:1102] [277eb82e-d294-4313-b271-353b077a7c07] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:59] WARNING  [agent_fsm:1224] [277eb82e-d294-4313-b271-353b077a7c07] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:59] ERROR    [agent_fsm:1078] [277eb82e-d294-4313-b271-353b077a7c07] --- FSM STATE: ERROR ---
[2025-06-18 13:03:59] ERROR    [agent_fsm:1101] [277eb82e-d294-4313-b271-353b077a7c07] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:03:59] ERROR    [agent_fsm:1102] [277eb82e-d294-4313-b271-353b077a7c07] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:59] WARNING  [agent_fsm:1224] [277eb82e-d294-4313-b271-353b077a7c07] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:59] ERROR    [agent_fsm:1078] [277eb82e-d294-4313-b271-353b077a7c07] --- FSM STATE: ERROR ---
[2025-06-18 13:03:59] ERROR    [agent_fsm:1101] [277eb82e-d294-4313-b271-353b077a7c07] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:03:59] ERROR    [agent_fsm:1102] [277eb82e-d294-4313-b271-353b077a7c07] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:59] WARNING  [agent_fsm:1224] [277eb82e-d294-4313-b271-353b077a7c07] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:59] ERROR    [agent_fsm:1078] [277eb82e-d294-4313-b271-353b077a7c07] --- FSM STATE: ERROR ---
[2025-06-18 13:03:59] ERROR    [agent_fsm:1101] [277eb82e-d294-4313-b271-353b077a7c07] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:03:59] ERROR    [agent_fsm:1102] [277eb82e-d294-4313-b271-353b077a7c07] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:59] WARNING  [agent_fsm:1224] [277eb82e-d294-4313-b271-353b077a7c07] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:59] ERROR    [agent_fsm:1078] [277eb82e-d294-4313-b271-353b077a7c07] --- FSM STATE: ERROR ---
[2025-06-18 13:03:59] ERROR    [agent_fsm:1101] [277eb82e-d294-4313-b271-353b077a7c07] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:03:59] ERROR    [agent_fsm:1102] [277eb82e-d294-4313-b271-353b077a7c07] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:59] WARNING  [agent_fsm:1224] [277eb82e-d294-4313-b271-353b077a7c07] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:59] ERROR    [agent_fsm:1078] [277eb82e-d294-4313-b271-353b077a7c07] --- FSM STATE: ERROR ---
[2025-06-18 13:03:59] ERROR    [agent_fsm:1101] [277eb82e-d294-4313-b271-353b077a7c07] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:03:59] ERROR    [agent_fsm:1102] [277eb82e-d294-4313-b271-353b077a7c07] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:59] WARNING  [agent_fsm:1224] [277eb82e-d294-4313-b271-353b077a7c07] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:59] ERROR    [agent_fsm:1078] [277eb82e-d294-4313-b271-353b077a7c07] --- FSM STATE: ERROR ---
[2025-06-18 13:03:59] ERROR    [agent_fsm:1101] [277eb82e-d294-4313-b271-353b077a7c07] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:03:59] ERROR    [agent_fsm:1102] [277eb82e-d294-4313-b271-353b077a7c07] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:59] WARNING  [agent_fsm:1224] [277eb82e-d294-4313-b271-353b077a7c07] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:59] ERROR    [agent_fsm:1078] [277eb82e-d294-4313-b271-353b077a7c07] --- FSM STATE: ERROR ---
[2025-06-18 13:03:59] ERROR    [agent_fsm:1101] [277eb82e-d294-4313-b271-353b077a7c07] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:03:59] ERROR    [agent_fsm:1102] [277eb82e-d294-4313-b271-353b077a7c07] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:59] WARNING  [agent_fsm:1224] [277eb82e-d294-4313-b271-353b077a7c07] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:59] ERROR    [agent_fsm:1078] [277eb82e-d294-4313-b271-353b077a7c07] --- FSM STATE: ERROR ---
[2025-06-18 13:03:59] ERROR    [agent_fsm:1101] [277eb82e-d294-4313-b271-353b077a7c07] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:03:59] ERROR    [agent_fsm:1102] [277eb82e-d294-4313-b271-353b077a7c07] Errors: ['Duplicate tool call detected']
[2025-06-18 13:03:59] WARNING  [agent_fsm:1224] [277eb82e-d294-4313-b271-353b077a7c07] Direct loop detected - same action repeated 3 times
[2025-06-18 13:03:59] ERROR    [agent_fsm:1837] [277eb82e-d294-4313-b271-353b077a7c07] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:03:59] INFO     [agent_fsm:1752] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Starting resilient FSM execution
[2025-06-18 13:03:59] INFO     [agent_fsm:1807] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] FSM STATE: INITIAL
[2025-06-18 13:03:59] INFO     [agent_fsm:665] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:03:59] DEBUG    [agent_fsm:680] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Turn count: 1, Action history length: 1
[2025-06-18 13:04:00] WARNING  [agent_fsm:1521] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:04:00] WARNING  [agent_fsm:1521] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:04:00] WARNING  [agent_fsm:1521] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 13:04:00] WARNING  [agent_fsm:1521] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Failed to parse JSON parameters for step 8, using fallback parser
[2025-06-18 13:04:00] INFO     [agent_fsm:773] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:04:00] INFO     [agent_fsm:820] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 13:04:00] INFO     [agent_fsm:922] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Tool execution completed
[2025-06-18 13:04:00] INFO     [agent_fsm:773] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:04:00] WARNING  [agent_fsm:803] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:04:00] INFO     [agent_fsm:665] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:04:00] DEBUG    [agent_fsm:680] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Turn count: 2, Action history length: 2
[2025-06-18 13:04:03] WARNING  [agent_fsm:1521] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:04:03] INFO     [agent_fsm:773] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:04:03] WARNING  [agent_fsm:803] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:04:03] INFO     [agent_fsm:665] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] --- FSM STATE: PLANNING (Step 3) ---
[2025-06-18 13:04:03] DEBUG    [agent_fsm:680] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Turn count: 3, Action history length: 3
[2025-06-18 13:04:05] WARNING  [agent_fsm:1521] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:04:05] WARNING  [agent_fsm:1521] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:04:05] WARNING  [agent_fsm:1333] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Tool image_analyzer not found in registry, will use stub
[2025-06-18 13:04:05] WARNING  [agent_fsm:1224] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:05] ERROR    [agent_fsm:1078] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] --- FSM STATE: ERROR ---
[2025-06-18 13:04:05] ERROR    [agent_fsm:1101] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:04:05] ERROR    [agent_fsm:1102] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:05] WARNING  [agent_fsm:1224] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:05] ERROR    [agent_fsm:1078] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] --- FSM STATE: ERROR ---
[2025-06-18 13:04:05] ERROR    [agent_fsm:1101] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:04:05] ERROR    [agent_fsm:1102] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:05] WARNING  [agent_fsm:1224] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:05] ERROR    [agent_fsm:1078] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] --- FSM STATE: ERROR ---
[2025-06-18 13:04:05] ERROR    [agent_fsm:1101] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:04:05] ERROR    [agent_fsm:1102] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:05] WARNING  [agent_fsm:1224] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:05] ERROR    [agent_fsm:1078] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] --- FSM STATE: ERROR ---
[2025-06-18 13:04:05] ERROR    [agent_fsm:1101] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:04:05] ERROR    [agent_fsm:1102] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:05] WARNING  [agent_fsm:1224] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:05] ERROR    [agent_fsm:1078] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] --- FSM STATE: ERROR ---
[2025-06-18 13:04:05] ERROR    [agent_fsm:1101] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:04:05] ERROR    [agent_fsm:1102] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:05] WARNING  [agent_fsm:1224] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:05] ERROR    [agent_fsm:1078] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] --- FSM STATE: ERROR ---
[2025-06-18 13:04:05] ERROR    [agent_fsm:1101] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:04:05] ERROR    [agent_fsm:1102] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:05] WARNING  [agent_fsm:1224] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:05] ERROR    [agent_fsm:1078] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] --- FSM STATE: ERROR ---
[2025-06-18 13:04:05] ERROR    [agent_fsm:1101] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:04:05] ERROR    [agent_fsm:1102] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:05] WARNING  [agent_fsm:1224] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:05] ERROR    [agent_fsm:1078] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] --- FSM STATE: ERROR ---
[2025-06-18 13:04:05] ERROR    [agent_fsm:1101] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:04:05] ERROR    [agent_fsm:1102] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:05] WARNING  [agent_fsm:1224] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:05] ERROR    [agent_fsm:1078] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] --- FSM STATE: ERROR ---
[2025-06-18 13:04:05] ERROR    [agent_fsm:1101] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:04:05] ERROR    [agent_fsm:1102] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:05] WARNING  [agent_fsm:1224] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:05] ERROR    [agent_fsm:1078] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] --- FSM STATE: ERROR ---
[2025-06-18 13:04:05] ERROR    [agent_fsm:1101] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:04:05] ERROR    [agent_fsm:1102] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:05] WARNING  [agent_fsm:1224] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:05] ERROR    [agent_fsm:1078] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] --- FSM STATE: ERROR ---
[2025-06-18 13:04:05] ERROR    [agent_fsm:1101] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:04:05] ERROR    [agent_fsm:1102] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:05] WARNING  [agent_fsm:1224] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:05] ERROR    [agent_fsm:1078] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] --- FSM STATE: ERROR ---
[2025-06-18 13:04:05] ERROR    [agent_fsm:1101] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:04:05] ERROR    [agent_fsm:1102] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:05] WARNING  [agent_fsm:1224] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:05] ERROR    [agent_fsm:1078] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] --- FSM STATE: ERROR ---
[2025-06-18 13:04:05] ERROR    [agent_fsm:1101] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:04:05] ERROR    [agent_fsm:1102] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:05] WARNING  [agent_fsm:1224] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:05] ERROR    [agent_fsm:1078] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] --- FSM STATE: ERROR ---
[2025-06-18 13:04:05] ERROR    [agent_fsm:1101] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:04:05] ERROR    [agent_fsm:1102] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:05] WARNING  [agent_fsm:1224] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:05] ERROR    [agent_fsm:1078] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] --- FSM STATE: ERROR ---
[2025-06-18 13:04:05] ERROR    [agent_fsm:1101] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:04:05] ERROR    [agent_fsm:1102] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:05] WARNING  [agent_fsm:1224] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:05] ERROR    [agent_fsm:1078] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] --- FSM STATE: ERROR ---
[2025-06-18 13:04:05] ERROR    [agent_fsm:1101] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:04:05] ERROR    [agent_fsm:1102] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:05] WARNING  [agent_fsm:1224] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:05] ERROR    [agent_fsm:1078] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] --- FSM STATE: ERROR ---
[2025-06-18 13:04:05] ERROR    [agent_fsm:1101] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:04:05] ERROR    [agent_fsm:1102] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:05] WARNING  [agent_fsm:1224] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:05] ERROR    [agent_fsm:1078] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] --- FSM STATE: ERROR ---
[2025-06-18 13:04:05] ERROR    [agent_fsm:1101] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:04:05] ERROR    [agent_fsm:1102] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:05] WARNING  [agent_fsm:1224] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:05] ERROR    [agent_fsm:1078] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] --- FSM STATE: ERROR ---
[2025-06-18 13:04:05] ERROR    [agent_fsm:1101] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Error category: GENERAL, Occurrences: 19
[2025-06-18 13:04:05] ERROR    [agent_fsm:1102] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:05] WARNING  [agent_fsm:1224] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:05] ERROR    [agent_fsm:1837] [0e1b3fe4-91d0-482e-bf95-b6bb3edc1947] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:04:05] INFO     [agent_fsm:1752] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Starting resilient FSM execution
[2025-06-18 13:04:05] INFO     [agent_fsm:1807] [2abf225b-67b6-42ec-8fc9-b24a75519c67] FSM STATE: INITIAL
[2025-06-18 13:04:05] INFO     [agent_fsm:665] [2abf225b-67b6-42ec-8fc9-b24a75519c67] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:04:05] DEBUG    [agent_fsm:680] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Turn count: 1, Action history length: 1
[2025-06-18 13:04:06] WARNING  [agent_fsm:1521] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:04:06] WARNING  [agent_fsm:1521] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:04:06] WARNING  [agent_fsm:1521] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 13:04:06] WARNING  [agent_fsm:1521] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 13:04:06] WARNING  [agent_fsm:1521] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Failed to parse JSON parameters for step 8, using fallback parser
[2025-06-18 13:04:06] INFO     [agent_fsm:773] [2abf225b-67b6-42ec-8fc9-b24a75519c67] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:04:06] INFO     [agent_fsm:820] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Executing tool: advanced_file_reader with input: {'filename': 'path/to/sales_data.xlsx'}
[2025-06-18 13:04:06] INFO     [agent_fsm:922] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Tool execution completed
[2025-06-18 13:04:06] INFO     [agent_fsm:773] [2abf225b-67b6-42ec-8fc9-b24a75519c67] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:04:06] WARNING  [agent_fsm:803] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:04:06] INFO     [agent_fsm:665] [2abf225b-67b6-42ec-8fc9-b24a75519c67] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:04:06] DEBUG    [agent_fsm:680] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Turn count: 2, Action history length: 2
[2025-06-18 13:04:07] WARNING  [agent_fsm:1521] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:04:07] WARNING  [agent_fsm:1521] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 13:04:07] INFO     [agent_fsm:773] [2abf225b-67b6-42ec-8fc9-b24a75519c67] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:04:07] INFO     [agent_fsm:820] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Executing tool: advanced_file_reader with input: {'filename': 'path/to/file.xlsx'}
[2025-06-18 13:04:07] INFO     [agent_fsm:922] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Tool execution completed
[2025-06-18 13:04:07] INFO     [agent_fsm:773] [2abf225b-67b6-42ec-8fc9-b24a75519c67] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:04:07] WARNING  [agent_fsm:803] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:04:07] INFO     [agent_fsm:665] [2abf225b-67b6-42ec-8fc9-b24a75519c67] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:04:07] DEBUG    [agent_fsm:680] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Turn count: 3, Action history length: 3
[2025-06-18 13:04:08] WARNING  [agent_fsm:1224] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:08] ERROR    [agent_fsm:1078] [2abf225b-67b6-42ec-8fc9-b24a75519c67] --- FSM STATE: ERROR ---
[2025-06-18 13:04:08] ERROR    [agent_fsm:1101] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:04:08] ERROR    [agent_fsm:1102] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:08] WARNING  [agent_fsm:1224] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:08] ERROR    [agent_fsm:1078] [2abf225b-67b6-42ec-8fc9-b24a75519c67] --- FSM STATE: ERROR ---
[2025-06-18 13:04:08] ERROR    [agent_fsm:1101] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:04:08] ERROR    [agent_fsm:1102] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:08] WARNING  [agent_fsm:1224] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:08] ERROR    [agent_fsm:1078] [2abf225b-67b6-42ec-8fc9-b24a75519c67] --- FSM STATE: ERROR ---
[2025-06-18 13:04:08] ERROR    [agent_fsm:1101] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:04:08] ERROR    [agent_fsm:1102] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:08] WARNING  [agent_fsm:1224] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:08] ERROR    [agent_fsm:1078] [2abf225b-67b6-42ec-8fc9-b24a75519c67] --- FSM STATE: ERROR ---
[2025-06-18 13:04:08] ERROR    [agent_fsm:1101] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:04:08] ERROR    [agent_fsm:1102] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:08] WARNING  [agent_fsm:1224] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:08] ERROR    [agent_fsm:1078] [2abf225b-67b6-42ec-8fc9-b24a75519c67] --- FSM STATE: ERROR ---
[2025-06-18 13:04:08] ERROR    [agent_fsm:1101] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:04:08] ERROR    [agent_fsm:1102] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:08] WARNING  [agent_fsm:1224] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:08] ERROR    [agent_fsm:1078] [2abf225b-67b6-42ec-8fc9-b24a75519c67] --- FSM STATE: ERROR ---
[2025-06-18 13:04:08] ERROR    [agent_fsm:1101] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:04:08] ERROR    [agent_fsm:1102] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:08] WARNING  [agent_fsm:1224] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:08] ERROR    [agent_fsm:1078] [2abf225b-67b6-42ec-8fc9-b24a75519c67] --- FSM STATE: ERROR ---
[2025-06-18 13:04:08] ERROR    [agent_fsm:1101] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:04:08] ERROR    [agent_fsm:1102] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:08] WARNING  [agent_fsm:1224] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:08] ERROR    [agent_fsm:1078] [2abf225b-67b6-42ec-8fc9-b24a75519c67] --- FSM STATE: ERROR ---
[2025-06-18 13:04:08] ERROR    [agent_fsm:1101] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:04:08] ERROR    [agent_fsm:1102] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:08] WARNING  [agent_fsm:1224] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:08] ERROR    [agent_fsm:1078] [2abf225b-67b6-42ec-8fc9-b24a75519c67] --- FSM STATE: ERROR ---
[2025-06-18 13:04:08] ERROR    [agent_fsm:1101] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:04:08] ERROR    [agent_fsm:1102] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:08] WARNING  [agent_fsm:1224] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:08] ERROR    [agent_fsm:1078] [2abf225b-67b6-42ec-8fc9-b24a75519c67] --- FSM STATE: ERROR ---
[2025-06-18 13:04:08] ERROR    [agent_fsm:1101] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:04:08] ERROR    [agent_fsm:1102] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:08] WARNING  [agent_fsm:1224] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:08] ERROR    [agent_fsm:1078] [2abf225b-67b6-42ec-8fc9-b24a75519c67] --- FSM STATE: ERROR ---
[2025-06-18 13:04:08] ERROR    [agent_fsm:1101] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:04:08] ERROR    [agent_fsm:1102] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:08] WARNING  [agent_fsm:1224] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:08] ERROR    [agent_fsm:1078] [2abf225b-67b6-42ec-8fc9-b24a75519c67] --- FSM STATE: ERROR ---
[2025-06-18 13:04:08] ERROR    [agent_fsm:1101] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:04:08] ERROR    [agent_fsm:1102] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:08] WARNING  [agent_fsm:1224] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:08] ERROR    [agent_fsm:1078] [2abf225b-67b6-42ec-8fc9-b24a75519c67] --- FSM STATE: ERROR ---
[2025-06-18 13:04:08] ERROR    [agent_fsm:1101] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:04:08] ERROR    [agent_fsm:1102] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:08] WARNING  [agent_fsm:1224] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:08] ERROR    [agent_fsm:1078] [2abf225b-67b6-42ec-8fc9-b24a75519c67] --- FSM STATE: ERROR ---
[2025-06-18 13:04:08] ERROR    [agent_fsm:1101] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:04:08] ERROR    [agent_fsm:1102] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:08] WARNING  [agent_fsm:1224] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:08] ERROR    [agent_fsm:1078] [2abf225b-67b6-42ec-8fc9-b24a75519c67] --- FSM STATE: ERROR ---
[2025-06-18 13:04:08] ERROR    [agent_fsm:1101] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:04:08] ERROR    [agent_fsm:1102] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:08] WARNING  [agent_fsm:1224] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:08] ERROR    [agent_fsm:1078] [2abf225b-67b6-42ec-8fc9-b24a75519c67] --- FSM STATE: ERROR ---
[2025-06-18 13:04:08] ERROR    [agent_fsm:1101] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:04:08] ERROR    [agent_fsm:1102] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:08] WARNING  [agent_fsm:1224] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:08] ERROR    [agent_fsm:1078] [2abf225b-67b6-42ec-8fc9-b24a75519c67] --- FSM STATE: ERROR ---
[2025-06-18 13:04:08] ERROR    [agent_fsm:1101] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:04:08] ERROR    [agent_fsm:1102] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:08] WARNING  [agent_fsm:1224] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:08] ERROR    [agent_fsm:1078] [2abf225b-67b6-42ec-8fc9-b24a75519c67] --- FSM STATE: ERROR ---
[2025-06-18 13:04:08] ERROR    [agent_fsm:1101] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:04:08] ERROR    [agent_fsm:1102] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:08] WARNING  [agent_fsm:1224] [2abf225b-67b6-42ec-8fc9-b24a75519c67] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:08] ERROR    [agent_fsm:1837] [2abf225b-67b6-42ec-8fc9-b24a75519c67] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:04:08] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 13:04:08] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 13:04:08] INFO     [agent_fsm:570] [99c4df9b-c257-4071-9e4c-1f47aa501444] Building resilient FSM graph
[2025-06-18 13:04:08] INFO     [agent_fsm:572] [99c4df9b-c257-4071-9e4c-1f47aa501444] FSMReActAgent graph built successfully
[2025-06-18 13:04:08] INFO     [agent_fsm:1752] [48816c68-ac43-4c14-bf90-090a5cbd9cfc] Starting resilient FSM execution
[2025-06-18 13:04:08] WARNING  [agent_fsm:1759] [48816c68-ac43-4c14-bf90-090a5cbd9cfc] FSM agent rejecting invalid input: '{{' - 1 validation error for ValidatedQuery
query
  Value error, Invalid placeholder query received: '{{' [type=value_error, input_value='{{', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/value_error
[2025-06-18 13:04:08] INFO     [agent_fsm:1752] [e353d069-00bf-43ae-b056-5e5b945d72da] Starting resilient FSM execution
[2025-06-18 13:04:08] INFO     [agent_fsm:1807] [e353d069-00bf-43ae-b056-5e5b945d72da] FSM STATE: INITIAL
[2025-06-18 13:04:08] INFO     [agent_fsm:665] [e353d069-00bf-43ae-b056-5e5b945d72da] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:04:08] DEBUG    [agent_fsm:680] [e353d069-00bf-43ae-b056-5e5b945d72da] Turn count: 1, Action history length: 1
[2025-06-18 13:04:10] WARNING  [agent_fsm:1333] [e353d069-00bf-43ae-b056-5e5b945d72da] Tool image_analyzer not found in registry, will use stub
[2025-06-18 13:04:10] INFO     [agent_fsm:773] [e353d069-00bf-43ae-b056-5e5b945d72da] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:04:10] INFO     [agent_fsm:820] [e353d069-00bf-43ae-b056-5e5b945d72da] Executing tool: web_researcher with input: {'query': 'What is 2 + 2?', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 13:04:10] INFO     [agent_fsm:922] [e353d069-00bf-43ae-b056-5e5b945d72da] Tool execution completed
[2025-06-18 13:04:10] INFO     [agent_fsm:773] [e353d069-00bf-43ae-b056-5e5b945d72da] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:04:10] WARNING  [agent_fsm:803] [e353d069-00bf-43ae-b056-5e5b945d72da] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:04:10] INFO     [agent_fsm:665] [e353d069-00bf-43ae-b056-5e5b945d72da] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:04:10] DEBUG    [agent_fsm:680] [e353d069-00bf-43ae-b056-5e5b945d72da] Turn count: 2, Action history length: 2
[2025-06-18 13:04:12] WARNING  [agent_fsm:1521] [e353d069-00bf-43ae-b056-5e5b945d72da] Failed to parse JSON parameters for step 14, using fallback parser
[2025-06-18 13:04:12] WARNING  [agent_fsm:1333] [e353d069-00bf-43ae-b056-5e5b945d72da] Tool image_analyzer not found in registry, will use stub
[2025-06-18 13:04:12] INFO     [agent_fsm:773] [e353d069-00bf-43ae-b056-5e5b945d72da] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:04:12] INFO     [agent_fsm:820] [e353d069-00bf-43ae-b056-5e5b945d72da] Executing tool: semantic_search_tool with input: {'query': '2 + 2', 'filename': 'knowledge_base.csv', 'top_k': 3}
[2025-06-18 13:04:12] INFO     [agent_fsm:922] [e353d069-00bf-43ae-b056-5e5b945d72da] Tool execution completed
[2025-06-18 13:04:12] INFO     [agent_fsm:773] [e353d069-00bf-43ae-b056-5e5b945d72da] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:04:12] WARNING  [agent_fsm:803] [e353d069-00bf-43ae-b056-5e5b945d72da] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:04:12] INFO     [agent_fsm:665] [e353d069-00bf-43ae-b056-5e5b945d72da] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:04:12] DEBUG    [agent_fsm:680] [e353d069-00bf-43ae-b056-5e5b945d72da] Turn count: 3, Action history length: 3
[2025-06-18 13:04:14] WARNING  [agent_fsm:1521] [e353d069-00bf-43ae-b056-5e5b945d72da] Failed to parse JSON parameters for step 14, using fallback parser
[2025-06-18 13:04:14] WARNING  [agent_fsm:1333] [e353d069-00bf-43ae-b056-5e5b945d72da] Tool image_analyzer not found in registry, will use stub
[2025-06-18 13:04:14] WARNING  [agent_fsm:1224] [e353d069-00bf-43ae-b056-5e5b945d72da] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:14] ERROR    [agent_fsm:1078] [e353d069-00bf-43ae-b056-5e5b945d72da] --- FSM STATE: ERROR ---
[2025-06-18 13:04:14] ERROR    [agent_fsm:1101] [e353d069-00bf-43ae-b056-5e5b945d72da] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:04:14] ERROR    [agent_fsm:1102] [e353d069-00bf-43ae-b056-5e5b945d72da] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:14] WARNING  [agent_fsm:1224] [e353d069-00bf-43ae-b056-5e5b945d72da] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:14] ERROR    [agent_fsm:1078] [e353d069-00bf-43ae-b056-5e5b945d72da] --- FSM STATE: ERROR ---
[2025-06-18 13:04:14] ERROR    [agent_fsm:1101] [e353d069-00bf-43ae-b056-5e5b945d72da] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:04:14] ERROR    [agent_fsm:1102] [e353d069-00bf-43ae-b056-5e5b945d72da] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:14] WARNING  [agent_fsm:1224] [e353d069-00bf-43ae-b056-5e5b945d72da] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:14] ERROR    [agent_fsm:1078] [e353d069-00bf-43ae-b056-5e5b945d72da] --- FSM STATE: ERROR ---
[2025-06-18 13:04:14] ERROR    [agent_fsm:1101] [e353d069-00bf-43ae-b056-5e5b945d72da] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:04:14] ERROR    [agent_fsm:1102] [e353d069-00bf-43ae-b056-5e5b945d72da] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:14] WARNING  [agent_fsm:1224] [e353d069-00bf-43ae-b056-5e5b945d72da] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:14] ERROR    [agent_fsm:1078] [e353d069-00bf-43ae-b056-5e5b945d72da] --- FSM STATE: ERROR ---
[2025-06-18 13:04:14] ERROR    [agent_fsm:1101] [e353d069-00bf-43ae-b056-5e5b945d72da] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:04:14] ERROR    [agent_fsm:1102] [e353d069-00bf-43ae-b056-5e5b945d72da] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:14] WARNING  [agent_fsm:1224] [e353d069-00bf-43ae-b056-5e5b945d72da] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:14] ERROR    [agent_fsm:1078] [e353d069-00bf-43ae-b056-5e5b945d72da] --- FSM STATE: ERROR ---
[2025-06-18 13:04:14] ERROR    [agent_fsm:1101] [e353d069-00bf-43ae-b056-5e5b945d72da] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:04:14] ERROR    [agent_fsm:1102] [e353d069-00bf-43ae-b056-5e5b945d72da] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:14] WARNING  [agent_fsm:1224] [e353d069-00bf-43ae-b056-5e5b945d72da] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:14] ERROR    [agent_fsm:1078] [e353d069-00bf-43ae-b056-5e5b945d72da] --- FSM STATE: ERROR ---
[2025-06-18 13:04:14] ERROR    [agent_fsm:1101] [e353d069-00bf-43ae-b056-5e5b945d72da] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:04:14] ERROR    [agent_fsm:1102] [e353d069-00bf-43ae-b056-5e5b945d72da] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:14] WARNING  [agent_fsm:1224] [e353d069-00bf-43ae-b056-5e5b945d72da] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:14] ERROR    [agent_fsm:1078] [e353d069-00bf-43ae-b056-5e5b945d72da] --- FSM STATE: ERROR ---
[2025-06-18 13:04:14] ERROR    [agent_fsm:1101] [e353d069-00bf-43ae-b056-5e5b945d72da] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:04:14] ERROR    [agent_fsm:1102] [e353d069-00bf-43ae-b056-5e5b945d72da] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:14] WARNING  [agent_fsm:1224] [e353d069-00bf-43ae-b056-5e5b945d72da] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:14] ERROR    [agent_fsm:1078] [e353d069-00bf-43ae-b056-5e5b945d72da] --- FSM STATE: ERROR ---
[2025-06-18 13:04:14] ERROR    [agent_fsm:1101] [e353d069-00bf-43ae-b056-5e5b945d72da] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:04:14] ERROR    [agent_fsm:1102] [e353d069-00bf-43ae-b056-5e5b945d72da] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:14] WARNING  [agent_fsm:1224] [e353d069-00bf-43ae-b056-5e5b945d72da] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:14] ERROR    [agent_fsm:1078] [e353d069-00bf-43ae-b056-5e5b945d72da] --- FSM STATE: ERROR ---
[2025-06-18 13:04:14] ERROR    [agent_fsm:1101] [e353d069-00bf-43ae-b056-5e5b945d72da] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:04:14] ERROR    [agent_fsm:1102] [e353d069-00bf-43ae-b056-5e5b945d72da] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:14] WARNING  [agent_fsm:1224] [e353d069-00bf-43ae-b056-5e5b945d72da] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:14] ERROR    [agent_fsm:1078] [e353d069-00bf-43ae-b056-5e5b945d72da] --- FSM STATE: ERROR ---
[2025-06-18 13:04:14] ERROR    [agent_fsm:1101] [e353d069-00bf-43ae-b056-5e5b945d72da] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:04:14] ERROR    [agent_fsm:1102] [e353d069-00bf-43ae-b056-5e5b945d72da] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:14] WARNING  [agent_fsm:1224] [e353d069-00bf-43ae-b056-5e5b945d72da] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:14] ERROR    [agent_fsm:1078] [e353d069-00bf-43ae-b056-5e5b945d72da] --- FSM STATE: ERROR ---
[2025-06-18 13:04:14] ERROR    [agent_fsm:1101] [e353d069-00bf-43ae-b056-5e5b945d72da] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:04:14] ERROR    [agent_fsm:1102] [e353d069-00bf-43ae-b056-5e5b945d72da] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:14] WARNING  [agent_fsm:1224] [e353d069-00bf-43ae-b056-5e5b945d72da] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:14] ERROR    [agent_fsm:1078] [e353d069-00bf-43ae-b056-5e5b945d72da] --- FSM STATE: ERROR ---
[2025-06-18 13:04:14] ERROR    [agent_fsm:1101] [e353d069-00bf-43ae-b056-5e5b945d72da] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:04:14] ERROR    [agent_fsm:1102] [e353d069-00bf-43ae-b056-5e5b945d72da] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:14] WARNING  [agent_fsm:1224] [e353d069-00bf-43ae-b056-5e5b945d72da] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:14] ERROR    [agent_fsm:1078] [e353d069-00bf-43ae-b056-5e5b945d72da] --- FSM STATE: ERROR ---
[2025-06-18 13:04:14] ERROR    [agent_fsm:1101] [e353d069-00bf-43ae-b056-5e5b945d72da] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:04:14] ERROR    [agent_fsm:1102] [e353d069-00bf-43ae-b056-5e5b945d72da] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:14] WARNING  [agent_fsm:1224] [e353d069-00bf-43ae-b056-5e5b945d72da] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:14] ERROR    [agent_fsm:1078] [e353d069-00bf-43ae-b056-5e5b945d72da] --- FSM STATE: ERROR ---
[2025-06-18 13:04:14] ERROR    [agent_fsm:1101] [e353d069-00bf-43ae-b056-5e5b945d72da] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:04:14] ERROR    [agent_fsm:1102] [e353d069-00bf-43ae-b056-5e5b945d72da] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:14] WARNING  [agent_fsm:1224] [e353d069-00bf-43ae-b056-5e5b945d72da] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:14] ERROR    [agent_fsm:1078] [e353d069-00bf-43ae-b056-5e5b945d72da] --- FSM STATE: ERROR ---
[2025-06-18 13:04:14] ERROR    [agent_fsm:1101] [e353d069-00bf-43ae-b056-5e5b945d72da] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:04:14] ERROR    [agent_fsm:1102] [e353d069-00bf-43ae-b056-5e5b945d72da] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:14] WARNING  [agent_fsm:1224] [e353d069-00bf-43ae-b056-5e5b945d72da] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:14] ERROR    [agent_fsm:1078] [e353d069-00bf-43ae-b056-5e5b945d72da] --- FSM STATE: ERROR ---
[2025-06-18 13:04:14] ERROR    [agent_fsm:1101] [e353d069-00bf-43ae-b056-5e5b945d72da] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:04:14] ERROR    [agent_fsm:1102] [e353d069-00bf-43ae-b056-5e5b945d72da] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:14] WARNING  [agent_fsm:1224] [e353d069-00bf-43ae-b056-5e5b945d72da] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:14] ERROR    [agent_fsm:1078] [e353d069-00bf-43ae-b056-5e5b945d72da] --- FSM STATE: ERROR ---
[2025-06-18 13:04:14] ERROR    [agent_fsm:1101] [e353d069-00bf-43ae-b056-5e5b945d72da] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:04:14] ERROR    [agent_fsm:1102] [e353d069-00bf-43ae-b056-5e5b945d72da] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:14] WARNING  [agent_fsm:1224] [e353d069-00bf-43ae-b056-5e5b945d72da] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:14] ERROR    [agent_fsm:1078] [e353d069-00bf-43ae-b056-5e5b945d72da] --- FSM STATE: ERROR ---
[2025-06-18 13:04:14] ERROR    [agent_fsm:1101] [e353d069-00bf-43ae-b056-5e5b945d72da] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:04:14] ERROR    [agent_fsm:1102] [e353d069-00bf-43ae-b056-5e5b945d72da] Errors: ['Duplicate tool call detected']
[2025-06-18 13:04:14] WARNING  [agent_fsm:1224] [e353d069-00bf-43ae-b056-5e5b945d72da] Direct loop detected - same action repeated 3 times
[2025-06-18 13:04:14] ERROR    [agent_fsm:1837] [e353d069-00bf-43ae-b056-5e5b945d72da] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:04:14] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 13:04:14] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 13:04:14] INFO     [agent_fsm:570] [1d39d7be-2dd8-42c9-8ed4-a32c90876179] Building resilient FSM graph
[2025-06-18 13:04:14] INFO     [agent_fsm:572] [1d39d7be-2dd8-42c9-8ed4-a32c90876179] FSMReActAgent graph built successfully
[2025-06-18 13:06:49] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 13:06:49] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 13:06:49] INFO     [agent_fsm:570] [80a8b341-d7d3-46d0-b882-73422e0573b7] Building resilient FSM graph
[2025-06-18 13:06:49] INFO     [agent_fsm:572] [80a8b341-d7d3-46d0-b882-73422e0573b7] FSMReActAgent graph built successfully
[2025-06-18 13:06:49] INFO     [agent_fsm:1752] [fe5b2bf0-4f29-4249-826a-acc75112b230] Starting resilient FSM execution
[2025-06-18 13:06:49] INFO     [agent_fsm:1807] [fe5b2bf0-4f29-4249-826a-acc75112b230] FSM STATE: INITIAL
[2025-06-18 13:06:49] INFO     [agent_fsm:665] [fe5b2bf0-4f29-4249-826a-acc75112b230] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:06:49] DEBUG    [agent_fsm:680] [fe5b2bf0-4f29-4249-826a-acc75112b230] Turn count: 1, Action history length: 1
[2025-06-18 13:06:51] INFO     [agent_fsm:773] [fe5b2bf0-4f29-4249-826a-acc75112b230] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:06:51] INFO     [agent_fsm:820] [fe5b2bf0-4f29-4249-826a-acc75112b230] Executing tool: web_researcher with input: {'query': 'Capital of France', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 13:06:51] INFO     [agent_fsm:922] [fe5b2bf0-4f29-4249-826a-acc75112b230] Tool execution completed
[2025-06-18 13:06:51] INFO     [agent_fsm:773] [fe5b2bf0-4f29-4249-826a-acc75112b230] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:06:51] WARNING  [agent_fsm:803] [fe5b2bf0-4f29-4249-826a-acc75112b230] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:06:51] INFO     [agent_fsm:665] [fe5b2bf0-4f29-4249-826a-acc75112b230] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:06:51] DEBUG    [agent_fsm:680] [fe5b2bf0-4f29-4249-826a-acc75112b230] Turn count: 2, Action history length: 2
[2025-06-18 13:06:52] WARNING  [agent_fsm:1521] [fe5b2bf0-4f29-4249-826a-acc75112b230] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:06:52] WARNING  [agent_fsm:1521] [fe5b2bf0-4f29-4249-826a-acc75112b230] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:06:52] INFO     [agent_fsm:773] [fe5b2bf0-4f29-4249-826a-acc75112b230] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:06:52] INFO     [agent_fsm:820] [fe5b2bf0-4f29-4249-826a-acc75112b230] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 13:06:52] INFO     [agent_fsm:922] [fe5b2bf0-4f29-4249-826a-acc75112b230] Tool execution completed
[2025-06-18 13:06:52] INFO     [agent_fsm:773] [fe5b2bf0-4f29-4249-826a-acc75112b230] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:06:52] WARNING  [agent_fsm:803] [fe5b2bf0-4f29-4249-826a-acc75112b230] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:06:52] INFO     [agent_fsm:665] [fe5b2bf0-4f29-4249-826a-acc75112b230] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:06:52] DEBUG    [agent_fsm:680] [fe5b2bf0-4f29-4249-826a-acc75112b230] Turn count: 3, Action history length: 3
[2025-06-18 13:06:53] WARNING  [agent_fsm:1521] [fe5b2bf0-4f29-4249-826a-acc75112b230] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:06:53] WARNING  [agent_fsm:1224] [fe5b2bf0-4f29-4249-826a-acc75112b230] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:53] ERROR    [agent_fsm:1078] [fe5b2bf0-4f29-4249-826a-acc75112b230] --- FSM STATE: ERROR ---
[2025-06-18 13:06:53] ERROR    [agent_fsm:1101] [fe5b2bf0-4f29-4249-826a-acc75112b230] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:06:53] ERROR    [agent_fsm:1102] [fe5b2bf0-4f29-4249-826a-acc75112b230] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:53] WARNING  [agent_fsm:1224] [fe5b2bf0-4f29-4249-826a-acc75112b230] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:53] ERROR    [agent_fsm:1078] [fe5b2bf0-4f29-4249-826a-acc75112b230] --- FSM STATE: ERROR ---
[2025-06-18 13:06:53] ERROR    [agent_fsm:1101] [fe5b2bf0-4f29-4249-826a-acc75112b230] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:06:53] ERROR    [agent_fsm:1102] [fe5b2bf0-4f29-4249-826a-acc75112b230] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:53] WARNING  [agent_fsm:1224] [fe5b2bf0-4f29-4249-826a-acc75112b230] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:53] ERROR    [agent_fsm:1078] [fe5b2bf0-4f29-4249-826a-acc75112b230] --- FSM STATE: ERROR ---
[2025-06-18 13:06:53] ERROR    [agent_fsm:1101] [fe5b2bf0-4f29-4249-826a-acc75112b230] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:06:53] ERROR    [agent_fsm:1102] [fe5b2bf0-4f29-4249-826a-acc75112b230] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:53] WARNING  [agent_fsm:1224] [fe5b2bf0-4f29-4249-826a-acc75112b230] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:53] ERROR    [agent_fsm:1078] [fe5b2bf0-4f29-4249-826a-acc75112b230] --- FSM STATE: ERROR ---
[2025-06-18 13:06:53] ERROR    [agent_fsm:1101] [fe5b2bf0-4f29-4249-826a-acc75112b230] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:06:53] ERROR    [agent_fsm:1102] [fe5b2bf0-4f29-4249-826a-acc75112b230] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:53] WARNING  [agent_fsm:1224] [fe5b2bf0-4f29-4249-826a-acc75112b230] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:53] ERROR    [agent_fsm:1078] [fe5b2bf0-4f29-4249-826a-acc75112b230] --- FSM STATE: ERROR ---
[2025-06-18 13:06:53] ERROR    [agent_fsm:1101] [fe5b2bf0-4f29-4249-826a-acc75112b230] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:06:53] ERROR    [agent_fsm:1102] [fe5b2bf0-4f29-4249-826a-acc75112b230] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:53] WARNING  [agent_fsm:1224] [fe5b2bf0-4f29-4249-826a-acc75112b230] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:53] ERROR    [agent_fsm:1078] [fe5b2bf0-4f29-4249-826a-acc75112b230] --- FSM STATE: ERROR ---
[2025-06-18 13:06:53] ERROR    [agent_fsm:1101] [fe5b2bf0-4f29-4249-826a-acc75112b230] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:06:53] ERROR    [agent_fsm:1102] [fe5b2bf0-4f29-4249-826a-acc75112b230] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:53] WARNING  [agent_fsm:1224] [fe5b2bf0-4f29-4249-826a-acc75112b230] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:53] ERROR    [agent_fsm:1078] [fe5b2bf0-4f29-4249-826a-acc75112b230] --- FSM STATE: ERROR ---
[2025-06-18 13:06:53] ERROR    [agent_fsm:1101] [fe5b2bf0-4f29-4249-826a-acc75112b230] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:06:53] ERROR    [agent_fsm:1102] [fe5b2bf0-4f29-4249-826a-acc75112b230] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:53] WARNING  [agent_fsm:1224] [fe5b2bf0-4f29-4249-826a-acc75112b230] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:53] ERROR    [agent_fsm:1078] [fe5b2bf0-4f29-4249-826a-acc75112b230] --- FSM STATE: ERROR ---
[2025-06-18 13:06:53] ERROR    [agent_fsm:1101] [fe5b2bf0-4f29-4249-826a-acc75112b230] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:06:53] ERROR    [agent_fsm:1102] [fe5b2bf0-4f29-4249-826a-acc75112b230] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:53] WARNING  [agent_fsm:1224] [fe5b2bf0-4f29-4249-826a-acc75112b230] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:53] ERROR    [agent_fsm:1078] [fe5b2bf0-4f29-4249-826a-acc75112b230] --- FSM STATE: ERROR ---
[2025-06-18 13:06:53] ERROR    [agent_fsm:1101] [fe5b2bf0-4f29-4249-826a-acc75112b230] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:06:53] ERROR    [agent_fsm:1102] [fe5b2bf0-4f29-4249-826a-acc75112b230] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:53] WARNING  [agent_fsm:1224] [fe5b2bf0-4f29-4249-826a-acc75112b230] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:53] ERROR    [agent_fsm:1078] [fe5b2bf0-4f29-4249-826a-acc75112b230] --- FSM STATE: ERROR ---
[2025-06-18 13:06:53] ERROR    [agent_fsm:1101] [fe5b2bf0-4f29-4249-826a-acc75112b230] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:06:53] ERROR    [agent_fsm:1102] [fe5b2bf0-4f29-4249-826a-acc75112b230] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:53] WARNING  [agent_fsm:1224] [fe5b2bf0-4f29-4249-826a-acc75112b230] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:53] ERROR    [agent_fsm:1078] [fe5b2bf0-4f29-4249-826a-acc75112b230] --- FSM STATE: ERROR ---
[2025-06-18 13:06:53] ERROR    [agent_fsm:1101] [fe5b2bf0-4f29-4249-826a-acc75112b230] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:06:53] ERROR    [agent_fsm:1102] [fe5b2bf0-4f29-4249-826a-acc75112b230] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:53] WARNING  [agent_fsm:1224] [fe5b2bf0-4f29-4249-826a-acc75112b230] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:53] ERROR    [agent_fsm:1078] [fe5b2bf0-4f29-4249-826a-acc75112b230] --- FSM STATE: ERROR ---
[2025-06-18 13:06:53] ERROR    [agent_fsm:1101] [fe5b2bf0-4f29-4249-826a-acc75112b230] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:06:53] ERROR    [agent_fsm:1102] [fe5b2bf0-4f29-4249-826a-acc75112b230] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:53] WARNING  [agent_fsm:1224] [fe5b2bf0-4f29-4249-826a-acc75112b230] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:53] ERROR    [agent_fsm:1078] [fe5b2bf0-4f29-4249-826a-acc75112b230] --- FSM STATE: ERROR ---
[2025-06-18 13:06:53] ERROR    [agent_fsm:1101] [fe5b2bf0-4f29-4249-826a-acc75112b230] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:06:53] ERROR    [agent_fsm:1102] [fe5b2bf0-4f29-4249-826a-acc75112b230] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:53] WARNING  [agent_fsm:1224] [fe5b2bf0-4f29-4249-826a-acc75112b230] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:53] ERROR    [agent_fsm:1078] [fe5b2bf0-4f29-4249-826a-acc75112b230] --- FSM STATE: ERROR ---
[2025-06-18 13:06:53] ERROR    [agent_fsm:1101] [fe5b2bf0-4f29-4249-826a-acc75112b230] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:06:53] ERROR    [agent_fsm:1102] [fe5b2bf0-4f29-4249-826a-acc75112b230] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:53] WARNING  [agent_fsm:1224] [fe5b2bf0-4f29-4249-826a-acc75112b230] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:53] ERROR    [agent_fsm:1078] [fe5b2bf0-4f29-4249-826a-acc75112b230] --- FSM STATE: ERROR ---
[2025-06-18 13:06:53] ERROR    [agent_fsm:1101] [fe5b2bf0-4f29-4249-826a-acc75112b230] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:06:53] ERROR    [agent_fsm:1102] [fe5b2bf0-4f29-4249-826a-acc75112b230] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:53] WARNING  [agent_fsm:1224] [fe5b2bf0-4f29-4249-826a-acc75112b230] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:53] ERROR    [agent_fsm:1078] [fe5b2bf0-4f29-4249-826a-acc75112b230] --- FSM STATE: ERROR ---
[2025-06-18 13:06:53] ERROR    [agent_fsm:1101] [fe5b2bf0-4f29-4249-826a-acc75112b230] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:06:53] ERROR    [agent_fsm:1102] [fe5b2bf0-4f29-4249-826a-acc75112b230] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:53] WARNING  [agent_fsm:1224] [fe5b2bf0-4f29-4249-826a-acc75112b230] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:53] ERROR    [agent_fsm:1078] [fe5b2bf0-4f29-4249-826a-acc75112b230] --- FSM STATE: ERROR ---
[2025-06-18 13:06:53] ERROR    [agent_fsm:1101] [fe5b2bf0-4f29-4249-826a-acc75112b230] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:06:53] ERROR    [agent_fsm:1102] [fe5b2bf0-4f29-4249-826a-acc75112b230] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:53] WARNING  [agent_fsm:1224] [fe5b2bf0-4f29-4249-826a-acc75112b230] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:53] ERROR    [agent_fsm:1078] [fe5b2bf0-4f29-4249-826a-acc75112b230] --- FSM STATE: ERROR ---
[2025-06-18 13:06:53] ERROR    [agent_fsm:1101] [fe5b2bf0-4f29-4249-826a-acc75112b230] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:06:53] ERROR    [agent_fsm:1102] [fe5b2bf0-4f29-4249-826a-acc75112b230] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:53] WARNING  [agent_fsm:1224] [fe5b2bf0-4f29-4249-826a-acc75112b230] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:53] ERROR    [agent_fsm:1837] [fe5b2bf0-4f29-4249-826a-acc75112b230] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:06:53] INFO     [agent_fsm:1752] [b6a450df-99f4-47ad-bad6-6084abdfe728] Starting resilient FSM execution
[2025-06-18 13:06:53] INFO     [agent_fsm:1807] [b6a450df-99f4-47ad-bad6-6084abdfe728] FSM STATE: INITIAL
[2025-06-18 13:06:53] INFO     [agent_fsm:665] [b6a450df-99f4-47ad-bad6-6084abdfe728] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:06:53] DEBUG    [agent_fsm:680] [b6a450df-99f4-47ad-bad6-6084abdfe728] Turn count: 1, Action history length: 1
[2025-06-18 13:06:54] WARNING  [agent_fsm:1521] [b6a450df-99f4-47ad-bad6-6084abdfe728] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:06:54] WARNING  [agent_fsm:1521] [b6a450df-99f4-47ad-bad6-6084abdfe728] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:06:54] INFO     [agent_fsm:773] [b6a450df-99f4-47ad-bad6-6084abdfe728] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:06:54] INFO     [agent_fsm:820] [b6a450df-99f4-47ad-bad6-6084abdfe728] Executing tool: web_researcher with input: {'query': 'definition of a leap year', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 13:06:54] INFO     [agent_fsm:922] [b6a450df-99f4-47ad-bad6-6084abdfe728] Tool execution completed
[2025-06-18 13:06:54] INFO     [agent_fsm:773] [b6a450df-99f4-47ad-bad6-6084abdfe728] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:06:54] WARNING  [agent_fsm:803] [b6a450df-99f4-47ad-bad6-6084abdfe728] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:06:54] INFO     [agent_fsm:665] [b6a450df-99f4-47ad-bad6-6084abdfe728] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:06:54] DEBUG    [agent_fsm:680] [b6a450df-99f4-47ad-bad6-6084abdfe728] Turn count: 2, Action history length: 2
[2025-06-18 13:06:55] INFO     [agent_fsm:773] [b6a450df-99f4-47ad-bad6-6084abdfe728] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:06:55] INFO     [agent_fsm:820] [b6a450df-99f4-47ad-bad6-6084abdfe728] Executing tool: semantic_search_tool with input: {'query': 'characteristics of a leap year', 'filename': 'knowledge_base.csv', 'top_k': 3}
[2025-06-18 13:06:55] INFO     [agent_fsm:922] [b6a450df-99f4-47ad-bad6-6084abdfe728] Tool execution completed
[2025-06-18 13:06:55] INFO     [agent_fsm:773] [b6a450df-99f4-47ad-bad6-6084abdfe728] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:06:55] WARNING  [agent_fsm:803] [b6a450df-99f4-47ad-bad6-6084abdfe728] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:06:55] INFO     [agent_fsm:665] [b6a450df-99f4-47ad-bad6-6084abdfe728] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:06:55] DEBUG    [agent_fsm:680] [b6a450df-99f4-47ad-bad6-6084abdfe728] Turn count: 3, Action history length: 3
[2025-06-18 13:06:56] WARNING  [agent_fsm:1224] [b6a450df-99f4-47ad-bad6-6084abdfe728] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:56] ERROR    [agent_fsm:1078] [b6a450df-99f4-47ad-bad6-6084abdfe728] --- FSM STATE: ERROR ---
[2025-06-18 13:06:56] ERROR    [agent_fsm:1101] [b6a450df-99f4-47ad-bad6-6084abdfe728] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:06:56] ERROR    [agent_fsm:1102] [b6a450df-99f4-47ad-bad6-6084abdfe728] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:56] WARNING  [agent_fsm:1224] [b6a450df-99f4-47ad-bad6-6084abdfe728] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:56] ERROR    [agent_fsm:1078] [b6a450df-99f4-47ad-bad6-6084abdfe728] --- FSM STATE: ERROR ---
[2025-06-18 13:06:56] ERROR    [agent_fsm:1101] [b6a450df-99f4-47ad-bad6-6084abdfe728] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:06:56] ERROR    [agent_fsm:1102] [b6a450df-99f4-47ad-bad6-6084abdfe728] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:56] WARNING  [agent_fsm:1224] [b6a450df-99f4-47ad-bad6-6084abdfe728] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:56] ERROR    [agent_fsm:1078] [b6a450df-99f4-47ad-bad6-6084abdfe728] --- FSM STATE: ERROR ---
[2025-06-18 13:06:56] ERROR    [agent_fsm:1101] [b6a450df-99f4-47ad-bad6-6084abdfe728] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:06:56] ERROR    [agent_fsm:1102] [b6a450df-99f4-47ad-bad6-6084abdfe728] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:56] WARNING  [agent_fsm:1224] [b6a450df-99f4-47ad-bad6-6084abdfe728] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:56] ERROR    [agent_fsm:1078] [b6a450df-99f4-47ad-bad6-6084abdfe728] --- FSM STATE: ERROR ---
[2025-06-18 13:06:56] ERROR    [agent_fsm:1101] [b6a450df-99f4-47ad-bad6-6084abdfe728] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:06:56] ERROR    [agent_fsm:1102] [b6a450df-99f4-47ad-bad6-6084abdfe728] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:56] WARNING  [agent_fsm:1224] [b6a450df-99f4-47ad-bad6-6084abdfe728] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:56] ERROR    [agent_fsm:1078] [b6a450df-99f4-47ad-bad6-6084abdfe728] --- FSM STATE: ERROR ---
[2025-06-18 13:06:56] ERROR    [agent_fsm:1101] [b6a450df-99f4-47ad-bad6-6084abdfe728] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:06:56] ERROR    [agent_fsm:1102] [b6a450df-99f4-47ad-bad6-6084abdfe728] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:56] WARNING  [agent_fsm:1224] [b6a450df-99f4-47ad-bad6-6084abdfe728] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:56] ERROR    [agent_fsm:1078] [b6a450df-99f4-47ad-bad6-6084abdfe728] --- FSM STATE: ERROR ---
[2025-06-18 13:06:56] ERROR    [agent_fsm:1101] [b6a450df-99f4-47ad-bad6-6084abdfe728] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:06:56] ERROR    [agent_fsm:1102] [b6a450df-99f4-47ad-bad6-6084abdfe728] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:56] WARNING  [agent_fsm:1224] [b6a450df-99f4-47ad-bad6-6084abdfe728] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:56] ERROR    [agent_fsm:1078] [b6a450df-99f4-47ad-bad6-6084abdfe728] --- FSM STATE: ERROR ---
[2025-06-18 13:06:56] ERROR    [agent_fsm:1101] [b6a450df-99f4-47ad-bad6-6084abdfe728] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:06:56] ERROR    [agent_fsm:1102] [b6a450df-99f4-47ad-bad6-6084abdfe728] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:56] WARNING  [agent_fsm:1224] [b6a450df-99f4-47ad-bad6-6084abdfe728] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:56] ERROR    [agent_fsm:1078] [b6a450df-99f4-47ad-bad6-6084abdfe728] --- FSM STATE: ERROR ---
[2025-06-18 13:06:56] ERROR    [agent_fsm:1101] [b6a450df-99f4-47ad-bad6-6084abdfe728] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:06:56] ERROR    [agent_fsm:1102] [b6a450df-99f4-47ad-bad6-6084abdfe728] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:56] WARNING  [agent_fsm:1224] [b6a450df-99f4-47ad-bad6-6084abdfe728] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:56] ERROR    [agent_fsm:1078] [b6a450df-99f4-47ad-bad6-6084abdfe728] --- FSM STATE: ERROR ---
[2025-06-18 13:06:56] ERROR    [agent_fsm:1101] [b6a450df-99f4-47ad-bad6-6084abdfe728] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:06:56] ERROR    [agent_fsm:1102] [b6a450df-99f4-47ad-bad6-6084abdfe728] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:56] WARNING  [agent_fsm:1224] [b6a450df-99f4-47ad-bad6-6084abdfe728] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:56] ERROR    [agent_fsm:1078] [b6a450df-99f4-47ad-bad6-6084abdfe728] --- FSM STATE: ERROR ---
[2025-06-18 13:06:56] ERROR    [agent_fsm:1101] [b6a450df-99f4-47ad-bad6-6084abdfe728] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:06:56] ERROR    [agent_fsm:1102] [b6a450df-99f4-47ad-bad6-6084abdfe728] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:56] WARNING  [agent_fsm:1224] [b6a450df-99f4-47ad-bad6-6084abdfe728] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:56] ERROR    [agent_fsm:1078] [b6a450df-99f4-47ad-bad6-6084abdfe728] --- FSM STATE: ERROR ---
[2025-06-18 13:06:56] ERROR    [agent_fsm:1101] [b6a450df-99f4-47ad-bad6-6084abdfe728] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:06:56] ERROR    [agent_fsm:1102] [b6a450df-99f4-47ad-bad6-6084abdfe728] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:56] WARNING  [agent_fsm:1224] [b6a450df-99f4-47ad-bad6-6084abdfe728] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:56] ERROR    [agent_fsm:1078] [b6a450df-99f4-47ad-bad6-6084abdfe728] --- FSM STATE: ERROR ---
[2025-06-18 13:06:56] ERROR    [agent_fsm:1101] [b6a450df-99f4-47ad-bad6-6084abdfe728] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:06:56] ERROR    [agent_fsm:1102] [b6a450df-99f4-47ad-bad6-6084abdfe728] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:56] WARNING  [agent_fsm:1224] [b6a450df-99f4-47ad-bad6-6084abdfe728] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:56] ERROR    [agent_fsm:1078] [b6a450df-99f4-47ad-bad6-6084abdfe728] --- FSM STATE: ERROR ---
[2025-06-18 13:06:56] ERROR    [agent_fsm:1101] [b6a450df-99f4-47ad-bad6-6084abdfe728] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:06:56] ERROR    [agent_fsm:1102] [b6a450df-99f4-47ad-bad6-6084abdfe728] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:56] WARNING  [agent_fsm:1224] [b6a450df-99f4-47ad-bad6-6084abdfe728] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:56] ERROR    [agent_fsm:1078] [b6a450df-99f4-47ad-bad6-6084abdfe728] --- FSM STATE: ERROR ---
[2025-06-18 13:06:56] ERROR    [agent_fsm:1101] [b6a450df-99f4-47ad-bad6-6084abdfe728] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:06:56] ERROR    [agent_fsm:1102] [b6a450df-99f4-47ad-bad6-6084abdfe728] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:56] WARNING  [agent_fsm:1224] [b6a450df-99f4-47ad-bad6-6084abdfe728] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:56] ERROR    [agent_fsm:1078] [b6a450df-99f4-47ad-bad6-6084abdfe728] --- FSM STATE: ERROR ---
[2025-06-18 13:06:56] ERROR    [agent_fsm:1101] [b6a450df-99f4-47ad-bad6-6084abdfe728] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:06:56] ERROR    [agent_fsm:1102] [b6a450df-99f4-47ad-bad6-6084abdfe728] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:56] WARNING  [agent_fsm:1224] [b6a450df-99f4-47ad-bad6-6084abdfe728] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:56] ERROR    [agent_fsm:1078] [b6a450df-99f4-47ad-bad6-6084abdfe728] --- FSM STATE: ERROR ---
[2025-06-18 13:06:56] ERROR    [agent_fsm:1101] [b6a450df-99f4-47ad-bad6-6084abdfe728] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:06:56] ERROR    [agent_fsm:1102] [b6a450df-99f4-47ad-bad6-6084abdfe728] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:56] WARNING  [agent_fsm:1224] [b6a450df-99f4-47ad-bad6-6084abdfe728] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:56] ERROR    [agent_fsm:1078] [b6a450df-99f4-47ad-bad6-6084abdfe728] --- FSM STATE: ERROR ---
[2025-06-18 13:06:56] ERROR    [agent_fsm:1101] [b6a450df-99f4-47ad-bad6-6084abdfe728] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:06:56] ERROR    [agent_fsm:1102] [b6a450df-99f4-47ad-bad6-6084abdfe728] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:56] WARNING  [agent_fsm:1224] [b6a450df-99f4-47ad-bad6-6084abdfe728] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:56] ERROR    [agent_fsm:1078] [b6a450df-99f4-47ad-bad6-6084abdfe728] --- FSM STATE: ERROR ---
[2025-06-18 13:06:56] ERROR    [agent_fsm:1101] [b6a450df-99f4-47ad-bad6-6084abdfe728] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:06:56] ERROR    [agent_fsm:1102] [b6a450df-99f4-47ad-bad6-6084abdfe728] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:56] WARNING  [agent_fsm:1224] [b6a450df-99f4-47ad-bad6-6084abdfe728] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:56] ERROR    [agent_fsm:1837] [b6a450df-99f4-47ad-bad6-6084abdfe728] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:06:56] INFO     [agent_fsm:1752] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Starting resilient FSM execution
[2025-06-18 13:06:56] INFO     [agent_fsm:1807] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] FSM STATE: INITIAL
[2025-06-18 13:06:56] INFO     [agent_fsm:665] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:06:56] DEBUG    [agent_fsm:680] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Turn count: 1, Action history length: 1
[2025-06-18 13:06:56] WARNING  [agent_fsm:1521] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:06:56] WARNING  [agent_fsm:1333] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Tool None not found in registry, will use stub
[2025-06-18 13:06:56] INFO     [agent_fsm:773] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:06:56] INFO     [agent_fsm:820] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 13:06:56] INFO     [agent_fsm:922] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Tool execution completed
[2025-06-18 13:06:56] INFO     [agent_fsm:773] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:06:56] WARNING  [agent_fsm:803] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:06:56] INFO     [agent_fsm:665] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:06:56] DEBUG    [agent_fsm:680] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Turn count: 2, Action history length: 2
[2025-06-18 13:06:57] WARNING  [agent_fsm:1521] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:06:57] WARNING  [agent_fsm:1521] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:06:57] WARNING  [agent_fsm:1521] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:06:57] INFO     [agent_fsm:773] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:06:57] INFO     [agent_fsm:820] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Executing tool: python_interpreter with input: {'code': 'result = ; print(result)'}
[2025-06-18 13:06:57] INFO     [agent_fsm:922] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Tool execution completed
[2025-06-18 13:06:57] INFO     [agent_fsm:773] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:06:57] WARNING  [agent_fsm:803] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:06:57] INFO     [agent_fsm:665] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:06:57] DEBUG    [agent_fsm:680] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Turn count: 3, Action history length: 3
[2025-06-18 13:06:58] WARNING  [agent_fsm:1521] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:06:58] WARNING  [agent_fsm:1521] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:06:58] WARNING  [agent_fsm:1521] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:06:58] WARNING  [agent_fsm:1521] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:06:58] WARNING  [agent_fsm:1224] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:58] ERROR    [agent_fsm:1078] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] --- FSM STATE: ERROR ---
[2025-06-18 13:06:58] ERROR    [agent_fsm:1101] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:06:58] ERROR    [agent_fsm:1102] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:58] WARNING  [agent_fsm:1224] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:58] ERROR    [agent_fsm:1078] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] --- FSM STATE: ERROR ---
[2025-06-18 13:06:58] ERROR    [agent_fsm:1101] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:06:58] ERROR    [agent_fsm:1102] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:58] WARNING  [agent_fsm:1224] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:58] ERROR    [agent_fsm:1078] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] --- FSM STATE: ERROR ---
[2025-06-18 13:06:58] ERROR    [agent_fsm:1101] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:06:58] ERROR    [agent_fsm:1102] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:58] WARNING  [agent_fsm:1224] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:58] ERROR    [agent_fsm:1078] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] --- FSM STATE: ERROR ---
[2025-06-18 13:06:58] ERROR    [agent_fsm:1101] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:06:58] ERROR    [agent_fsm:1102] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:58] WARNING  [agent_fsm:1224] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:58] ERROR    [agent_fsm:1078] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] --- FSM STATE: ERROR ---
[2025-06-18 13:06:58] ERROR    [agent_fsm:1101] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:06:58] ERROR    [agent_fsm:1102] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:58] WARNING  [agent_fsm:1224] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:58] ERROR    [agent_fsm:1078] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] --- FSM STATE: ERROR ---
[2025-06-18 13:06:58] ERROR    [agent_fsm:1101] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:06:58] ERROR    [agent_fsm:1102] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:58] WARNING  [agent_fsm:1224] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:58] ERROR    [agent_fsm:1078] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] --- FSM STATE: ERROR ---
[2025-06-18 13:06:58] ERROR    [agent_fsm:1101] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:06:58] ERROR    [agent_fsm:1102] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:58] WARNING  [agent_fsm:1224] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:58] ERROR    [agent_fsm:1078] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] --- FSM STATE: ERROR ---
[2025-06-18 13:06:58] ERROR    [agent_fsm:1101] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:06:58] ERROR    [agent_fsm:1102] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:58] WARNING  [agent_fsm:1224] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:58] ERROR    [agent_fsm:1078] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] --- FSM STATE: ERROR ---
[2025-06-18 13:06:58] ERROR    [agent_fsm:1101] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:06:58] ERROR    [agent_fsm:1102] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:58] WARNING  [agent_fsm:1224] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:58] ERROR    [agent_fsm:1078] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] --- FSM STATE: ERROR ---
[2025-06-18 13:06:58] ERROR    [agent_fsm:1101] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:06:58] ERROR    [agent_fsm:1102] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:58] WARNING  [agent_fsm:1224] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:58] ERROR    [agent_fsm:1078] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] --- FSM STATE: ERROR ---
[2025-06-18 13:06:58] ERROR    [agent_fsm:1101] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:06:58] ERROR    [agent_fsm:1102] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:58] WARNING  [agent_fsm:1224] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:58] ERROR    [agent_fsm:1078] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] --- FSM STATE: ERROR ---
[2025-06-18 13:06:58] ERROR    [agent_fsm:1101] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:06:58] ERROR    [agent_fsm:1102] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:58] WARNING  [agent_fsm:1224] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:58] ERROR    [agent_fsm:1078] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] --- FSM STATE: ERROR ---
[2025-06-18 13:06:58] ERROR    [agent_fsm:1101] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:06:58] ERROR    [agent_fsm:1102] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:58] WARNING  [agent_fsm:1224] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:58] ERROR    [agent_fsm:1078] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] --- FSM STATE: ERROR ---
[2025-06-18 13:06:58] ERROR    [agent_fsm:1101] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:06:58] ERROR    [agent_fsm:1102] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:58] WARNING  [agent_fsm:1224] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:58] ERROR    [agent_fsm:1078] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] --- FSM STATE: ERROR ---
[2025-06-18 13:06:58] ERROR    [agent_fsm:1101] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:06:58] ERROR    [agent_fsm:1102] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:58] WARNING  [agent_fsm:1224] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:58] ERROR    [agent_fsm:1078] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] --- FSM STATE: ERROR ---
[2025-06-18 13:06:58] ERROR    [agent_fsm:1101] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:06:58] ERROR    [agent_fsm:1102] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:58] WARNING  [agent_fsm:1224] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:58] ERROR    [agent_fsm:1078] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] --- FSM STATE: ERROR ---
[2025-06-18 13:06:58] ERROR    [agent_fsm:1101] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:06:58] ERROR    [agent_fsm:1102] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:58] WARNING  [agent_fsm:1224] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:58] ERROR    [agent_fsm:1078] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] --- FSM STATE: ERROR ---
[2025-06-18 13:06:58] ERROR    [agent_fsm:1101] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:06:58] ERROR    [agent_fsm:1102] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Errors: ['Duplicate tool call detected']
[2025-06-18 13:06:58] WARNING  [agent_fsm:1224] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] Direct loop detected - same action repeated 3 times
[2025-06-18 13:06:58] ERROR    [agent_fsm:1837] [5d6b2a51-07bb-45fb-a766-5a049fb76c1a] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:06:58] INFO     [agent_fsm:1752] [cc1043e2-3534-4069-8c3a-8425ebabde63] Starting resilient FSM execution
[2025-06-18 13:06:58] INFO     [agent_fsm:1807] [cc1043e2-3534-4069-8c3a-8425ebabde63] FSM STATE: INITIAL
[2025-06-18 13:06:58] INFO     [agent_fsm:665] [cc1043e2-3534-4069-8c3a-8425ebabde63] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:06:58] DEBUG    [agent_fsm:680] [cc1043e2-3534-4069-8c3a-8425ebabde63] Turn count: 1, Action history length: 1
[2025-06-18 13:06:59] WARNING  [agent_fsm:1521] [cc1043e2-3534-4069-8c3a-8425ebabde63] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:06:59] WARNING  [agent_fsm:1521] [cc1043e2-3534-4069-8c3a-8425ebabde63] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:06:59] WARNING  [agent_fsm:1521] [cc1043e2-3534-4069-8c3a-8425ebabde63] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:06:59] INFO     [agent_fsm:773] [cc1043e2-3534-4069-8c3a-8425ebabde63] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:06:59] INFO     [agent_fsm:820] [cc1043e2-3534-4069-8c3a-8425ebabde63] Executing tool: web_researcher with input: {'query': 'largest planet in our solar system', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 13:06:59] INFO     [agent_fsm:922] [cc1043e2-3534-4069-8c3a-8425ebabde63] Tool execution completed
[2025-06-18 13:06:59] INFO     [agent_fsm:773] [cc1043e2-3534-4069-8c3a-8425ebabde63] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:06:59] WARNING  [agent_fsm:803] [cc1043e2-3534-4069-8c3a-8425ebabde63] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:06:59] INFO     [agent_fsm:665] [cc1043e2-3534-4069-8c3a-8425ebabde63] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:06:59] DEBUG    [agent_fsm:680] [cc1043e2-3534-4069-8c3a-8425ebabde63] Turn count: 2, Action history length: 2
[2025-06-18 13:07:00] WARNING  [agent_fsm:1521] [cc1043e2-3534-4069-8c3a-8425ebabde63] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:07:00] WARNING  [agent_fsm:1521] [cc1043e2-3534-4069-8c3a-8425ebabde63] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:07:00] WARNING  [agent_fsm:1521] [cc1043e2-3534-4069-8c3a-8425ebabde63] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:07:00] INFO     [agent_fsm:773] [cc1043e2-3534-4069-8c3a-8425ebabde63] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:07:00] INFO     [agent_fsm:820] [cc1043e2-3534-4069-8c3a-8425ebabde63] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 13:07:00] INFO     [agent_fsm:922] [cc1043e2-3534-4069-8c3a-8425ebabde63] Tool execution completed
[2025-06-18 13:07:00] INFO     [agent_fsm:773] [cc1043e2-3534-4069-8c3a-8425ebabde63] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:07:00] WARNING  [agent_fsm:803] [cc1043e2-3534-4069-8c3a-8425ebabde63] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:07:00] INFO     [agent_fsm:665] [cc1043e2-3534-4069-8c3a-8425ebabde63] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:07:00] DEBUG    [agent_fsm:680] [cc1043e2-3534-4069-8c3a-8425ebabde63] Turn count: 3, Action history length: 3
[2025-06-18 13:07:00] WARNING  [agent_fsm:1521] [cc1043e2-3534-4069-8c3a-8425ebabde63] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:07:00] WARNING  [agent_fsm:1521] [cc1043e2-3534-4069-8c3a-8425ebabde63] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:07:00] WARNING  [agent_fsm:1521] [cc1043e2-3534-4069-8c3a-8425ebabde63] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:07:00] WARNING  [agent_fsm:1224] [cc1043e2-3534-4069-8c3a-8425ebabde63] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:00] ERROR    [agent_fsm:1078] [cc1043e2-3534-4069-8c3a-8425ebabde63] --- FSM STATE: ERROR ---
[2025-06-18 13:07:00] ERROR    [agent_fsm:1101] [cc1043e2-3534-4069-8c3a-8425ebabde63] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:07:00] ERROR    [agent_fsm:1102] [cc1043e2-3534-4069-8c3a-8425ebabde63] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:00] WARNING  [agent_fsm:1224] [cc1043e2-3534-4069-8c3a-8425ebabde63] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:00] ERROR    [agent_fsm:1078] [cc1043e2-3534-4069-8c3a-8425ebabde63] --- FSM STATE: ERROR ---
[2025-06-18 13:07:00] ERROR    [agent_fsm:1101] [cc1043e2-3534-4069-8c3a-8425ebabde63] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:07:00] ERROR    [agent_fsm:1102] [cc1043e2-3534-4069-8c3a-8425ebabde63] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:00] WARNING  [agent_fsm:1224] [cc1043e2-3534-4069-8c3a-8425ebabde63] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:00] ERROR    [agent_fsm:1078] [cc1043e2-3534-4069-8c3a-8425ebabde63] --- FSM STATE: ERROR ---
[2025-06-18 13:07:00] ERROR    [agent_fsm:1101] [cc1043e2-3534-4069-8c3a-8425ebabde63] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:07:00] ERROR    [agent_fsm:1102] [cc1043e2-3534-4069-8c3a-8425ebabde63] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:00] WARNING  [agent_fsm:1224] [cc1043e2-3534-4069-8c3a-8425ebabde63] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:00] ERROR    [agent_fsm:1078] [cc1043e2-3534-4069-8c3a-8425ebabde63] --- FSM STATE: ERROR ---
[2025-06-18 13:07:00] ERROR    [agent_fsm:1101] [cc1043e2-3534-4069-8c3a-8425ebabde63] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:07:00] ERROR    [agent_fsm:1102] [cc1043e2-3534-4069-8c3a-8425ebabde63] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:00] WARNING  [agent_fsm:1224] [cc1043e2-3534-4069-8c3a-8425ebabde63] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:00] ERROR    [agent_fsm:1078] [cc1043e2-3534-4069-8c3a-8425ebabde63] --- FSM STATE: ERROR ---
[2025-06-18 13:07:00] ERROR    [agent_fsm:1101] [cc1043e2-3534-4069-8c3a-8425ebabde63] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:07:00] ERROR    [agent_fsm:1102] [cc1043e2-3534-4069-8c3a-8425ebabde63] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:00] WARNING  [agent_fsm:1224] [cc1043e2-3534-4069-8c3a-8425ebabde63] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:00] ERROR    [agent_fsm:1078] [cc1043e2-3534-4069-8c3a-8425ebabde63] --- FSM STATE: ERROR ---
[2025-06-18 13:07:00] ERROR    [agent_fsm:1101] [cc1043e2-3534-4069-8c3a-8425ebabde63] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:07:00] ERROR    [agent_fsm:1102] [cc1043e2-3534-4069-8c3a-8425ebabde63] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:00] WARNING  [agent_fsm:1224] [cc1043e2-3534-4069-8c3a-8425ebabde63] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:00] ERROR    [agent_fsm:1078] [cc1043e2-3534-4069-8c3a-8425ebabde63] --- FSM STATE: ERROR ---
[2025-06-18 13:07:00] ERROR    [agent_fsm:1101] [cc1043e2-3534-4069-8c3a-8425ebabde63] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:07:00] ERROR    [agent_fsm:1102] [cc1043e2-3534-4069-8c3a-8425ebabde63] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:00] WARNING  [agent_fsm:1224] [cc1043e2-3534-4069-8c3a-8425ebabde63] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:00] ERROR    [agent_fsm:1078] [cc1043e2-3534-4069-8c3a-8425ebabde63] --- FSM STATE: ERROR ---
[2025-06-18 13:07:00] ERROR    [agent_fsm:1101] [cc1043e2-3534-4069-8c3a-8425ebabde63] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:07:00] ERROR    [agent_fsm:1102] [cc1043e2-3534-4069-8c3a-8425ebabde63] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:00] WARNING  [agent_fsm:1224] [cc1043e2-3534-4069-8c3a-8425ebabde63] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:00] ERROR    [agent_fsm:1078] [cc1043e2-3534-4069-8c3a-8425ebabde63] --- FSM STATE: ERROR ---
[2025-06-18 13:07:00] ERROR    [agent_fsm:1101] [cc1043e2-3534-4069-8c3a-8425ebabde63] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:07:00] ERROR    [agent_fsm:1102] [cc1043e2-3534-4069-8c3a-8425ebabde63] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:00] WARNING  [agent_fsm:1224] [cc1043e2-3534-4069-8c3a-8425ebabde63] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:00] ERROR    [agent_fsm:1078] [cc1043e2-3534-4069-8c3a-8425ebabde63] --- FSM STATE: ERROR ---
[2025-06-18 13:07:00] ERROR    [agent_fsm:1101] [cc1043e2-3534-4069-8c3a-8425ebabde63] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:07:00] ERROR    [agent_fsm:1102] [cc1043e2-3534-4069-8c3a-8425ebabde63] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:00] WARNING  [agent_fsm:1224] [cc1043e2-3534-4069-8c3a-8425ebabde63] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:00] ERROR    [agent_fsm:1078] [cc1043e2-3534-4069-8c3a-8425ebabde63] --- FSM STATE: ERROR ---
[2025-06-18 13:07:00] ERROR    [agent_fsm:1101] [cc1043e2-3534-4069-8c3a-8425ebabde63] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:07:00] ERROR    [agent_fsm:1102] [cc1043e2-3534-4069-8c3a-8425ebabde63] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:00] WARNING  [agent_fsm:1224] [cc1043e2-3534-4069-8c3a-8425ebabde63] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:00] ERROR    [agent_fsm:1078] [cc1043e2-3534-4069-8c3a-8425ebabde63] --- FSM STATE: ERROR ---
[2025-06-18 13:07:00] ERROR    [agent_fsm:1101] [cc1043e2-3534-4069-8c3a-8425ebabde63] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:07:00] ERROR    [agent_fsm:1102] [cc1043e2-3534-4069-8c3a-8425ebabde63] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:00] WARNING  [agent_fsm:1224] [cc1043e2-3534-4069-8c3a-8425ebabde63] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:00] ERROR    [agent_fsm:1078] [cc1043e2-3534-4069-8c3a-8425ebabde63] --- FSM STATE: ERROR ---
[2025-06-18 13:07:00] ERROR    [agent_fsm:1101] [cc1043e2-3534-4069-8c3a-8425ebabde63] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:07:00] ERROR    [agent_fsm:1102] [cc1043e2-3534-4069-8c3a-8425ebabde63] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:00] WARNING  [agent_fsm:1224] [cc1043e2-3534-4069-8c3a-8425ebabde63] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:00] ERROR    [agent_fsm:1078] [cc1043e2-3534-4069-8c3a-8425ebabde63] --- FSM STATE: ERROR ---
[2025-06-18 13:07:00] ERROR    [agent_fsm:1101] [cc1043e2-3534-4069-8c3a-8425ebabde63] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:07:00] ERROR    [agent_fsm:1102] [cc1043e2-3534-4069-8c3a-8425ebabde63] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:00] WARNING  [agent_fsm:1224] [cc1043e2-3534-4069-8c3a-8425ebabde63] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:00] ERROR    [agent_fsm:1078] [cc1043e2-3534-4069-8c3a-8425ebabde63] --- FSM STATE: ERROR ---
[2025-06-18 13:07:00] ERROR    [agent_fsm:1101] [cc1043e2-3534-4069-8c3a-8425ebabde63] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:07:00] ERROR    [agent_fsm:1102] [cc1043e2-3534-4069-8c3a-8425ebabde63] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:00] WARNING  [agent_fsm:1224] [cc1043e2-3534-4069-8c3a-8425ebabde63] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:00] ERROR    [agent_fsm:1078] [cc1043e2-3534-4069-8c3a-8425ebabde63] --- FSM STATE: ERROR ---
[2025-06-18 13:07:00] ERROR    [agent_fsm:1101] [cc1043e2-3534-4069-8c3a-8425ebabde63] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:07:00] ERROR    [agent_fsm:1102] [cc1043e2-3534-4069-8c3a-8425ebabde63] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:00] WARNING  [agent_fsm:1224] [cc1043e2-3534-4069-8c3a-8425ebabde63] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:00] ERROR    [agent_fsm:1078] [cc1043e2-3534-4069-8c3a-8425ebabde63] --- FSM STATE: ERROR ---
[2025-06-18 13:07:00] ERROR    [agent_fsm:1101] [cc1043e2-3534-4069-8c3a-8425ebabde63] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:07:00] ERROR    [agent_fsm:1102] [cc1043e2-3534-4069-8c3a-8425ebabde63] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:00] WARNING  [agent_fsm:1224] [cc1043e2-3534-4069-8c3a-8425ebabde63] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:00] ERROR    [agent_fsm:1078] [cc1043e2-3534-4069-8c3a-8425ebabde63] --- FSM STATE: ERROR ---
[2025-06-18 13:07:00] ERROR    [agent_fsm:1101] [cc1043e2-3534-4069-8c3a-8425ebabde63] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:07:00] ERROR    [agent_fsm:1102] [cc1043e2-3534-4069-8c3a-8425ebabde63] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:00] WARNING  [agent_fsm:1224] [cc1043e2-3534-4069-8c3a-8425ebabde63] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:00] ERROR    [agent_fsm:1837] [cc1043e2-3534-4069-8c3a-8425ebabde63] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:07:00] INFO     [agent_fsm:1752] [9326aa85-0c70-477e-ab31-a4575cc91d94] Starting resilient FSM execution
[2025-06-18 13:07:00] INFO     [agent_fsm:1807] [9326aa85-0c70-477e-ab31-a4575cc91d94] FSM STATE: INITIAL
[2025-06-18 13:07:00] INFO     [agent_fsm:665] [9326aa85-0c70-477e-ab31-a4575cc91d94] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:07:00] DEBUG    [agent_fsm:680] [9326aa85-0c70-477e-ab31-a4575cc91d94] Turn count: 1, Action history length: 1
[2025-06-18 13:07:01] WARNING  [agent_fsm:1521] [9326aa85-0c70-477e-ab31-a4575cc91d94] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:07:01] WARNING  [agent_fsm:1521] [9326aa85-0c70-477e-ab31-a4575cc91d94] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 13:07:01] INFO     [agent_fsm:773] [9326aa85-0c70-477e-ab31-a4575cc91d94] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:07:01] INFO     [agent_fsm:820] [9326aa85-0c70-477e-ab31-a4575cc91d94] Executing tool: web_researcher with input: {'query': 'extract video URL from googleusercontent.com/costa-rica/birds', 'date_range': None, 'search_type': 'general', 'source': 'search'}
[2025-06-18 13:07:01] INFO     [agent_fsm:922] [9326aa85-0c70-477e-ab31-a4575cc91d94] Tool execution completed
[2025-06-18 13:07:01] INFO     [agent_fsm:773] [9326aa85-0c70-477e-ab31-a4575cc91d94] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:07:01] WARNING  [agent_fsm:803] [9326aa85-0c70-477e-ab31-a4575cc91d94] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:07:01] INFO     [agent_fsm:665] [9326aa85-0c70-477e-ab31-a4575cc91d94] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:07:01] DEBUG    [agent_fsm:680] [9326aa85-0c70-477e-ab31-a4575cc91d94] Turn count: 2, Action history length: 2
[2025-06-18 13:07:02] WARNING  [agent_fsm:1521] [9326aa85-0c70-477e-ab31-a4575cc91d94] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:07:02] WARNING  [agent_fsm:1521] [9326aa85-0c70-477e-ab31-a4575cc91d94] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:07:02] INFO     [agent_fsm:773] [9326aa85-0c70-477e-ab31-a4575cc91d94] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:07:02] INFO     [agent_fsm:820] [9326aa85-0c70-477e-ab31-a4575cc91d94] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 13:07:02] INFO     [agent_fsm:922] [9326aa85-0c70-477e-ab31-a4575cc91d94] Tool execution completed
[2025-06-18 13:07:02] INFO     [agent_fsm:773] [9326aa85-0c70-477e-ab31-a4575cc91d94] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:07:02] WARNING  [agent_fsm:803] [9326aa85-0c70-477e-ab31-a4575cc91d94] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:07:02] INFO     [agent_fsm:665] [9326aa85-0c70-477e-ab31-a4575cc91d94] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:07:02] DEBUG    [agent_fsm:680] [9326aa85-0c70-477e-ab31-a4575cc91d94] Turn count: 3, Action history length: 3
[2025-06-18 13:07:03] WARNING  [agent_fsm:1224] [9326aa85-0c70-477e-ab31-a4575cc91d94] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:03] ERROR    [agent_fsm:1078] [9326aa85-0c70-477e-ab31-a4575cc91d94] --- FSM STATE: ERROR ---
[2025-06-18 13:07:03] ERROR    [agent_fsm:1101] [9326aa85-0c70-477e-ab31-a4575cc91d94] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:07:03] ERROR    [agent_fsm:1102] [9326aa85-0c70-477e-ab31-a4575cc91d94] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:03] WARNING  [agent_fsm:1224] [9326aa85-0c70-477e-ab31-a4575cc91d94] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:03] ERROR    [agent_fsm:1078] [9326aa85-0c70-477e-ab31-a4575cc91d94] --- FSM STATE: ERROR ---
[2025-06-18 13:07:03] ERROR    [agent_fsm:1101] [9326aa85-0c70-477e-ab31-a4575cc91d94] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:07:03] ERROR    [agent_fsm:1102] [9326aa85-0c70-477e-ab31-a4575cc91d94] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:03] WARNING  [agent_fsm:1224] [9326aa85-0c70-477e-ab31-a4575cc91d94] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:03] ERROR    [agent_fsm:1078] [9326aa85-0c70-477e-ab31-a4575cc91d94] --- FSM STATE: ERROR ---
[2025-06-18 13:07:03] ERROR    [agent_fsm:1101] [9326aa85-0c70-477e-ab31-a4575cc91d94] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:07:03] ERROR    [agent_fsm:1102] [9326aa85-0c70-477e-ab31-a4575cc91d94] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:03] WARNING  [agent_fsm:1224] [9326aa85-0c70-477e-ab31-a4575cc91d94] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:03] ERROR    [agent_fsm:1078] [9326aa85-0c70-477e-ab31-a4575cc91d94] --- FSM STATE: ERROR ---
[2025-06-18 13:07:03] ERROR    [agent_fsm:1101] [9326aa85-0c70-477e-ab31-a4575cc91d94] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:07:03] ERROR    [agent_fsm:1102] [9326aa85-0c70-477e-ab31-a4575cc91d94] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:03] WARNING  [agent_fsm:1224] [9326aa85-0c70-477e-ab31-a4575cc91d94] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:03] ERROR    [agent_fsm:1078] [9326aa85-0c70-477e-ab31-a4575cc91d94] --- FSM STATE: ERROR ---
[2025-06-18 13:07:03] ERROR    [agent_fsm:1101] [9326aa85-0c70-477e-ab31-a4575cc91d94] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:07:03] ERROR    [agent_fsm:1102] [9326aa85-0c70-477e-ab31-a4575cc91d94] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:03] WARNING  [agent_fsm:1224] [9326aa85-0c70-477e-ab31-a4575cc91d94] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:03] ERROR    [agent_fsm:1078] [9326aa85-0c70-477e-ab31-a4575cc91d94] --- FSM STATE: ERROR ---
[2025-06-18 13:07:03] ERROR    [agent_fsm:1101] [9326aa85-0c70-477e-ab31-a4575cc91d94] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:07:03] ERROR    [agent_fsm:1102] [9326aa85-0c70-477e-ab31-a4575cc91d94] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:03] WARNING  [agent_fsm:1224] [9326aa85-0c70-477e-ab31-a4575cc91d94] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:03] ERROR    [agent_fsm:1078] [9326aa85-0c70-477e-ab31-a4575cc91d94] --- FSM STATE: ERROR ---
[2025-06-18 13:07:03] ERROR    [agent_fsm:1101] [9326aa85-0c70-477e-ab31-a4575cc91d94] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:07:03] ERROR    [agent_fsm:1102] [9326aa85-0c70-477e-ab31-a4575cc91d94] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:03] WARNING  [agent_fsm:1224] [9326aa85-0c70-477e-ab31-a4575cc91d94] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:03] ERROR    [agent_fsm:1078] [9326aa85-0c70-477e-ab31-a4575cc91d94] --- FSM STATE: ERROR ---
[2025-06-18 13:07:03] ERROR    [agent_fsm:1101] [9326aa85-0c70-477e-ab31-a4575cc91d94] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:07:03] ERROR    [agent_fsm:1102] [9326aa85-0c70-477e-ab31-a4575cc91d94] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:03] WARNING  [agent_fsm:1224] [9326aa85-0c70-477e-ab31-a4575cc91d94] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:03] ERROR    [agent_fsm:1078] [9326aa85-0c70-477e-ab31-a4575cc91d94] --- FSM STATE: ERROR ---
[2025-06-18 13:07:03] ERROR    [agent_fsm:1101] [9326aa85-0c70-477e-ab31-a4575cc91d94] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:07:03] ERROR    [agent_fsm:1102] [9326aa85-0c70-477e-ab31-a4575cc91d94] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:03] WARNING  [agent_fsm:1224] [9326aa85-0c70-477e-ab31-a4575cc91d94] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:03] ERROR    [agent_fsm:1078] [9326aa85-0c70-477e-ab31-a4575cc91d94] --- FSM STATE: ERROR ---
[2025-06-18 13:07:03] ERROR    [agent_fsm:1101] [9326aa85-0c70-477e-ab31-a4575cc91d94] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:07:03] ERROR    [agent_fsm:1102] [9326aa85-0c70-477e-ab31-a4575cc91d94] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:03] WARNING  [agent_fsm:1224] [9326aa85-0c70-477e-ab31-a4575cc91d94] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:03] ERROR    [agent_fsm:1078] [9326aa85-0c70-477e-ab31-a4575cc91d94] --- FSM STATE: ERROR ---
[2025-06-18 13:07:03] ERROR    [agent_fsm:1101] [9326aa85-0c70-477e-ab31-a4575cc91d94] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:07:03] ERROR    [agent_fsm:1102] [9326aa85-0c70-477e-ab31-a4575cc91d94] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:03] WARNING  [agent_fsm:1224] [9326aa85-0c70-477e-ab31-a4575cc91d94] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:03] ERROR    [agent_fsm:1078] [9326aa85-0c70-477e-ab31-a4575cc91d94] --- FSM STATE: ERROR ---
[2025-06-18 13:07:03] ERROR    [agent_fsm:1101] [9326aa85-0c70-477e-ab31-a4575cc91d94] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:07:03] ERROR    [agent_fsm:1102] [9326aa85-0c70-477e-ab31-a4575cc91d94] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:03] WARNING  [agent_fsm:1224] [9326aa85-0c70-477e-ab31-a4575cc91d94] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:03] ERROR    [agent_fsm:1078] [9326aa85-0c70-477e-ab31-a4575cc91d94] --- FSM STATE: ERROR ---
[2025-06-18 13:07:03] ERROR    [agent_fsm:1101] [9326aa85-0c70-477e-ab31-a4575cc91d94] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:07:03] ERROR    [agent_fsm:1102] [9326aa85-0c70-477e-ab31-a4575cc91d94] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:03] WARNING  [agent_fsm:1224] [9326aa85-0c70-477e-ab31-a4575cc91d94] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:03] ERROR    [agent_fsm:1078] [9326aa85-0c70-477e-ab31-a4575cc91d94] --- FSM STATE: ERROR ---
[2025-06-18 13:07:03] ERROR    [agent_fsm:1101] [9326aa85-0c70-477e-ab31-a4575cc91d94] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:07:03] ERROR    [agent_fsm:1102] [9326aa85-0c70-477e-ab31-a4575cc91d94] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:03] WARNING  [agent_fsm:1224] [9326aa85-0c70-477e-ab31-a4575cc91d94] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:03] ERROR    [agent_fsm:1078] [9326aa85-0c70-477e-ab31-a4575cc91d94] --- FSM STATE: ERROR ---
[2025-06-18 13:07:03] ERROR    [agent_fsm:1101] [9326aa85-0c70-477e-ab31-a4575cc91d94] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:07:03] ERROR    [agent_fsm:1102] [9326aa85-0c70-477e-ab31-a4575cc91d94] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:03] WARNING  [agent_fsm:1224] [9326aa85-0c70-477e-ab31-a4575cc91d94] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:03] ERROR    [agent_fsm:1078] [9326aa85-0c70-477e-ab31-a4575cc91d94] --- FSM STATE: ERROR ---
[2025-06-18 13:07:03] ERROR    [agent_fsm:1101] [9326aa85-0c70-477e-ab31-a4575cc91d94] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:07:03] ERROR    [agent_fsm:1102] [9326aa85-0c70-477e-ab31-a4575cc91d94] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:03] WARNING  [agent_fsm:1224] [9326aa85-0c70-477e-ab31-a4575cc91d94] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:03] ERROR    [agent_fsm:1078] [9326aa85-0c70-477e-ab31-a4575cc91d94] --- FSM STATE: ERROR ---
[2025-06-18 13:07:03] ERROR    [agent_fsm:1101] [9326aa85-0c70-477e-ab31-a4575cc91d94] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:07:03] ERROR    [agent_fsm:1102] [9326aa85-0c70-477e-ab31-a4575cc91d94] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:03] WARNING  [agent_fsm:1224] [9326aa85-0c70-477e-ab31-a4575cc91d94] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:03] ERROR    [agent_fsm:1078] [9326aa85-0c70-477e-ab31-a4575cc91d94] --- FSM STATE: ERROR ---
[2025-06-18 13:07:03] ERROR    [agent_fsm:1101] [9326aa85-0c70-477e-ab31-a4575cc91d94] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:07:03] ERROR    [agent_fsm:1102] [9326aa85-0c70-477e-ab31-a4575cc91d94] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:03] WARNING  [agent_fsm:1224] [9326aa85-0c70-477e-ab31-a4575cc91d94] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:03] ERROR    [agent_fsm:1837] [9326aa85-0c70-477e-ab31-a4575cc91d94] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:07:03] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 13:07:03] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 13:07:03] INFO     [agent_fsm:570] [63de32d4-7bb2-4a16-9529-75713c9de349] Building resilient FSM graph
[2025-06-18 13:07:03] INFO     [agent_fsm:572] [63de32d4-7bb2-4a16-9529-75713c9de349] FSMReActAgent graph built successfully
[2025-06-18 13:07:03] INFO     [agent_fsm:1752] [ec4cbbeb-c345-453f-b82d-81bf1583c3ab] Starting resilient FSM execution
[2025-06-18 13:07:03] INFO     [agent_fsm:1807] [ec4cbbeb-c345-453f-b82d-81bf1583c3ab] FSM STATE: INITIAL
[2025-06-18 13:07:03] INFO     [agent_fsm:665] [ec4cbbeb-c345-453f-b82d-81bf1583c3ab] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:07:03] DEBUG    [agent_fsm:680] [ec4cbbeb-c345-453f-b82d-81bf1583c3ab] Turn count: 1, Action history length: 1
[2025-06-18 13:07:05] WARNING  [agent_fsm:1521] [ec4cbbeb-c345-453f-b82d-81bf1583c3ab] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:07:05] WARNING  [agent_fsm:1521] [ec4cbbeb-c345-453f-b82d-81bf1583c3ab] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 13:07:05] WARNING  [agent_fsm:1521] [ec4cbbeb-c345-453f-b82d-81bf1583c3ab] Failed to parse JSON parameters for step 9, using fallback parser
[2025-06-18 13:07:05] WARNING  [agent_fsm:1521] [ec4cbbeb-c345-453f-b82d-81bf1583c3ab] Failed to parse JSON parameters for step 12, using fallback parser
[2025-06-18 13:07:05] WARNING  [agent_fsm:1521] [ec4cbbeb-c345-453f-b82d-81bf1583c3ab] Failed to parse JSON parameters for step 14, using fallback parser
[2025-06-18 13:07:05] WARNING  [agent_fsm:1521] [ec4cbbeb-c345-453f-b82d-81bf1583c3ab] Failed to parse JSON parameters for step 16, using fallback parser
[2025-06-18 13:07:05] INFO     [agent_fsm:773] [ec4cbbeb-c345-453f-b82d-81bf1583c3ab] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:07:05] INFO     [agent_fsm:820] [ec4cbbeb-c345-453f-b82d-81bf1583c3ab] Executing tool: advanced_file_reader with input: {'filename': 'path/to/attached_excel_file.xlsx'}
[2025-06-18 13:07:05] INFO     [agent_fsm:922] [ec4cbbeb-c345-453f-b82d-81bf1583c3ab] Tool execution completed
[2025-06-18 13:07:05] INFO     [agent_fsm:773] [ec4cbbeb-c345-453f-b82d-81bf1583c3ab] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:07:05] WARNING  [agent_fsm:803] [ec4cbbeb-c345-453f-b82d-81bf1583c3ab] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:07:05] INFO     [agent_fsm:665] [ec4cbbeb-c345-453f-b82d-81bf1583c3ab] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:07:05] DEBUG    [agent_fsm:680] [ec4cbbeb-c345-453f-b82d-81bf1583c3ab] Turn count: 2, Action history length: 2
[2025-06-18 13:07:06] INFO     [agent_fsm:955] [ec4cbbeb-c345-453f-b82d-81bf1583c3ab] --- FSM STATE: SYNTHESIZING ---
[2025-06-18 13:07:06] INFO     [agent_fsm:1018] [ec4cbbeb-c345-453f-b82d-81bf1583c3ab] --- FSM STATE: VERIFYING ---
[2025-06-18 13:07:07] INFO     [agent_fsm:1819] [ec4cbbeb-c345-453f-b82d-81bf1583c3ab] FSM execution completed successfully
[2025-06-18 13:07:07] INFO     [agent_fsm:1752] [adcdef35-b870-4343-adbf-38a0027ae0d2] Starting resilient FSM execution
[2025-06-18 13:07:07] INFO     [agent_fsm:1807] [adcdef35-b870-4343-adbf-38a0027ae0d2] FSM STATE: INITIAL
[2025-06-18 13:07:07] INFO     [agent_fsm:665] [adcdef35-b870-4343-adbf-38a0027ae0d2] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:07:07] DEBUG    [agent_fsm:680] [adcdef35-b870-4343-adbf-38a0027ae0d2] Turn count: 1, Action history length: 1
[2025-06-18 13:07:08] WARNING  [agent_fsm:1521] [adcdef35-b870-4343-adbf-38a0027ae0d2] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:07:08] WARNING  [agent_fsm:1521] [adcdef35-b870-4343-adbf-38a0027ae0d2] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:07:08] WARNING  [agent_fsm:1521] [adcdef35-b870-4343-adbf-38a0027ae0d2] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:07:08] WARNING  [agent_fsm:1521] [adcdef35-b870-4343-adbf-38a0027ae0d2] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:07:08] WARNING  [agent_fsm:1521] [adcdef35-b870-4343-adbf-38a0027ae0d2] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 13:07:08] WARNING  [agent_fsm:1521] [adcdef35-b870-4343-adbf-38a0027ae0d2] Failed to parse JSON parameters for step 8, using fallback parser
[2025-06-18 13:07:08] WARNING  [agent_fsm:1521] [adcdef35-b870-4343-adbf-38a0027ae0d2] Failed to parse JSON parameters for step 9, using fallback parser
[2025-06-18 13:07:08] INFO     [agent_fsm:773] [adcdef35-b870-4343-adbf-38a0027ae0d2] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:07:08] INFO     [agent_fsm:820] [adcdef35-b870-4343-adbf-38a0027ae0d2] Executing tool: video_analyzer with input: {'url': 'https://example.com/video.mp4', 'action': 'download_info'}
[2025-06-18 13:07:08] INFO     [agent_fsm:922] [adcdef35-b870-4343-adbf-38a0027ae0d2] Tool execution completed
[2025-06-18 13:07:08] INFO     [agent_fsm:773] [adcdef35-b870-4343-adbf-38a0027ae0d2] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:07:08] WARNING  [agent_fsm:803] [adcdef35-b870-4343-adbf-38a0027ae0d2] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:07:08] INFO     [agent_fsm:665] [adcdef35-b870-4343-adbf-38a0027ae0d2] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:07:08] DEBUG    [agent_fsm:680] [adcdef35-b870-4343-adbf-38a0027ae0d2] Turn count: 2, Action history length: 2
[2025-06-18 13:07:09] WARNING  [agent_fsm:1521] [adcdef35-b870-4343-adbf-38a0027ae0d2] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:07:09] WARNING  [agent_fsm:1333] [adcdef35-b870-4343-adbf-38a0027ae0d2] Tool chosen_video_analyzer not found in registry, will use stub
[2025-06-18 13:07:09] INFO     [agent_fsm:773] [adcdef35-b870-4343-adbf-38a0027ae0d2] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:07:09] INFO     [agent_fsm:820] [adcdef35-b870-4343-adbf-38a0027ae0d2] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 13:07:09] INFO     [agent_fsm:922] [adcdef35-b870-4343-adbf-38a0027ae0d2] Tool execution completed
[2025-06-18 13:07:09] INFO     [agent_fsm:773] [adcdef35-b870-4343-adbf-38a0027ae0d2] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:07:09] WARNING  [agent_fsm:803] [adcdef35-b870-4343-adbf-38a0027ae0d2] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:07:09] INFO     [agent_fsm:665] [adcdef35-b870-4343-adbf-38a0027ae0d2] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:07:09] DEBUG    [agent_fsm:680] [adcdef35-b870-4343-adbf-38a0027ae0d2] Turn count: 3, Action history length: 3
[2025-06-18 13:07:11] WARNING  [agent_fsm:1521] [adcdef35-b870-4343-adbf-38a0027ae0d2] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:07:11] WARNING  [agent_fsm:1224] [adcdef35-b870-4343-adbf-38a0027ae0d2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:11] ERROR    [agent_fsm:1078] [adcdef35-b870-4343-adbf-38a0027ae0d2] --- FSM STATE: ERROR ---
[2025-06-18 13:07:11] ERROR    [agent_fsm:1101] [adcdef35-b870-4343-adbf-38a0027ae0d2] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:07:11] ERROR    [agent_fsm:1102] [adcdef35-b870-4343-adbf-38a0027ae0d2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:11] WARNING  [agent_fsm:1224] [adcdef35-b870-4343-adbf-38a0027ae0d2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:11] ERROR    [agent_fsm:1078] [adcdef35-b870-4343-adbf-38a0027ae0d2] --- FSM STATE: ERROR ---
[2025-06-18 13:07:11] ERROR    [agent_fsm:1101] [adcdef35-b870-4343-adbf-38a0027ae0d2] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:07:11] ERROR    [agent_fsm:1102] [adcdef35-b870-4343-adbf-38a0027ae0d2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:11] WARNING  [agent_fsm:1224] [adcdef35-b870-4343-adbf-38a0027ae0d2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:11] ERROR    [agent_fsm:1078] [adcdef35-b870-4343-adbf-38a0027ae0d2] --- FSM STATE: ERROR ---
[2025-06-18 13:07:11] ERROR    [agent_fsm:1101] [adcdef35-b870-4343-adbf-38a0027ae0d2] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:07:11] ERROR    [agent_fsm:1102] [adcdef35-b870-4343-adbf-38a0027ae0d2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:11] WARNING  [agent_fsm:1224] [adcdef35-b870-4343-adbf-38a0027ae0d2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:11] ERROR    [agent_fsm:1078] [adcdef35-b870-4343-adbf-38a0027ae0d2] --- FSM STATE: ERROR ---
[2025-06-18 13:07:11] ERROR    [agent_fsm:1101] [adcdef35-b870-4343-adbf-38a0027ae0d2] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:07:11] ERROR    [agent_fsm:1102] [adcdef35-b870-4343-adbf-38a0027ae0d2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:11] WARNING  [agent_fsm:1224] [adcdef35-b870-4343-adbf-38a0027ae0d2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:11] ERROR    [agent_fsm:1078] [adcdef35-b870-4343-adbf-38a0027ae0d2] --- FSM STATE: ERROR ---
[2025-06-18 13:07:11] ERROR    [agent_fsm:1101] [adcdef35-b870-4343-adbf-38a0027ae0d2] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:07:11] ERROR    [agent_fsm:1102] [adcdef35-b870-4343-adbf-38a0027ae0d2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:11] WARNING  [agent_fsm:1224] [adcdef35-b870-4343-adbf-38a0027ae0d2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:11] ERROR    [agent_fsm:1078] [adcdef35-b870-4343-adbf-38a0027ae0d2] --- FSM STATE: ERROR ---
[2025-06-18 13:07:11] ERROR    [agent_fsm:1101] [adcdef35-b870-4343-adbf-38a0027ae0d2] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:07:11] ERROR    [agent_fsm:1102] [adcdef35-b870-4343-adbf-38a0027ae0d2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:11] WARNING  [agent_fsm:1224] [adcdef35-b870-4343-adbf-38a0027ae0d2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:11] ERROR    [agent_fsm:1078] [adcdef35-b870-4343-adbf-38a0027ae0d2] --- FSM STATE: ERROR ---
[2025-06-18 13:07:11] ERROR    [agent_fsm:1101] [adcdef35-b870-4343-adbf-38a0027ae0d2] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:07:11] ERROR    [agent_fsm:1102] [adcdef35-b870-4343-adbf-38a0027ae0d2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:11] WARNING  [agent_fsm:1224] [adcdef35-b870-4343-adbf-38a0027ae0d2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:11] ERROR    [agent_fsm:1078] [adcdef35-b870-4343-adbf-38a0027ae0d2] --- FSM STATE: ERROR ---
[2025-06-18 13:07:11] ERROR    [agent_fsm:1101] [adcdef35-b870-4343-adbf-38a0027ae0d2] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:07:11] ERROR    [agent_fsm:1102] [adcdef35-b870-4343-adbf-38a0027ae0d2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:11] WARNING  [agent_fsm:1224] [adcdef35-b870-4343-adbf-38a0027ae0d2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:11] ERROR    [agent_fsm:1078] [adcdef35-b870-4343-adbf-38a0027ae0d2] --- FSM STATE: ERROR ---
[2025-06-18 13:07:11] ERROR    [agent_fsm:1101] [adcdef35-b870-4343-adbf-38a0027ae0d2] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:07:11] ERROR    [agent_fsm:1102] [adcdef35-b870-4343-adbf-38a0027ae0d2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:11] WARNING  [agent_fsm:1224] [adcdef35-b870-4343-adbf-38a0027ae0d2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:11] ERROR    [agent_fsm:1078] [adcdef35-b870-4343-adbf-38a0027ae0d2] --- FSM STATE: ERROR ---
[2025-06-18 13:07:11] ERROR    [agent_fsm:1101] [adcdef35-b870-4343-adbf-38a0027ae0d2] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:07:11] ERROR    [agent_fsm:1102] [adcdef35-b870-4343-adbf-38a0027ae0d2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:11] WARNING  [agent_fsm:1224] [adcdef35-b870-4343-adbf-38a0027ae0d2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:11] ERROR    [agent_fsm:1078] [adcdef35-b870-4343-adbf-38a0027ae0d2] --- FSM STATE: ERROR ---
[2025-06-18 13:07:11] ERROR    [agent_fsm:1101] [adcdef35-b870-4343-adbf-38a0027ae0d2] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:07:11] ERROR    [agent_fsm:1102] [adcdef35-b870-4343-adbf-38a0027ae0d2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:11] WARNING  [agent_fsm:1224] [adcdef35-b870-4343-adbf-38a0027ae0d2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:11] ERROR    [agent_fsm:1078] [adcdef35-b870-4343-adbf-38a0027ae0d2] --- FSM STATE: ERROR ---
[2025-06-18 13:07:11] ERROR    [agent_fsm:1101] [adcdef35-b870-4343-adbf-38a0027ae0d2] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:07:11] ERROR    [agent_fsm:1102] [adcdef35-b870-4343-adbf-38a0027ae0d2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:11] WARNING  [agent_fsm:1224] [adcdef35-b870-4343-adbf-38a0027ae0d2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:11] ERROR    [agent_fsm:1078] [adcdef35-b870-4343-adbf-38a0027ae0d2] --- FSM STATE: ERROR ---
[2025-06-18 13:07:11] ERROR    [agent_fsm:1101] [adcdef35-b870-4343-adbf-38a0027ae0d2] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:07:11] ERROR    [agent_fsm:1102] [adcdef35-b870-4343-adbf-38a0027ae0d2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:11] WARNING  [agent_fsm:1224] [adcdef35-b870-4343-adbf-38a0027ae0d2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:11] ERROR    [agent_fsm:1078] [adcdef35-b870-4343-adbf-38a0027ae0d2] --- FSM STATE: ERROR ---
[2025-06-18 13:07:11] ERROR    [agent_fsm:1101] [adcdef35-b870-4343-adbf-38a0027ae0d2] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:07:11] ERROR    [agent_fsm:1102] [adcdef35-b870-4343-adbf-38a0027ae0d2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:11] WARNING  [agent_fsm:1224] [adcdef35-b870-4343-adbf-38a0027ae0d2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:11] ERROR    [agent_fsm:1078] [adcdef35-b870-4343-adbf-38a0027ae0d2] --- FSM STATE: ERROR ---
[2025-06-18 13:07:11] ERROR    [agent_fsm:1101] [adcdef35-b870-4343-adbf-38a0027ae0d2] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:07:11] ERROR    [agent_fsm:1102] [adcdef35-b870-4343-adbf-38a0027ae0d2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:11] WARNING  [agent_fsm:1224] [adcdef35-b870-4343-adbf-38a0027ae0d2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:11] ERROR    [agent_fsm:1078] [adcdef35-b870-4343-adbf-38a0027ae0d2] --- FSM STATE: ERROR ---
[2025-06-18 13:07:11] ERROR    [agent_fsm:1101] [adcdef35-b870-4343-adbf-38a0027ae0d2] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:07:11] ERROR    [agent_fsm:1102] [adcdef35-b870-4343-adbf-38a0027ae0d2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:11] WARNING  [agent_fsm:1224] [adcdef35-b870-4343-adbf-38a0027ae0d2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:11] ERROR    [agent_fsm:1078] [adcdef35-b870-4343-adbf-38a0027ae0d2] --- FSM STATE: ERROR ---
[2025-06-18 13:07:11] ERROR    [agent_fsm:1101] [adcdef35-b870-4343-adbf-38a0027ae0d2] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:07:11] ERROR    [agent_fsm:1102] [adcdef35-b870-4343-adbf-38a0027ae0d2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:11] WARNING  [agent_fsm:1224] [adcdef35-b870-4343-adbf-38a0027ae0d2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:11] ERROR    [agent_fsm:1078] [adcdef35-b870-4343-adbf-38a0027ae0d2] --- FSM STATE: ERROR ---
[2025-06-18 13:07:11] ERROR    [agent_fsm:1101] [adcdef35-b870-4343-adbf-38a0027ae0d2] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:07:11] ERROR    [agent_fsm:1102] [adcdef35-b870-4343-adbf-38a0027ae0d2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:11] WARNING  [agent_fsm:1224] [adcdef35-b870-4343-adbf-38a0027ae0d2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:11] ERROR    [agent_fsm:1837] [adcdef35-b870-4343-adbf-38a0027ae0d2] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:07:11] INFO     [agent_fsm:1752] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Starting resilient FSM execution
[2025-06-18 13:07:11] INFO     [agent_fsm:1807] [cc74273f-313c-4f5b-a2f3-8630908d31b9] FSM STATE: INITIAL
[2025-06-18 13:07:11] INFO     [agent_fsm:665] [cc74273f-313c-4f5b-a2f3-8630908d31b9] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:07:11] DEBUG    [agent_fsm:680] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Turn count: 1, Action history length: 1
[2025-06-18 13:07:13] WARNING  [agent_fsm:1521] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Failed to parse JSON parameters for step 10, using fallback parser
[2025-06-18 13:07:13] WARNING  [agent_fsm:1333] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Tool image_analyzer not found in registry, will use stub
[2025-06-18 13:07:13] INFO     [agent_fsm:773] [cc74273f-313c-4f5b-a2f3-8630908d31b9] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:07:13] INFO     [agent_fsm:820] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Executing tool: web_researcher with input: {'query': 'What is 2 + 2?', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 13:07:13] INFO     [agent_fsm:922] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Tool execution completed
[2025-06-18 13:07:13] INFO     [agent_fsm:773] [cc74273f-313c-4f5b-a2f3-8630908d31b9] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:07:13] WARNING  [agent_fsm:803] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:07:13] INFO     [agent_fsm:665] [cc74273f-313c-4f5b-a2f3-8630908d31b9] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:07:13] DEBUG    [agent_fsm:680] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Turn count: 2, Action history length: 2
[2025-06-18 13:07:14] INFO     [agent_fsm:773] [cc74273f-313c-4f5b-a2f3-8630908d31b9] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:07:14] INFO     [agent_fsm:820] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Executing tool: semantic_search_tool with input: {'query': 'What is 2 + 2?', 'filename': 'knowledge_base.csv', 'top_k': 3}
[2025-06-18 13:07:14] INFO     [agent_fsm:922] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Tool execution completed
[2025-06-18 13:07:14] INFO     [agent_fsm:773] [cc74273f-313c-4f5b-a2f3-8630908d31b9] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:07:14] WARNING  [agent_fsm:803] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:07:14] INFO     [agent_fsm:665] [cc74273f-313c-4f5b-a2f3-8630908d31b9] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:07:14] DEBUG    [agent_fsm:680] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Turn count: 3, Action history length: 3
[2025-06-18 13:07:14] WARNING  [agent_fsm:1224] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:14] ERROR    [agent_fsm:1078] [cc74273f-313c-4f5b-a2f3-8630908d31b9] --- FSM STATE: ERROR ---
[2025-06-18 13:07:14] ERROR    [agent_fsm:1101] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:07:14] ERROR    [agent_fsm:1102] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:14] WARNING  [agent_fsm:1224] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:14] ERROR    [agent_fsm:1078] [cc74273f-313c-4f5b-a2f3-8630908d31b9] --- FSM STATE: ERROR ---
[2025-06-18 13:07:14] ERROR    [agent_fsm:1101] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:07:14] ERROR    [agent_fsm:1102] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:14] WARNING  [agent_fsm:1224] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:14] ERROR    [agent_fsm:1078] [cc74273f-313c-4f5b-a2f3-8630908d31b9] --- FSM STATE: ERROR ---
[2025-06-18 13:07:14] ERROR    [agent_fsm:1101] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:07:14] ERROR    [agent_fsm:1102] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:14] WARNING  [agent_fsm:1224] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:14] ERROR    [agent_fsm:1078] [cc74273f-313c-4f5b-a2f3-8630908d31b9] --- FSM STATE: ERROR ---
[2025-06-18 13:07:14] ERROR    [agent_fsm:1101] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:07:14] ERROR    [agent_fsm:1102] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:14] WARNING  [agent_fsm:1224] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:14] ERROR    [agent_fsm:1078] [cc74273f-313c-4f5b-a2f3-8630908d31b9] --- FSM STATE: ERROR ---
[2025-06-18 13:07:14] ERROR    [agent_fsm:1101] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:07:14] ERROR    [agent_fsm:1102] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:14] WARNING  [agent_fsm:1224] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:14] ERROR    [agent_fsm:1078] [cc74273f-313c-4f5b-a2f3-8630908d31b9] --- FSM STATE: ERROR ---
[2025-06-18 13:07:14] ERROR    [agent_fsm:1101] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:07:14] ERROR    [agent_fsm:1102] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:14] WARNING  [agent_fsm:1224] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:14] ERROR    [agent_fsm:1078] [cc74273f-313c-4f5b-a2f3-8630908d31b9] --- FSM STATE: ERROR ---
[2025-06-18 13:07:14] ERROR    [agent_fsm:1101] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:07:14] ERROR    [agent_fsm:1102] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:14] WARNING  [agent_fsm:1224] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:14] ERROR    [agent_fsm:1078] [cc74273f-313c-4f5b-a2f3-8630908d31b9] --- FSM STATE: ERROR ---
[2025-06-18 13:07:14] ERROR    [agent_fsm:1101] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:07:14] ERROR    [agent_fsm:1102] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:14] WARNING  [agent_fsm:1224] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:14] ERROR    [agent_fsm:1078] [cc74273f-313c-4f5b-a2f3-8630908d31b9] --- FSM STATE: ERROR ---
[2025-06-18 13:07:14] ERROR    [agent_fsm:1101] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:07:14] ERROR    [agent_fsm:1102] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:14] WARNING  [agent_fsm:1224] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:14] ERROR    [agent_fsm:1078] [cc74273f-313c-4f5b-a2f3-8630908d31b9] --- FSM STATE: ERROR ---
[2025-06-18 13:07:14] ERROR    [agent_fsm:1101] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:07:14] ERROR    [agent_fsm:1102] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:14] WARNING  [agent_fsm:1224] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:14] ERROR    [agent_fsm:1078] [cc74273f-313c-4f5b-a2f3-8630908d31b9] --- FSM STATE: ERROR ---
[2025-06-18 13:07:14] ERROR    [agent_fsm:1101] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:07:14] ERROR    [agent_fsm:1102] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:14] WARNING  [agent_fsm:1224] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:14] ERROR    [agent_fsm:1078] [cc74273f-313c-4f5b-a2f3-8630908d31b9] --- FSM STATE: ERROR ---
[2025-06-18 13:07:14] ERROR    [agent_fsm:1101] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:07:14] ERROR    [agent_fsm:1102] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:14] WARNING  [agent_fsm:1224] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:14] ERROR    [agent_fsm:1078] [cc74273f-313c-4f5b-a2f3-8630908d31b9] --- FSM STATE: ERROR ---
[2025-06-18 13:07:14] ERROR    [agent_fsm:1101] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:07:14] ERROR    [agent_fsm:1102] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:14] WARNING  [agent_fsm:1224] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:14] ERROR    [agent_fsm:1078] [cc74273f-313c-4f5b-a2f3-8630908d31b9] --- FSM STATE: ERROR ---
[2025-06-18 13:07:14] ERROR    [agent_fsm:1101] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:07:14] ERROR    [agent_fsm:1102] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:14] WARNING  [agent_fsm:1224] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:14] ERROR    [agent_fsm:1078] [cc74273f-313c-4f5b-a2f3-8630908d31b9] --- FSM STATE: ERROR ---
[2025-06-18 13:07:14] ERROR    [agent_fsm:1101] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:07:14] ERROR    [agent_fsm:1102] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:14] WARNING  [agent_fsm:1224] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:14] ERROR    [agent_fsm:1078] [cc74273f-313c-4f5b-a2f3-8630908d31b9] --- FSM STATE: ERROR ---
[2025-06-18 13:07:14] ERROR    [agent_fsm:1101] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:07:14] ERROR    [agent_fsm:1102] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:14] WARNING  [agent_fsm:1224] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:14] ERROR    [agent_fsm:1078] [cc74273f-313c-4f5b-a2f3-8630908d31b9] --- FSM STATE: ERROR ---
[2025-06-18 13:07:14] ERROR    [agent_fsm:1101] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:07:14] ERROR    [agent_fsm:1102] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:14] WARNING  [agent_fsm:1224] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:14] ERROR    [agent_fsm:1078] [cc74273f-313c-4f5b-a2f3-8630908d31b9] --- FSM STATE: ERROR ---
[2025-06-18 13:07:14] ERROR    [agent_fsm:1101] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:07:14] ERROR    [agent_fsm:1102] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:14] WARNING  [agent_fsm:1224] [cc74273f-313c-4f5b-a2f3-8630908d31b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:14] ERROR    [agent_fsm:1837] [cc74273f-313c-4f5b-a2f3-8630908d31b9] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:07:14] INFO     [agent_fsm:1752] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Starting resilient FSM execution
[2025-06-18 13:07:14] INFO     [agent_fsm:1807] [a7b25f0b-9390-47d6-8d67-e109641c27b9] FSM STATE: INITIAL
[2025-06-18 13:07:14] INFO     [agent_fsm:665] [a7b25f0b-9390-47d6-8d67-e109641c27b9] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:07:14] DEBUG    [agent_fsm:680] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Turn count: 1, Action history length: 1
[2025-06-18 13:07:16] WARNING  [agent_fsm:1521] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:07:16] INFO     [agent_fsm:773] [a7b25f0b-9390-47d6-8d67-e109641c27b9] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:07:16] INFO     [agent_fsm:820] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Executing tool: web_researcher with input: {'query': 'chess position analysis', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 13:07:16] INFO     [agent_fsm:922] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Tool execution completed
[2025-06-18 13:07:16] INFO     [agent_fsm:773] [a7b25f0b-9390-47d6-8d67-e109641c27b9] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:07:16] WARNING  [agent_fsm:803] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:07:16] INFO     [agent_fsm:665] [a7b25f0b-9390-47d6-8d67-e109641c27b9] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:07:16] DEBUG    [agent_fsm:680] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Turn count: 2, Action history length: 2
[2025-06-18 13:07:17] INFO     [agent_fsm:773] [a7b25f0b-9390-47d6-8d67-e109641c27b9] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:07:17] INFO     [agent_fsm:820] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Executing tool: python_interpreter with input: {'code': 'langchain-tavily install'}
[2025-06-18 13:07:17] INFO     [agent_fsm:922] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Tool execution completed
[2025-06-18 13:07:17] INFO     [agent_fsm:773] [a7b25f0b-9390-47d6-8d67-e109641c27b9] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:07:17] WARNING  [agent_fsm:803] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:07:17] INFO     [agent_fsm:665] [a7b25f0b-9390-47d6-8d67-e109641c27b9] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:07:17] DEBUG    [agent_fsm:680] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Turn count: 3, Action history length: 3
[2025-06-18 13:07:17] WARNING  [agent_fsm:1521] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 13:07:17] WARNING  [agent_fsm:1224] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:17] ERROR    [agent_fsm:1078] [a7b25f0b-9390-47d6-8d67-e109641c27b9] --- FSM STATE: ERROR ---
[2025-06-18 13:07:17] ERROR    [agent_fsm:1101] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:07:17] ERROR    [agent_fsm:1102] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:17] WARNING  [agent_fsm:1224] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:17] ERROR    [agent_fsm:1078] [a7b25f0b-9390-47d6-8d67-e109641c27b9] --- FSM STATE: ERROR ---
[2025-06-18 13:07:17] ERROR    [agent_fsm:1101] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:07:17] ERROR    [agent_fsm:1102] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:17] WARNING  [agent_fsm:1224] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:17] ERROR    [agent_fsm:1078] [a7b25f0b-9390-47d6-8d67-e109641c27b9] --- FSM STATE: ERROR ---
[2025-06-18 13:07:17] ERROR    [agent_fsm:1101] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:07:17] ERROR    [agent_fsm:1102] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:17] WARNING  [agent_fsm:1224] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:17] ERROR    [agent_fsm:1078] [a7b25f0b-9390-47d6-8d67-e109641c27b9] --- FSM STATE: ERROR ---
[2025-06-18 13:07:17] ERROR    [agent_fsm:1101] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:07:17] ERROR    [agent_fsm:1102] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:17] WARNING  [agent_fsm:1224] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:17] ERROR    [agent_fsm:1078] [a7b25f0b-9390-47d6-8d67-e109641c27b9] --- FSM STATE: ERROR ---
[2025-06-18 13:07:17] ERROR    [agent_fsm:1101] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:07:17] ERROR    [agent_fsm:1102] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:17] WARNING  [agent_fsm:1224] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:17] ERROR    [agent_fsm:1078] [a7b25f0b-9390-47d6-8d67-e109641c27b9] --- FSM STATE: ERROR ---
[2025-06-18 13:07:17] ERROR    [agent_fsm:1101] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:07:17] ERROR    [agent_fsm:1102] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:17] WARNING  [agent_fsm:1224] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:17] ERROR    [agent_fsm:1078] [a7b25f0b-9390-47d6-8d67-e109641c27b9] --- FSM STATE: ERROR ---
[2025-06-18 13:07:17] ERROR    [agent_fsm:1101] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:07:17] ERROR    [agent_fsm:1102] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:17] WARNING  [agent_fsm:1224] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:17] ERROR    [agent_fsm:1078] [a7b25f0b-9390-47d6-8d67-e109641c27b9] --- FSM STATE: ERROR ---
[2025-06-18 13:07:17] ERROR    [agent_fsm:1101] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:07:17] ERROR    [agent_fsm:1102] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:17] WARNING  [agent_fsm:1224] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:17] ERROR    [agent_fsm:1078] [a7b25f0b-9390-47d6-8d67-e109641c27b9] --- FSM STATE: ERROR ---
[2025-06-18 13:07:17] ERROR    [agent_fsm:1101] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:07:17] ERROR    [agent_fsm:1102] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:17] WARNING  [agent_fsm:1224] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:17] ERROR    [agent_fsm:1078] [a7b25f0b-9390-47d6-8d67-e109641c27b9] --- FSM STATE: ERROR ---
[2025-06-18 13:07:17] ERROR    [agent_fsm:1101] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:07:17] ERROR    [agent_fsm:1102] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:17] WARNING  [agent_fsm:1224] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:17] ERROR    [agent_fsm:1078] [a7b25f0b-9390-47d6-8d67-e109641c27b9] --- FSM STATE: ERROR ---
[2025-06-18 13:07:17] ERROR    [agent_fsm:1101] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:07:17] ERROR    [agent_fsm:1102] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:17] WARNING  [agent_fsm:1224] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:17] ERROR    [agent_fsm:1078] [a7b25f0b-9390-47d6-8d67-e109641c27b9] --- FSM STATE: ERROR ---
[2025-06-18 13:07:17] ERROR    [agent_fsm:1101] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:07:17] ERROR    [agent_fsm:1102] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:17] WARNING  [agent_fsm:1224] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:17] ERROR    [agent_fsm:1078] [a7b25f0b-9390-47d6-8d67-e109641c27b9] --- FSM STATE: ERROR ---
[2025-06-18 13:07:17] ERROR    [agent_fsm:1101] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:07:17] ERROR    [agent_fsm:1102] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:17] WARNING  [agent_fsm:1224] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:17] ERROR    [agent_fsm:1078] [a7b25f0b-9390-47d6-8d67-e109641c27b9] --- FSM STATE: ERROR ---
[2025-06-18 13:07:17] ERROR    [agent_fsm:1101] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:07:17] ERROR    [agent_fsm:1102] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:17] WARNING  [agent_fsm:1224] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:17] ERROR    [agent_fsm:1078] [a7b25f0b-9390-47d6-8d67-e109641c27b9] --- FSM STATE: ERROR ---
[2025-06-18 13:07:17] ERROR    [agent_fsm:1101] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:07:17] ERROR    [agent_fsm:1102] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:17] WARNING  [agent_fsm:1224] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:17] ERROR    [agent_fsm:1078] [a7b25f0b-9390-47d6-8d67-e109641c27b9] --- FSM STATE: ERROR ---
[2025-06-18 13:07:17] ERROR    [agent_fsm:1101] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:07:17] ERROR    [agent_fsm:1102] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:17] WARNING  [agent_fsm:1224] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:17] ERROR    [agent_fsm:1078] [a7b25f0b-9390-47d6-8d67-e109641c27b9] --- FSM STATE: ERROR ---
[2025-06-18 13:07:17] ERROR    [agent_fsm:1101] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:07:17] ERROR    [agent_fsm:1102] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:17] WARNING  [agent_fsm:1224] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:17] ERROR    [agent_fsm:1078] [a7b25f0b-9390-47d6-8d67-e109641c27b9] --- FSM STATE: ERROR ---
[2025-06-18 13:07:17] ERROR    [agent_fsm:1101] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:07:17] ERROR    [agent_fsm:1102] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:17] WARNING  [agent_fsm:1224] [a7b25f0b-9390-47d6-8d67-e109641c27b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:17] ERROR    [agent_fsm:1837] [a7b25f0b-9390-47d6-8d67-e109641c27b9] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:07:17] INFO     [agent_fsm:1752] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Starting resilient FSM execution
[2025-06-18 13:07:17] INFO     [agent_fsm:1807] [b44cb002-99b0-48e9-9fa6-ac8096131e25] FSM STATE: INITIAL
[2025-06-18 13:07:17] INFO     [agent_fsm:665] [b44cb002-99b0-48e9-9fa6-ac8096131e25] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:07:17] DEBUG    [agent_fsm:680] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Turn count: 1, Action history length: 1
[2025-06-18 13:07:19] WARNING  [agent_fsm:1521] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:07:19] INFO     [agent_fsm:773] [b44cb002-99b0-48e9-9fa6-ac8096131e25] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:07:19] INFO     [agent_fsm:820] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Executing tool: web_researcher with input: {'query': 'Nobel Prize in Physics 2023 winner', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 13:07:19] INFO     [agent_fsm:922] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Tool execution completed
[2025-06-18 13:07:19] INFO     [agent_fsm:773] [b44cb002-99b0-48e9-9fa6-ac8096131e25] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:07:19] WARNING  [agent_fsm:803] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:07:19] INFO     [agent_fsm:665] [b44cb002-99b0-48e9-9fa6-ac8096131e25] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:07:19] DEBUG    [agent_fsm:680] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Turn count: 2, Action history length: 2
[2025-06-18 13:07:19] WARNING  [agent_fsm:1521] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:07:19] INFO     [agent_fsm:773] [b44cb002-99b0-48e9-9fa6-ac8096131e25] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:07:19] INFO     [agent_fsm:820] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Executing tool: semantic_search_tool with input: {'query': 'Nobel Prize in Physics 2023 winner', 'filename': 'knowledge_base.csv', 'top_k': 3}
[2025-06-18 13:07:19] INFO     [agent_fsm:922] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Tool execution completed
[2025-06-18 13:07:19] INFO     [agent_fsm:773] [b44cb002-99b0-48e9-9fa6-ac8096131e25] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:07:19] WARNING  [agent_fsm:803] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:07:19] INFO     [agent_fsm:665] [b44cb002-99b0-48e9-9fa6-ac8096131e25] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:07:19] DEBUG    [agent_fsm:680] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Turn count: 3, Action history length: 3
[2025-06-18 13:07:21] WARNING  [agent_fsm:1521] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:07:21] WARNING  [agent_fsm:1521] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Failed to parse JSON parameters for step 9, using fallback parser
[2025-06-18 13:07:21] WARNING  [agent_fsm:1333] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Tool image_analyzer not found in registry, will use stub
[2025-06-18 13:07:21] WARNING  [agent_fsm:1224] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:21] ERROR    [agent_fsm:1078] [b44cb002-99b0-48e9-9fa6-ac8096131e25] --- FSM STATE: ERROR ---
[2025-06-18 13:07:21] ERROR    [agent_fsm:1101] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:07:21] ERROR    [agent_fsm:1102] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:21] WARNING  [agent_fsm:1224] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:21] ERROR    [agent_fsm:1078] [b44cb002-99b0-48e9-9fa6-ac8096131e25] --- FSM STATE: ERROR ---
[2025-06-18 13:07:21] ERROR    [agent_fsm:1101] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:07:21] ERROR    [agent_fsm:1102] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:21] WARNING  [agent_fsm:1224] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:21] ERROR    [agent_fsm:1078] [b44cb002-99b0-48e9-9fa6-ac8096131e25] --- FSM STATE: ERROR ---
[2025-06-18 13:07:21] ERROR    [agent_fsm:1101] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:07:21] ERROR    [agent_fsm:1102] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:21] WARNING  [agent_fsm:1224] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:21] ERROR    [agent_fsm:1078] [b44cb002-99b0-48e9-9fa6-ac8096131e25] --- FSM STATE: ERROR ---
[2025-06-18 13:07:21] ERROR    [agent_fsm:1101] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:07:21] ERROR    [agent_fsm:1102] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:21] WARNING  [agent_fsm:1224] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:21] ERROR    [agent_fsm:1078] [b44cb002-99b0-48e9-9fa6-ac8096131e25] --- FSM STATE: ERROR ---
[2025-06-18 13:07:21] ERROR    [agent_fsm:1101] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:07:21] ERROR    [agent_fsm:1102] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:21] WARNING  [agent_fsm:1224] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:21] ERROR    [agent_fsm:1078] [b44cb002-99b0-48e9-9fa6-ac8096131e25] --- FSM STATE: ERROR ---
[2025-06-18 13:07:21] ERROR    [agent_fsm:1101] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:07:21] ERROR    [agent_fsm:1102] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:21] WARNING  [agent_fsm:1224] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:21] ERROR    [agent_fsm:1078] [b44cb002-99b0-48e9-9fa6-ac8096131e25] --- FSM STATE: ERROR ---
[2025-06-18 13:07:21] ERROR    [agent_fsm:1101] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:07:21] ERROR    [agent_fsm:1102] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:21] WARNING  [agent_fsm:1224] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:21] ERROR    [agent_fsm:1078] [b44cb002-99b0-48e9-9fa6-ac8096131e25] --- FSM STATE: ERROR ---
[2025-06-18 13:07:21] ERROR    [agent_fsm:1101] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:07:21] ERROR    [agent_fsm:1102] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:21] WARNING  [agent_fsm:1224] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:21] ERROR    [agent_fsm:1078] [b44cb002-99b0-48e9-9fa6-ac8096131e25] --- FSM STATE: ERROR ---
[2025-06-18 13:07:21] ERROR    [agent_fsm:1101] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:07:21] ERROR    [agent_fsm:1102] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:21] WARNING  [agent_fsm:1224] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:21] ERROR    [agent_fsm:1078] [b44cb002-99b0-48e9-9fa6-ac8096131e25] --- FSM STATE: ERROR ---
[2025-06-18 13:07:21] ERROR    [agent_fsm:1101] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:07:21] ERROR    [agent_fsm:1102] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:21] WARNING  [agent_fsm:1224] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:21] ERROR    [agent_fsm:1078] [b44cb002-99b0-48e9-9fa6-ac8096131e25] --- FSM STATE: ERROR ---
[2025-06-18 13:07:21] ERROR    [agent_fsm:1101] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:07:21] ERROR    [agent_fsm:1102] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:21] WARNING  [agent_fsm:1224] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:21] ERROR    [agent_fsm:1078] [b44cb002-99b0-48e9-9fa6-ac8096131e25] --- FSM STATE: ERROR ---
[2025-06-18 13:07:21] ERROR    [agent_fsm:1101] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:07:21] ERROR    [agent_fsm:1102] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:21] WARNING  [agent_fsm:1224] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:21] ERROR    [agent_fsm:1078] [b44cb002-99b0-48e9-9fa6-ac8096131e25] --- FSM STATE: ERROR ---
[2025-06-18 13:07:21] ERROR    [agent_fsm:1101] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:07:21] ERROR    [agent_fsm:1102] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:21] WARNING  [agent_fsm:1224] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:21] ERROR    [agent_fsm:1078] [b44cb002-99b0-48e9-9fa6-ac8096131e25] --- FSM STATE: ERROR ---
[2025-06-18 13:07:21] ERROR    [agent_fsm:1101] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:07:21] ERROR    [agent_fsm:1102] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:21] WARNING  [agent_fsm:1224] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:21] ERROR    [agent_fsm:1078] [b44cb002-99b0-48e9-9fa6-ac8096131e25] --- FSM STATE: ERROR ---
[2025-06-18 13:07:21] ERROR    [agent_fsm:1101] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:07:21] ERROR    [agent_fsm:1102] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:21] WARNING  [agent_fsm:1224] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:21] ERROR    [agent_fsm:1078] [b44cb002-99b0-48e9-9fa6-ac8096131e25] --- FSM STATE: ERROR ---
[2025-06-18 13:07:21] ERROR    [agent_fsm:1101] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:07:21] ERROR    [agent_fsm:1102] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:21] WARNING  [agent_fsm:1224] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:21] ERROR    [agent_fsm:1078] [b44cb002-99b0-48e9-9fa6-ac8096131e25] --- FSM STATE: ERROR ---
[2025-06-18 13:07:21] ERROR    [agent_fsm:1101] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:07:21] ERROR    [agent_fsm:1102] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:21] WARNING  [agent_fsm:1224] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:21] ERROR    [agent_fsm:1078] [b44cb002-99b0-48e9-9fa6-ac8096131e25] --- FSM STATE: ERROR ---
[2025-06-18 13:07:21] ERROR    [agent_fsm:1101] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:07:21] ERROR    [agent_fsm:1102] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:21] WARNING  [agent_fsm:1224] [b44cb002-99b0-48e9-9fa6-ac8096131e25] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:21] ERROR    [agent_fsm:1837] [b44cb002-99b0-48e9-9fa6-ac8096131e25] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:07:21] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 13:07:21] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 13:07:21] INFO     [agent_fsm:570] [af943217-0951-4c90-8b2f-ccbf8383c51c] Building resilient FSM graph
[2025-06-18 13:07:21] INFO     [agent_fsm:572] [af943217-0951-4c90-8b2f-ccbf8383c51c] FSMReActAgent graph built successfully
[2025-06-18 13:07:21] INFO     [agent_fsm:1752] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Starting resilient FSM execution
[2025-06-18 13:07:21] INFO     [agent_fsm:1807] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] FSM STATE: INITIAL
[2025-06-18 13:07:21] INFO     [agent_fsm:665] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:07:21] DEBUG    [agent_fsm:680] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Turn count: 1, Action history length: 1
[2025-06-18 13:07:22] WARNING  [agent_fsm:1521] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:07:22] WARNING  [agent_fsm:1521] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:07:22] INFO     [agent_fsm:773] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:07:22] INFO     [agent_fsm:820] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Executing tool: web_researcher with input: {'query': 'Mercedes Sosa discography', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 13:07:22] INFO     [agent_fsm:922] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Tool execution completed
[2025-06-18 13:07:22] INFO     [agent_fsm:773] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:07:22] WARNING  [agent_fsm:803] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:07:22] INFO     [agent_fsm:665] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:07:22] DEBUG    [agent_fsm:680] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Turn count: 2, Action history length: 2
[2025-06-18 13:07:23] WARNING  [agent_fsm:1521] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:07:23] WARNING  [agent_fsm:1521] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:07:23] INFO     [agent_fsm:773] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:07:23] INFO     [agent_fsm:820] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 13:07:23] INFO     [agent_fsm:922] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Tool execution completed
[2025-06-18 13:07:23] INFO     [agent_fsm:773] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:07:23] WARNING  [agent_fsm:803] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:07:23] INFO     [agent_fsm:665] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:07:23] DEBUG    [agent_fsm:680] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Turn count: 3, Action history length: 3
[2025-06-18 13:07:24] WARNING  [agent_fsm:1521] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:07:24] WARNING  [agent_fsm:1521] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:07:24] WARNING  [agent_fsm:1521] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:07:24] WARNING  [agent_fsm:1224] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:24] ERROR    [agent_fsm:1078] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] --- FSM STATE: ERROR ---
[2025-06-18 13:07:24] ERROR    [agent_fsm:1101] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:07:24] ERROR    [agent_fsm:1102] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:24] WARNING  [agent_fsm:1224] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:24] ERROR    [agent_fsm:1078] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] --- FSM STATE: ERROR ---
[2025-06-18 13:07:24] ERROR    [agent_fsm:1101] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:07:24] ERROR    [agent_fsm:1102] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:24] WARNING  [agent_fsm:1224] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:24] ERROR    [agent_fsm:1078] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] --- FSM STATE: ERROR ---
[2025-06-18 13:07:24] ERROR    [agent_fsm:1101] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:07:24] ERROR    [agent_fsm:1102] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:24] WARNING  [agent_fsm:1224] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:24] ERROR    [agent_fsm:1078] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] --- FSM STATE: ERROR ---
[2025-06-18 13:07:24] ERROR    [agent_fsm:1101] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:07:24] ERROR    [agent_fsm:1102] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:24] WARNING  [agent_fsm:1224] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:24] ERROR    [agent_fsm:1078] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] --- FSM STATE: ERROR ---
[2025-06-18 13:07:24] ERROR    [agent_fsm:1101] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:07:24] ERROR    [agent_fsm:1102] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:24] WARNING  [agent_fsm:1224] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:24] ERROR    [agent_fsm:1078] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] --- FSM STATE: ERROR ---
[2025-06-18 13:07:24] ERROR    [agent_fsm:1101] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:07:24] ERROR    [agent_fsm:1102] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:24] WARNING  [agent_fsm:1224] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:24] ERROR    [agent_fsm:1078] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] --- FSM STATE: ERROR ---
[2025-06-18 13:07:24] ERROR    [agent_fsm:1101] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:07:24] ERROR    [agent_fsm:1102] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:24] WARNING  [agent_fsm:1224] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:24] ERROR    [agent_fsm:1078] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] --- FSM STATE: ERROR ---
[2025-06-18 13:07:24] ERROR    [agent_fsm:1101] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:07:24] ERROR    [agent_fsm:1102] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:24] WARNING  [agent_fsm:1224] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:24] ERROR    [agent_fsm:1078] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] --- FSM STATE: ERROR ---
[2025-06-18 13:07:24] ERROR    [agent_fsm:1101] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:07:24] ERROR    [agent_fsm:1102] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:24] WARNING  [agent_fsm:1224] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:24] ERROR    [agent_fsm:1078] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] --- FSM STATE: ERROR ---
[2025-06-18 13:07:24] ERROR    [agent_fsm:1101] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:07:24] ERROR    [agent_fsm:1102] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:24] WARNING  [agent_fsm:1224] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:24] ERROR    [agent_fsm:1078] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] --- FSM STATE: ERROR ---
[2025-06-18 13:07:24] ERROR    [agent_fsm:1101] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:07:24] ERROR    [agent_fsm:1102] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:24] WARNING  [agent_fsm:1224] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:24] ERROR    [agent_fsm:1078] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] --- FSM STATE: ERROR ---
[2025-06-18 13:07:24] ERROR    [agent_fsm:1101] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:07:24] ERROR    [agent_fsm:1102] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:24] WARNING  [agent_fsm:1224] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:24] ERROR    [agent_fsm:1078] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] --- FSM STATE: ERROR ---
[2025-06-18 13:07:24] ERROR    [agent_fsm:1101] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:07:24] ERROR    [agent_fsm:1102] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:24] WARNING  [agent_fsm:1224] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:24] ERROR    [agent_fsm:1078] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] --- FSM STATE: ERROR ---
[2025-06-18 13:07:24] ERROR    [agent_fsm:1101] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:07:24] ERROR    [agent_fsm:1102] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:24] WARNING  [agent_fsm:1224] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:24] ERROR    [agent_fsm:1078] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] --- FSM STATE: ERROR ---
[2025-06-18 13:07:24] ERROR    [agent_fsm:1101] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:07:24] ERROR    [agent_fsm:1102] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:24] WARNING  [agent_fsm:1224] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:24] ERROR    [agent_fsm:1078] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] --- FSM STATE: ERROR ---
[2025-06-18 13:07:24] ERROR    [agent_fsm:1101] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:07:24] ERROR    [agent_fsm:1102] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:24] WARNING  [agent_fsm:1224] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:24] ERROR    [agent_fsm:1078] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] --- FSM STATE: ERROR ---
[2025-06-18 13:07:24] ERROR    [agent_fsm:1101] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:07:24] ERROR    [agent_fsm:1102] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:24] WARNING  [agent_fsm:1224] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:24] ERROR    [agent_fsm:1078] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] --- FSM STATE: ERROR ---
[2025-06-18 13:07:24] ERROR    [agent_fsm:1101] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:07:24] ERROR    [agent_fsm:1102] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:24] WARNING  [agent_fsm:1224] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:24] ERROR    [agent_fsm:1837] [0f2779ac-6096-4c77-a805-ffbe5b9450cb] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:07:24] INFO     [agent_fsm:1752] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Starting resilient FSM execution
[2025-06-18 13:07:24] INFO     [agent_fsm:1807] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] FSM STATE: INITIAL
[2025-06-18 13:07:24] INFO     [agent_fsm:665] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:07:24] DEBUG    [agent_fsm:680] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Turn count: 1, Action history length: 1
[2025-06-18 13:07:25] WARNING  [agent_fsm:1521] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:07:25] WARNING  [agent_fsm:1521] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:07:25] WARNING  [agent_fsm:1521] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 13:07:25] INFO     [agent_fsm:773] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:07:25] INFO     [agent_fsm:820] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 13:07:25] INFO     [agent_fsm:922] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Tool execution completed
[2025-06-18 13:07:25] INFO     [agent_fsm:773] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:07:25] WARNING  [agent_fsm:803] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:07:25] INFO     [agent_fsm:665] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:07:25] DEBUG    [agent_fsm:680] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Turn count: 2, Action history length: 2
[2025-06-18 13:07:27] WARNING  [agent_fsm:1521] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:07:27] WARNING  [agent_fsm:1521] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 13:07:27] INFO     [agent_fsm:773] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:07:27] INFO     [agent_fsm:820] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Executing tool: gaia_video_analyzer with input: {'video_url': 'https://www.youtube.com/watch?v=L1vXCYZAYYM'}
[2025-06-18 13:07:27] INFO     [agent_fsm:922] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Tool execution completed
[2025-06-18 13:07:27] INFO     [agent_fsm:773] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:07:27] WARNING  [agent_fsm:803] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:07:27] INFO     [agent_fsm:665] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:07:27] DEBUG    [agent_fsm:680] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Turn count: 3, Action history length: 3
[2025-06-18 13:07:28] WARNING  [agent_fsm:1521] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:07:28] WARNING  [agent_fsm:1521] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:07:28] WARNING  [agent_fsm:1521] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:07:28] WARNING  [agent_fsm:1521] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 13:07:28] WARNING  [agent_fsm:1224] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:28] ERROR    [agent_fsm:1078] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] --- FSM STATE: ERROR ---
[2025-06-18 13:07:28] ERROR    [agent_fsm:1101] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:07:28] ERROR    [agent_fsm:1102] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:28] WARNING  [agent_fsm:1224] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:28] ERROR    [agent_fsm:1078] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] --- FSM STATE: ERROR ---
[2025-06-18 13:07:28] ERROR    [agent_fsm:1101] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:07:28] ERROR    [agent_fsm:1102] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:28] WARNING  [agent_fsm:1224] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:28] ERROR    [agent_fsm:1078] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] --- FSM STATE: ERROR ---
[2025-06-18 13:07:28] ERROR    [agent_fsm:1101] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:07:28] ERROR    [agent_fsm:1102] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:28] WARNING  [agent_fsm:1224] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:28] ERROR    [agent_fsm:1078] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] --- FSM STATE: ERROR ---
[2025-06-18 13:07:28] ERROR    [agent_fsm:1101] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:07:28] ERROR    [agent_fsm:1102] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:28] WARNING  [agent_fsm:1224] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:28] ERROR    [agent_fsm:1078] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] --- FSM STATE: ERROR ---
[2025-06-18 13:07:28] ERROR    [agent_fsm:1101] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:07:28] ERROR    [agent_fsm:1102] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:28] WARNING  [agent_fsm:1224] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:28] ERROR    [agent_fsm:1078] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] --- FSM STATE: ERROR ---
[2025-06-18 13:07:28] ERROR    [agent_fsm:1101] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:07:28] ERROR    [agent_fsm:1102] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:28] WARNING  [agent_fsm:1224] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:28] ERROR    [agent_fsm:1078] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] --- FSM STATE: ERROR ---
[2025-06-18 13:07:28] ERROR    [agent_fsm:1101] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:07:28] ERROR    [agent_fsm:1102] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:28] WARNING  [agent_fsm:1224] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:28] ERROR    [agent_fsm:1078] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] --- FSM STATE: ERROR ---
[2025-06-18 13:07:28] ERROR    [agent_fsm:1101] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:07:28] ERROR    [agent_fsm:1102] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:28] WARNING  [agent_fsm:1224] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:28] ERROR    [agent_fsm:1078] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] --- FSM STATE: ERROR ---
[2025-06-18 13:07:28] ERROR    [agent_fsm:1101] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:07:28] ERROR    [agent_fsm:1102] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:28] WARNING  [agent_fsm:1224] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:28] ERROR    [agent_fsm:1078] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] --- FSM STATE: ERROR ---
[2025-06-18 13:07:28] ERROR    [agent_fsm:1101] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:07:28] ERROR    [agent_fsm:1102] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:28] WARNING  [agent_fsm:1224] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:28] ERROR    [agent_fsm:1078] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] --- FSM STATE: ERROR ---
[2025-06-18 13:07:28] ERROR    [agent_fsm:1101] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:07:28] ERROR    [agent_fsm:1102] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:28] WARNING  [agent_fsm:1224] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:28] ERROR    [agent_fsm:1078] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] --- FSM STATE: ERROR ---
[2025-06-18 13:07:28] ERROR    [agent_fsm:1101] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:07:28] ERROR    [agent_fsm:1102] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:28] WARNING  [agent_fsm:1224] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:28] ERROR    [agent_fsm:1078] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] --- FSM STATE: ERROR ---
[2025-06-18 13:07:28] ERROR    [agent_fsm:1101] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:07:28] ERROR    [agent_fsm:1102] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:28] WARNING  [agent_fsm:1224] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:28] ERROR    [agent_fsm:1078] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] --- FSM STATE: ERROR ---
[2025-06-18 13:07:28] ERROR    [agent_fsm:1101] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:07:28] ERROR    [agent_fsm:1102] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:28] WARNING  [agent_fsm:1224] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:28] ERROR    [agent_fsm:1078] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] --- FSM STATE: ERROR ---
[2025-06-18 13:07:28] ERROR    [agent_fsm:1101] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:07:28] ERROR    [agent_fsm:1102] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:28] WARNING  [agent_fsm:1224] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:28] ERROR    [agent_fsm:1078] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] --- FSM STATE: ERROR ---
[2025-06-18 13:07:28] ERROR    [agent_fsm:1101] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:07:28] ERROR    [agent_fsm:1102] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:28] WARNING  [agent_fsm:1224] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:28] ERROR    [agent_fsm:1078] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] --- FSM STATE: ERROR ---
[2025-06-18 13:07:28] ERROR    [agent_fsm:1101] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:07:28] ERROR    [agent_fsm:1102] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:28] WARNING  [agent_fsm:1224] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:28] ERROR    [agent_fsm:1078] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] --- FSM STATE: ERROR ---
[2025-06-18 13:07:28] ERROR    [agent_fsm:1101] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:07:28] ERROR    [agent_fsm:1102] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:28] WARNING  [agent_fsm:1224] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:28] ERROR    [agent_fsm:1837] [cb8a0acc-ee5c-4f4e-bbe9-4d39f8f74c35] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:07:28] INFO     [agent_fsm:1752] [c934453f-7924-4f24-a43e-db02e5a76591] Starting resilient FSM execution
[2025-06-18 13:07:28] INFO     [agent_fsm:1807] [c934453f-7924-4f24-a43e-db02e5a76591] FSM STATE: INITIAL
[2025-06-18 13:07:28] INFO     [agent_fsm:665] [c934453f-7924-4f24-a43e-db02e5a76591] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:07:28] DEBUG    [agent_fsm:680] [c934453f-7924-4f24-a43e-db02e5a76591] Turn count: 1, Action history length: 1
[2025-06-18 13:07:31] WARNING  [agent_fsm:1521] [c934453f-7924-4f24-a43e-db02e5a76591] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:07:31] INFO     [agent_fsm:773] [c934453f-7924-4f24-a43e-db02e5a76591] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:07:31] INFO     [agent_fsm:820] [c934453f-7924-4f24-a43e-db02e5a76591] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 13:07:31] INFO     [agent_fsm:922] [c934453f-7924-4f24-a43e-db02e5a76591] Tool execution completed
[2025-06-18 13:07:31] INFO     [agent_fsm:773] [c934453f-7924-4f24-a43e-db02e5a76591] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:07:31] WARNING  [agent_fsm:803] [c934453f-7924-4f24-a43e-db02e5a76591] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:07:31] INFO     [agent_fsm:665] [c934453f-7924-4f24-a43e-db02e5a76591] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:07:31] DEBUG    [agent_fsm:680] [c934453f-7924-4f24-a43e-db02e5a76591] Turn count: 2, Action history length: 2
[2025-06-18 13:07:33] WARNING  [agent_fsm:1521] [c934453f-7924-4f24-a43e-db02e5a76591] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:07:33] WARNING  [agent_fsm:1521] [c934453f-7924-4f24-a43e-db02e5a76591] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:07:33] WARNING  [agent_fsm:1521] [c934453f-7924-4f24-a43e-db02e5a76591] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:07:33] WARNING  [agent_fsm:1521] [c934453f-7924-4f24-a43e-db02e5a76591] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 13:07:33] WARNING  [agent_fsm:1521] [c934453f-7924-4f24-a43e-db02e5a76591] Failed to parse JSON parameters for step 10, using fallback parser
[2025-06-18 13:07:33] WARNING  [agent_fsm:1521] [c934453f-7924-4f24-a43e-db02e5a76591] Failed to parse JSON parameters for step 13, using fallback parser
[2025-06-18 13:07:33] INFO     [agent_fsm:773] [c934453f-7924-4f24-a43e-db02e5a76591] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:07:33] INFO     [agent_fsm:820] [c934453f-7924-4f24-a43e-db02e5a76591] Executing tool: file_reader with input: {'filename': 'decoded_string.txt', 'lines': -1}
[2025-06-18 13:07:33] INFO     [agent_fsm:922] [c934453f-7924-4f24-a43e-db02e5a76591] Tool execution completed
[2025-06-18 13:07:33] INFO     [agent_fsm:773] [c934453f-7924-4f24-a43e-db02e5a76591] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:07:33] WARNING  [agent_fsm:803] [c934453f-7924-4f24-a43e-db02e5a76591] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:07:33] INFO     [agent_fsm:665] [c934453f-7924-4f24-a43e-db02e5a76591] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:07:33] DEBUG    [agent_fsm:680] [c934453f-7924-4f24-a43e-db02e5a76591] Turn count: 3, Action history length: 3
[2025-06-18 13:07:37] WARNING  [agent_fsm:1333] [c934453f-7924-4f24-a43e-db02e5a76591] Tool file_writer not found in registry, will use stub
[2025-06-18 13:07:37] WARNING  [agent_fsm:1224] [c934453f-7924-4f24-a43e-db02e5a76591] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:37] ERROR    [agent_fsm:1078] [c934453f-7924-4f24-a43e-db02e5a76591] --- FSM STATE: ERROR ---
[2025-06-18 13:07:37] ERROR    [agent_fsm:1101] [c934453f-7924-4f24-a43e-db02e5a76591] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:07:37] ERROR    [agent_fsm:1102] [c934453f-7924-4f24-a43e-db02e5a76591] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:37] WARNING  [agent_fsm:1224] [c934453f-7924-4f24-a43e-db02e5a76591] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:37] ERROR    [agent_fsm:1078] [c934453f-7924-4f24-a43e-db02e5a76591] --- FSM STATE: ERROR ---
[2025-06-18 13:07:37] ERROR    [agent_fsm:1101] [c934453f-7924-4f24-a43e-db02e5a76591] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:07:37] ERROR    [agent_fsm:1102] [c934453f-7924-4f24-a43e-db02e5a76591] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:37] WARNING  [agent_fsm:1224] [c934453f-7924-4f24-a43e-db02e5a76591] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:37] ERROR    [agent_fsm:1078] [c934453f-7924-4f24-a43e-db02e5a76591] --- FSM STATE: ERROR ---
[2025-06-18 13:07:37] ERROR    [agent_fsm:1101] [c934453f-7924-4f24-a43e-db02e5a76591] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:07:37] ERROR    [agent_fsm:1102] [c934453f-7924-4f24-a43e-db02e5a76591] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:37] WARNING  [agent_fsm:1224] [c934453f-7924-4f24-a43e-db02e5a76591] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:37] ERROR    [agent_fsm:1078] [c934453f-7924-4f24-a43e-db02e5a76591] --- FSM STATE: ERROR ---
[2025-06-18 13:07:37] ERROR    [agent_fsm:1101] [c934453f-7924-4f24-a43e-db02e5a76591] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:07:37] ERROR    [agent_fsm:1102] [c934453f-7924-4f24-a43e-db02e5a76591] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:37] WARNING  [agent_fsm:1224] [c934453f-7924-4f24-a43e-db02e5a76591] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:37] ERROR    [agent_fsm:1078] [c934453f-7924-4f24-a43e-db02e5a76591] --- FSM STATE: ERROR ---
[2025-06-18 13:07:37] ERROR    [agent_fsm:1101] [c934453f-7924-4f24-a43e-db02e5a76591] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:07:37] ERROR    [agent_fsm:1102] [c934453f-7924-4f24-a43e-db02e5a76591] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:37] WARNING  [agent_fsm:1224] [c934453f-7924-4f24-a43e-db02e5a76591] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:37] ERROR    [agent_fsm:1078] [c934453f-7924-4f24-a43e-db02e5a76591] --- FSM STATE: ERROR ---
[2025-06-18 13:07:37] ERROR    [agent_fsm:1101] [c934453f-7924-4f24-a43e-db02e5a76591] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:07:37] ERROR    [agent_fsm:1102] [c934453f-7924-4f24-a43e-db02e5a76591] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:37] WARNING  [agent_fsm:1224] [c934453f-7924-4f24-a43e-db02e5a76591] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:37] ERROR    [agent_fsm:1078] [c934453f-7924-4f24-a43e-db02e5a76591] --- FSM STATE: ERROR ---
[2025-06-18 13:07:37] ERROR    [agent_fsm:1101] [c934453f-7924-4f24-a43e-db02e5a76591] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:07:37] ERROR    [agent_fsm:1102] [c934453f-7924-4f24-a43e-db02e5a76591] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:37] WARNING  [agent_fsm:1224] [c934453f-7924-4f24-a43e-db02e5a76591] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:37] ERROR    [agent_fsm:1078] [c934453f-7924-4f24-a43e-db02e5a76591] --- FSM STATE: ERROR ---
[2025-06-18 13:07:37] ERROR    [agent_fsm:1101] [c934453f-7924-4f24-a43e-db02e5a76591] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:07:37] ERROR    [agent_fsm:1102] [c934453f-7924-4f24-a43e-db02e5a76591] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:37] WARNING  [agent_fsm:1224] [c934453f-7924-4f24-a43e-db02e5a76591] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:37] ERROR    [agent_fsm:1078] [c934453f-7924-4f24-a43e-db02e5a76591] --- FSM STATE: ERROR ---
[2025-06-18 13:07:37] ERROR    [agent_fsm:1101] [c934453f-7924-4f24-a43e-db02e5a76591] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:07:37] ERROR    [agent_fsm:1102] [c934453f-7924-4f24-a43e-db02e5a76591] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:37] WARNING  [agent_fsm:1224] [c934453f-7924-4f24-a43e-db02e5a76591] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:37] ERROR    [agent_fsm:1078] [c934453f-7924-4f24-a43e-db02e5a76591] --- FSM STATE: ERROR ---
[2025-06-18 13:07:37] ERROR    [agent_fsm:1101] [c934453f-7924-4f24-a43e-db02e5a76591] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:07:37] ERROR    [agent_fsm:1102] [c934453f-7924-4f24-a43e-db02e5a76591] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:37] WARNING  [agent_fsm:1224] [c934453f-7924-4f24-a43e-db02e5a76591] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:37] ERROR    [agent_fsm:1078] [c934453f-7924-4f24-a43e-db02e5a76591] --- FSM STATE: ERROR ---
[2025-06-18 13:07:37] ERROR    [agent_fsm:1101] [c934453f-7924-4f24-a43e-db02e5a76591] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:07:37] ERROR    [agent_fsm:1102] [c934453f-7924-4f24-a43e-db02e5a76591] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:37] WARNING  [agent_fsm:1224] [c934453f-7924-4f24-a43e-db02e5a76591] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:37] ERROR    [agent_fsm:1078] [c934453f-7924-4f24-a43e-db02e5a76591] --- FSM STATE: ERROR ---
[2025-06-18 13:07:37] ERROR    [agent_fsm:1101] [c934453f-7924-4f24-a43e-db02e5a76591] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:07:37] ERROR    [agent_fsm:1102] [c934453f-7924-4f24-a43e-db02e5a76591] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:37] WARNING  [agent_fsm:1224] [c934453f-7924-4f24-a43e-db02e5a76591] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:37] ERROR    [agent_fsm:1078] [c934453f-7924-4f24-a43e-db02e5a76591] --- FSM STATE: ERROR ---
[2025-06-18 13:07:37] ERROR    [agent_fsm:1101] [c934453f-7924-4f24-a43e-db02e5a76591] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:07:37] ERROR    [agent_fsm:1102] [c934453f-7924-4f24-a43e-db02e5a76591] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:37] WARNING  [agent_fsm:1224] [c934453f-7924-4f24-a43e-db02e5a76591] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:37] ERROR    [agent_fsm:1078] [c934453f-7924-4f24-a43e-db02e5a76591] --- FSM STATE: ERROR ---
[2025-06-18 13:07:37] ERROR    [agent_fsm:1101] [c934453f-7924-4f24-a43e-db02e5a76591] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:07:37] ERROR    [agent_fsm:1102] [c934453f-7924-4f24-a43e-db02e5a76591] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:37] WARNING  [agent_fsm:1224] [c934453f-7924-4f24-a43e-db02e5a76591] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:37] ERROR    [agent_fsm:1078] [c934453f-7924-4f24-a43e-db02e5a76591] --- FSM STATE: ERROR ---
[2025-06-18 13:07:37] ERROR    [agent_fsm:1101] [c934453f-7924-4f24-a43e-db02e5a76591] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:07:37] ERROR    [agent_fsm:1102] [c934453f-7924-4f24-a43e-db02e5a76591] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:37] WARNING  [agent_fsm:1224] [c934453f-7924-4f24-a43e-db02e5a76591] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:37] ERROR    [agent_fsm:1078] [c934453f-7924-4f24-a43e-db02e5a76591] --- FSM STATE: ERROR ---
[2025-06-18 13:07:37] ERROR    [agent_fsm:1101] [c934453f-7924-4f24-a43e-db02e5a76591] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:07:37] ERROR    [agent_fsm:1102] [c934453f-7924-4f24-a43e-db02e5a76591] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:37] WARNING  [agent_fsm:1224] [c934453f-7924-4f24-a43e-db02e5a76591] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:37] ERROR    [agent_fsm:1078] [c934453f-7924-4f24-a43e-db02e5a76591] --- FSM STATE: ERROR ---
[2025-06-18 13:07:37] ERROR    [agent_fsm:1101] [c934453f-7924-4f24-a43e-db02e5a76591] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:07:37] ERROR    [agent_fsm:1102] [c934453f-7924-4f24-a43e-db02e5a76591] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:37] WARNING  [agent_fsm:1224] [c934453f-7924-4f24-a43e-db02e5a76591] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:37] ERROR    [agent_fsm:1078] [c934453f-7924-4f24-a43e-db02e5a76591] --- FSM STATE: ERROR ---
[2025-06-18 13:07:37] ERROR    [agent_fsm:1101] [c934453f-7924-4f24-a43e-db02e5a76591] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:07:37] ERROR    [agent_fsm:1102] [c934453f-7924-4f24-a43e-db02e5a76591] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:37] WARNING  [agent_fsm:1224] [c934453f-7924-4f24-a43e-db02e5a76591] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:37] ERROR    [agent_fsm:1837] [c934453f-7924-4f24-a43e-db02e5a76591] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:07:37] INFO     [agent_fsm:1752] [4efbadac-0743-45c0-a48d-b3403fe684f2] Starting resilient FSM execution
[2025-06-18 13:07:37] INFO     [agent_fsm:1807] [4efbadac-0743-45c0-a48d-b3403fe684f2] FSM STATE: INITIAL
[2025-06-18 13:07:37] INFO     [agent_fsm:665] [4efbadac-0743-45c0-a48d-b3403fe684f2] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:07:37] DEBUG    [agent_fsm:680] [4efbadac-0743-45c0-a48d-b3403fe684f2] Turn count: 1, Action history length: 1
[2025-06-18 13:07:38] WARNING  [agent_fsm:1521] [4efbadac-0743-45c0-a48d-b3403fe684f2] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:07:38] WARNING  [agent_fsm:1521] [4efbadac-0743-45c0-a48d-b3403fe684f2] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:07:38] WARNING  [agent_fsm:1521] [4efbadac-0743-45c0-a48d-b3403fe684f2] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:07:38] WARNING  [agent_fsm:1521] [4efbadac-0743-45c0-a48d-b3403fe684f2] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 13:07:38] INFO     [agent_fsm:773] [4efbadac-0743-45c0-a48d-b3403fe684f2] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:07:38] INFO     [agent_fsm:820] [4efbadac-0743-45c0-a48d-b3403fe684f2] Executing tool: advanced_file_reader with input: {'filename': 'path/to/sales_data.xlsx'}
[2025-06-18 13:07:38] INFO     [agent_fsm:922] [4efbadac-0743-45c0-a48d-b3403fe684f2] Tool execution completed
[2025-06-18 13:07:38] INFO     [agent_fsm:773] [4efbadac-0743-45c0-a48d-b3403fe684f2] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:07:38] WARNING  [agent_fsm:803] [4efbadac-0743-45c0-a48d-b3403fe684f2] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:07:38] INFO     [agent_fsm:665] [4efbadac-0743-45c0-a48d-b3403fe684f2] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:07:38] DEBUG    [agent_fsm:680] [4efbadac-0743-45c0-a48d-b3403fe684f2] Turn count: 2, Action history length: 2
[2025-06-18 13:07:41] WARNING  [agent_fsm:1521] [4efbadac-0743-45c0-a48d-b3403fe684f2] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:07:41] WARNING  [agent_fsm:1521] [4efbadac-0743-45c0-a48d-b3403fe684f2] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:07:41] WARNING  [agent_fsm:1521] [4efbadac-0743-45c0-a48d-b3403fe684f2] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:07:41] WARNING  [agent_fsm:1521] [4efbadac-0743-45c0-a48d-b3403fe684f2] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 13:07:41] WARNING  [agent_fsm:1521] [4efbadac-0743-45c0-a48d-b3403fe684f2] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:07:41] WARNING  [agent_fsm:1521] [4efbadac-0743-45c0-a48d-b3403fe684f2] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:07:41] WARNING  [agent_fsm:1521] [4efbadac-0743-45c0-a48d-b3403fe684f2] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 13:07:41] WARNING  [agent_fsm:1521] [4efbadac-0743-45c0-a48d-b3403fe684f2] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:07:41] WARNING  [agent_fsm:1521] [4efbadac-0743-45c0-a48d-b3403fe684f2] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:07:41] WARNING  [agent_fsm:1521] [4efbadac-0743-45c0-a48d-b3403fe684f2] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 13:07:41] WARNING  [agent_fsm:1521] [4efbadac-0743-45c0-a48d-b3403fe684f2] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:07:41] WARNING  [agent_fsm:1521] [4efbadac-0743-45c0-a48d-b3403fe684f2] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:07:41] WARNING  [agent_fsm:1521] [4efbadac-0743-45c0-a48d-b3403fe684f2] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 13:07:41] WARNING  [agent_fsm:1521] [4efbadac-0743-45c0-a48d-b3403fe684f2] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:07:41] WARNING  [agent_fsm:1521] [4efbadac-0743-45c0-a48d-b3403fe684f2] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:07:41] WARNING  [agent_fsm:1521] [4efbadac-0743-45c0-a48d-b3403fe684f2] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 13:07:41] WARNING  [agent_fsm:1521] [4efbadac-0743-45c0-a48d-b3403fe684f2] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:07:41] INFO     [agent_fsm:773] [4efbadac-0743-45c0-a48d-b3403fe684f2] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:07:41] INFO     [agent_fsm:820] [4efbadac-0743-45c0-a48d-b3403fe684f2] Executing tool: advanced_file_reader with input: {'filename': 'path/to/file.xlsx'}
[2025-06-18 13:07:41] INFO     [agent_fsm:922] [4efbadac-0743-45c0-a48d-b3403fe684f2] Tool execution completed
[2025-06-18 13:07:41] INFO     [agent_fsm:773] [4efbadac-0743-45c0-a48d-b3403fe684f2] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:07:41] WARNING  [agent_fsm:803] [4efbadac-0743-45c0-a48d-b3403fe684f2] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:07:41] INFO     [agent_fsm:665] [4efbadac-0743-45c0-a48d-b3403fe684f2] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:07:41] DEBUG    [agent_fsm:680] [4efbadac-0743-45c0-a48d-b3403fe684f2] Turn count: 3, Action history length: 3
[2025-06-18 13:07:42] WARNING  [agent_fsm:1224] [4efbadac-0743-45c0-a48d-b3403fe684f2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:42] ERROR    [agent_fsm:1078] [4efbadac-0743-45c0-a48d-b3403fe684f2] --- FSM STATE: ERROR ---
[2025-06-18 13:07:42] ERROR    [agent_fsm:1101] [4efbadac-0743-45c0-a48d-b3403fe684f2] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:07:42] ERROR    [agent_fsm:1102] [4efbadac-0743-45c0-a48d-b3403fe684f2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:42] WARNING  [agent_fsm:1224] [4efbadac-0743-45c0-a48d-b3403fe684f2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:42] ERROR    [agent_fsm:1078] [4efbadac-0743-45c0-a48d-b3403fe684f2] --- FSM STATE: ERROR ---
[2025-06-18 13:07:42] ERROR    [agent_fsm:1101] [4efbadac-0743-45c0-a48d-b3403fe684f2] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:07:42] ERROR    [agent_fsm:1102] [4efbadac-0743-45c0-a48d-b3403fe684f2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:42] WARNING  [agent_fsm:1224] [4efbadac-0743-45c0-a48d-b3403fe684f2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:42] ERROR    [agent_fsm:1078] [4efbadac-0743-45c0-a48d-b3403fe684f2] --- FSM STATE: ERROR ---
[2025-06-18 13:07:42] ERROR    [agent_fsm:1101] [4efbadac-0743-45c0-a48d-b3403fe684f2] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:07:42] ERROR    [agent_fsm:1102] [4efbadac-0743-45c0-a48d-b3403fe684f2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:42] WARNING  [agent_fsm:1224] [4efbadac-0743-45c0-a48d-b3403fe684f2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:42] ERROR    [agent_fsm:1078] [4efbadac-0743-45c0-a48d-b3403fe684f2] --- FSM STATE: ERROR ---
[2025-06-18 13:07:42] ERROR    [agent_fsm:1101] [4efbadac-0743-45c0-a48d-b3403fe684f2] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:07:42] ERROR    [agent_fsm:1102] [4efbadac-0743-45c0-a48d-b3403fe684f2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:42] WARNING  [agent_fsm:1224] [4efbadac-0743-45c0-a48d-b3403fe684f2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:42] ERROR    [agent_fsm:1078] [4efbadac-0743-45c0-a48d-b3403fe684f2] --- FSM STATE: ERROR ---
[2025-06-18 13:07:42] ERROR    [agent_fsm:1101] [4efbadac-0743-45c0-a48d-b3403fe684f2] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:07:42] ERROR    [agent_fsm:1102] [4efbadac-0743-45c0-a48d-b3403fe684f2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:42] WARNING  [agent_fsm:1224] [4efbadac-0743-45c0-a48d-b3403fe684f2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:42] ERROR    [agent_fsm:1078] [4efbadac-0743-45c0-a48d-b3403fe684f2] --- FSM STATE: ERROR ---
[2025-06-18 13:07:42] ERROR    [agent_fsm:1101] [4efbadac-0743-45c0-a48d-b3403fe684f2] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:07:42] ERROR    [agent_fsm:1102] [4efbadac-0743-45c0-a48d-b3403fe684f2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:42] WARNING  [agent_fsm:1224] [4efbadac-0743-45c0-a48d-b3403fe684f2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:42] ERROR    [agent_fsm:1078] [4efbadac-0743-45c0-a48d-b3403fe684f2] --- FSM STATE: ERROR ---
[2025-06-18 13:07:42] ERROR    [agent_fsm:1101] [4efbadac-0743-45c0-a48d-b3403fe684f2] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:07:42] ERROR    [agent_fsm:1102] [4efbadac-0743-45c0-a48d-b3403fe684f2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:42] WARNING  [agent_fsm:1224] [4efbadac-0743-45c0-a48d-b3403fe684f2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:42] ERROR    [agent_fsm:1078] [4efbadac-0743-45c0-a48d-b3403fe684f2] --- FSM STATE: ERROR ---
[2025-06-18 13:07:42] ERROR    [agent_fsm:1101] [4efbadac-0743-45c0-a48d-b3403fe684f2] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:07:42] ERROR    [agent_fsm:1102] [4efbadac-0743-45c0-a48d-b3403fe684f2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:42] WARNING  [agent_fsm:1224] [4efbadac-0743-45c0-a48d-b3403fe684f2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:42] ERROR    [agent_fsm:1078] [4efbadac-0743-45c0-a48d-b3403fe684f2] --- FSM STATE: ERROR ---
[2025-06-18 13:07:42] ERROR    [agent_fsm:1101] [4efbadac-0743-45c0-a48d-b3403fe684f2] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:07:42] ERROR    [agent_fsm:1102] [4efbadac-0743-45c0-a48d-b3403fe684f2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:42] WARNING  [agent_fsm:1224] [4efbadac-0743-45c0-a48d-b3403fe684f2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:42] ERROR    [agent_fsm:1078] [4efbadac-0743-45c0-a48d-b3403fe684f2] --- FSM STATE: ERROR ---
[2025-06-18 13:07:42] ERROR    [agent_fsm:1101] [4efbadac-0743-45c0-a48d-b3403fe684f2] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:07:42] ERROR    [agent_fsm:1102] [4efbadac-0743-45c0-a48d-b3403fe684f2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:42] WARNING  [agent_fsm:1224] [4efbadac-0743-45c0-a48d-b3403fe684f2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:42] ERROR    [agent_fsm:1078] [4efbadac-0743-45c0-a48d-b3403fe684f2] --- FSM STATE: ERROR ---
[2025-06-18 13:07:42] ERROR    [agent_fsm:1101] [4efbadac-0743-45c0-a48d-b3403fe684f2] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:07:42] ERROR    [agent_fsm:1102] [4efbadac-0743-45c0-a48d-b3403fe684f2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:42] WARNING  [agent_fsm:1224] [4efbadac-0743-45c0-a48d-b3403fe684f2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:42] ERROR    [agent_fsm:1078] [4efbadac-0743-45c0-a48d-b3403fe684f2] --- FSM STATE: ERROR ---
[2025-06-18 13:07:42] ERROR    [agent_fsm:1101] [4efbadac-0743-45c0-a48d-b3403fe684f2] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:07:42] ERROR    [agent_fsm:1102] [4efbadac-0743-45c0-a48d-b3403fe684f2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:42] WARNING  [agent_fsm:1224] [4efbadac-0743-45c0-a48d-b3403fe684f2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:42] ERROR    [agent_fsm:1078] [4efbadac-0743-45c0-a48d-b3403fe684f2] --- FSM STATE: ERROR ---
[2025-06-18 13:07:42] ERROR    [agent_fsm:1101] [4efbadac-0743-45c0-a48d-b3403fe684f2] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:07:42] ERROR    [agent_fsm:1102] [4efbadac-0743-45c0-a48d-b3403fe684f2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:42] WARNING  [agent_fsm:1224] [4efbadac-0743-45c0-a48d-b3403fe684f2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:42] ERROR    [agent_fsm:1078] [4efbadac-0743-45c0-a48d-b3403fe684f2] --- FSM STATE: ERROR ---
[2025-06-18 13:07:42] ERROR    [agent_fsm:1101] [4efbadac-0743-45c0-a48d-b3403fe684f2] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:07:42] ERROR    [agent_fsm:1102] [4efbadac-0743-45c0-a48d-b3403fe684f2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:42] WARNING  [agent_fsm:1224] [4efbadac-0743-45c0-a48d-b3403fe684f2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:42] ERROR    [agent_fsm:1078] [4efbadac-0743-45c0-a48d-b3403fe684f2] --- FSM STATE: ERROR ---
[2025-06-18 13:07:42] ERROR    [agent_fsm:1101] [4efbadac-0743-45c0-a48d-b3403fe684f2] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:07:42] ERROR    [agent_fsm:1102] [4efbadac-0743-45c0-a48d-b3403fe684f2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:42] WARNING  [agent_fsm:1224] [4efbadac-0743-45c0-a48d-b3403fe684f2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:42] ERROR    [agent_fsm:1078] [4efbadac-0743-45c0-a48d-b3403fe684f2] --- FSM STATE: ERROR ---
[2025-06-18 13:07:42] ERROR    [agent_fsm:1101] [4efbadac-0743-45c0-a48d-b3403fe684f2] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:07:42] ERROR    [agent_fsm:1102] [4efbadac-0743-45c0-a48d-b3403fe684f2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:42] WARNING  [agent_fsm:1224] [4efbadac-0743-45c0-a48d-b3403fe684f2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:42] ERROR    [agent_fsm:1078] [4efbadac-0743-45c0-a48d-b3403fe684f2] --- FSM STATE: ERROR ---
[2025-06-18 13:07:42] ERROR    [agent_fsm:1101] [4efbadac-0743-45c0-a48d-b3403fe684f2] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:07:42] ERROR    [agent_fsm:1102] [4efbadac-0743-45c0-a48d-b3403fe684f2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:42] WARNING  [agent_fsm:1224] [4efbadac-0743-45c0-a48d-b3403fe684f2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:42] ERROR    [agent_fsm:1078] [4efbadac-0743-45c0-a48d-b3403fe684f2] --- FSM STATE: ERROR ---
[2025-06-18 13:07:42] ERROR    [agent_fsm:1101] [4efbadac-0743-45c0-a48d-b3403fe684f2] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:07:42] ERROR    [agent_fsm:1102] [4efbadac-0743-45c0-a48d-b3403fe684f2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:42] WARNING  [agent_fsm:1224] [4efbadac-0743-45c0-a48d-b3403fe684f2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:42] ERROR    [agent_fsm:1837] [4efbadac-0743-45c0-a48d-b3403fe684f2] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:07:42] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 13:07:42] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 13:07:42] INFO     [agent_fsm:570] [289e5e79-470e-4477-824c-e0fc7bb41ee1] Building resilient FSM graph
[2025-06-18 13:07:42] INFO     [agent_fsm:572] [289e5e79-470e-4477-824c-e0fc7bb41ee1] FSMReActAgent graph built successfully
[2025-06-18 13:07:42] INFO     [agent_fsm:1752] [aa8bec20-a484-42a4-8b74-29dcc7564b0a] Starting resilient FSM execution
[2025-06-18 13:07:42] WARNING  [agent_fsm:1759] [aa8bec20-a484-42a4-8b74-29dcc7564b0a] FSM agent rejecting invalid input: '{{' - 1 validation error for ValidatedQuery
query
  Value error, Invalid placeholder query received: '{{' [type=value_error, input_value='{{', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/value_error
[2025-06-18 13:07:42] INFO     [agent_fsm:1752] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Starting resilient FSM execution
[2025-06-18 13:07:42] INFO     [agent_fsm:1807] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] FSM STATE: INITIAL
[2025-06-18 13:07:42] INFO     [agent_fsm:665] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:07:42] DEBUG    [agent_fsm:680] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Turn count: 1, Action history length: 1
[2025-06-18 13:07:43] WARNING  [agent_fsm:1521] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:07:43] INFO     [agent_fsm:773] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:07:43] INFO     [agent_fsm:820] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 13:07:43] INFO     [agent_fsm:922] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Tool execution completed
[2025-06-18 13:07:43] INFO     [agent_fsm:773] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:07:43] WARNING  [agent_fsm:803] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:07:43] INFO     [agent_fsm:665] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:07:43] DEBUG    [agent_fsm:680] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Turn count: 2, Action history length: 2
[2025-06-18 13:07:44] INFO     [agent_fsm:773] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:07:44] INFO     [agent_fsm:820] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Executing tool: semantic_search_tool with input: {'query': 'result of 2 + 2', 'filename': 'knowledge_base.csv', 'top_k': 3}
[2025-06-18 13:07:44] INFO     [agent_fsm:922] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Tool execution completed
[2025-06-18 13:07:44] INFO     [agent_fsm:773] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:07:44] WARNING  [agent_fsm:803] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:07:44] INFO     [agent_fsm:665] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:07:44] DEBUG    [agent_fsm:680] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Turn count: 3, Action history length: 3
[2025-06-18 13:07:45] WARNING  [agent_fsm:1224] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:45] ERROR    [agent_fsm:1078] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] --- FSM STATE: ERROR ---
[2025-06-18 13:07:45] ERROR    [agent_fsm:1101] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:07:45] ERROR    [agent_fsm:1102] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:45] WARNING  [agent_fsm:1224] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:45] ERROR    [agent_fsm:1078] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] --- FSM STATE: ERROR ---
[2025-06-18 13:07:45] ERROR    [agent_fsm:1101] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:07:45] ERROR    [agent_fsm:1102] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:45] WARNING  [agent_fsm:1224] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:45] ERROR    [agent_fsm:1078] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] --- FSM STATE: ERROR ---
[2025-06-18 13:07:45] ERROR    [agent_fsm:1101] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:07:45] ERROR    [agent_fsm:1102] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:45] WARNING  [agent_fsm:1224] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:45] ERROR    [agent_fsm:1078] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] --- FSM STATE: ERROR ---
[2025-06-18 13:07:45] ERROR    [agent_fsm:1101] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:07:45] ERROR    [agent_fsm:1102] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:45] WARNING  [agent_fsm:1224] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:45] ERROR    [agent_fsm:1078] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] --- FSM STATE: ERROR ---
[2025-06-18 13:07:45] ERROR    [agent_fsm:1101] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:07:45] ERROR    [agent_fsm:1102] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:45] WARNING  [agent_fsm:1224] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:45] ERROR    [agent_fsm:1078] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] --- FSM STATE: ERROR ---
[2025-06-18 13:07:45] ERROR    [agent_fsm:1101] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:07:45] ERROR    [agent_fsm:1102] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:45] WARNING  [agent_fsm:1224] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:45] ERROR    [agent_fsm:1078] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] --- FSM STATE: ERROR ---
[2025-06-18 13:07:45] ERROR    [agent_fsm:1101] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:07:45] ERROR    [agent_fsm:1102] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:45] WARNING  [agent_fsm:1224] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:45] ERROR    [agent_fsm:1078] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] --- FSM STATE: ERROR ---
[2025-06-18 13:07:45] ERROR    [agent_fsm:1101] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:07:45] ERROR    [agent_fsm:1102] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:45] WARNING  [agent_fsm:1224] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:45] ERROR    [agent_fsm:1078] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] --- FSM STATE: ERROR ---
[2025-06-18 13:07:45] ERROR    [agent_fsm:1101] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:07:45] ERROR    [agent_fsm:1102] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:45] WARNING  [agent_fsm:1224] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:45] ERROR    [agent_fsm:1078] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] --- FSM STATE: ERROR ---
[2025-06-18 13:07:45] ERROR    [agent_fsm:1101] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:07:45] ERROR    [agent_fsm:1102] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:45] WARNING  [agent_fsm:1224] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:45] ERROR    [agent_fsm:1078] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] --- FSM STATE: ERROR ---
[2025-06-18 13:07:45] ERROR    [agent_fsm:1101] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:07:45] ERROR    [agent_fsm:1102] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:45] WARNING  [agent_fsm:1224] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:45] ERROR    [agent_fsm:1078] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] --- FSM STATE: ERROR ---
[2025-06-18 13:07:45] ERROR    [agent_fsm:1101] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:07:45] ERROR    [agent_fsm:1102] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:45] WARNING  [agent_fsm:1224] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:45] ERROR    [agent_fsm:1078] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] --- FSM STATE: ERROR ---
[2025-06-18 13:07:45] ERROR    [agent_fsm:1101] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:07:45] ERROR    [agent_fsm:1102] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:45] WARNING  [agent_fsm:1224] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:45] ERROR    [agent_fsm:1078] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] --- FSM STATE: ERROR ---
[2025-06-18 13:07:45] ERROR    [agent_fsm:1101] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:07:45] ERROR    [agent_fsm:1102] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:45] WARNING  [agent_fsm:1224] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:45] ERROR    [agent_fsm:1078] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] --- FSM STATE: ERROR ---
[2025-06-18 13:07:45] ERROR    [agent_fsm:1101] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:07:45] ERROR    [agent_fsm:1102] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:45] WARNING  [agent_fsm:1224] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:45] ERROR    [agent_fsm:1078] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] --- FSM STATE: ERROR ---
[2025-06-18 13:07:45] ERROR    [agent_fsm:1101] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:07:45] ERROR    [agent_fsm:1102] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:45] WARNING  [agent_fsm:1224] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:45] ERROR    [agent_fsm:1078] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] --- FSM STATE: ERROR ---
[2025-06-18 13:07:45] ERROR    [agent_fsm:1101] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:07:45] ERROR    [agent_fsm:1102] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:45] WARNING  [agent_fsm:1224] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:45] ERROR    [agent_fsm:1078] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] --- FSM STATE: ERROR ---
[2025-06-18 13:07:45] ERROR    [agent_fsm:1101] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:07:45] ERROR    [agent_fsm:1102] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Errors: ['Duplicate tool call detected']
[2025-06-18 13:07:45] WARNING  [agent_fsm:1224] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] Direct loop detected - same action repeated 3 times
[2025-06-18 13:07:45] ERROR    [agent_fsm:1837] [6843c6ff-81ae-4ebf-a4dd-f83c01366d92] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:07:45] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 13:07:45] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 13:07:45] INFO     [agent_fsm:570] [e71ab310-5784-48aa-8fb1-3e7e246374ea] Building resilient FSM graph
[2025-06-18 13:07:45] INFO     [agent_fsm:572] [e71ab310-5784-48aa-8fb1-3e7e246374ea] FSMReActAgent graph built successfully
[2025-06-18 13:09:46] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 13:09:46] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 13:09:46] INFO     [agent_fsm:570] [a46a9760-8697-40fd-bac4-3151f0a132d5] Building resilient FSM graph
[2025-06-18 13:09:46] INFO     [agent_fsm:572] [a46a9760-8697-40fd-bac4-3151f0a132d5] FSMReActAgent graph built successfully
[2025-06-18 13:09:46] INFO     [agent_fsm:1752] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Starting resilient FSM execution
[2025-06-18 13:09:46] INFO     [agent_fsm:1807] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] FSM STATE: INITIAL
[2025-06-18 13:09:46] INFO     [agent_fsm:665] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:09:46] DEBUG    [agent_fsm:680] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Turn count: 1, Action history length: 1
[2025-06-18 13:09:48] WARNING  [agent_fsm:1333] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Tool image_analyzer not found in registry, will use stub
[2025-06-18 13:09:48] INFO     [agent_fsm:773] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:09:48] INFO     [agent_fsm:820] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Executing tool: web_researcher with input: {'query': 'capital of France', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 13:09:48] INFO     [agent_fsm:922] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Tool execution completed
[2025-06-18 13:09:48] INFO     [agent_fsm:773] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:09:48] WARNING  [agent_fsm:803] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:09:48] INFO     [agent_fsm:665] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:09:48] DEBUG    [agent_fsm:680] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Turn count: 2, Action history length: 2
[2025-06-18 13:09:49] WARNING  [agent_fsm:1521] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:09:49] INFO     [agent_fsm:773] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:09:49] WARNING  [agent_fsm:803] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:09:49] INFO     [agent_fsm:665] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] --- FSM STATE: PLANNING (Step 3) ---
[2025-06-18 13:09:49] DEBUG    [agent_fsm:680] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Turn count: 3, Action history length: 3
[2025-06-18 13:09:50] WARNING  [agent_fsm:1521] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:09:50] WARNING  [agent_fsm:1521] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:09:50] WARNING  [agent_fsm:1224] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:50] ERROR    [agent_fsm:1078] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] --- FSM STATE: ERROR ---
[2025-06-18 13:09:50] ERROR    [agent_fsm:1101] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:09:50] ERROR    [agent_fsm:1102] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:50] WARNING  [agent_fsm:1224] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:50] ERROR    [agent_fsm:1078] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] --- FSM STATE: ERROR ---
[2025-06-18 13:09:50] ERROR    [agent_fsm:1101] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:09:50] ERROR    [agent_fsm:1102] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:50] WARNING  [agent_fsm:1224] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:50] ERROR    [agent_fsm:1078] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] --- FSM STATE: ERROR ---
[2025-06-18 13:09:50] ERROR    [agent_fsm:1101] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:09:50] ERROR    [agent_fsm:1102] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:50] WARNING  [agent_fsm:1224] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:50] ERROR    [agent_fsm:1078] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] --- FSM STATE: ERROR ---
[2025-06-18 13:09:50] ERROR    [agent_fsm:1101] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:09:50] ERROR    [agent_fsm:1102] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:50] WARNING  [agent_fsm:1224] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:50] ERROR    [agent_fsm:1078] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] --- FSM STATE: ERROR ---
[2025-06-18 13:09:50] ERROR    [agent_fsm:1101] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:09:50] ERROR    [agent_fsm:1102] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:50] WARNING  [agent_fsm:1224] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:50] ERROR    [agent_fsm:1078] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] --- FSM STATE: ERROR ---
[2025-06-18 13:09:50] ERROR    [agent_fsm:1101] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:09:50] ERROR    [agent_fsm:1102] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:50] WARNING  [agent_fsm:1224] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:50] ERROR    [agent_fsm:1078] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] --- FSM STATE: ERROR ---
[2025-06-18 13:09:50] ERROR    [agent_fsm:1101] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:09:50] ERROR    [agent_fsm:1102] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:50] WARNING  [agent_fsm:1224] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:50] ERROR    [agent_fsm:1078] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] --- FSM STATE: ERROR ---
[2025-06-18 13:09:50] ERROR    [agent_fsm:1101] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:09:50] ERROR    [agent_fsm:1102] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:50] WARNING  [agent_fsm:1224] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:50] ERROR    [agent_fsm:1078] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] --- FSM STATE: ERROR ---
[2025-06-18 13:09:50] ERROR    [agent_fsm:1101] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:09:50] ERROR    [agent_fsm:1102] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:50] WARNING  [agent_fsm:1224] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:50] ERROR    [agent_fsm:1078] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] --- FSM STATE: ERROR ---
[2025-06-18 13:09:50] ERROR    [agent_fsm:1101] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:09:50] ERROR    [agent_fsm:1102] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:50] WARNING  [agent_fsm:1224] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:50] ERROR    [agent_fsm:1078] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] --- FSM STATE: ERROR ---
[2025-06-18 13:09:50] ERROR    [agent_fsm:1101] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:09:50] ERROR    [agent_fsm:1102] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:50] WARNING  [agent_fsm:1224] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:50] ERROR    [agent_fsm:1078] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] --- FSM STATE: ERROR ---
[2025-06-18 13:09:50] ERROR    [agent_fsm:1101] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:09:50] ERROR    [agent_fsm:1102] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:50] WARNING  [agent_fsm:1224] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:50] ERROR    [agent_fsm:1078] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] --- FSM STATE: ERROR ---
[2025-06-18 13:09:50] ERROR    [agent_fsm:1101] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:09:50] ERROR    [agent_fsm:1102] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:50] WARNING  [agent_fsm:1224] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:50] ERROR    [agent_fsm:1078] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] --- FSM STATE: ERROR ---
[2025-06-18 13:09:50] ERROR    [agent_fsm:1101] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:09:50] ERROR    [agent_fsm:1102] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:50] WARNING  [agent_fsm:1224] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:50] ERROR    [agent_fsm:1078] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] --- FSM STATE: ERROR ---
[2025-06-18 13:09:50] ERROR    [agent_fsm:1101] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:09:50] ERROR    [agent_fsm:1102] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:50] WARNING  [agent_fsm:1224] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:50] ERROR    [agent_fsm:1078] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] --- FSM STATE: ERROR ---
[2025-06-18 13:09:50] ERROR    [agent_fsm:1101] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:09:50] ERROR    [agent_fsm:1102] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:50] WARNING  [agent_fsm:1224] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:50] ERROR    [agent_fsm:1078] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] --- FSM STATE: ERROR ---
[2025-06-18 13:09:50] ERROR    [agent_fsm:1101] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:09:50] ERROR    [agent_fsm:1102] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:50] WARNING  [agent_fsm:1224] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:50] ERROR    [agent_fsm:1078] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] --- FSM STATE: ERROR ---
[2025-06-18 13:09:50] ERROR    [agent_fsm:1101] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:09:50] ERROR    [agent_fsm:1102] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:50] WARNING  [agent_fsm:1224] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:50] ERROR    [agent_fsm:1078] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] --- FSM STATE: ERROR ---
[2025-06-18 13:09:50] ERROR    [agent_fsm:1101] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Error category: GENERAL, Occurrences: 19
[2025-06-18 13:09:50] ERROR    [agent_fsm:1102] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:50] WARNING  [agent_fsm:1224] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:50] ERROR    [agent_fsm:1837] [7ddf7add-a5c9-4840-ba7e-fd750ef52afa] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:09:50] INFO     [agent_fsm:1752] [4468ada6-0d49-47a9-b480-7f2d7a756167] Starting resilient FSM execution
[2025-06-18 13:09:50] INFO     [agent_fsm:1807] [4468ada6-0d49-47a9-b480-7f2d7a756167] FSM STATE: INITIAL
[2025-06-18 13:09:50] INFO     [agent_fsm:665] [4468ada6-0d49-47a9-b480-7f2d7a756167] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:09:50] DEBUG    [agent_fsm:680] [4468ada6-0d49-47a9-b480-7f2d7a756167] Turn count: 1, Action history length: 1
[2025-06-18 13:09:51] INFO     [agent_fsm:773] [4468ada6-0d49-47a9-b480-7f2d7a756167] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:09:51] INFO     [agent_fsm:820] [4468ada6-0d49-47a9-b480-7f2d7a756167] Executing tool: web_researcher with input: {'query': 'definition of a leap year', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 13:09:51] INFO     [agent_fsm:922] [4468ada6-0d49-47a9-b480-7f2d7a756167] Tool execution completed
[2025-06-18 13:09:51] INFO     [agent_fsm:773] [4468ada6-0d49-47a9-b480-7f2d7a756167] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:09:51] WARNING  [agent_fsm:803] [4468ada6-0d49-47a9-b480-7f2d7a756167] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:09:51] INFO     [agent_fsm:665] [4468ada6-0d49-47a9-b480-7f2d7a756167] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:09:51] DEBUG    [agent_fsm:680] [4468ada6-0d49-47a9-b480-7f2d7a756167] Turn count: 2, Action history length: 2
[2025-06-18 13:09:52] WARNING  [agent_fsm:1521] [4468ada6-0d49-47a9-b480-7f2d7a756167] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:09:52] INFO     [agent_fsm:773] [4468ada6-0d49-47a9-b480-7f2d7a756167] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:09:52] INFO     [agent_fsm:820] [4468ada6-0d49-47a9-b480-7f2d7a756167] Executing tool: semantic_search_tool with input: {'query': 'characteristics of a leap year', 'filename': 'knowledge_base.csv', 'top_k': 3}
[2025-06-18 13:09:52] INFO     [agent_fsm:922] [4468ada6-0d49-47a9-b480-7f2d7a756167] Tool execution completed
[2025-06-18 13:09:52] INFO     [agent_fsm:773] [4468ada6-0d49-47a9-b480-7f2d7a756167] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:09:52] WARNING  [agent_fsm:803] [4468ada6-0d49-47a9-b480-7f2d7a756167] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:09:52] INFO     [agent_fsm:665] [4468ada6-0d49-47a9-b480-7f2d7a756167] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:09:52] DEBUG    [agent_fsm:680] [4468ada6-0d49-47a9-b480-7f2d7a756167] Turn count: 3, Action history length: 3
[2025-06-18 13:09:52] WARNING  [agent_fsm:1224] [4468ada6-0d49-47a9-b480-7f2d7a756167] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:52] ERROR    [agent_fsm:1078] [4468ada6-0d49-47a9-b480-7f2d7a756167] --- FSM STATE: ERROR ---
[2025-06-18 13:09:52] ERROR    [agent_fsm:1101] [4468ada6-0d49-47a9-b480-7f2d7a756167] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:09:52] ERROR    [agent_fsm:1102] [4468ada6-0d49-47a9-b480-7f2d7a756167] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:52] WARNING  [agent_fsm:1224] [4468ada6-0d49-47a9-b480-7f2d7a756167] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:52] ERROR    [agent_fsm:1078] [4468ada6-0d49-47a9-b480-7f2d7a756167] --- FSM STATE: ERROR ---
[2025-06-18 13:09:52] ERROR    [agent_fsm:1101] [4468ada6-0d49-47a9-b480-7f2d7a756167] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:09:52] ERROR    [agent_fsm:1102] [4468ada6-0d49-47a9-b480-7f2d7a756167] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:52] WARNING  [agent_fsm:1224] [4468ada6-0d49-47a9-b480-7f2d7a756167] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:52] ERROR    [agent_fsm:1078] [4468ada6-0d49-47a9-b480-7f2d7a756167] --- FSM STATE: ERROR ---
[2025-06-18 13:09:52] ERROR    [agent_fsm:1101] [4468ada6-0d49-47a9-b480-7f2d7a756167] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:09:52] ERROR    [agent_fsm:1102] [4468ada6-0d49-47a9-b480-7f2d7a756167] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:52] WARNING  [agent_fsm:1224] [4468ada6-0d49-47a9-b480-7f2d7a756167] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:52] ERROR    [agent_fsm:1078] [4468ada6-0d49-47a9-b480-7f2d7a756167] --- FSM STATE: ERROR ---
[2025-06-18 13:09:52] ERROR    [agent_fsm:1101] [4468ada6-0d49-47a9-b480-7f2d7a756167] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:09:52] ERROR    [agent_fsm:1102] [4468ada6-0d49-47a9-b480-7f2d7a756167] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:52] WARNING  [agent_fsm:1224] [4468ada6-0d49-47a9-b480-7f2d7a756167] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:52] ERROR    [agent_fsm:1078] [4468ada6-0d49-47a9-b480-7f2d7a756167] --- FSM STATE: ERROR ---
[2025-06-18 13:09:52] ERROR    [agent_fsm:1101] [4468ada6-0d49-47a9-b480-7f2d7a756167] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:09:52] ERROR    [agent_fsm:1102] [4468ada6-0d49-47a9-b480-7f2d7a756167] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:52] WARNING  [agent_fsm:1224] [4468ada6-0d49-47a9-b480-7f2d7a756167] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:52] ERROR    [agent_fsm:1078] [4468ada6-0d49-47a9-b480-7f2d7a756167] --- FSM STATE: ERROR ---
[2025-06-18 13:09:52] ERROR    [agent_fsm:1101] [4468ada6-0d49-47a9-b480-7f2d7a756167] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:09:52] ERROR    [agent_fsm:1102] [4468ada6-0d49-47a9-b480-7f2d7a756167] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:52] WARNING  [agent_fsm:1224] [4468ada6-0d49-47a9-b480-7f2d7a756167] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:52] ERROR    [agent_fsm:1078] [4468ada6-0d49-47a9-b480-7f2d7a756167] --- FSM STATE: ERROR ---
[2025-06-18 13:09:52] ERROR    [agent_fsm:1101] [4468ada6-0d49-47a9-b480-7f2d7a756167] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:09:52] ERROR    [agent_fsm:1102] [4468ada6-0d49-47a9-b480-7f2d7a756167] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:52] WARNING  [agent_fsm:1224] [4468ada6-0d49-47a9-b480-7f2d7a756167] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:52] ERROR    [agent_fsm:1078] [4468ada6-0d49-47a9-b480-7f2d7a756167] --- FSM STATE: ERROR ---
[2025-06-18 13:09:52] ERROR    [agent_fsm:1101] [4468ada6-0d49-47a9-b480-7f2d7a756167] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:09:52] ERROR    [agent_fsm:1102] [4468ada6-0d49-47a9-b480-7f2d7a756167] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:52] WARNING  [agent_fsm:1224] [4468ada6-0d49-47a9-b480-7f2d7a756167] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:52] ERROR    [agent_fsm:1078] [4468ada6-0d49-47a9-b480-7f2d7a756167] --- FSM STATE: ERROR ---
[2025-06-18 13:09:52] ERROR    [agent_fsm:1101] [4468ada6-0d49-47a9-b480-7f2d7a756167] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:09:52] ERROR    [agent_fsm:1102] [4468ada6-0d49-47a9-b480-7f2d7a756167] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:52] WARNING  [agent_fsm:1224] [4468ada6-0d49-47a9-b480-7f2d7a756167] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:52] ERROR    [agent_fsm:1078] [4468ada6-0d49-47a9-b480-7f2d7a756167] --- FSM STATE: ERROR ---
[2025-06-18 13:09:52] ERROR    [agent_fsm:1101] [4468ada6-0d49-47a9-b480-7f2d7a756167] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:09:52] ERROR    [agent_fsm:1102] [4468ada6-0d49-47a9-b480-7f2d7a756167] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:52] WARNING  [agent_fsm:1224] [4468ada6-0d49-47a9-b480-7f2d7a756167] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:52] ERROR    [agent_fsm:1078] [4468ada6-0d49-47a9-b480-7f2d7a756167] --- FSM STATE: ERROR ---
[2025-06-18 13:09:52] ERROR    [agent_fsm:1101] [4468ada6-0d49-47a9-b480-7f2d7a756167] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:09:52] ERROR    [agent_fsm:1102] [4468ada6-0d49-47a9-b480-7f2d7a756167] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:52] WARNING  [agent_fsm:1224] [4468ada6-0d49-47a9-b480-7f2d7a756167] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:52] ERROR    [agent_fsm:1078] [4468ada6-0d49-47a9-b480-7f2d7a756167] --- FSM STATE: ERROR ---
[2025-06-18 13:09:52] ERROR    [agent_fsm:1101] [4468ada6-0d49-47a9-b480-7f2d7a756167] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:09:52] ERROR    [agent_fsm:1102] [4468ada6-0d49-47a9-b480-7f2d7a756167] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:52] WARNING  [agent_fsm:1224] [4468ada6-0d49-47a9-b480-7f2d7a756167] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:52] ERROR    [agent_fsm:1078] [4468ada6-0d49-47a9-b480-7f2d7a756167] --- FSM STATE: ERROR ---
[2025-06-18 13:09:52] ERROR    [agent_fsm:1101] [4468ada6-0d49-47a9-b480-7f2d7a756167] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:09:52] ERROR    [agent_fsm:1102] [4468ada6-0d49-47a9-b480-7f2d7a756167] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:52] WARNING  [agent_fsm:1224] [4468ada6-0d49-47a9-b480-7f2d7a756167] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:52] ERROR    [agent_fsm:1078] [4468ada6-0d49-47a9-b480-7f2d7a756167] --- FSM STATE: ERROR ---
[2025-06-18 13:09:52] ERROR    [agent_fsm:1101] [4468ada6-0d49-47a9-b480-7f2d7a756167] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:09:52] ERROR    [agent_fsm:1102] [4468ada6-0d49-47a9-b480-7f2d7a756167] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:52] WARNING  [agent_fsm:1224] [4468ada6-0d49-47a9-b480-7f2d7a756167] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:52] ERROR    [agent_fsm:1078] [4468ada6-0d49-47a9-b480-7f2d7a756167] --- FSM STATE: ERROR ---
[2025-06-18 13:09:52] ERROR    [agent_fsm:1101] [4468ada6-0d49-47a9-b480-7f2d7a756167] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:09:52] ERROR    [agent_fsm:1102] [4468ada6-0d49-47a9-b480-7f2d7a756167] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:52] WARNING  [agent_fsm:1224] [4468ada6-0d49-47a9-b480-7f2d7a756167] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:52] ERROR    [agent_fsm:1078] [4468ada6-0d49-47a9-b480-7f2d7a756167] --- FSM STATE: ERROR ---
[2025-06-18 13:09:52] ERROR    [agent_fsm:1101] [4468ada6-0d49-47a9-b480-7f2d7a756167] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:09:52] ERROR    [agent_fsm:1102] [4468ada6-0d49-47a9-b480-7f2d7a756167] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:52] WARNING  [agent_fsm:1224] [4468ada6-0d49-47a9-b480-7f2d7a756167] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:52] ERROR    [agent_fsm:1078] [4468ada6-0d49-47a9-b480-7f2d7a756167] --- FSM STATE: ERROR ---
[2025-06-18 13:09:52] ERROR    [agent_fsm:1101] [4468ada6-0d49-47a9-b480-7f2d7a756167] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:09:52] ERROR    [agent_fsm:1102] [4468ada6-0d49-47a9-b480-7f2d7a756167] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:52] WARNING  [agent_fsm:1224] [4468ada6-0d49-47a9-b480-7f2d7a756167] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:52] ERROR    [agent_fsm:1078] [4468ada6-0d49-47a9-b480-7f2d7a756167] --- FSM STATE: ERROR ---
[2025-06-18 13:09:52] ERROR    [agent_fsm:1101] [4468ada6-0d49-47a9-b480-7f2d7a756167] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:09:52] ERROR    [agent_fsm:1102] [4468ada6-0d49-47a9-b480-7f2d7a756167] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:52] WARNING  [agent_fsm:1224] [4468ada6-0d49-47a9-b480-7f2d7a756167] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:52] ERROR    [agent_fsm:1837] [4468ada6-0d49-47a9-b480-7f2d7a756167] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:09:52] INFO     [agent_fsm:1752] [42cbd66e-76a9-499e-82fb-841c054aac50] Starting resilient FSM execution
[2025-06-18 13:09:52] INFO     [agent_fsm:1807] [42cbd66e-76a9-499e-82fb-841c054aac50] FSM STATE: INITIAL
[2025-06-18 13:09:52] INFO     [agent_fsm:665] [42cbd66e-76a9-499e-82fb-841c054aac50] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:09:52] DEBUG    [agent_fsm:680] [42cbd66e-76a9-499e-82fb-841c054aac50] Turn count: 1, Action history length: 1
[2025-06-18 13:09:53] WARNING  [agent_fsm:1521] [42cbd66e-76a9-499e-82fb-841c054aac50] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:09:53] WARNING  [agent_fsm:1333] [42cbd66e-76a9-499e-82fb-841c054aac50] Tool None not found in registry, will use stub
[2025-06-18 13:09:53] INFO     [agent_fsm:773] [42cbd66e-76a9-499e-82fb-841c054aac50] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:09:53] INFO     [agent_fsm:820] [42cbd66e-76a9-499e-82fb-841c054aac50] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 13:09:53] INFO     [agent_fsm:922] [42cbd66e-76a9-499e-82fb-841c054aac50] Tool execution completed
[2025-06-18 13:09:53] INFO     [agent_fsm:773] [42cbd66e-76a9-499e-82fb-841c054aac50] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:09:53] WARNING  [agent_fsm:803] [42cbd66e-76a9-499e-82fb-841c054aac50] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:09:53] INFO     [agent_fsm:665] [42cbd66e-76a9-499e-82fb-841c054aac50] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:09:53] DEBUG    [agent_fsm:680] [42cbd66e-76a9-499e-82fb-841c054aac50] Turn count: 2, Action history length: 2
[2025-06-18 13:09:54] WARNING  [agent_fsm:1521] [42cbd66e-76a9-499e-82fb-841c054aac50] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:09:54] WARNING  [agent_fsm:1521] [42cbd66e-76a9-499e-82fb-841c054aac50] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:09:54] INFO     [agent_fsm:773] [42cbd66e-76a9-499e-82fb-841c054aac50] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:09:54] INFO     [agent_fsm:820] [42cbd66e-76a9-499e-82fb-841c054aac50] Executing tool: python_interpreter with input: {'code': 'import sys; print(sys.stdin.read())'}
[2025-06-18 13:09:54] INFO     [agent_fsm:922] [42cbd66e-76a9-499e-82fb-841c054aac50] Tool execution completed
[2025-06-18 13:09:54] INFO     [agent_fsm:773] [42cbd66e-76a9-499e-82fb-841c054aac50] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:09:54] WARNING  [agent_fsm:803] [42cbd66e-76a9-499e-82fb-841c054aac50] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:09:54] INFO     [agent_fsm:665] [42cbd66e-76a9-499e-82fb-841c054aac50] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:09:54] DEBUG    [agent_fsm:680] [42cbd66e-76a9-499e-82fb-841c054aac50] Turn count: 3, Action history length: 3
[2025-06-18 13:09:55] WARNING  [agent_fsm:1521] [42cbd66e-76a9-499e-82fb-841c054aac50] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:09:55] WARNING  [agent_fsm:1521] [42cbd66e-76a9-499e-82fb-841c054aac50] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 13:09:55] WARNING  [agent_fsm:1224] [42cbd66e-76a9-499e-82fb-841c054aac50] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:55] ERROR    [agent_fsm:1078] [42cbd66e-76a9-499e-82fb-841c054aac50] --- FSM STATE: ERROR ---
[2025-06-18 13:09:55] ERROR    [agent_fsm:1101] [42cbd66e-76a9-499e-82fb-841c054aac50] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:09:55] ERROR    [agent_fsm:1102] [42cbd66e-76a9-499e-82fb-841c054aac50] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:55] WARNING  [agent_fsm:1224] [42cbd66e-76a9-499e-82fb-841c054aac50] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:55] ERROR    [agent_fsm:1078] [42cbd66e-76a9-499e-82fb-841c054aac50] --- FSM STATE: ERROR ---
[2025-06-18 13:09:55] ERROR    [agent_fsm:1101] [42cbd66e-76a9-499e-82fb-841c054aac50] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:09:55] ERROR    [agent_fsm:1102] [42cbd66e-76a9-499e-82fb-841c054aac50] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:55] WARNING  [agent_fsm:1224] [42cbd66e-76a9-499e-82fb-841c054aac50] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:55] ERROR    [agent_fsm:1078] [42cbd66e-76a9-499e-82fb-841c054aac50] --- FSM STATE: ERROR ---
[2025-06-18 13:09:55] ERROR    [agent_fsm:1101] [42cbd66e-76a9-499e-82fb-841c054aac50] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:09:55] ERROR    [agent_fsm:1102] [42cbd66e-76a9-499e-82fb-841c054aac50] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:55] WARNING  [agent_fsm:1224] [42cbd66e-76a9-499e-82fb-841c054aac50] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:55] ERROR    [agent_fsm:1078] [42cbd66e-76a9-499e-82fb-841c054aac50] --- FSM STATE: ERROR ---
[2025-06-18 13:09:55] ERROR    [agent_fsm:1101] [42cbd66e-76a9-499e-82fb-841c054aac50] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:09:55] ERROR    [agent_fsm:1102] [42cbd66e-76a9-499e-82fb-841c054aac50] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:55] WARNING  [agent_fsm:1224] [42cbd66e-76a9-499e-82fb-841c054aac50] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:55] ERROR    [agent_fsm:1078] [42cbd66e-76a9-499e-82fb-841c054aac50] --- FSM STATE: ERROR ---
[2025-06-18 13:09:55] ERROR    [agent_fsm:1101] [42cbd66e-76a9-499e-82fb-841c054aac50] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:09:55] ERROR    [agent_fsm:1102] [42cbd66e-76a9-499e-82fb-841c054aac50] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:55] WARNING  [agent_fsm:1224] [42cbd66e-76a9-499e-82fb-841c054aac50] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:55] ERROR    [agent_fsm:1078] [42cbd66e-76a9-499e-82fb-841c054aac50] --- FSM STATE: ERROR ---
[2025-06-18 13:09:55] ERROR    [agent_fsm:1101] [42cbd66e-76a9-499e-82fb-841c054aac50] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:09:55] ERROR    [agent_fsm:1102] [42cbd66e-76a9-499e-82fb-841c054aac50] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:55] WARNING  [agent_fsm:1224] [42cbd66e-76a9-499e-82fb-841c054aac50] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:55] ERROR    [agent_fsm:1078] [42cbd66e-76a9-499e-82fb-841c054aac50] --- FSM STATE: ERROR ---
[2025-06-18 13:09:55] ERROR    [agent_fsm:1101] [42cbd66e-76a9-499e-82fb-841c054aac50] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:09:55] ERROR    [agent_fsm:1102] [42cbd66e-76a9-499e-82fb-841c054aac50] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:55] WARNING  [agent_fsm:1224] [42cbd66e-76a9-499e-82fb-841c054aac50] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:55] ERROR    [agent_fsm:1078] [42cbd66e-76a9-499e-82fb-841c054aac50] --- FSM STATE: ERROR ---
[2025-06-18 13:09:55] ERROR    [agent_fsm:1101] [42cbd66e-76a9-499e-82fb-841c054aac50] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:09:55] ERROR    [agent_fsm:1102] [42cbd66e-76a9-499e-82fb-841c054aac50] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:55] WARNING  [agent_fsm:1224] [42cbd66e-76a9-499e-82fb-841c054aac50] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:55] ERROR    [agent_fsm:1078] [42cbd66e-76a9-499e-82fb-841c054aac50] --- FSM STATE: ERROR ---
[2025-06-18 13:09:55] ERROR    [agent_fsm:1101] [42cbd66e-76a9-499e-82fb-841c054aac50] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:09:55] ERROR    [agent_fsm:1102] [42cbd66e-76a9-499e-82fb-841c054aac50] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:55] WARNING  [agent_fsm:1224] [42cbd66e-76a9-499e-82fb-841c054aac50] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:55] ERROR    [agent_fsm:1078] [42cbd66e-76a9-499e-82fb-841c054aac50] --- FSM STATE: ERROR ---
[2025-06-18 13:09:55] ERROR    [agent_fsm:1101] [42cbd66e-76a9-499e-82fb-841c054aac50] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:09:55] ERROR    [agent_fsm:1102] [42cbd66e-76a9-499e-82fb-841c054aac50] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:55] WARNING  [agent_fsm:1224] [42cbd66e-76a9-499e-82fb-841c054aac50] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:55] ERROR    [agent_fsm:1078] [42cbd66e-76a9-499e-82fb-841c054aac50] --- FSM STATE: ERROR ---
[2025-06-18 13:09:55] ERROR    [agent_fsm:1101] [42cbd66e-76a9-499e-82fb-841c054aac50] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:09:55] ERROR    [agent_fsm:1102] [42cbd66e-76a9-499e-82fb-841c054aac50] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:55] WARNING  [agent_fsm:1224] [42cbd66e-76a9-499e-82fb-841c054aac50] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:55] ERROR    [agent_fsm:1078] [42cbd66e-76a9-499e-82fb-841c054aac50] --- FSM STATE: ERROR ---
[2025-06-18 13:09:55] ERROR    [agent_fsm:1101] [42cbd66e-76a9-499e-82fb-841c054aac50] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:09:55] ERROR    [agent_fsm:1102] [42cbd66e-76a9-499e-82fb-841c054aac50] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:55] WARNING  [agent_fsm:1224] [42cbd66e-76a9-499e-82fb-841c054aac50] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:55] ERROR    [agent_fsm:1078] [42cbd66e-76a9-499e-82fb-841c054aac50] --- FSM STATE: ERROR ---
[2025-06-18 13:09:55] ERROR    [agent_fsm:1101] [42cbd66e-76a9-499e-82fb-841c054aac50] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:09:55] ERROR    [agent_fsm:1102] [42cbd66e-76a9-499e-82fb-841c054aac50] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:55] WARNING  [agent_fsm:1224] [42cbd66e-76a9-499e-82fb-841c054aac50] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:55] ERROR    [agent_fsm:1078] [42cbd66e-76a9-499e-82fb-841c054aac50] --- FSM STATE: ERROR ---
[2025-06-18 13:09:55] ERROR    [agent_fsm:1101] [42cbd66e-76a9-499e-82fb-841c054aac50] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:09:55] ERROR    [agent_fsm:1102] [42cbd66e-76a9-499e-82fb-841c054aac50] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:55] WARNING  [agent_fsm:1224] [42cbd66e-76a9-499e-82fb-841c054aac50] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:55] ERROR    [agent_fsm:1078] [42cbd66e-76a9-499e-82fb-841c054aac50] --- FSM STATE: ERROR ---
[2025-06-18 13:09:55] ERROR    [agent_fsm:1101] [42cbd66e-76a9-499e-82fb-841c054aac50] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:09:55] ERROR    [agent_fsm:1102] [42cbd66e-76a9-499e-82fb-841c054aac50] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:55] WARNING  [agent_fsm:1224] [42cbd66e-76a9-499e-82fb-841c054aac50] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:55] ERROR    [agent_fsm:1078] [42cbd66e-76a9-499e-82fb-841c054aac50] --- FSM STATE: ERROR ---
[2025-06-18 13:09:55] ERROR    [agent_fsm:1101] [42cbd66e-76a9-499e-82fb-841c054aac50] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:09:55] ERROR    [agent_fsm:1102] [42cbd66e-76a9-499e-82fb-841c054aac50] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:55] WARNING  [agent_fsm:1224] [42cbd66e-76a9-499e-82fb-841c054aac50] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:55] ERROR    [agent_fsm:1078] [42cbd66e-76a9-499e-82fb-841c054aac50] --- FSM STATE: ERROR ---
[2025-06-18 13:09:55] ERROR    [agent_fsm:1101] [42cbd66e-76a9-499e-82fb-841c054aac50] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:09:55] ERROR    [agent_fsm:1102] [42cbd66e-76a9-499e-82fb-841c054aac50] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:55] WARNING  [agent_fsm:1224] [42cbd66e-76a9-499e-82fb-841c054aac50] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:55] ERROR    [agent_fsm:1078] [42cbd66e-76a9-499e-82fb-841c054aac50] --- FSM STATE: ERROR ---
[2025-06-18 13:09:55] ERROR    [agent_fsm:1101] [42cbd66e-76a9-499e-82fb-841c054aac50] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:09:55] ERROR    [agent_fsm:1102] [42cbd66e-76a9-499e-82fb-841c054aac50] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:55] WARNING  [agent_fsm:1224] [42cbd66e-76a9-499e-82fb-841c054aac50] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:55] ERROR    [agent_fsm:1837] [42cbd66e-76a9-499e-82fb-841c054aac50] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:09:55] INFO     [agent_fsm:1752] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Starting resilient FSM execution
[2025-06-18 13:09:55] INFO     [agent_fsm:1807] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] FSM STATE: INITIAL
[2025-06-18 13:09:55] INFO     [agent_fsm:665] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:09:55] DEBUG    [agent_fsm:680] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Turn count: 1, Action history length: 1
[2025-06-18 13:09:56] WARNING  [agent_fsm:1521] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:09:56] WARNING  [agent_fsm:1521] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:09:56] WARNING  [agent_fsm:1521] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:09:56] INFO     [agent_fsm:773] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:09:56] INFO     [agent_fsm:820] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Executing tool: web_researcher with input: {'query': 'largest planet in our solar system', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 13:09:56] INFO     [agent_fsm:922] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Tool execution completed
[2025-06-18 13:09:56] INFO     [agent_fsm:773] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:09:56] WARNING  [agent_fsm:803] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:09:56] INFO     [agent_fsm:665] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:09:56] DEBUG    [agent_fsm:680] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Turn count: 2, Action history length: 2
[2025-06-18 13:09:57] WARNING  [agent_fsm:1521] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:09:57] WARNING  [agent_fsm:1521] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:09:57] WARNING  [agent_fsm:1521] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:09:57] INFO     [agent_fsm:773] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:09:57] INFO     [agent_fsm:820] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 13:09:57] INFO     [agent_fsm:922] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Tool execution completed
[2025-06-18 13:09:57] INFO     [agent_fsm:773] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:09:57] WARNING  [agent_fsm:803] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:09:57] INFO     [agent_fsm:665] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:09:57] DEBUG    [agent_fsm:680] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Turn count: 3, Action history length: 3
[2025-06-18 13:09:57] WARNING  [agent_fsm:1521] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:09:57] WARNING  [agent_fsm:1521] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:09:57] WARNING  [agent_fsm:1521] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:09:57] WARNING  [agent_fsm:1224] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:57] ERROR    [agent_fsm:1078] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] --- FSM STATE: ERROR ---
[2025-06-18 13:09:57] ERROR    [agent_fsm:1101] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:09:57] ERROR    [agent_fsm:1102] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:57] WARNING  [agent_fsm:1224] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:57] ERROR    [agent_fsm:1078] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] --- FSM STATE: ERROR ---
[2025-06-18 13:09:57] ERROR    [agent_fsm:1101] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:09:57] ERROR    [agent_fsm:1102] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:57] WARNING  [agent_fsm:1224] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:57] ERROR    [agent_fsm:1078] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] --- FSM STATE: ERROR ---
[2025-06-18 13:09:57] ERROR    [agent_fsm:1101] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:09:57] ERROR    [agent_fsm:1102] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:57] WARNING  [agent_fsm:1224] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:57] ERROR    [agent_fsm:1078] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] --- FSM STATE: ERROR ---
[2025-06-18 13:09:57] ERROR    [agent_fsm:1101] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:09:57] ERROR    [agent_fsm:1102] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:57] WARNING  [agent_fsm:1224] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:57] ERROR    [agent_fsm:1078] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] --- FSM STATE: ERROR ---
[2025-06-18 13:09:57] ERROR    [agent_fsm:1101] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:09:57] ERROR    [agent_fsm:1102] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:57] WARNING  [agent_fsm:1224] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:57] ERROR    [agent_fsm:1078] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] --- FSM STATE: ERROR ---
[2025-06-18 13:09:57] ERROR    [agent_fsm:1101] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:09:57] ERROR    [agent_fsm:1102] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:57] WARNING  [agent_fsm:1224] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:57] ERROR    [agent_fsm:1078] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] --- FSM STATE: ERROR ---
[2025-06-18 13:09:57] ERROR    [agent_fsm:1101] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:09:57] ERROR    [agent_fsm:1102] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:57] WARNING  [agent_fsm:1224] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:57] ERROR    [agent_fsm:1078] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] --- FSM STATE: ERROR ---
[2025-06-18 13:09:57] ERROR    [agent_fsm:1101] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:09:57] ERROR    [agent_fsm:1102] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:57] WARNING  [agent_fsm:1224] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:57] ERROR    [agent_fsm:1078] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] --- FSM STATE: ERROR ---
[2025-06-18 13:09:57] ERROR    [agent_fsm:1101] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:09:57] ERROR    [agent_fsm:1102] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:57] WARNING  [agent_fsm:1224] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:57] ERROR    [agent_fsm:1078] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] --- FSM STATE: ERROR ---
[2025-06-18 13:09:57] ERROR    [agent_fsm:1101] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:09:57] ERROR    [agent_fsm:1102] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:57] WARNING  [agent_fsm:1224] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:57] ERROR    [agent_fsm:1078] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] --- FSM STATE: ERROR ---
[2025-06-18 13:09:57] ERROR    [agent_fsm:1101] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:09:57] ERROR    [agent_fsm:1102] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:57] WARNING  [agent_fsm:1224] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:57] ERROR    [agent_fsm:1078] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] --- FSM STATE: ERROR ---
[2025-06-18 13:09:57] ERROR    [agent_fsm:1101] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:09:57] ERROR    [agent_fsm:1102] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:57] WARNING  [agent_fsm:1224] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:57] ERROR    [agent_fsm:1078] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] --- FSM STATE: ERROR ---
[2025-06-18 13:09:57] ERROR    [agent_fsm:1101] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:09:57] ERROR    [agent_fsm:1102] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:57] WARNING  [agent_fsm:1224] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:57] ERROR    [agent_fsm:1078] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] --- FSM STATE: ERROR ---
[2025-06-18 13:09:57] ERROR    [agent_fsm:1101] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:09:57] ERROR    [agent_fsm:1102] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:57] WARNING  [agent_fsm:1224] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:57] ERROR    [agent_fsm:1078] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] --- FSM STATE: ERROR ---
[2025-06-18 13:09:57] ERROR    [agent_fsm:1101] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:09:57] ERROR    [agent_fsm:1102] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:57] WARNING  [agent_fsm:1224] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:57] ERROR    [agent_fsm:1078] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] --- FSM STATE: ERROR ---
[2025-06-18 13:09:57] ERROR    [agent_fsm:1101] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:09:57] ERROR    [agent_fsm:1102] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:57] WARNING  [agent_fsm:1224] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:57] ERROR    [agent_fsm:1078] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] --- FSM STATE: ERROR ---
[2025-06-18 13:09:57] ERROR    [agent_fsm:1101] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:09:57] ERROR    [agent_fsm:1102] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:57] WARNING  [agent_fsm:1224] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:57] ERROR    [agent_fsm:1078] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] --- FSM STATE: ERROR ---
[2025-06-18 13:09:57] ERROR    [agent_fsm:1101] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:09:57] ERROR    [agent_fsm:1102] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Errors: ['Duplicate tool call detected']
[2025-06-18 13:09:57] WARNING  [agent_fsm:1224] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] Direct loop detected - same action repeated 3 times
[2025-06-18 13:09:57] ERROR    [agent_fsm:1837] [d47380de-d1b8-4e59-ae9f-5f7b824fd09e] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:09:57] INFO     [agent_fsm:1752] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Starting resilient FSM execution
[2025-06-18 13:09:57] INFO     [agent_fsm:1807] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] FSM STATE: INITIAL
[2025-06-18 13:09:57] INFO     [agent_fsm:665] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:09:57] DEBUG    [agent_fsm:680] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Turn count: 1, Action history length: 1
[2025-06-18 13:09:58] WARNING  [agent_fsm:1521] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:09:58] INFO     [agent_fsm:773] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:09:58] INFO     [agent_fsm:820] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Executing tool: web_researcher with input: {'query': 'extract video URL from googleusercontent.com/costa-rica/birds', 'date_range': None, 'search_type': 'general', 'source': 'search'}
[2025-06-18 13:09:58] INFO     [agent_fsm:922] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Tool execution completed
[2025-06-18 13:09:58] INFO     [agent_fsm:773] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:09:58] WARNING  [agent_fsm:803] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:09:58] INFO     [agent_fsm:665] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:09:58] DEBUG    [agent_fsm:680] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Turn count: 2, Action history length: 2
[2025-06-18 13:10:00] WARNING  [agent_fsm:1521] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:10:00] WARNING  [agent_fsm:1521] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 13:10:00] INFO     [agent_fsm:773] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:10:00] INFO     [agent_fsm:820] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Executing tool: web_researcher with input: {'query': 'video URL from googleusercontent.com/costa-rica/birds', 'date_range': None, 'search_type': 'general', 'source': 'search'}
[2025-06-18 13:10:00] INFO     [agent_fsm:922] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Tool execution completed
[2025-06-18 13:10:00] INFO     [agent_fsm:773] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:10:00] WARNING  [agent_fsm:803] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:10:00] INFO     [agent_fsm:665] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:10:00] DEBUG    [agent_fsm:680] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Turn count: 3, Action history length: 3
[2025-06-18 13:10:00] WARNING  [agent_fsm:1521] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:10:00] WARNING  [agent_fsm:1521] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:10:00] WARNING  [agent_fsm:1224] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:00] ERROR    [agent_fsm:1078] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] --- FSM STATE: ERROR ---
[2025-06-18 13:10:00] ERROR    [agent_fsm:1101] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:10:00] ERROR    [agent_fsm:1102] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:00] WARNING  [agent_fsm:1224] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:00] ERROR    [agent_fsm:1078] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] --- FSM STATE: ERROR ---
[2025-06-18 13:10:00] ERROR    [agent_fsm:1101] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:10:00] ERROR    [agent_fsm:1102] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:00] WARNING  [agent_fsm:1224] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:00] ERROR    [agent_fsm:1078] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] --- FSM STATE: ERROR ---
[2025-06-18 13:10:00] ERROR    [agent_fsm:1101] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:10:00] ERROR    [agent_fsm:1102] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:00] WARNING  [agent_fsm:1224] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:00] ERROR    [agent_fsm:1078] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] --- FSM STATE: ERROR ---
[2025-06-18 13:10:00] ERROR    [agent_fsm:1101] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:10:00] ERROR    [agent_fsm:1102] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:00] WARNING  [agent_fsm:1224] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:00] ERROR    [agent_fsm:1078] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] --- FSM STATE: ERROR ---
[2025-06-18 13:10:00] ERROR    [agent_fsm:1101] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:10:00] ERROR    [agent_fsm:1102] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:00] WARNING  [agent_fsm:1224] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:00] ERROR    [agent_fsm:1078] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] --- FSM STATE: ERROR ---
[2025-06-18 13:10:00] ERROR    [agent_fsm:1101] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:10:00] ERROR    [agent_fsm:1102] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:00] WARNING  [agent_fsm:1224] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:00] ERROR    [agent_fsm:1078] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] --- FSM STATE: ERROR ---
[2025-06-18 13:10:00] ERROR    [agent_fsm:1101] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:10:00] ERROR    [agent_fsm:1102] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:00] WARNING  [agent_fsm:1224] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:00] ERROR    [agent_fsm:1078] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] --- FSM STATE: ERROR ---
[2025-06-18 13:10:00] ERROR    [agent_fsm:1101] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:10:00] ERROR    [agent_fsm:1102] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:00] WARNING  [agent_fsm:1224] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:00] ERROR    [agent_fsm:1078] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] --- FSM STATE: ERROR ---
[2025-06-18 13:10:00] ERROR    [agent_fsm:1101] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:10:00] ERROR    [agent_fsm:1102] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:00] WARNING  [agent_fsm:1224] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:00] ERROR    [agent_fsm:1078] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] --- FSM STATE: ERROR ---
[2025-06-18 13:10:00] ERROR    [agent_fsm:1101] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:10:00] ERROR    [agent_fsm:1102] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:00] WARNING  [agent_fsm:1224] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:00] ERROR    [agent_fsm:1078] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] --- FSM STATE: ERROR ---
[2025-06-18 13:10:00] ERROR    [agent_fsm:1101] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:10:00] ERROR    [agent_fsm:1102] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:00] WARNING  [agent_fsm:1224] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:00] ERROR    [agent_fsm:1078] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] --- FSM STATE: ERROR ---
[2025-06-18 13:10:00] ERROR    [agent_fsm:1101] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:10:00] ERROR    [agent_fsm:1102] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:00] WARNING  [agent_fsm:1224] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:00] ERROR    [agent_fsm:1078] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] --- FSM STATE: ERROR ---
[2025-06-18 13:10:00] ERROR    [agent_fsm:1101] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:10:00] ERROR    [agent_fsm:1102] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:00] WARNING  [agent_fsm:1224] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:00] ERROR    [agent_fsm:1078] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] --- FSM STATE: ERROR ---
[2025-06-18 13:10:00] ERROR    [agent_fsm:1101] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:10:00] ERROR    [agent_fsm:1102] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:00] WARNING  [agent_fsm:1224] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:00] ERROR    [agent_fsm:1078] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] --- FSM STATE: ERROR ---
[2025-06-18 13:10:00] ERROR    [agent_fsm:1101] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:10:00] ERROR    [agent_fsm:1102] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:00] WARNING  [agent_fsm:1224] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:00] ERROR    [agent_fsm:1078] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] --- FSM STATE: ERROR ---
[2025-06-18 13:10:00] ERROR    [agent_fsm:1101] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:10:00] ERROR    [agent_fsm:1102] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:00] WARNING  [agent_fsm:1224] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:00] ERROR    [agent_fsm:1078] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] --- FSM STATE: ERROR ---
[2025-06-18 13:10:00] ERROR    [agent_fsm:1101] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:10:00] ERROR    [agent_fsm:1102] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:00] WARNING  [agent_fsm:1224] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:00] ERROR    [agent_fsm:1078] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] --- FSM STATE: ERROR ---
[2025-06-18 13:10:00] ERROR    [agent_fsm:1101] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:10:00] ERROR    [agent_fsm:1102] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:00] WARNING  [agent_fsm:1224] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:00] ERROR    [agent_fsm:1837] [791f0a49-3e6b-495a-9518-2ea61fc8ca85] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:10:00] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 13:10:00] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 13:10:00] INFO     [agent_fsm:570] [ff191b7c-aaba-4ed3-9fab-3d2479f5ab61] Building resilient FSM graph
[2025-06-18 13:10:00] INFO     [agent_fsm:572] [ff191b7c-aaba-4ed3-9fab-3d2479f5ab61] FSMReActAgent graph built successfully
[2025-06-18 13:10:00] INFO     [agent_fsm:1752] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Starting resilient FSM execution
[2025-06-18 13:10:00] INFO     [agent_fsm:1807] [d8c1b5d7-65a0-47bb-bade-0a636b148132] FSM STATE: INITIAL
[2025-06-18 13:10:00] INFO     [agent_fsm:665] [d8c1b5d7-65a0-47bb-bade-0a636b148132] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:10:00] DEBUG    [agent_fsm:680] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Turn count: 1, Action history length: 1
[2025-06-18 13:10:01] WARNING  [agent_fsm:1521] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:10:01] INFO     [agent_fsm:773] [d8c1b5d7-65a0-47bb-bade-0a636b148132] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:10:01] INFO     [agent_fsm:820] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Executing tool: advanced_file_reader with input: {'filename': 'path/to/attached_excel_file.xlsx'}
[2025-06-18 13:10:01] INFO     [agent_fsm:922] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Tool execution completed
[2025-06-18 13:10:01] INFO     [agent_fsm:773] [d8c1b5d7-65a0-47bb-bade-0a636b148132] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:10:01] WARNING  [agent_fsm:803] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:10:01] INFO     [agent_fsm:665] [d8c1b5d7-65a0-47bb-bade-0a636b148132] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:10:01] DEBUG    [agent_fsm:680] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Turn count: 2, Action history length: 2
[2025-06-18 13:10:03] WARNING  [agent_fsm:1521] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:10:03] INFO     [agent_fsm:773] [d8c1b5d7-65a0-47bb-bade-0a636b148132] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:10:03] INFO     [agent_fsm:820] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Executing tool: file_reader with input: {'filename': 'path/to/attached/excel/file.xlsx', 'lines': -1}
[2025-06-18 13:10:03] INFO     [agent_fsm:922] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Tool execution completed
[2025-06-18 13:10:03] INFO     [agent_fsm:773] [d8c1b5d7-65a0-47bb-bade-0a636b148132] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:10:03] WARNING  [agent_fsm:803] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:10:03] INFO     [agent_fsm:665] [d8c1b5d7-65a0-47bb-bade-0a636b148132] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:10:03] DEBUG    [agent_fsm:680] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Turn count: 3, Action history length: 3
[2025-06-18 13:10:04] WARNING  [agent_fsm:1521] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:10:04] WARNING  [agent_fsm:1224] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:04] ERROR    [agent_fsm:1078] [d8c1b5d7-65a0-47bb-bade-0a636b148132] --- FSM STATE: ERROR ---
[2025-06-18 13:10:04] ERROR    [agent_fsm:1101] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:10:04] ERROR    [agent_fsm:1102] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:04] WARNING  [agent_fsm:1224] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:04] ERROR    [agent_fsm:1078] [d8c1b5d7-65a0-47bb-bade-0a636b148132] --- FSM STATE: ERROR ---
[2025-06-18 13:10:04] ERROR    [agent_fsm:1101] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:10:04] ERROR    [agent_fsm:1102] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:04] WARNING  [agent_fsm:1224] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:04] ERROR    [agent_fsm:1078] [d8c1b5d7-65a0-47bb-bade-0a636b148132] --- FSM STATE: ERROR ---
[2025-06-18 13:10:04] ERROR    [agent_fsm:1101] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:10:04] ERROR    [agent_fsm:1102] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:04] WARNING  [agent_fsm:1224] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:04] ERROR    [agent_fsm:1078] [d8c1b5d7-65a0-47bb-bade-0a636b148132] --- FSM STATE: ERROR ---
[2025-06-18 13:10:04] ERROR    [agent_fsm:1101] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:10:04] ERROR    [agent_fsm:1102] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:04] WARNING  [agent_fsm:1224] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:04] ERROR    [agent_fsm:1078] [d8c1b5d7-65a0-47bb-bade-0a636b148132] --- FSM STATE: ERROR ---
[2025-06-18 13:10:04] ERROR    [agent_fsm:1101] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:10:04] ERROR    [agent_fsm:1102] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:04] WARNING  [agent_fsm:1224] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:04] ERROR    [agent_fsm:1078] [d8c1b5d7-65a0-47bb-bade-0a636b148132] --- FSM STATE: ERROR ---
[2025-06-18 13:10:04] ERROR    [agent_fsm:1101] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:10:04] ERROR    [agent_fsm:1102] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:04] WARNING  [agent_fsm:1224] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:04] ERROR    [agent_fsm:1078] [d8c1b5d7-65a0-47bb-bade-0a636b148132] --- FSM STATE: ERROR ---
[2025-06-18 13:10:04] ERROR    [agent_fsm:1101] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:10:04] ERROR    [agent_fsm:1102] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:04] WARNING  [agent_fsm:1224] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:04] ERROR    [agent_fsm:1078] [d8c1b5d7-65a0-47bb-bade-0a636b148132] --- FSM STATE: ERROR ---
[2025-06-18 13:10:04] ERROR    [agent_fsm:1101] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:10:04] ERROR    [agent_fsm:1102] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:04] WARNING  [agent_fsm:1224] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:04] ERROR    [agent_fsm:1078] [d8c1b5d7-65a0-47bb-bade-0a636b148132] --- FSM STATE: ERROR ---
[2025-06-18 13:10:04] ERROR    [agent_fsm:1101] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:10:04] ERROR    [agent_fsm:1102] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:04] WARNING  [agent_fsm:1224] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:04] ERROR    [agent_fsm:1078] [d8c1b5d7-65a0-47bb-bade-0a636b148132] --- FSM STATE: ERROR ---
[2025-06-18 13:10:04] ERROR    [agent_fsm:1101] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:10:04] ERROR    [agent_fsm:1102] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:04] WARNING  [agent_fsm:1224] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:04] ERROR    [agent_fsm:1078] [d8c1b5d7-65a0-47bb-bade-0a636b148132] --- FSM STATE: ERROR ---
[2025-06-18 13:10:04] ERROR    [agent_fsm:1101] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:10:04] ERROR    [agent_fsm:1102] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:04] WARNING  [agent_fsm:1224] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:04] ERROR    [agent_fsm:1078] [d8c1b5d7-65a0-47bb-bade-0a636b148132] --- FSM STATE: ERROR ---
[2025-06-18 13:10:04] ERROR    [agent_fsm:1101] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:10:04] ERROR    [agent_fsm:1102] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:04] WARNING  [agent_fsm:1224] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:04] ERROR    [agent_fsm:1078] [d8c1b5d7-65a0-47bb-bade-0a636b148132] --- FSM STATE: ERROR ---
[2025-06-18 13:10:04] ERROR    [agent_fsm:1101] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:10:04] ERROR    [agent_fsm:1102] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:04] WARNING  [agent_fsm:1224] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:04] ERROR    [agent_fsm:1078] [d8c1b5d7-65a0-47bb-bade-0a636b148132] --- FSM STATE: ERROR ---
[2025-06-18 13:10:04] ERROR    [agent_fsm:1101] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:10:04] ERROR    [agent_fsm:1102] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:04] WARNING  [agent_fsm:1224] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:04] ERROR    [agent_fsm:1078] [d8c1b5d7-65a0-47bb-bade-0a636b148132] --- FSM STATE: ERROR ---
[2025-06-18 13:10:04] ERROR    [agent_fsm:1101] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:10:04] ERROR    [agent_fsm:1102] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:04] WARNING  [agent_fsm:1224] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:04] ERROR    [agent_fsm:1078] [d8c1b5d7-65a0-47bb-bade-0a636b148132] --- FSM STATE: ERROR ---
[2025-06-18 13:10:04] ERROR    [agent_fsm:1101] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:10:04] ERROR    [agent_fsm:1102] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:04] WARNING  [agent_fsm:1224] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:04] ERROR    [agent_fsm:1078] [d8c1b5d7-65a0-47bb-bade-0a636b148132] --- FSM STATE: ERROR ---
[2025-06-18 13:10:04] ERROR    [agent_fsm:1101] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:10:04] ERROR    [agent_fsm:1102] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:04] WARNING  [agent_fsm:1224] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:04] ERROR    [agent_fsm:1078] [d8c1b5d7-65a0-47bb-bade-0a636b148132] --- FSM STATE: ERROR ---
[2025-06-18 13:10:04] ERROR    [agent_fsm:1101] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:10:04] ERROR    [agent_fsm:1102] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:04] WARNING  [agent_fsm:1224] [d8c1b5d7-65a0-47bb-bade-0a636b148132] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:04] ERROR    [agent_fsm:1837] [d8c1b5d7-65a0-47bb-bade-0a636b148132] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:10:04] INFO     [agent_fsm:1752] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Starting resilient FSM execution
[2025-06-18 13:10:04] INFO     [agent_fsm:1807] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] FSM STATE: INITIAL
[2025-06-18 13:10:04] INFO     [agent_fsm:665] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:10:04] DEBUG    [agent_fsm:680] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Turn count: 1, Action history length: 1
[2025-06-18 13:10:04] WARNING  [agent_fsm:1333] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Tool image_analyzer not found in registry, will use stub
[2025-06-18 13:10:04] INFO     [agent_fsm:773] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:10:04] INFO     [agent_fsm:820] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Executing tool: video_analyzer with input: {'url': 'https://example.com/video.mp4', 'action': 'download_info'}
[2025-06-18 13:10:04] INFO     [agent_fsm:922] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Tool execution completed
[2025-06-18 13:10:04] INFO     [agent_fsm:773] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:10:04] WARNING  [agent_fsm:803] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:10:04] INFO     [agent_fsm:665] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:10:04] DEBUG    [agent_fsm:680] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Turn count: 2, Action history length: 2
[2025-06-18 13:10:06] WARNING  [agent_fsm:1521] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:10:06] WARNING  [agent_fsm:1521] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 13:10:06] WARNING  [agent_fsm:1521] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Failed to parse JSON parameters for step 10, using fallback parser
[2025-06-18 13:10:06] WARNING  [agent_fsm:1521] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Failed to parse JSON parameters for step 12, using fallback parser
[2025-06-18 13:10:06] INFO     [agent_fsm:773] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:10:06] INFO     [agent_fsm:820] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 13:10:06] INFO     [agent_fsm:922] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Tool execution completed
[2025-06-18 13:10:06] INFO     [agent_fsm:773] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:10:06] WARNING  [agent_fsm:803] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:10:06] INFO     [agent_fsm:665] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:10:06] DEBUG    [agent_fsm:680] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Turn count: 3, Action history length: 3
[2025-06-18 13:10:08] WARNING  [agent_fsm:1521] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:10:08] WARNING  [agent_fsm:1521] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:10:08] WARNING  [agent_fsm:1521] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:10:08] WARNING  [agent_fsm:1521] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 13:10:08] WARNING  [agent_fsm:1521] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Failed to parse JSON parameters for step 8, using fallback parser
[2025-06-18 13:10:08] WARNING  [agent_fsm:1521] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Failed to parse JSON parameters for step 9, using fallback parser
[2025-06-18 13:10:08] WARNING  [agent_fsm:1521] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Failed to parse JSON parameters for step 10, using fallback parser
[2025-06-18 13:10:08] WARNING  [agent_fsm:1521] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Failed to parse JSON parameters for step 11, using fallback parser
[2025-06-18 13:10:08] WARNING  [agent_fsm:1521] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Failed to parse JSON parameters for step 12, using fallback parser
[2025-06-18 13:10:08] WARNING  [agent_fsm:1224] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:08] ERROR    [agent_fsm:1078] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] --- FSM STATE: ERROR ---
[2025-06-18 13:10:08] ERROR    [agent_fsm:1101] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:10:08] ERROR    [agent_fsm:1102] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:08] WARNING  [agent_fsm:1224] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:08] ERROR    [agent_fsm:1078] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] --- FSM STATE: ERROR ---
[2025-06-18 13:10:08] ERROR    [agent_fsm:1101] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:10:08] ERROR    [agent_fsm:1102] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:08] WARNING  [agent_fsm:1224] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:08] ERROR    [agent_fsm:1078] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] --- FSM STATE: ERROR ---
[2025-06-18 13:10:08] ERROR    [agent_fsm:1101] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:10:08] ERROR    [agent_fsm:1102] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:08] WARNING  [agent_fsm:1224] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:08] ERROR    [agent_fsm:1078] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] --- FSM STATE: ERROR ---
[2025-06-18 13:10:08] ERROR    [agent_fsm:1101] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:10:08] ERROR    [agent_fsm:1102] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:08] WARNING  [agent_fsm:1224] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:08] ERROR    [agent_fsm:1078] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] --- FSM STATE: ERROR ---
[2025-06-18 13:10:08] ERROR    [agent_fsm:1101] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:10:08] ERROR    [agent_fsm:1102] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:08] WARNING  [agent_fsm:1224] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:08] ERROR    [agent_fsm:1078] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] --- FSM STATE: ERROR ---
[2025-06-18 13:10:08] ERROR    [agent_fsm:1101] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:10:08] ERROR    [agent_fsm:1102] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:08] WARNING  [agent_fsm:1224] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:08] ERROR    [agent_fsm:1078] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] --- FSM STATE: ERROR ---
[2025-06-18 13:10:08] ERROR    [agent_fsm:1101] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:10:08] ERROR    [agent_fsm:1102] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:08] WARNING  [agent_fsm:1224] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:08] ERROR    [agent_fsm:1078] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] --- FSM STATE: ERROR ---
[2025-06-18 13:10:08] ERROR    [agent_fsm:1101] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:10:08] ERROR    [agent_fsm:1102] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:08] WARNING  [agent_fsm:1224] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:08] ERROR    [agent_fsm:1078] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] --- FSM STATE: ERROR ---
[2025-06-18 13:10:08] ERROR    [agent_fsm:1101] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:10:08] ERROR    [agent_fsm:1102] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:08] WARNING  [agent_fsm:1224] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:08] ERROR    [agent_fsm:1078] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] --- FSM STATE: ERROR ---
[2025-06-18 13:10:08] ERROR    [agent_fsm:1101] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:10:08] ERROR    [agent_fsm:1102] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:08] WARNING  [agent_fsm:1224] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:08] ERROR    [agent_fsm:1078] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] --- FSM STATE: ERROR ---
[2025-06-18 13:10:08] ERROR    [agent_fsm:1101] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:10:08] ERROR    [agent_fsm:1102] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:08] WARNING  [agent_fsm:1224] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:08] ERROR    [agent_fsm:1078] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] --- FSM STATE: ERROR ---
[2025-06-18 13:10:08] ERROR    [agent_fsm:1101] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:10:08] ERROR    [agent_fsm:1102] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:08] WARNING  [agent_fsm:1224] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:08] ERROR    [agent_fsm:1078] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] --- FSM STATE: ERROR ---
[2025-06-18 13:10:08] ERROR    [agent_fsm:1101] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:10:08] ERROR    [agent_fsm:1102] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:08] WARNING  [agent_fsm:1224] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:08] ERROR    [agent_fsm:1078] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] --- FSM STATE: ERROR ---
[2025-06-18 13:10:08] ERROR    [agent_fsm:1101] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:10:08] ERROR    [agent_fsm:1102] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:08] WARNING  [agent_fsm:1224] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:08] ERROR    [agent_fsm:1078] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] --- FSM STATE: ERROR ---
[2025-06-18 13:10:08] ERROR    [agent_fsm:1101] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:10:08] ERROR    [agent_fsm:1102] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:08] WARNING  [agent_fsm:1224] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:08] ERROR    [agent_fsm:1078] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] --- FSM STATE: ERROR ---
[2025-06-18 13:10:08] ERROR    [agent_fsm:1101] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:10:08] ERROR    [agent_fsm:1102] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:08] WARNING  [agent_fsm:1224] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:08] ERROR    [agent_fsm:1078] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] --- FSM STATE: ERROR ---
[2025-06-18 13:10:08] ERROR    [agent_fsm:1101] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:10:08] ERROR    [agent_fsm:1102] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:08] WARNING  [agent_fsm:1224] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:08] ERROR    [agent_fsm:1078] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] --- FSM STATE: ERROR ---
[2025-06-18 13:10:08] ERROR    [agent_fsm:1101] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:10:08] ERROR    [agent_fsm:1102] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:08] WARNING  [agent_fsm:1224] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:08] ERROR    [agent_fsm:1837] [7f3aa5ec-4a9a-4c66-91bb-4fd2af2efad9] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:10:08] INFO     [agent_fsm:1752] [376a06e5-7506-4914-8fae-09e56ce48ae6] Starting resilient FSM execution
[2025-06-18 13:10:08] INFO     [agent_fsm:1807] [376a06e5-7506-4914-8fae-09e56ce48ae6] FSM STATE: INITIAL
[2025-06-18 13:10:08] INFO     [agent_fsm:665] [376a06e5-7506-4914-8fae-09e56ce48ae6] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:10:08] DEBUG    [agent_fsm:680] [376a06e5-7506-4914-8fae-09e56ce48ae6] Turn count: 1, Action history length: 1
[2025-06-18 13:10:10] WARNING  [agent_fsm:1521] [376a06e5-7506-4914-8fae-09e56ce48ae6] Failed to parse JSON parameters for step 10, using fallback parser
[2025-06-18 13:10:10] WARNING  [agent_fsm:1333] [376a06e5-7506-4914-8fae-09e56ce48ae6] Tool image_analyzer not found in registry, will use stub
[2025-06-18 13:10:10] INFO     [agent_fsm:773] [376a06e5-7506-4914-8fae-09e56ce48ae6] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:10:10] INFO     [agent_fsm:820] [376a06e5-7506-4914-8fae-09e56ce48ae6] Executing tool: web_researcher with input: {'query': 'What is 2 + 2?', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 13:10:10] INFO     [agent_fsm:922] [376a06e5-7506-4914-8fae-09e56ce48ae6] Tool execution completed
[2025-06-18 13:10:10] INFO     [agent_fsm:773] [376a06e5-7506-4914-8fae-09e56ce48ae6] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:10:10] WARNING  [agent_fsm:803] [376a06e5-7506-4914-8fae-09e56ce48ae6] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:10:10] INFO     [agent_fsm:665] [376a06e5-7506-4914-8fae-09e56ce48ae6] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:10:10] DEBUG    [agent_fsm:680] [376a06e5-7506-4914-8fae-09e56ce48ae6] Turn count: 2, Action history length: 2
[2025-06-18 13:10:11] WARNING  [agent_fsm:1333] [376a06e5-7506-4914-8fae-09e56ce48ae6] Tool image_analyzer not found in registry, will use stub
[2025-06-18 13:10:12] INFO     [agent_fsm:773] [376a06e5-7506-4914-8fae-09e56ce48ae6] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:10:12] INFO     [agent_fsm:820] [376a06e5-7506-4914-8fae-09e56ce48ae6] Executing tool: semantic_search_tool with input: {'query': '2 + 2', 'filename': 'knowledge_base.csv', 'top_k': 3}
[2025-06-18 13:10:12] INFO     [agent_fsm:922] [376a06e5-7506-4914-8fae-09e56ce48ae6] Tool execution completed
[2025-06-18 13:10:12] INFO     [agent_fsm:773] [376a06e5-7506-4914-8fae-09e56ce48ae6] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:10:12] WARNING  [agent_fsm:803] [376a06e5-7506-4914-8fae-09e56ce48ae6] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:10:12] INFO     [agent_fsm:665] [376a06e5-7506-4914-8fae-09e56ce48ae6] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:10:12] DEBUG    [agent_fsm:680] [376a06e5-7506-4914-8fae-09e56ce48ae6] Turn count: 3, Action history length: 3
[2025-06-18 13:10:12] WARNING  [agent_fsm:1224] [376a06e5-7506-4914-8fae-09e56ce48ae6] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:12] ERROR    [agent_fsm:1078] [376a06e5-7506-4914-8fae-09e56ce48ae6] --- FSM STATE: ERROR ---
[2025-06-18 13:10:12] ERROR    [agent_fsm:1101] [376a06e5-7506-4914-8fae-09e56ce48ae6] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:10:12] ERROR    [agent_fsm:1102] [376a06e5-7506-4914-8fae-09e56ce48ae6] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:12] WARNING  [agent_fsm:1224] [376a06e5-7506-4914-8fae-09e56ce48ae6] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:12] ERROR    [agent_fsm:1078] [376a06e5-7506-4914-8fae-09e56ce48ae6] --- FSM STATE: ERROR ---
[2025-06-18 13:10:12] ERROR    [agent_fsm:1101] [376a06e5-7506-4914-8fae-09e56ce48ae6] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:10:12] ERROR    [agent_fsm:1102] [376a06e5-7506-4914-8fae-09e56ce48ae6] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:12] WARNING  [agent_fsm:1224] [376a06e5-7506-4914-8fae-09e56ce48ae6] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:12] ERROR    [agent_fsm:1078] [376a06e5-7506-4914-8fae-09e56ce48ae6] --- FSM STATE: ERROR ---
[2025-06-18 13:10:12] ERROR    [agent_fsm:1101] [376a06e5-7506-4914-8fae-09e56ce48ae6] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:10:12] ERROR    [agent_fsm:1102] [376a06e5-7506-4914-8fae-09e56ce48ae6] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:12] WARNING  [agent_fsm:1224] [376a06e5-7506-4914-8fae-09e56ce48ae6] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:12] ERROR    [agent_fsm:1078] [376a06e5-7506-4914-8fae-09e56ce48ae6] --- FSM STATE: ERROR ---
[2025-06-18 13:10:12] ERROR    [agent_fsm:1101] [376a06e5-7506-4914-8fae-09e56ce48ae6] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:10:12] ERROR    [agent_fsm:1102] [376a06e5-7506-4914-8fae-09e56ce48ae6] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:12] WARNING  [agent_fsm:1224] [376a06e5-7506-4914-8fae-09e56ce48ae6] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:12] ERROR    [agent_fsm:1078] [376a06e5-7506-4914-8fae-09e56ce48ae6] --- FSM STATE: ERROR ---
[2025-06-18 13:10:12] ERROR    [agent_fsm:1101] [376a06e5-7506-4914-8fae-09e56ce48ae6] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:10:12] ERROR    [agent_fsm:1102] [376a06e5-7506-4914-8fae-09e56ce48ae6] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:12] WARNING  [agent_fsm:1224] [376a06e5-7506-4914-8fae-09e56ce48ae6] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:12] ERROR    [agent_fsm:1078] [376a06e5-7506-4914-8fae-09e56ce48ae6] --- FSM STATE: ERROR ---
[2025-06-18 13:10:12] ERROR    [agent_fsm:1101] [376a06e5-7506-4914-8fae-09e56ce48ae6] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:10:12] ERROR    [agent_fsm:1102] [376a06e5-7506-4914-8fae-09e56ce48ae6] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:12] WARNING  [agent_fsm:1224] [376a06e5-7506-4914-8fae-09e56ce48ae6] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:12] ERROR    [agent_fsm:1078] [376a06e5-7506-4914-8fae-09e56ce48ae6] --- FSM STATE: ERROR ---
[2025-06-18 13:10:12] ERROR    [agent_fsm:1101] [376a06e5-7506-4914-8fae-09e56ce48ae6] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:10:12] ERROR    [agent_fsm:1102] [376a06e5-7506-4914-8fae-09e56ce48ae6] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:12] WARNING  [agent_fsm:1224] [376a06e5-7506-4914-8fae-09e56ce48ae6] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:12] ERROR    [agent_fsm:1078] [376a06e5-7506-4914-8fae-09e56ce48ae6] --- FSM STATE: ERROR ---
[2025-06-18 13:10:12] ERROR    [agent_fsm:1101] [376a06e5-7506-4914-8fae-09e56ce48ae6] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:10:12] ERROR    [agent_fsm:1102] [376a06e5-7506-4914-8fae-09e56ce48ae6] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:12] WARNING  [agent_fsm:1224] [376a06e5-7506-4914-8fae-09e56ce48ae6] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:12] ERROR    [agent_fsm:1078] [376a06e5-7506-4914-8fae-09e56ce48ae6] --- FSM STATE: ERROR ---
[2025-06-18 13:10:12] ERROR    [agent_fsm:1101] [376a06e5-7506-4914-8fae-09e56ce48ae6] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:10:12] ERROR    [agent_fsm:1102] [376a06e5-7506-4914-8fae-09e56ce48ae6] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:12] WARNING  [agent_fsm:1224] [376a06e5-7506-4914-8fae-09e56ce48ae6] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:12] ERROR    [agent_fsm:1078] [376a06e5-7506-4914-8fae-09e56ce48ae6] --- FSM STATE: ERROR ---
[2025-06-18 13:10:12] ERROR    [agent_fsm:1101] [376a06e5-7506-4914-8fae-09e56ce48ae6] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:10:12] ERROR    [agent_fsm:1102] [376a06e5-7506-4914-8fae-09e56ce48ae6] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:12] WARNING  [agent_fsm:1224] [376a06e5-7506-4914-8fae-09e56ce48ae6] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:12] ERROR    [agent_fsm:1078] [376a06e5-7506-4914-8fae-09e56ce48ae6] --- FSM STATE: ERROR ---
[2025-06-18 13:10:12] ERROR    [agent_fsm:1101] [376a06e5-7506-4914-8fae-09e56ce48ae6] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:10:12] ERROR    [agent_fsm:1102] [376a06e5-7506-4914-8fae-09e56ce48ae6] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:12] WARNING  [agent_fsm:1224] [376a06e5-7506-4914-8fae-09e56ce48ae6] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:12] ERROR    [agent_fsm:1078] [376a06e5-7506-4914-8fae-09e56ce48ae6] --- FSM STATE: ERROR ---
[2025-06-18 13:10:12] ERROR    [agent_fsm:1101] [376a06e5-7506-4914-8fae-09e56ce48ae6] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:10:12] ERROR    [agent_fsm:1102] [376a06e5-7506-4914-8fae-09e56ce48ae6] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:12] WARNING  [agent_fsm:1224] [376a06e5-7506-4914-8fae-09e56ce48ae6] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:12] ERROR    [agent_fsm:1078] [376a06e5-7506-4914-8fae-09e56ce48ae6] --- FSM STATE: ERROR ---
[2025-06-18 13:10:12] ERROR    [agent_fsm:1101] [376a06e5-7506-4914-8fae-09e56ce48ae6] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:10:12] ERROR    [agent_fsm:1102] [376a06e5-7506-4914-8fae-09e56ce48ae6] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:12] WARNING  [agent_fsm:1224] [376a06e5-7506-4914-8fae-09e56ce48ae6] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:12] ERROR    [agent_fsm:1078] [376a06e5-7506-4914-8fae-09e56ce48ae6] --- FSM STATE: ERROR ---
[2025-06-18 13:10:12] ERROR    [agent_fsm:1101] [376a06e5-7506-4914-8fae-09e56ce48ae6] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:10:12] ERROR    [agent_fsm:1102] [376a06e5-7506-4914-8fae-09e56ce48ae6] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:12] WARNING  [agent_fsm:1224] [376a06e5-7506-4914-8fae-09e56ce48ae6] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:12] ERROR    [agent_fsm:1078] [376a06e5-7506-4914-8fae-09e56ce48ae6] --- FSM STATE: ERROR ---
[2025-06-18 13:10:12] ERROR    [agent_fsm:1101] [376a06e5-7506-4914-8fae-09e56ce48ae6] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:10:12] ERROR    [agent_fsm:1102] [376a06e5-7506-4914-8fae-09e56ce48ae6] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:12] WARNING  [agent_fsm:1224] [376a06e5-7506-4914-8fae-09e56ce48ae6] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:12] ERROR    [agent_fsm:1078] [376a06e5-7506-4914-8fae-09e56ce48ae6] --- FSM STATE: ERROR ---
[2025-06-18 13:10:12] ERROR    [agent_fsm:1101] [376a06e5-7506-4914-8fae-09e56ce48ae6] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:10:12] ERROR    [agent_fsm:1102] [376a06e5-7506-4914-8fae-09e56ce48ae6] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:12] WARNING  [agent_fsm:1224] [376a06e5-7506-4914-8fae-09e56ce48ae6] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:12] ERROR    [agent_fsm:1078] [376a06e5-7506-4914-8fae-09e56ce48ae6] --- FSM STATE: ERROR ---
[2025-06-18 13:10:12] ERROR    [agent_fsm:1101] [376a06e5-7506-4914-8fae-09e56ce48ae6] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:10:12] ERROR    [agent_fsm:1102] [376a06e5-7506-4914-8fae-09e56ce48ae6] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:12] WARNING  [agent_fsm:1224] [376a06e5-7506-4914-8fae-09e56ce48ae6] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:12] ERROR    [agent_fsm:1078] [376a06e5-7506-4914-8fae-09e56ce48ae6] --- FSM STATE: ERROR ---
[2025-06-18 13:10:12] ERROR    [agent_fsm:1101] [376a06e5-7506-4914-8fae-09e56ce48ae6] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:10:12] ERROR    [agent_fsm:1102] [376a06e5-7506-4914-8fae-09e56ce48ae6] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:12] WARNING  [agent_fsm:1224] [376a06e5-7506-4914-8fae-09e56ce48ae6] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:12] ERROR    [agent_fsm:1837] [376a06e5-7506-4914-8fae-09e56ce48ae6] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:10:12] INFO     [agent_fsm:1752] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Starting resilient FSM execution
[2025-06-18 13:10:12] INFO     [agent_fsm:1807] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] FSM STATE: INITIAL
[2025-06-18 13:10:12] INFO     [agent_fsm:665] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:10:12] DEBUG    [agent_fsm:680] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Turn count: 1, Action history length: 1
[2025-06-18 13:10:14] WARNING  [agent_fsm:1521] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:10:14] INFO     [agent_fsm:773] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:10:14] INFO     [agent_fsm:820] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Executing tool: web_researcher with input: {'query': 'chess position analysis', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 13:10:14] INFO     [agent_fsm:922] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Tool execution completed
[2025-06-18 13:10:14] INFO     [agent_fsm:773] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:10:14] WARNING  [agent_fsm:803] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:10:14] INFO     [agent_fsm:665] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:10:14] DEBUG    [agent_fsm:680] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Turn count: 2, Action history length: 2
[2025-06-18 13:10:14] INFO     [agent_fsm:773] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:10:14] INFO     [agent_fsm:820] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Executing tool: semantic_search_tool with input: {'query': 'chess position analysis tools', 'filename': 'knowledge_base.csv', 'top_k': 3}
[2025-06-18 13:10:14] INFO     [agent_fsm:922] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Tool execution completed
[2025-06-18 13:10:14] INFO     [agent_fsm:773] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:10:14] WARNING  [agent_fsm:803] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:10:14] INFO     [agent_fsm:665] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:10:14] DEBUG    [agent_fsm:680] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Turn count: 3, Action history length: 3
[2025-06-18 13:10:16] WARNING  [agent_fsm:1224] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:16] ERROR    [agent_fsm:1078] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] --- FSM STATE: ERROR ---
[2025-06-18 13:10:16] ERROR    [agent_fsm:1101] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:10:16] ERROR    [agent_fsm:1102] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:16] WARNING  [agent_fsm:1224] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:16] ERROR    [agent_fsm:1078] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] --- FSM STATE: ERROR ---
[2025-06-18 13:10:16] ERROR    [agent_fsm:1101] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:10:16] ERROR    [agent_fsm:1102] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:16] WARNING  [agent_fsm:1224] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:16] ERROR    [agent_fsm:1078] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] --- FSM STATE: ERROR ---
[2025-06-18 13:10:16] ERROR    [agent_fsm:1101] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:10:16] ERROR    [agent_fsm:1102] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:16] WARNING  [agent_fsm:1224] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:16] ERROR    [agent_fsm:1078] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] --- FSM STATE: ERROR ---
[2025-06-18 13:10:16] ERROR    [agent_fsm:1101] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:10:16] ERROR    [agent_fsm:1102] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:16] WARNING  [agent_fsm:1224] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:16] ERROR    [agent_fsm:1078] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] --- FSM STATE: ERROR ---
[2025-06-18 13:10:16] ERROR    [agent_fsm:1101] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:10:16] ERROR    [agent_fsm:1102] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:16] WARNING  [agent_fsm:1224] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:16] ERROR    [agent_fsm:1078] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] --- FSM STATE: ERROR ---
[2025-06-18 13:10:16] ERROR    [agent_fsm:1101] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:10:16] ERROR    [agent_fsm:1102] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:16] WARNING  [agent_fsm:1224] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:16] ERROR    [agent_fsm:1078] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] --- FSM STATE: ERROR ---
[2025-06-18 13:10:16] ERROR    [agent_fsm:1101] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:10:16] ERROR    [agent_fsm:1102] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:16] WARNING  [agent_fsm:1224] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:16] ERROR    [agent_fsm:1078] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] --- FSM STATE: ERROR ---
[2025-06-18 13:10:16] ERROR    [agent_fsm:1101] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:10:16] ERROR    [agent_fsm:1102] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:16] WARNING  [agent_fsm:1224] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:16] ERROR    [agent_fsm:1078] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] --- FSM STATE: ERROR ---
[2025-06-18 13:10:16] ERROR    [agent_fsm:1101] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:10:16] ERROR    [agent_fsm:1102] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:16] WARNING  [agent_fsm:1224] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:16] ERROR    [agent_fsm:1078] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] --- FSM STATE: ERROR ---
[2025-06-18 13:10:16] ERROR    [agent_fsm:1101] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:10:16] ERROR    [agent_fsm:1102] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:16] WARNING  [agent_fsm:1224] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:16] ERROR    [agent_fsm:1078] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] --- FSM STATE: ERROR ---
[2025-06-18 13:10:16] ERROR    [agent_fsm:1101] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:10:16] ERROR    [agent_fsm:1102] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:16] WARNING  [agent_fsm:1224] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:16] ERROR    [agent_fsm:1078] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] --- FSM STATE: ERROR ---
[2025-06-18 13:10:16] ERROR    [agent_fsm:1101] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:10:16] ERROR    [agent_fsm:1102] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:16] WARNING  [agent_fsm:1224] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:16] ERROR    [agent_fsm:1078] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] --- FSM STATE: ERROR ---
[2025-06-18 13:10:16] ERROR    [agent_fsm:1101] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:10:16] ERROR    [agent_fsm:1102] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:16] WARNING  [agent_fsm:1224] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:16] ERROR    [agent_fsm:1078] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] --- FSM STATE: ERROR ---
[2025-06-18 13:10:16] ERROR    [agent_fsm:1101] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:10:16] ERROR    [agent_fsm:1102] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:16] WARNING  [agent_fsm:1224] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:16] ERROR    [agent_fsm:1078] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] --- FSM STATE: ERROR ---
[2025-06-18 13:10:16] ERROR    [agent_fsm:1101] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:10:16] ERROR    [agent_fsm:1102] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:16] WARNING  [agent_fsm:1224] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:16] ERROR    [agent_fsm:1078] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] --- FSM STATE: ERROR ---
[2025-06-18 13:10:16] ERROR    [agent_fsm:1101] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:10:16] ERROR    [agent_fsm:1102] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:16] WARNING  [agent_fsm:1224] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:16] ERROR    [agent_fsm:1078] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] --- FSM STATE: ERROR ---
[2025-06-18 13:10:16] ERROR    [agent_fsm:1101] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:10:16] ERROR    [agent_fsm:1102] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:16] WARNING  [agent_fsm:1224] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:16] ERROR    [agent_fsm:1078] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] --- FSM STATE: ERROR ---
[2025-06-18 13:10:16] ERROR    [agent_fsm:1101] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:10:16] ERROR    [agent_fsm:1102] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:16] WARNING  [agent_fsm:1224] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:16] ERROR    [agent_fsm:1837] [82babb1b-61c5-48dd-89f5-a5c2f61980b9] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:10:16] INFO     [agent_fsm:1752] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Starting resilient FSM execution
[2025-06-18 13:10:16] INFO     [agent_fsm:1807] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] FSM STATE: INITIAL
[2025-06-18 13:10:16] INFO     [agent_fsm:665] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:10:16] DEBUG    [agent_fsm:680] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Turn count: 1, Action history length: 1
[2025-06-18 13:10:17] INFO     [agent_fsm:773] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:10:17] INFO     [agent_fsm:820] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Executing tool: web_researcher with input: {'query': 'Nobel Prize in Physics 2023', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 13:10:17] INFO     [agent_fsm:922] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Tool execution completed
[2025-06-18 13:10:17] INFO     [agent_fsm:773] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:10:17] WARNING  [agent_fsm:803] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:10:17] INFO     [agent_fsm:665] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:10:17] DEBUG    [agent_fsm:680] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Turn count: 2, Action history length: 2
[2025-06-18 13:10:18] WARNING  [agent_fsm:1521] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:10:18] WARNING  [agent_fsm:1521] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:10:18] INFO     [agent_fsm:773] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:10:18] INFO     [agent_fsm:820] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Executing tool: semantic_search_tool with input: {'query': 'Nobel Prize in Physics 2023 winner', 'filename': 'knowledge_base.csv', 'top_k': 3}
[2025-06-18 13:10:18] INFO     [agent_fsm:922] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Tool execution completed
[2025-06-18 13:10:18] INFO     [agent_fsm:773] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:10:18] WARNING  [agent_fsm:803] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:10:18] INFO     [agent_fsm:665] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:10:18] DEBUG    [agent_fsm:680] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Turn count: 3, Action history length: 3
[2025-06-18 13:10:19] WARNING  [agent_fsm:1521] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:10:19] WARNING  [agent_fsm:1521] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:10:19] WARNING  [agent_fsm:1521] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 13:10:19] WARNING  [agent_fsm:1224] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:19] ERROR    [agent_fsm:1078] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] --- FSM STATE: ERROR ---
[2025-06-18 13:10:19] ERROR    [agent_fsm:1101] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:10:19] ERROR    [agent_fsm:1102] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:19] WARNING  [agent_fsm:1224] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:19] ERROR    [agent_fsm:1078] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] --- FSM STATE: ERROR ---
[2025-06-18 13:10:19] ERROR    [agent_fsm:1101] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:10:19] ERROR    [agent_fsm:1102] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:19] WARNING  [agent_fsm:1224] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:19] ERROR    [agent_fsm:1078] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] --- FSM STATE: ERROR ---
[2025-06-18 13:10:19] ERROR    [agent_fsm:1101] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:10:19] ERROR    [agent_fsm:1102] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:19] WARNING  [agent_fsm:1224] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:19] ERROR    [agent_fsm:1078] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] --- FSM STATE: ERROR ---
[2025-06-18 13:10:19] ERROR    [agent_fsm:1101] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:10:19] ERROR    [agent_fsm:1102] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:19] WARNING  [agent_fsm:1224] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:19] ERROR    [agent_fsm:1078] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] --- FSM STATE: ERROR ---
[2025-06-18 13:10:19] ERROR    [agent_fsm:1101] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:10:19] ERROR    [agent_fsm:1102] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:19] WARNING  [agent_fsm:1224] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:19] ERROR    [agent_fsm:1078] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] --- FSM STATE: ERROR ---
[2025-06-18 13:10:19] ERROR    [agent_fsm:1101] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:10:19] ERROR    [agent_fsm:1102] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:19] WARNING  [agent_fsm:1224] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:19] ERROR    [agent_fsm:1078] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] --- FSM STATE: ERROR ---
[2025-06-18 13:10:19] ERROR    [agent_fsm:1101] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:10:19] ERROR    [agent_fsm:1102] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:19] WARNING  [agent_fsm:1224] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:19] ERROR    [agent_fsm:1078] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] --- FSM STATE: ERROR ---
[2025-06-18 13:10:19] ERROR    [agent_fsm:1101] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:10:19] ERROR    [agent_fsm:1102] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:19] WARNING  [agent_fsm:1224] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:19] ERROR    [agent_fsm:1078] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] --- FSM STATE: ERROR ---
[2025-06-18 13:10:19] ERROR    [agent_fsm:1101] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:10:19] ERROR    [agent_fsm:1102] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:19] WARNING  [agent_fsm:1224] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:19] ERROR    [agent_fsm:1078] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] --- FSM STATE: ERROR ---
[2025-06-18 13:10:19] ERROR    [agent_fsm:1101] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:10:19] ERROR    [agent_fsm:1102] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:19] WARNING  [agent_fsm:1224] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:19] ERROR    [agent_fsm:1078] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] --- FSM STATE: ERROR ---
[2025-06-18 13:10:19] ERROR    [agent_fsm:1101] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:10:19] ERROR    [agent_fsm:1102] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:19] WARNING  [agent_fsm:1224] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:19] ERROR    [agent_fsm:1078] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] --- FSM STATE: ERROR ---
[2025-06-18 13:10:19] ERROR    [agent_fsm:1101] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:10:19] ERROR    [agent_fsm:1102] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:19] WARNING  [agent_fsm:1224] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:19] ERROR    [agent_fsm:1078] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] --- FSM STATE: ERROR ---
[2025-06-18 13:10:19] ERROR    [agent_fsm:1101] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:10:19] ERROR    [agent_fsm:1102] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:19] WARNING  [agent_fsm:1224] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:19] ERROR    [agent_fsm:1078] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] --- FSM STATE: ERROR ---
[2025-06-18 13:10:19] ERROR    [agent_fsm:1101] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:10:19] ERROR    [agent_fsm:1102] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:19] WARNING  [agent_fsm:1224] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:19] ERROR    [agent_fsm:1078] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] --- FSM STATE: ERROR ---
[2025-06-18 13:10:19] ERROR    [agent_fsm:1101] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:10:19] ERROR    [agent_fsm:1102] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:19] WARNING  [agent_fsm:1224] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:19] ERROR    [agent_fsm:1078] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] --- FSM STATE: ERROR ---
[2025-06-18 13:10:19] ERROR    [agent_fsm:1101] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:10:19] ERROR    [agent_fsm:1102] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:19] WARNING  [agent_fsm:1224] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:19] ERROR    [agent_fsm:1078] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] --- FSM STATE: ERROR ---
[2025-06-18 13:10:19] ERROR    [agent_fsm:1101] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:10:19] ERROR    [agent_fsm:1102] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:19] WARNING  [agent_fsm:1224] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:19] ERROR    [agent_fsm:1078] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] --- FSM STATE: ERROR ---
[2025-06-18 13:10:19] ERROR    [agent_fsm:1101] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:10:19] ERROR    [agent_fsm:1102] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:19] WARNING  [agent_fsm:1224] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:19] ERROR    [agent_fsm:1837] [eaabed7f-1ea6-4bcb-931b-4e644ae4201d] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:10:19] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 13:10:19] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 13:10:19] INFO     [agent_fsm:570] [3468e31e-2923-40b8-a790-220eea6662c6] Building resilient FSM graph
[2025-06-18 13:10:19] INFO     [agent_fsm:572] [3468e31e-2923-40b8-a790-220eea6662c6] FSMReActAgent graph built successfully
[2025-06-18 13:10:19] INFO     [agent_fsm:1752] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Starting resilient FSM execution
[2025-06-18 13:10:19] INFO     [agent_fsm:1807] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] FSM STATE: INITIAL
[2025-06-18 13:10:19] INFO     [agent_fsm:665] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:10:19] DEBUG    [agent_fsm:680] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Turn count: 1, Action history length: 1
[2025-06-18 13:10:20] WARNING  [agent_fsm:1521] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:10:20] WARNING  [agent_fsm:1521] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:10:20] INFO     [agent_fsm:773] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:10:20] INFO     [agent_fsm:820] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Executing tool: web_researcher with input: {'query': 'Mercedes Sosa discography', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 13:10:20] INFO     [agent_fsm:922] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Tool execution completed
[2025-06-18 13:10:20] INFO     [agent_fsm:773] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:10:20] WARNING  [agent_fsm:803] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:10:20] INFO     [agent_fsm:665] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:10:20] DEBUG    [agent_fsm:680] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Turn count: 2, Action history length: 2
[2025-06-18 13:10:21] WARNING  [agent_fsm:1521] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:10:21] WARNING  [agent_fsm:1521] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:10:21] WARNING  [agent_fsm:1521] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:10:21] INFO     [agent_fsm:773] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:10:21] INFO     [agent_fsm:820] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 13:10:21] INFO     [agent_fsm:922] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Tool execution completed
[2025-06-18 13:10:21] INFO     [agent_fsm:773] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:10:21] WARNING  [agent_fsm:803] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:10:21] INFO     [agent_fsm:665] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:10:21] DEBUG    [agent_fsm:680] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Turn count: 3, Action history length: 3
[2025-06-18 13:10:22] WARNING  [agent_fsm:1521] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:10:22] WARNING  [agent_fsm:1521] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:10:22] WARNING  [agent_fsm:1521] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:10:22] WARNING  [agent_fsm:1521] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:10:22] WARNING  [agent_fsm:1224] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:22] ERROR    [agent_fsm:1078] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] --- FSM STATE: ERROR ---
[2025-06-18 13:10:22] ERROR    [agent_fsm:1101] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:10:22] ERROR    [agent_fsm:1102] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:22] WARNING  [agent_fsm:1224] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:22] ERROR    [agent_fsm:1078] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] --- FSM STATE: ERROR ---
[2025-06-18 13:10:22] ERROR    [agent_fsm:1101] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:10:22] ERROR    [agent_fsm:1102] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:22] WARNING  [agent_fsm:1224] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:22] ERROR    [agent_fsm:1078] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] --- FSM STATE: ERROR ---
[2025-06-18 13:10:22] ERROR    [agent_fsm:1101] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:10:22] ERROR    [agent_fsm:1102] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:22] WARNING  [agent_fsm:1224] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:22] ERROR    [agent_fsm:1078] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] --- FSM STATE: ERROR ---
[2025-06-18 13:10:22] ERROR    [agent_fsm:1101] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:10:22] ERROR    [agent_fsm:1102] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:22] WARNING  [agent_fsm:1224] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:22] ERROR    [agent_fsm:1078] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] --- FSM STATE: ERROR ---
[2025-06-18 13:10:22] ERROR    [agent_fsm:1101] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:10:22] ERROR    [agent_fsm:1102] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:22] WARNING  [agent_fsm:1224] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:22] ERROR    [agent_fsm:1078] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] --- FSM STATE: ERROR ---
[2025-06-18 13:10:22] ERROR    [agent_fsm:1101] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:10:22] ERROR    [agent_fsm:1102] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:22] WARNING  [agent_fsm:1224] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:22] ERROR    [agent_fsm:1078] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] --- FSM STATE: ERROR ---
[2025-06-18 13:10:22] ERROR    [agent_fsm:1101] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:10:22] ERROR    [agent_fsm:1102] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:22] WARNING  [agent_fsm:1224] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:22] ERROR    [agent_fsm:1078] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] --- FSM STATE: ERROR ---
[2025-06-18 13:10:22] ERROR    [agent_fsm:1101] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:10:22] ERROR    [agent_fsm:1102] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:22] WARNING  [agent_fsm:1224] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:22] ERROR    [agent_fsm:1078] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] --- FSM STATE: ERROR ---
[2025-06-18 13:10:22] ERROR    [agent_fsm:1101] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:10:22] ERROR    [agent_fsm:1102] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:22] WARNING  [agent_fsm:1224] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:22] ERROR    [agent_fsm:1078] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] --- FSM STATE: ERROR ---
[2025-06-18 13:10:22] ERROR    [agent_fsm:1101] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:10:22] ERROR    [agent_fsm:1102] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:22] WARNING  [agent_fsm:1224] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:22] ERROR    [agent_fsm:1078] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] --- FSM STATE: ERROR ---
[2025-06-18 13:10:22] ERROR    [agent_fsm:1101] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:10:22] ERROR    [agent_fsm:1102] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:22] WARNING  [agent_fsm:1224] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:22] ERROR    [agent_fsm:1078] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] --- FSM STATE: ERROR ---
[2025-06-18 13:10:22] ERROR    [agent_fsm:1101] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:10:22] ERROR    [agent_fsm:1102] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:22] WARNING  [agent_fsm:1224] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:22] ERROR    [agent_fsm:1078] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] --- FSM STATE: ERROR ---
[2025-06-18 13:10:22] ERROR    [agent_fsm:1101] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:10:22] ERROR    [agent_fsm:1102] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:22] WARNING  [agent_fsm:1224] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:22] ERROR    [agent_fsm:1078] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] --- FSM STATE: ERROR ---
[2025-06-18 13:10:22] ERROR    [agent_fsm:1101] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:10:22] ERROR    [agent_fsm:1102] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:22] WARNING  [agent_fsm:1224] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:22] ERROR    [agent_fsm:1078] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] --- FSM STATE: ERROR ---
[2025-06-18 13:10:22] ERROR    [agent_fsm:1101] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:10:22] ERROR    [agent_fsm:1102] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:22] WARNING  [agent_fsm:1224] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:22] ERROR    [agent_fsm:1078] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] --- FSM STATE: ERROR ---
[2025-06-18 13:10:22] ERROR    [agent_fsm:1101] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:10:22] ERROR    [agent_fsm:1102] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:22] WARNING  [agent_fsm:1224] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:22] ERROR    [agent_fsm:1078] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] --- FSM STATE: ERROR ---
[2025-06-18 13:10:22] ERROR    [agent_fsm:1101] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:10:22] ERROR    [agent_fsm:1102] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:22] WARNING  [agent_fsm:1224] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:22] ERROR    [agent_fsm:1078] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] --- FSM STATE: ERROR ---
[2025-06-18 13:10:22] ERROR    [agent_fsm:1101] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:10:22] ERROR    [agent_fsm:1102] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:22] WARNING  [agent_fsm:1224] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:22] ERROR    [agent_fsm:1837] [2ab99d9d-1ff4-46ef-8dbb-9e1283ad04fe] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:10:22] INFO     [agent_fsm:1752] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Starting resilient FSM execution
[2025-06-18 13:10:22] INFO     [agent_fsm:1807] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] FSM STATE: INITIAL
[2025-06-18 13:10:22] INFO     [agent_fsm:665] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:10:22] DEBUG    [agent_fsm:680] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Turn count: 1, Action history length: 1
[2025-06-18 13:10:25] INFO     [agent_fsm:773] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:10:25] INFO     [agent_fsm:820] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Executing tool: web_researcher with input: {'query': 'extract video URL from YouTube link', 'date_range': None, 'search_type': 'general', 'source': 'search'}
[2025-06-18 13:10:25] INFO     [agent_fsm:922] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Tool execution completed
[2025-06-18 13:10:25] INFO     [agent_fsm:773] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:10:25] WARNING  [agent_fsm:803] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:10:25] INFO     [agent_fsm:665] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:10:25] DEBUG    [agent_fsm:680] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Turn count: 2, Action history length: 2
[2025-06-18 13:10:26] WARNING  [agent_fsm:1521] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:10:26] INFO     [agent_fsm:773] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:10:26] INFO     [agent_fsm:820] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Executing tool: video_analyzer with input: {'url': 'https://www.youtube.com/watch?v=L1vXCYZAYYM', 'action': 'download_info'}
[2025-06-18 13:10:26] INFO     [agent_fsm:922] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Tool execution completed
[2025-06-18 13:10:26] INFO     [agent_fsm:773] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:10:26] WARNING  [agent_fsm:803] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:10:26] INFO     [agent_fsm:665] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:10:26] DEBUG    [agent_fsm:680] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Turn count: 3, Action history length: 3
[2025-06-18 13:10:27] WARNING  [agent_fsm:1521] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:10:27] WARNING  [agent_fsm:1521] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:10:27] WARNING  [agent_fsm:1224] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:27] ERROR    [agent_fsm:1078] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] --- FSM STATE: ERROR ---
[2025-06-18 13:10:27] ERROR    [agent_fsm:1101] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:10:27] ERROR    [agent_fsm:1102] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:27] WARNING  [agent_fsm:1224] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:27] ERROR    [agent_fsm:1078] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] --- FSM STATE: ERROR ---
[2025-06-18 13:10:27] ERROR    [agent_fsm:1101] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:10:27] ERROR    [agent_fsm:1102] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:27] WARNING  [agent_fsm:1224] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:27] ERROR    [agent_fsm:1078] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] --- FSM STATE: ERROR ---
[2025-06-18 13:10:27] ERROR    [agent_fsm:1101] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:10:27] ERROR    [agent_fsm:1102] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:27] WARNING  [agent_fsm:1224] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:27] ERROR    [agent_fsm:1078] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] --- FSM STATE: ERROR ---
[2025-06-18 13:10:27] ERROR    [agent_fsm:1101] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:10:27] ERROR    [agent_fsm:1102] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:27] WARNING  [agent_fsm:1224] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:27] ERROR    [agent_fsm:1078] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] --- FSM STATE: ERROR ---
[2025-06-18 13:10:27] ERROR    [agent_fsm:1101] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:10:27] ERROR    [agent_fsm:1102] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:27] WARNING  [agent_fsm:1224] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:27] ERROR    [agent_fsm:1078] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] --- FSM STATE: ERROR ---
[2025-06-18 13:10:27] ERROR    [agent_fsm:1101] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:10:27] ERROR    [agent_fsm:1102] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:27] WARNING  [agent_fsm:1224] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:27] ERROR    [agent_fsm:1078] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] --- FSM STATE: ERROR ---
[2025-06-18 13:10:27] ERROR    [agent_fsm:1101] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:10:27] ERROR    [agent_fsm:1102] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:27] WARNING  [agent_fsm:1224] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:27] ERROR    [agent_fsm:1078] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] --- FSM STATE: ERROR ---
[2025-06-18 13:10:27] ERROR    [agent_fsm:1101] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:10:27] ERROR    [agent_fsm:1102] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:27] WARNING  [agent_fsm:1224] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:27] ERROR    [agent_fsm:1078] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] --- FSM STATE: ERROR ---
[2025-06-18 13:10:27] ERROR    [agent_fsm:1101] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:10:27] ERROR    [agent_fsm:1102] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:27] WARNING  [agent_fsm:1224] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:27] ERROR    [agent_fsm:1078] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] --- FSM STATE: ERROR ---
[2025-06-18 13:10:27] ERROR    [agent_fsm:1101] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:10:27] ERROR    [agent_fsm:1102] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:27] WARNING  [agent_fsm:1224] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:27] ERROR    [agent_fsm:1078] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] --- FSM STATE: ERROR ---
[2025-06-18 13:10:27] ERROR    [agent_fsm:1101] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:10:27] ERROR    [agent_fsm:1102] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:27] WARNING  [agent_fsm:1224] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:27] ERROR    [agent_fsm:1078] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] --- FSM STATE: ERROR ---
[2025-06-18 13:10:27] ERROR    [agent_fsm:1101] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:10:27] ERROR    [agent_fsm:1102] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:27] WARNING  [agent_fsm:1224] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:27] ERROR    [agent_fsm:1078] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] --- FSM STATE: ERROR ---
[2025-06-18 13:10:27] ERROR    [agent_fsm:1101] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:10:27] ERROR    [agent_fsm:1102] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:27] WARNING  [agent_fsm:1224] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:27] ERROR    [agent_fsm:1078] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] --- FSM STATE: ERROR ---
[2025-06-18 13:10:27] ERROR    [agent_fsm:1101] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:10:27] ERROR    [agent_fsm:1102] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:27] WARNING  [agent_fsm:1224] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:27] ERROR    [agent_fsm:1078] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] --- FSM STATE: ERROR ---
[2025-06-18 13:10:27] ERROR    [agent_fsm:1101] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:10:27] ERROR    [agent_fsm:1102] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:27] WARNING  [agent_fsm:1224] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:27] ERROR    [agent_fsm:1078] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] --- FSM STATE: ERROR ---
[2025-06-18 13:10:27] ERROR    [agent_fsm:1101] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:10:27] ERROR    [agent_fsm:1102] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:27] WARNING  [agent_fsm:1224] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:27] ERROR    [agent_fsm:1078] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] --- FSM STATE: ERROR ---
[2025-06-18 13:10:27] ERROR    [agent_fsm:1101] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:10:27] ERROR    [agent_fsm:1102] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:27] WARNING  [agent_fsm:1224] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:27] ERROR    [agent_fsm:1078] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] --- FSM STATE: ERROR ---
[2025-06-18 13:10:27] ERROR    [agent_fsm:1101] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:10:27] ERROR    [agent_fsm:1102] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:27] WARNING  [agent_fsm:1224] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:27] ERROR    [agent_fsm:1837] [83674efa-e18c-48b5-a6fc-64a6c6b59f23] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:10:27] INFO     [agent_fsm:1752] [609fb576-0997-4e01-8777-354d462b1032] Starting resilient FSM execution
[2025-06-18 13:10:27] INFO     [agent_fsm:1807] [609fb576-0997-4e01-8777-354d462b1032] FSM STATE: INITIAL
[2025-06-18 13:10:27] INFO     [agent_fsm:665] [609fb576-0997-4e01-8777-354d462b1032] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:10:27] DEBUG    [agent_fsm:680] [609fb576-0997-4e01-8777-354d462b1032] Turn count: 1, Action history length: 1
[2025-06-18 13:10:29] WARNING  [agent_fsm:1521] [609fb576-0997-4e01-8777-354d462b1032] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:10:29] WARNING  [agent_fsm:1521] [609fb576-0997-4e01-8777-354d462b1032] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:10:29] WARNING  [agent_fsm:1521] [609fb576-0997-4e01-8777-354d462b1032] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 13:10:29] WARNING  [agent_fsm:1521] [609fb576-0997-4e01-8777-354d462b1032] Failed to parse JSON parameters for step 10, using fallback parser
[2025-06-18 13:10:29] WARNING  [agent_fsm:1333] [609fb576-0997-4e01-8777-354d462b1032] Tool image_analyzer not found in registry, will use stub
[2025-06-18 13:10:29] INFO     [agent_fsm:773] [609fb576-0997-4e01-8777-354d462b1032] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:10:29] INFO     [agent_fsm:820] [609fb576-0997-4e01-8777-354d462b1032] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 13:10:29] INFO     [agent_fsm:922] [609fb576-0997-4e01-8777-354d462b1032] Tool execution completed
[2025-06-18 13:10:29] INFO     [agent_fsm:773] [609fb576-0997-4e01-8777-354d462b1032] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:10:29] WARNING  [agent_fsm:803] [609fb576-0997-4e01-8777-354d462b1032] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:10:29] INFO     [agent_fsm:665] [609fb576-0997-4e01-8777-354d462b1032] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:10:29] DEBUG    [agent_fsm:680] [609fb576-0997-4e01-8777-354d462b1032] Turn count: 2, Action history length: 2
[2025-06-18 13:10:30] WARNING  [agent_fsm:1521] [609fb576-0997-4e01-8777-354d462b1032] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:10:30] WARNING  [agent_fsm:1521] [609fb576-0997-4e01-8777-354d462b1032] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:10:30] INFO     [agent_fsm:773] [609fb576-0997-4e01-8777-354d462b1032] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:10:30] WARNING  [agent_fsm:803] [609fb576-0997-4e01-8777-354d462b1032] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:10:30] INFO     [agent_fsm:665] [609fb576-0997-4e01-8777-354d462b1032] --- FSM STATE: PLANNING (Step 3) ---
[2025-06-18 13:10:30] DEBUG    [agent_fsm:680] [609fb576-0997-4e01-8777-354d462b1032] Turn count: 3, Action history length: 3
[2025-06-18 13:10:34] WARNING  [agent_fsm:1521] [609fb576-0997-4e01-8777-354d462b1032] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:10:34] WARNING  [agent_fsm:1224] [609fb576-0997-4e01-8777-354d462b1032] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:34] ERROR    [agent_fsm:1078] [609fb576-0997-4e01-8777-354d462b1032] --- FSM STATE: ERROR ---
[2025-06-18 13:10:34] ERROR    [agent_fsm:1101] [609fb576-0997-4e01-8777-354d462b1032] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:10:34] ERROR    [agent_fsm:1102] [609fb576-0997-4e01-8777-354d462b1032] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:34] WARNING  [agent_fsm:1224] [609fb576-0997-4e01-8777-354d462b1032] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:34] ERROR    [agent_fsm:1078] [609fb576-0997-4e01-8777-354d462b1032] --- FSM STATE: ERROR ---
[2025-06-18 13:10:34] ERROR    [agent_fsm:1101] [609fb576-0997-4e01-8777-354d462b1032] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:10:34] ERROR    [agent_fsm:1102] [609fb576-0997-4e01-8777-354d462b1032] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:34] WARNING  [agent_fsm:1224] [609fb576-0997-4e01-8777-354d462b1032] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:34] ERROR    [agent_fsm:1078] [609fb576-0997-4e01-8777-354d462b1032] --- FSM STATE: ERROR ---
[2025-06-18 13:10:34] ERROR    [agent_fsm:1101] [609fb576-0997-4e01-8777-354d462b1032] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:10:34] ERROR    [agent_fsm:1102] [609fb576-0997-4e01-8777-354d462b1032] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:34] WARNING  [agent_fsm:1224] [609fb576-0997-4e01-8777-354d462b1032] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:34] ERROR    [agent_fsm:1078] [609fb576-0997-4e01-8777-354d462b1032] --- FSM STATE: ERROR ---
[2025-06-18 13:10:34] ERROR    [agent_fsm:1101] [609fb576-0997-4e01-8777-354d462b1032] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:10:34] ERROR    [agent_fsm:1102] [609fb576-0997-4e01-8777-354d462b1032] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:34] WARNING  [agent_fsm:1224] [609fb576-0997-4e01-8777-354d462b1032] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:34] ERROR    [agent_fsm:1078] [609fb576-0997-4e01-8777-354d462b1032] --- FSM STATE: ERROR ---
[2025-06-18 13:10:34] ERROR    [agent_fsm:1101] [609fb576-0997-4e01-8777-354d462b1032] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:10:34] ERROR    [agent_fsm:1102] [609fb576-0997-4e01-8777-354d462b1032] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:34] WARNING  [agent_fsm:1224] [609fb576-0997-4e01-8777-354d462b1032] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:34] ERROR    [agent_fsm:1078] [609fb576-0997-4e01-8777-354d462b1032] --- FSM STATE: ERROR ---
[2025-06-18 13:10:34] ERROR    [agent_fsm:1101] [609fb576-0997-4e01-8777-354d462b1032] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:10:34] ERROR    [agent_fsm:1102] [609fb576-0997-4e01-8777-354d462b1032] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:34] WARNING  [agent_fsm:1224] [609fb576-0997-4e01-8777-354d462b1032] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:34] ERROR    [agent_fsm:1078] [609fb576-0997-4e01-8777-354d462b1032] --- FSM STATE: ERROR ---
[2025-06-18 13:10:34] ERROR    [agent_fsm:1101] [609fb576-0997-4e01-8777-354d462b1032] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:10:34] ERROR    [agent_fsm:1102] [609fb576-0997-4e01-8777-354d462b1032] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:34] WARNING  [agent_fsm:1224] [609fb576-0997-4e01-8777-354d462b1032] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:34] ERROR    [agent_fsm:1078] [609fb576-0997-4e01-8777-354d462b1032] --- FSM STATE: ERROR ---
[2025-06-18 13:10:34] ERROR    [agent_fsm:1101] [609fb576-0997-4e01-8777-354d462b1032] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:10:34] ERROR    [agent_fsm:1102] [609fb576-0997-4e01-8777-354d462b1032] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:34] WARNING  [agent_fsm:1224] [609fb576-0997-4e01-8777-354d462b1032] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:34] ERROR    [agent_fsm:1078] [609fb576-0997-4e01-8777-354d462b1032] --- FSM STATE: ERROR ---
[2025-06-18 13:10:34] ERROR    [agent_fsm:1101] [609fb576-0997-4e01-8777-354d462b1032] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:10:34] ERROR    [agent_fsm:1102] [609fb576-0997-4e01-8777-354d462b1032] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:34] WARNING  [agent_fsm:1224] [609fb576-0997-4e01-8777-354d462b1032] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:34] ERROR    [agent_fsm:1078] [609fb576-0997-4e01-8777-354d462b1032] --- FSM STATE: ERROR ---
[2025-06-18 13:10:34] ERROR    [agent_fsm:1101] [609fb576-0997-4e01-8777-354d462b1032] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:10:34] ERROR    [agent_fsm:1102] [609fb576-0997-4e01-8777-354d462b1032] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:34] WARNING  [agent_fsm:1224] [609fb576-0997-4e01-8777-354d462b1032] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:34] ERROR    [agent_fsm:1078] [609fb576-0997-4e01-8777-354d462b1032] --- FSM STATE: ERROR ---
[2025-06-18 13:10:34] ERROR    [agent_fsm:1101] [609fb576-0997-4e01-8777-354d462b1032] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:10:34] ERROR    [agent_fsm:1102] [609fb576-0997-4e01-8777-354d462b1032] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:34] WARNING  [agent_fsm:1224] [609fb576-0997-4e01-8777-354d462b1032] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:34] ERROR    [agent_fsm:1078] [609fb576-0997-4e01-8777-354d462b1032] --- FSM STATE: ERROR ---
[2025-06-18 13:10:34] ERROR    [agent_fsm:1101] [609fb576-0997-4e01-8777-354d462b1032] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:10:34] ERROR    [agent_fsm:1102] [609fb576-0997-4e01-8777-354d462b1032] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:34] WARNING  [agent_fsm:1224] [609fb576-0997-4e01-8777-354d462b1032] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:34] ERROR    [agent_fsm:1078] [609fb576-0997-4e01-8777-354d462b1032] --- FSM STATE: ERROR ---
[2025-06-18 13:10:34] ERROR    [agent_fsm:1101] [609fb576-0997-4e01-8777-354d462b1032] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:10:34] ERROR    [agent_fsm:1102] [609fb576-0997-4e01-8777-354d462b1032] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:34] WARNING  [agent_fsm:1224] [609fb576-0997-4e01-8777-354d462b1032] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:34] ERROR    [agent_fsm:1078] [609fb576-0997-4e01-8777-354d462b1032] --- FSM STATE: ERROR ---
[2025-06-18 13:10:34] ERROR    [agent_fsm:1101] [609fb576-0997-4e01-8777-354d462b1032] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:10:34] ERROR    [agent_fsm:1102] [609fb576-0997-4e01-8777-354d462b1032] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:34] WARNING  [agent_fsm:1224] [609fb576-0997-4e01-8777-354d462b1032] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:34] ERROR    [agent_fsm:1078] [609fb576-0997-4e01-8777-354d462b1032] --- FSM STATE: ERROR ---
[2025-06-18 13:10:34] ERROR    [agent_fsm:1101] [609fb576-0997-4e01-8777-354d462b1032] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:10:34] ERROR    [agent_fsm:1102] [609fb576-0997-4e01-8777-354d462b1032] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:34] WARNING  [agent_fsm:1224] [609fb576-0997-4e01-8777-354d462b1032] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:34] ERROR    [agent_fsm:1078] [609fb576-0997-4e01-8777-354d462b1032] --- FSM STATE: ERROR ---
[2025-06-18 13:10:34] ERROR    [agent_fsm:1101] [609fb576-0997-4e01-8777-354d462b1032] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:10:34] ERROR    [agent_fsm:1102] [609fb576-0997-4e01-8777-354d462b1032] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:34] WARNING  [agent_fsm:1224] [609fb576-0997-4e01-8777-354d462b1032] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:34] ERROR    [agent_fsm:1078] [609fb576-0997-4e01-8777-354d462b1032] --- FSM STATE: ERROR ---
[2025-06-18 13:10:34] ERROR    [agent_fsm:1101] [609fb576-0997-4e01-8777-354d462b1032] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:10:34] ERROR    [agent_fsm:1102] [609fb576-0997-4e01-8777-354d462b1032] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:34] WARNING  [agent_fsm:1224] [609fb576-0997-4e01-8777-354d462b1032] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:34] ERROR    [agent_fsm:1078] [609fb576-0997-4e01-8777-354d462b1032] --- FSM STATE: ERROR ---
[2025-06-18 13:10:34] ERROR    [agent_fsm:1101] [609fb576-0997-4e01-8777-354d462b1032] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:10:34] ERROR    [agent_fsm:1102] [609fb576-0997-4e01-8777-354d462b1032] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:34] WARNING  [agent_fsm:1224] [609fb576-0997-4e01-8777-354d462b1032] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:34] ERROR    [agent_fsm:1078] [609fb576-0997-4e01-8777-354d462b1032] --- FSM STATE: ERROR ---
[2025-06-18 13:10:34] ERROR    [agent_fsm:1101] [609fb576-0997-4e01-8777-354d462b1032] Error category: GENERAL, Occurrences: 19
[2025-06-18 13:10:34] ERROR    [agent_fsm:1102] [609fb576-0997-4e01-8777-354d462b1032] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:34] WARNING  [agent_fsm:1224] [609fb576-0997-4e01-8777-354d462b1032] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:34] ERROR    [agent_fsm:1837] [609fb576-0997-4e01-8777-354d462b1032] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:10:34] INFO     [agent_fsm:1752] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Starting resilient FSM execution
[2025-06-18 13:10:34] INFO     [agent_fsm:1807] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] FSM STATE: INITIAL
[2025-06-18 13:10:34] INFO     [agent_fsm:665] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:10:34] DEBUG    [agent_fsm:680] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Turn count: 1, Action history length: 1
[2025-06-18 13:10:35] WARNING  [agent_fsm:1521] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:10:35] WARNING  [agent_fsm:1521] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:10:35] WARNING  [agent_fsm:1521] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 13:10:35] INFO     [agent_fsm:773] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:10:35] INFO     [agent_fsm:820] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Executing tool: advanced_file_reader with input: {'filename': 'path/to/sales_data.xlsx'}
[2025-06-18 13:10:35] INFO     [agent_fsm:922] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Tool execution completed
[2025-06-18 13:10:35] INFO     [agent_fsm:773] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:10:35] WARNING  [agent_fsm:803] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:10:35] INFO     [agent_fsm:665] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:10:35] DEBUG    [agent_fsm:680] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Turn count: 2, Action history length: 2
[2025-06-18 13:10:36] WARNING  [agent_fsm:1521] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:10:36] WARNING  [agent_fsm:1521] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 13:10:36] WARNING  [agent_fsm:1521] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 13:10:36] INFO     [agent_fsm:773] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:10:36] INFO     [agent_fsm:820] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Executing tool: advanced_file_reader with input: {'filename': 'path/to/file.xlsx'}
[2025-06-18 13:10:36] INFO     [agent_fsm:922] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Tool execution completed
[2025-06-18 13:10:36] INFO     [agent_fsm:773] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:10:36] WARNING  [agent_fsm:803] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:10:36] INFO     [agent_fsm:665] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:10:36] DEBUG    [agent_fsm:680] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Turn count: 3, Action history length: 3
[2025-06-18 13:10:38] WARNING  [agent_fsm:1224] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:38] ERROR    [agent_fsm:1078] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] --- FSM STATE: ERROR ---
[2025-06-18 13:10:38] ERROR    [agent_fsm:1101] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:10:38] ERROR    [agent_fsm:1102] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:38] WARNING  [agent_fsm:1224] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:38] ERROR    [agent_fsm:1078] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] --- FSM STATE: ERROR ---
[2025-06-18 13:10:38] ERROR    [agent_fsm:1101] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:10:38] ERROR    [agent_fsm:1102] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:38] WARNING  [agent_fsm:1224] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:38] ERROR    [agent_fsm:1078] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] --- FSM STATE: ERROR ---
[2025-06-18 13:10:38] ERROR    [agent_fsm:1101] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:10:38] ERROR    [agent_fsm:1102] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:38] WARNING  [agent_fsm:1224] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:38] ERROR    [agent_fsm:1078] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] --- FSM STATE: ERROR ---
[2025-06-18 13:10:38] ERROR    [agent_fsm:1101] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:10:38] ERROR    [agent_fsm:1102] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:38] WARNING  [agent_fsm:1224] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:38] ERROR    [agent_fsm:1078] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] --- FSM STATE: ERROR ---
[2025-06-18 13:10:38] ERROR    [agent_fsm:1101] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:10:38] ERROR    [agent_fsm:1102] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:38] WARNING  [agent_fsm:1224] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:38] ERROR    [agent_fsm:1078] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] --- FSM STATE: ERROR ---
[2025-06-18 13:10:38] ERROR    [agent_fsm:1101] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:10:38] ERROR    [agent_fsm:1102] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:38] WARNING  [agent_fsm:1224] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:38] ERROR    [agent_fsm:1078] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] --- FSM STATE: ERROR ---
[2025-06-18 13:10:38] ERROR    [agent_fsm:1101] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:10:38] ERROR    [agent_fsm:1102] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:38] WARNING  [agent_fsm:1224] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:38] ERROR    [agent_fsm:1078] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] --- FSM STATE: ERROR ---
[2025-06-18 13:10:38] ERROR    [agent_fsm:1101] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:10:38] ERROR    [agent_fsm:1102] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:38] WARNING  [agent_fsm:1224] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:38] ERROR    [agent_fsm:1078] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] --- FSM STATE: ERROR ---
[2025-06-18 13:10:38] ERROR    [agent_fsm:1101] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:10:38] ERROR    [agent_fsm:1102] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:38] WARNING  [agent_fsm:1224] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:38] ERROR    [agent_fsm:1078] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] --- FSM STATE: ERROR ---
[2025-06-18 13:10:38] ERROR    [agent_fsm:1101] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:10:38] ERROR    [agent_fsm:1102] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:38] WARNING  [agent_fsm:1224] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:38] ERROR    [agent_fsm:1078] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] --- FSM STATE: ERROR ---
[2025-06-18 13:10:38] ERROR    [agent_fsm:1101] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:10:38] ERROR    [agent_fsm:1102] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:38] WARNING  [agent_fsm:1224] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:38] ERROR    [agent_fsm:1078] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] --- FSM STATE: ERROR ---
[2025-06-18 13:10:38] ERROR    [agent_fsm:1101] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:10:38] ERROR    [agent_fsm:1102] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:38] WARNING  [agent_fsm:1224] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:38] ERROR    [agent_fsm:1078] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] --- FSM STATE: ERROR ---
[2025-06-18 13:10:38] ERROR    [agent_fsm:1101] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:10:38] ERROR    [agent_fsm:1102] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:38] WARNING  [agent_fsm:1224] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:38] ERROR    [agent_fsm:1078] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] --- FSM STATE: ERROR ---
[2025-06-18 13:10:38] ERROR    [agent_fsm:1101] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:10:38] ERROR    [agent_fsm:1102] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:38] WARNING  [agent_fsm:1224] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:38] ERROR    [agent_fsm:1078] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] --- FSM STATE: ERROR ---
[2025-06-18 13:10:38] ERROR    [agent_fsm:1101] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:10:38] ERROR    [agent_fsm:1102] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:38] WARNING  [agent_fsm:1224] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:38] ERROR    [agent_fsm:1078] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] --- FSM STATE: ERROR ---
[2025-06-18 13:10:38] ERROR    [agent_fsm:1101] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:10:38] ERROR    [agent_fsm:1102] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:38] WARNING  [agent_fsm:1224] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:38] ERROR    [agent_fsm:1078] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] --- FSM STATE: ERROR ---
[2025-06-18 13:10:38] ERROR    [agent_fsm:1101] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:10:38] ERROR    [agent_fsm:1102] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:38] WARNING  [agent_fsm:1224] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:38] ERROR    [agent_fsm:1078] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] --- FSM STATE: ERROR ---
[2025-06-18 13:10:38] ERROR    [agent_fsm:1101] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:10:38] ERROR    [agent_fsm:1102] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:38] WARNING  [agent_fsm:1224] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:38] ERROR    [agent_fsm:1837] [76ae0f91-1b91-4c48-b239-df2f34aa3b5b] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:10:38] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 13:10:38] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 13:10:38] INFO     [agent_fsm:570] [61fb0bc2-fece-46f3-b261-742132d36899] Building resilient FSM graph
[2025-06-18 13:10:38] INFO     [agent_fsm:572] [61fb0bc2-fece-46f3-b261-742132d36899] FSMReActAgent graph built successfully
[2025-06-18 13:10:38] INFO     [agent_fsm:1752] [088e6fac-5afe-4ff4-9536-75acd568c81a] Starting resilient FSM execution
[2025-06-18 13:10:38] WARNING  [agent_fsm:1759] [088e6fac-5afe-4ff4-9536-75acd568c81a] FSM agent rejecting invalid input: '{{' - 1 validation error for ValidatedQuery
query
  Value error, Invalid placeholder query received: '{{' [type=value_error, input_value='{{', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/value_error
[2025-06-18 13:10:38] INFO     [agent_fsm:1752] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Starting resilient FSM execution
[2025-06-18 13:10:38] INFO     [agent_fsm:1807] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] FSM STATE: INITIAL
[2025-06-18 13:10:38] INFO     [agent_fsm:665] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:10:38] DEBUG    [agent_fsm:680] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Turn count: 1, Action history length: 1
[2025-06-18 13:10:39] WARNING  [agent_fsm:1521] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:10:39] WARNING  [agent_fsm:1521] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:10:39] WARNING  [agent_fsm:1521] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:10:39] WARNING  [agent_fsm:1521] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 13:10:39] INFO     [agent_fsm:773] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:10:39] INFO     [agent_fsm:820] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 13:10:39] INFO     [agent_fsm:922] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Tool execution completed
[2025-06-18 13:10:39] INFO     [agent_fsm:773] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:10:39] WARNING  [agent_fsm:803] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:10:39] INFO     [agent_fsm:665] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:10:39] DEBUG    [agent_fsm:680] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Turn count: 2, Action history length: 2
[2025-06-18 13:10:40] INFO     [agent_fsm:773] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:10:40] INFO     [agent_fsm:820] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Executing tool: python_interpreter with input: {'code': 'str(2 + 2)'}
[2025-06-18 13:10:40] INFO     [agent_fsm:922] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Tool execution completed
[2025-06-18 13:10:40] INFO     [agent_fsm:773] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:10:40] WARNING  [agent_fsm:803] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:10:40] INFO     [agent_fsm:665] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:10:40] DEBUG    [agent_fsm:680] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Turn count: 3, Action history length: 3
[2025-06-18 13:10:40] WARNING  [agent_fsm:1224] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:40] ERROR    [agent_fsm:1078] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] --- FSM STATE: ERROR ---
[2025-06-18 13:10:40] ERROR    [agent_fsm:1101] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:10:40] ERROR    [agent_fsm:1102] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:40] WARNING  [agent_fsm:1224] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:40] ERROR    [agent_fsm:1078] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] --- FSM STATE: ERROR ---
[2025-06-18 13:10:40] ERROR    [agent_fsm:1101] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:10:40] ERROR    [agent_fsm:1102] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:40] WARNING  [agent_fsm:1224] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:40] ERROR    [agent_fsm:1078] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] --- FSM STATE: ERROR ---
[2025-06-18 13:10:40] ERROR    [agent_fsm:1101] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:10:40] ERROR    [agent_fsm:1102] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:40] WARNING  [agent_fsm:1224] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:40] ERROR    [agent_fsm:1078] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] --- FSM STATE: ERROR ---
[2025-06-18 13:10:40] ERROR    [agent_fsm:1101] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:10:40] ERROR    [agent_fsm:1102] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:40] WARNING  [agent_fsm:1224] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:40] ERROR    [agent_fsm:1078] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] --- FSM STATE: ERROR ---
[2025-06-18 13:10:40] ERROR    [agent_fsm:1101] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:10:40] ERROR    [agent_fsm:1102] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:40] WARNING  [agent_fsm:1224] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:40] ERROR    [agent_fsm:1078] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] --- FSM STATE: ERROR ---
[2025-06-18 13:10:40] ERROR    [agent_fsm:1101] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:10:40] ERROR    [agent_fsm:1102] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:40] WARNING  [agent_fsm:1224] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:40] ERROR    [agent_fsm:1078] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] --- FSM STATE: ERROR ---
[2025-06-18 13:10:40] ERROR    [agent_fsm:1101] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:10:40] ERROR    [agent_fsm:1102] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:40] WARNING  [agent_fsm:1224] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:40] ERROR    [agent_fsm:1078] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] --- FSM STATE: ERROR ---
[2025-06-18 13:10:40] ERROR    [agent_fsm:1101] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:10:40] ERROR    [agent_fsm:1102] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:40] WARNING  [agent_fsm:1224] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:40] ERROR    [agent_fsm:1078] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] --- FSM STATE: ERROR ---
[2025-06-18 13:10:40] ERROR    [agent_fsm:1101] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:10:40] ERROR    [agent_fsm:1102] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:40] WARNING  [agent_fsm:1224] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:40] ERROR    [agent_fsm:1078] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] --- FSM STATE: ERROR ---
[2025-06-18 13:10:40] ERROR    [agent_fsm:1101] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:10:40] ERROR    [agent_fsm:1102] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:40] WARNING  [agent_fsm:1224] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:40] ERROR    [agent_fsm:1078] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] --- FSM STATE: ERROR ---
[2025-06-18 13:10:40] ERROR    [agent_fsm:1101] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:10:40] ERROR    [agent_fsm:1102] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:40] WARNING  [agent_fsm:1224] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:40] ERROR    [agent_fsm:1078] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] --- FSM STATE: ERROR ---
[2025-06-18 13:10:40] ERROR    [agent_fsm:1101] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:10:40] ERROR    [agent_fsm:1102] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:40] WARNING  [agent_fsm:1224] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:40] ERROR    [agent_fsm:1078] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] --- FSM STATE: ERROR ---
[2025-06-18 13:10:40] ERROR    [agent_fsm:1101] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:10:40] ERROR    [agent_fsm:1102] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:40] WARNING  [agent_fsm:1224] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:40] ERROR    [agent_fsm:1078] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] --- FSM STATE: ERROR ---
[2025-06-18 13:10:40] ERROR    [agent_fsm:1101] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:10:40] ERROR    [agent_fsm:1102] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:40] WARNING  [agent_fsm:1224] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:40] ERROR    [agent_fsm:1078] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] --- FSM STATE: ERROR ---
[2025-06-18 13:10:40] ERROR    [agent_fsm:1101] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:10:40] ERROR    [agent_fsm:1102] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:40] WARNING  [agent_fsm:1224] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:40] ERROR    [agent_fsm:1078] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] --- FSM STATE: ERROR ---
[2025-06-18 13:10:40] ERROR    [agent_fsm:1101] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:10:40] ERROR    [agent_fsm:1102] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:40] WARNING  [agent_fsm:1224] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:40] ERROR    [agent_fsm:1078] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] --- FSM STATE: ERROR ---
[2025-06-18 13:10:40] ERROR    [agent_fsm:1101] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:10:40] ERROR    [agent_fsm:1102] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:40] WARNING  [agent_fsm:1224] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:40] ERROR    [agent_fsm:1078] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] --- FSM STATE: ERROR ---
[2025-06-18 13:10:40] ERROR    [agent_fsm:1101] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:10:40] ERROR    [agent_fsm:1102] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Errors: ['Duplicate tool call detected']
[2025-06-18 13:10:40] WARNING  [agent_fsm:1224] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] Direct loop detected - same action repeated 3 times
[2025-06-18 13:10:40] ERROR    [agent_fsm:1837] [d42b0ff4-ddd9-4a73-9fd5-7a5ce4d73d31] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:10:40] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 13:10:40] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 13:10:40] INFO     [agent_fsm:570] [c6142825-0905-499e-8b61-aeab1f69c9fe] Building resilient FSM graph
[2025-06-18 13:10:40] INFO     [agent_fsm:572] [c6142825-0905-499e-8b61-aeab1f69c9fe] FSMReActAgent graph built successfully
[2025-06-18 13:13:01] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 13:13:01] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 13:13:01] INFO     [agent_fsm:570] [c7e0b178-2cee-4cb1-8233-88d1ab4a13ab] Building resilient FSM graph
[2025-06-18 13:13:01] INFO     [agent_fsm:572] [c7e0b178-2cee-4cb1-8233-88d1ab4a13ab] FSMReActAgent graph built successfully
[2025-06-18 13:13:01] INFO     [agent_fsm:1752] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Starting resilient FSM execution
[2025-06-18 13:13:01] INFO     [agent_fsm:1807] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] FSM STATE: INITIAL
[2025-06-18 13:13:01] INFO     [agent_fsm:665] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:13:01] DEBUG    [agent_fsm:680] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Turn count: 1, Action history length: 1
[2025-06-18 13:13:02] INFO     [agent_fsm:773] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:13:02] INFO     [agent_fsm:820] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Executing tool: web_researcher with input: {'query': 'Capital of France', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 13:13:02] INFO     [agent_fsm:922] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Tool execution completed
[2025-06-18 13:13:02] INFO     [agent_fsm:773] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:13:02] WARNING  [agent_fsm:803] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:13:02] INFO     [agent_fsm:665] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:13:02] DEBUG    [agent_fsm:680] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Turn count: 2, Action history length: 2
[2025-06-18 13:13:03] WARNING  [agent_fsm:1521] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:13:03] INFO     [agent_fsm:773] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:13:03] INFO     [agent_fsm:820] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:13:03] ERROR    [agent_fsm:840] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Tool execution failed: BaseTool.__call__() got an unexpected keyword argument 'query'
[2025-06-18 13:13:03] INFO     [agent_fsm:853] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Trying alternative tool: web_researcher
[2025-06-18 13:13:03] INFO     [agent_fsm:922] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Tool execution completed
[2025-06-18 13:13:03] INFO     [agent_fsm:773] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:13:03] INFO     [agent_fsm:820] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:13:03] ERROR    [agent_fsm:840] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Tool execution failed: BaseTool.__call__() got an unexpected keyword argument 'query'
[2025-06-18 13:13:03] INFO     [agent_fsm:853] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Trying alternative tool: web_researcher
[2025-06-18 13:13:03] INFO     [agent_fsm:922] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Tool execution completed
[2025-06-18 13:13:03] INFO     [agent_fsm:773] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] --- FSM STATE: TOOL_EXECUTION (Step 4) ---
[2025-06-18 13:13:03] INFO     [agent_fsm:820] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:13:03] ERROR    [agent_fsm:840] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Tool execution failed: BaseTool.__call__() got an unexpected keyword argument 'query'
[2025-06-18 13:13:03] INFO     [agent_fsm:853] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Trying alternative tool: web_researcher
[2025-06-18 13:13:03] INFO     [agent_fsm:922] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Tool execution completed
[2025-06-18 13:13:03] INFO     [agent_fsm:773] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] --- FSM STATE: TOOL_EXECUTION (Step 5) ---
[2025-06-18 13:13:03] INFO     [agent_fsm:820] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:13:03] WARNING  [agent_fsm:831] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 13:13:03] INFO     [agent_fsm:922] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Tool execution completed
[2025-06-18 13:13:03] INFO     [agent_fsm:773] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] --- FSM STATE: TOOL_EXECUTION (Step 6) ---
[2025-06-18 13:13:03] INFO     [agent_fsm:820] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:13:03] WARNING  [agent_fsm:831] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 13:13:03] INFO     [agent_fsm:922] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Tool execution completed
[2025-06-18 13:13:03] INFO     [agent_fsm:773] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] --- FSM STATE: TOOL_EXECUTION (Step 7) ---
[2025-06-18 13:13:03] INFO     [agent_fsm:820] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:13:03] WARNING  [agent_fsm:831] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 13:13:03] INFO     [agent_fsm:922] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Tool execution completed
[2025-06-18 13:13:03] INFO     [agent_fsm:773] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] --- FSM STATE: TOOL_EXECUTION (Step 8) ---
[2025-06-18 13:13:03] INFO     [agent_fsm:820] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:13:03] WARNING  [agent_fsm:831] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 13:13:03] INFO     [agent_fsm:922] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Tool execution completed
[2025-06-18 13:13:03] INFO     [agent_fsm:773] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] --- FSM STATE: TOOL_EXECUTION (Step 9) ---
[2025-06-18 13:13:03] INFO     [agent_fsm:820] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:13:03] WARNING  [agent_fsm:831] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 13:13:03] INFO     [agent_fsm:922] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Tool execution completed
[2025-06-18 13:13:03] INFO     [agent_fsm:773] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] --- FSM STATE: TOOL_EXECUTION (Step 10) ---
[2025-06-18 13:13:03] INFO     [agent_fsm:820] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:13:03] WARNING  [agent_fsm:831] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 13:13:03] INFO     [agent_fsm:922] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Tool execution completed
[2025-06-18 13:13:03] INFO     [agent_fsm:773] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] --- FSM STATE: TOOL_EXECUTION (Step 11) ---
[2025-06-18 13:13:03] INFO     [agent_fsm:820] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:13:03] WARNING  [agent_fsm:831] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 13:13:03] INFO     [agent_fsm:922] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Tool execution completed
[2025-06-18 13:13:03] INFO     [agent_fsm:773] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] --- FSM STATE: TOOL_EXECUTION (Step 12) ---
[2025-06-18 13:13:03] INFO     [agent_fsm:820] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:13:03] WARNING  [agent_fsm:831] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 13:13:03] INFO     [agent_fsm:922] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Tool execution completed
[2025-06-18 13:13:03] INFO     [agent_fsm:773] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] --- FSM STATE: TOOL_EXECUTION (Step 13) ---
[2025-06-18 13:13:03] INFO     [agent_fsm:820] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:13:03] WARNING  [agent_fsm:831] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 13:13:03] INFO     [agent_fsm:922] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Tool execution completed
[2025-06-18 13:13:03] INFO     [agent_fsm:773] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] --- FSM STATE: TOOL_EXECUTION (Step 14) ---
[2025-06-18 13:13:03] INFO     [agent_fsm:820] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:13:03] WARNING  [agent_fsm:831] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 13:13:03] INFO     [agent_fsm:922] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Tool execution completed
[2025-06-18 13:13:03] INFO     [agent_fsm:773] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] --- FSM STATE: TOOL_EXECUTION (Step 15) ---
[2025-06-18 13:13:03] INFO     [agent_fsm:820] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:13:03] WARNING  [agent_fsm:831] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 13:13:03] INFO     [agent_fsm:922] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Tool execution completed
[2025-06-18 13:13:03] INFO     [agent_fsm:773] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] --- FSM STATE: TOOL_EXECUTION (Step 16) ---
[2025-06-18 13:13:03] INFO     [agent_fsm:820] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:13:03] WARNING  [agent_fsm:831] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 13:13:03] INFO     [agent_fsm:922] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Tool execution completed
[2025-06-18 13:13:03] INFO     [agent_fsm:773] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] --- FSM STATE: TOOL_EXECUTION (Step 17) ---
[2025-06-18 13:13:03] INFO     [agent_fsm:820] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:13:03] WARNING  [agent_fsm:831] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 13:13:03] INFO     [agent_fsm:922] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Tool execution completed
[2025-06-18 13:13:03] INFO     [agent_fsm:773] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] --- FSM STATE: TOOL_EXECUTION (Step 18) ---
[2025-06-18 13:13:03] INFO     [agent_fsm:820] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:13:03] WARNING  [agent_fsm:831] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 13:13:03] INFO     [agent_fsm:922] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Tool execution completed
[2025-06-18 13:13:03] INFO     [agent_fsm:773] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] --- FSM STATE: TOOL_EXECUTION (Step 19) ---
[2025-06-18 13:13:03] INFO     [agent_fsm:820] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Executing tool: tavily_search with input: {'query': 'Capital of France', 'max_results': 3}
[2025-06-18 13:13:03] WARNING  [agent_fsm:831] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Tool tavily_search has high failure rate, switching to web_researcher
[2025-06-18 13:13:03] INFO     [agent_fsm:922] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Tool execution completed
[2025-06-18 13:13:03] WARNING  [agent_fsm:1229] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Max steps (20) reached, terminating
[2025-06-18 13:13:03] ERROR    [agent_fsm:1078] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] --- FSM STATE: ERROR ---
[2025-06-18 13:13:03] ERROR    [agent_fsm:1101] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:13:03] ERROR    [agent_fsm:1102] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:03] WARNING  [agent_fsm:1229] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Max steps (20) reached, terminating
[2025-06-18 13:13:03] ERROR    [agent_fsm:1078] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] --- FSM STATE: ERROR ---
[2025-06-18 13:13:03] ERROR    [agent_fsm:1101] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:13:03] ERROR    [agent_fsm:1102] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:03] WARNING  [agent_fsm:1229] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Max steps (20) reached, terminating
[2025-06-18 13:13:03] ERROR    [agent_fsm:1078] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] --- FSM STATE: ERROR ---
[2025-06-18 13:13:03] ERROR    [agent_fsm:1101] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:13:03] ERROR    [agent_fsm:1102] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:03] WARNING  [agent_fsm:1229] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] Max steps (20) reached, terminating
[2025-06-18 13:13:03] ERROR    [agent_fsm:1837] [fcaf0ae4-0130-4003-9b86-564a19f89ee3] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:13:03] INFO     [agent_fsm:1752] [ba121ef6-2806-4c7e-b7a4-9b5a20c2a66b] Starting resilient FSM execution
[2025-06-18 13:13:03] INFO     [agent_fsm:1807] [ba121ef6-2806-4c7e-b7a4-9b5a20c2a66b] FSM STATE: INITIAL
[2025-06-18 13:13:03] INFO     [agent_fsm:665] [ba121ef6-2806-4c7e-b7a4-9b5a20c2a66b] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:13:03] DEBUG    [agent_fsm:680] [ba121ef6-2806-4c7e-b7a4-9b5a20c2a66b] Turn count: 1, Action history length: 1
[2025-06-18 13:13:04] WARNING  [agent_fsm:1521] [ba121ef6-2806-4c7e-b7a4-9b5a20c2a66b] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:13:04] WARNING  [agent_fsm:1521] [ba121ef6-2806-4c7e-b7a4-9b5a20c2a66b] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:13:04] INFO     [agent_fsm:773] [ba121ef6-2806-4c7e-b7a4-9b5a20c2a66b] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:13:04] INFO     [agent_fsm:820] [ba121ef6-2806-4c7e-b7a4-9b5a20c2a66b] Executing tool: web_researcher with input: {'query': 'definition of a leap year', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 13:13:04] INFO     [agent_fsm:922] [ba121ef6-2806-4c7e-b7a4-9b5a20c2a66b] Tool execution completed
[2025-06-18 13:13:04] INFO     [agent_fsm:773] [ba121ef6-2806-4c7e-b7a4-9b5a20c2a66b] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:13:04] WARNING  [agent_fsm:803] [ba121ef6-2806-4c7e-b7a4-9b5a20c2a66b] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:13:04] INFO     [agent_fsm:665] [ba121ef6-2806-4c7e-b7a4-9b5a20c2a66b] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:13:04] DEBUG    [agent_fsm:680] [ba121ef6-2806-4c7e-b7a4-9b5a20c2a66b] Turn count: 2, Action history length: 2
[2025-06-18 13:13:05] ERROR    [agent_fsm:763] [ba121ef6-2806-4c7e-b7a4-9b5a20c2a66b] Error in planning node: no healthy upstream
[2025-06-18 13:13:05] ERROR    [agent_fsm:1078] [ba121ef6-2806-4c7e-b7a4-9b5a20c2a66b] --- FSM STATE: ERROR ---
[2025-06-18 13:13:05] ERROR    [agent_fsm:1101] [ba121ef6-2806-4c7e-b7a4-9b5a20c2a66b] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:13:05] ERROR    [agent_fsm:1102] [ba121ef6-2806-4c7e-b7a4-9b5a20c2a66b] Errors: ['no healthy upstream']
[2025-06-18 13:13:05] INFO     [agent_fsm:1819] [ba121ef6-2806-4c7e-b7a4-9b5a20c2a66b] FSM execution completed successfully
[2025-06-18 13:13:05] INFO     [agent_fsm:1752] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Starting resilient FSM execution
[2025-06-18 13:13:05] INFO     [agent_fsm:1807] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] FSM STATE: INITIAL
[2025-06-18 13:13:05] INFO     [agent_fsm:665] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:13:05] DEBUG    [agent_fsm:680] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Turn count: 1, Action history length: 1
[2025-06-18 13:13:06] WARNING  [agent_fsm:1521] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:13:06] WARNING  [agent_fsm:1521] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:13:06] INFO     [agent_fsm:773] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:13:06] INFO     [agent_fsm:820] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 13:13:06] INFO     [agent_fsm:922] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Tool execution completed
[2025-06-18 13:13:06] INFO     [agent_fsm:773] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:13:06] WARNING  [agent_fsm:803] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:13:06] INFO     [agent_fsm:665] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:13:06] DEBUG    [agent_fsm:680] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Turn count: 2, Action history length: 2
[2025-06-18 13:13:07] WARNING  [agent_fsm:1521] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:13:07] WARNING  [agent_fsm:1521] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:13:07] WARNING  [agent_fsm:1521] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:13:07] INFO     [agent_fsm:773] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:13:07] INFO     [agent_fsm:820] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Executing tool: file_reader with input: {'filename': 'output.txt', 'lines': 1}
[2025-06-18 13:13:07] INFO     [agent_fsm:922] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Tool execution completed
[2025-06-18 13:13:07] INFO     [agent_fsm:773] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:13:07] WARNING  [agent_fsm:803] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:13:07] INFO     [agent_fsm:665] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:13:07] DEBUG    [agent_fsm:680] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Turn count: 3, Action history length: 3
[2025-06-18 13:13:08] WARNING  [agent_fsm:1521] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:13:08] WARNING  [agent_fsm:1521] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:13:08] WARNING  [agent_fsm:1521] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:13:08] WARNING  [agent_fsm:1224] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:08] ERROR    [agent_fsm:1078] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] --- FSM STATE: ERROR ---
[2025-06-18 13:13:08] ERROR    [agent_fsm:1101] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:13:08] ERROR    [agent_fsm:1102] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:08] WARNING  [agent_fsm:1224] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:08] ERROR    [agent_fsm:1078] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] --- FSM STATE: ERROR ---
[2025-06-18 13:13:08] ERROR    [agent_fsm:1101] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:13:08] ERROR    [agent_fsm:1102] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:08] WARNING  [agent_fsm:1224] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:08] ERROR    [agent_fsm:1078] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] --- FSM STATE: ERROR ---
[2025-06-18 13:13:08] ERROR    [agent_fsm:1101] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:13:08] ERROR    [agent_fsm:1102] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:08] WARNING  [agent_fsm:1224] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:08] ERROR    [agent_fsm:1078] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] --- FSM STATE: ERROR ---
[2025-06-18 13:13:08] ERROR    [agent_fsm:1101] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:13:08] ERROR    [agent_fsm:1102] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:08] WARNING  [agent_fsm:1224] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:08] ERROR    [agent_fsm:1078] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] --- FSM STATE: ERROR ---
[2025-06-18 13:13:08] ERROR    [agent_fsm:1101] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:13:08] ERROR    [agent_fsm:1102] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:08] WARNING  [agent_fsm:1224] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:08] ERROR    [agent_fsm:1078] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] --- FSM STATE: ERROR ---
[2025-06-18 13:13:08] ERROR    [agent_fsm:1101] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:13:08] ERROR    [agent_fsm:1102] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:08] WARNING  [agent_fsm:1224] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:08] ERROR    [agent_fsm:1078] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] --- FSM STATE: ERROR ---
[2025-06-18 13:13:08] ERROR    [agent_fsm:1101] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:13:08] ERROR    [agent_fsm:1102] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:08] WARNING  [agent_fsm:1224] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:08] ERROR    [agent_fsm:1078] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] --- FSM STATE: ERROR ---
[2025-06-18 13:13:08] ERROR    [agent_fsm:1101] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:13:08] ERROR    [agent_fsm:1102] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:08] WARNING  [agent_fsm:1224] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:08] ERROR    [agent_fsm:1078] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] --- FSM STATE: ERROR ---
[2025-06-18 13:13:08] ERROR    [agent_fsm:1101] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:13:08] ERROR    [agent_fsm:1102] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:08] WARNING  [agent_fsm:1224] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:08] ERROR    [agent_fsm:1078] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] --- FSM STATE: ERROR ---
[2025-06-18 13:13:08] ERROR    [agent_fsm:1101] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:13:08] ERROR    [agent_fsm:1102] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:08] WARNING  [agent_fsm:1224] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:08] ERROR    [agent_fsm:1078] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] --- FSM STATE: ERROR ---
[2025-06-18 13:13:08] ERROR    [agent_fsm:1101] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:13:08] ERROR    [agent_fsm:1102] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:08] WARNING  [agent_fsm:1224] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:08] ERROR    [agent_fsm:1078] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] --- FSM STATE: ERROR ---
[2025-06-18 13:13:08] ERROR    [agent_fsm:1101] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:13:08] ERROR    [agent_fsm:1102] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:08] WARNING  [agent_fsm:1224] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:08] ERROR    [agent_fsm:1078] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] --- FSM STATE: ERROR ---
[2025-06-18 13:13:08] ERROR    [agent_fsm:1101] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:13:08] ERROR    [agent_fsm:1102] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:08] WARNING  [agent_fsm:1224] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:08] ERROR    [agent_fsm:1078] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] --- FSM STATE: ERROR ---
[2025-06-18 13:13:08] ERROR    [agent_fsm:1101] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:13:08] ERROR    [agent_fsm:1102] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:08] WARNING  [agent_fsm:1224] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:08] ERROR    [agent_fsm:1078] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] --- FSM STATE: ERROR ---
[2025-06-18 13:13:08] ERROR    [agent_fsm:1101] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:13:08] ERROR    [agent_fsm:1102] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:08] WARNING  [agent_fsm:1224] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:08] ERROR    [agent_fsm:1078] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] --- FSM STATE: ERROR ---
[2025-06-18 13:13:08] ERROR    [agent_fsm:1101] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:13:08] ERROR    [agent_fsm:1102] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:08] WARNING  [agent_fsm:1224] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:08] ERROR    [agent_fsm:1078] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] --- FSM STATE: ERROR ---
[2025-06-18 13:13:08] ERROR    [agent_fsm:1101] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:13:08] ERROR    [agent_fsm:1102] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:08] WARNING  [agent_fsm:1224] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:08] ERROR    [agent_fsm:1078] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] --- FSM STATE: ERROR ---
[2025-06-18 13:13:08] ERROR    [agent_fsm:1101] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:13:08] ERROR    [agent_fsm:1102] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:08] WARNING  [agent_fsm:1224] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:08] ERROR    [agent_fsm:1837] [6a1ed574-62f7-45da-a81f-2b46ff94d53b] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:13:08] INFO     [agent_fsm:1752] [73d0a81f-0910-4981-a25c-0da8d660b62c] Starting resilient FSM execution
[2025-06-18 13:13:08] INFO     [agent_fsm:1807] [73d0a81f-0910-4981-a25c-0da8d660b62c] FSM STATE: INITIAL
[2025-06-18 13:13:08] INFO     [agent_fsm:665] [73d0a81f-0910-4981-a25c-0da8d660b62c] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:13:08] DEBUG    [agent_fsm:680] [73d0a81f-0910-4981-a25c-0da8d660b62c] Turn count: 1, Action history length: 1
[2025-06-18 13:13:09] WARNING  [agent_fsm:1521] [73d0a81f-0910-4981-a25c-0da8d660b62c] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:13:09] WARNING  [agent_fsm:1521] [73d0a81f-0910-4981-a25c-0da8d660b62c] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:13:09] WARNING  [agent_fsm:1521] [73d0a81f-0910-4981-a25c-0da8d660b62c] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:13:09] INFO     [agent_fsm:773] [73d0a81f-0910-4981-a25c-0da8d660b62c] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:13:09] INFO     [agent_fsm:820] [73d0a81f-0910-4981-a25c-0da8d660b62c] Executing tool: web_researcher with input: {'query': 'largest planet in our solar system', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 13:13:09] INFO     [agent_fsm:922] [73d0a81f-0910-4981-a25c-0da8d660b62c] Tool execution completed
[2025-06-18 13:13:09] INFO     [agent_fsm:773] [73d0a81f-0910-4981-a25c-0da8d660b62c] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:13:09] WARNING  [agent_fsm:803] [73d0a81f-0910-4981-a25c-0da8d660b62c] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:13:09] INFO     [agent_fsm:665] [73d0a81f-0910-4981-a25c-0da8d660b62c] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:13:09] DEBUG    [agent_fsm:680] [73d0a81f-0910-4981-a25c-0da8d660b62c] Turn count: 2, Action history length: 2
[2025-06-18 13:13:10] WARNING  [agent_fsm:1521] [73d0a81f-0910-4981-a25c-0da8d660b62c] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:13:10] WARNING  [agent_fsm:1521] [73d0a81f-0910-4981-a25c-0da8d660b62c] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:13:10] WARNING  [agent_fsm:1521] [73d0a81f-0910-4981-a25c-0da8d660b62c] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:13:10] INFO     [agent_fsm:773] [73d0a81f-0910-4981-a25c-0da8d660b62c] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:13:10] INFO     [agent_fsm:820] [73d0a81f-0910-4981-a25c-0da8d660b62c] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 13:13:10] INFO     [agent_fsm:922] [73d0a81f-0910-4981-a25c-0da8d660b62c] Tool execution completed
[2025-06-18 13:13:10] INFO     [agent_fsm:773] [73d0a81f-0910-4981-a25c-0da8d660b62c] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:13:10] WARNING  [agent_fsm:803] [73d0a81f-0910-4981-a25c-0da8d660b62c] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:13:10] INFO     [agent_fsm:665] [73d0a81f-0910-4981-a25c-0da8d660b62c] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:13:10] DEBUG    [agent_fsm:680] [73d0a81f-0910-4981-a25c-0da8d660b62c] Turn count: 3, Action history length: 3
[2025-06-18 13:13:10] WARNING  [agent_fsm:1521] [73d0a81f-0910-4981-a25c-0da8d660b62c] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:13:10] WARNING  [agent_fsm:1521] [73d0a81f-0910-4981-a25c-0da8d660b62c] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:13:10] WARNING  [agent_fsm:1521] [73d0a81f-0910-4981-a25c-0da8d660b62c] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:13:10] WARNING  [agent_fsm:1224] [73d0a81f-0910-4981-a25c-0da8d660b62c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:10] ERROR    [agent_fsm:1078] [73d0a81f-0910-4981-a25c-0da8d660b62c] --- FSM STATE: ERROR ---
[2025-06-18 13:13:10] ERROR    [agent_fsm:1101] [73d0a81f-0910-4981-a25c-0da8d660b62c] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:13:10] ERROR    [agent_fsm:1102] [73d0a81f-0910-4981-a25c-0da8d660b62c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:10] WARNING  [agent_fsm:1224] [73d0a81f-0910-4981-a25c-0da8d660b62c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:10] ERROR    [agent_fsm:1078] [73d0a81f-0910-4981-a25c-0da8d660b62c] --- FSM STATE: ERROR ---
[2025-06-18 13:13:10] ERROR    [agent_fsm:1101] [73d0a81f-0910-4981-a25c-0da8d660b62c] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:13:10] ERROR    [agent_fsm:1102] [73d0a81f-0910-4981-a25c-0da8d660b62c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:10] WARNING  [agent_fsm:1224] [73d0a81f-0910-4981-a25c-0da8d660b62c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:10] ERROR    [agent_fsm:1078] [73d0a81f-0910-4981-a25c-0da8d660b62c] --- FSM STATE: ERROR ---
[2025-06-18 13:13:10] ERROR    [agent_fsm:1101] [73d0a81f-0910-4981-a25c-0da8d660b62c] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:13:10] ERROR    [agent_fsm:1102] [73d0a81f-0910-4981-a25c-0da8d660b62c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:10] WARNING  [agent_fsm:1224] [73d0a81f-0910-4981-a25c-0da8d660b62c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:10] ERROR    [agent_fsm:1078] [73d0a81f-0910-4981-a25c-0da8d660b62c] --- FSM STATE: ERROR ---
[2025-06-18 13:13:10] ERROR    [agent_fsm:1101] [73d0a81f-0910-4981-a25c-0da8d660b62c] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:13:10] ERROR    [agent_fsm:1102] [73d0a81f-0910-4981-a25c-0da8d660b62c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:10] WARNING  [agent_fsm:1224] [73d0a81f-0910-4981-a25c-0da8d660b62c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:10] ERROR    [agent_fsm:1078] [73d0a81f-0910-4981-a25c-0da8d660b62c] --- FSM STATE: ERROR ---
[2025-06-18 13:13:10] ERROR    [agent_fsm:1101] [73d0a81f-0910-4981-a25c-0da8d660b62c] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:13:10] ERROR    [agent_fsm:1102] [73d0a81f-0910-4981-a25c-0da8d660b62c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:10] WARNING  [agent_fsm:1224] [73d0a81f-0910-4981-a25c-0da8d660b62c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:10] ERROR    [agent_fsm:1078] [73d0a81f-0910-4981-a25c-0da8d660b62c] --- FSM STATE: ERROR ---
[2025-06-18 13:13:10] ERROR    [agent_fsm:1101] [73d0a81f-0910-4981-a25c-0da8d660b62c] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:13:10] ERROR    [agent_fsm:1102] [73d0a81f-0910-4981-a25c-0da8d660b62c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:10] WARNING  [agent_fsm:1224] [73d0a81f-0910-4981-a25c-0da8d660b62c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:10] ERROR    [agent_fsm:1078] [73d0a81f-0910-4981-a25c-0da8d660b62c] --- FSM STATE: ERROR ---
[2025-06-18 13:13:10] ERROR    [agent_fsm:1101] [73d0a81f-0910-4981-a25c-0da8d660b62c] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:13:10] ERROR    [agent_fsm:1102] [73d0a81f-0910-4981-a25c-0da8d660b62c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:10] WARNING  [agent_fsm:1224] [73d0a81f-0910-4981-a25c-0da8d660b62c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:10] ERROR    [agent_fsm:1078] [73d0a81f-0910-4981-a25c-0da8d660b62c] --- FSM STATE: ERROR ---
[2025-06-18 13:13:10] ERROR    [agent_fsm:1101] [73d0a81f-0910-4981-a25c-0da8d660b62c] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:13:10] ERROR    [agent_fsm:1102] [73d0a81f-0910-4981-a25c-0da8d660b62c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:10] WARNING  [agent_fsm:1224] [73d0a81f-0910-4981-a25c-0da8d660b62c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:10] ERROR    [agent_fsm:1078] [73d0a81f-0910-4981-a25c-0da8d660b62c] --- FSM STATE: ERROR ---
[2025-06-18 13:13:10] ERROR    [agent_fsm:1101] [73d0a81f-0910-4981-a25c-0da8d660b62c] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:13:10] ERROR    [agent_fsm:1102] [73d0a81f-0910-4981-a25c-0da8d660b62c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:10] WARNING  [agent_fsm:1224] [73d0a81f-0910-4981-a25c-0da8d660b62c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:10] ERROR    [agent_fsm:1078] [73d0a81f-0910-4981-a25c-0da8d660b62c] --- FSM STATE: ERROR ---
[2025-06-18 13:13:10] ERROR    [agent_fsm:1101] [73d0a81f-0910-4981-a25c-0da8d660b62c] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:13:10] ERROR    [agent_fsm:1102] [73d0a81f-0910-4981-a25c-0da8d660b62c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:10] WARNING  [agent_fsm:1224] [73d0a81f-0910-4981-a25c-0da8d660b62c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:10] ERROR    [agent_fsm:1078] [73d0a81f-0910-4981-a25c-0da8d660b62c] --- FSM STATE: ERROR ---
[2025-06-18 13:13:10] ERROR    [agent_fsm:1101] [73d0a81f-0910-4981-a25c-0da8d660b62c] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:13:10] ERROR    [agent_fsm:1102] [73d0a81f-0910-4981-a25c-0da8d660b62c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:10] WARNING  [agent_fsm:1224] [73d0a81f-0910-4981-a25c-0da8d660b62c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:10] ERROR    [agent_fsm:1078] [73d0a81f-0910-4981-a25c-0da8d660b62c] --- FSM STATE: ERROR ---
[2025-06-18 13:13:10] ERROR    [agent_fsm:1101] [73d0a81f-0910-4981-a25c-0da8d660b62c] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:13:10] ERROR    [agent_fsm:1102] [73d0a81f-0910-4981-a25c-0da8d660b62c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:10] WARNING  [agent_fsm:1224] [73d0a81f-0910-4981-a25c-0da8d660b62c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:10] ERROR    [agent_fsm:1078] [73d0a81f-0910-4981-a25c-0da8d660b62c] --- FSM STATE: ERROR ---
[2025-06-18 13:13:10] ERROR    [agent_fsm:1101] [73d0a81f-0910-4981-a25c-0da8d660b62c] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:13:10] ERROR    [agent_fsm:1102] [73d0a81f-0910-4981-a25c-0da8d660b62c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:10] WARNING  [agent_fsm:1224] [73d0a81f-0910-4981-a25c-0da8d660b62c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:10] ERROR    [agent_fsm:1078] [73d0a81f-0910-4981-a25c-0da8d660b62c] --- FSM STATE: ERROR ---
[2025-06-18 13:13:10] ERROR    [agent_fsm:1101] [73d0a81f-0910-4981-a25c-0da8d660b62c] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:13:10] ERROR    [agent_fsm:1102] [73d0a81f-0910-4981-a25c-0da8d660b62c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:10] WARNING  [agent_fsm:1224] [73d0a81f-0910-4981-a25c-0da8d660b62c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:10] ERROR    [agent_fsm:1078] [73d0a81f-0910-4981-a25c-0da8d660b62c] --- FSM STATE: ERROR ---
[2025-06-18 13:13:10] ERROR    [agent_fsm:1101] [73d0a81f-0910-4981-a25c-0da8d660b62c] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:13:10] ERROR    [agent_fsm:1102] [73d0a81f-0910-4981-a25c-0da8d660b62c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:10] WARNING  [agent_fsm:1224] [73d0a81f-0910-4981-a25c-0da8d660b62c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:10] ERROR    [agent_fsm:1078] [73d0a81f-0910-4981-a25c-0da8d660b62c] --- FSM STATE: ERROR ---
[2025-06-18 13:13:10] ERROR    [agent_fsm:1101] [73d0a81f-0910-4981-a25c-0da8d660b62c] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:13:10] ERROR    [agent_fsm:1102] [73d0a81f-0910-4981-a25c-0da8d660b62c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:10] WARNING  [agent_fsm:1224] [73d0a81f-0910-4981-a25c-0da8d660b62c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:10] ERROR    [agent_fsm:1078] [73d0a81f-0910-4981-a25c-0da8d660b62c] --- FSM STATE: ERROR ---
[2025-06-18 13:13:10] ERROR    [agent_fsm:1101] [73d0a81f-0910-4981-a25c-0da8d660b62c] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:13:10] ERROR    [agent_fsm:1102] [73d0a81f-0910-4981-a25c-0da8d660b62c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:10] WARNING  [agent_fsm:1224] [73d0a81f-0910-4981-a25c-0da8d660b62c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:10] ERROR    [agent_fsm:1078] [73d0a81f-0910-4981-a25c-0da8d660b62c] --- FSM STATE: ERROR ---
[2025-06-18 13:13:10] ERROR    [agent_fsm:1101] [73d0a81f-0910-4981-a25c-0da8d660b62c] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:13:10] ERROR    [agent_fsm:1102] [73d0a81f-0910-4981-a25c-0da8d660b62c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:10] WARNING  [agent_fsm:1224] [73d0a81f-0910-4981-a25c-0da8d660b62c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:10] ERROR    [agent_fsm:1837] [73d0a81f-0910-4981-a25c-0da8d660b62c] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:13:10] INFO     [agent_fsm:1752] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Starting resilient FSM execution
[2025-06-18 13:13:10] INFO     [agent_fsm:1807] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] FSM STATE: INITIAL
[2025-06-18 13:13:10] INFO     [agent_fsm:665] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:13:10] DEBUG    [agent_fsm:680] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Turn count: 1, Action history length: 1
[2025-06-18 13:13:11] WARNING  [agent_fsm:1521] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:13:11] INFO     [agent_fsm:773] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:13:11] INFO     [agent_fsm:820] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Executing tool: web_researcher with input: {'query': 'extract video URL from googleusercontent.com/costa-rica/birds', 'date_range': None, 'search_type': 'general', 'source': 'search'}
[2025-06-18 13:13:11] INFO     [agent_fsm:922] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Tool execution completed
[2025-06-18 13:13:11] INFO     [agent_fsm:773] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:13:11] WARNING  [agent_fsm:803] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:13:11] INFO     [agent_fsm:665] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:13:11] DEBUG    [agent_fsm:680] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Turn count: 2, Action history length: 2
[2025-06-18 13:13:12] WARNING  [agent_fsm:1521] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:13:12] WARNING  [agent_fsm:1521] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:13:12] INFO     [agent_fsm:773] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:13:12] INFO     [agent_fsm:820] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Executing tool: gaia_video_analyzer with input: {'video_url': 'https://googleusercontent.com/costa-rica/birds'}
[2025-06-18 13:13:12] INFO     [agent_fsm:922] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Tool execution completed
[2025-06-18 13:13:12] INFO     [agent_fsm:773] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:13:12] WARNING  [agent_fsm:803] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:13:12] INFO     [agent_fsm:665] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:13:12] DEBUG    [agent_fsm:680] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Turn count: 3, Action history length: 3
[2025-06-18 13:13:13] WARNING  [agent_fsm:1521] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:13:13] WARNING  [agent_fsm:1521] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:13:13] WARNING  [agent_fsm:1224] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:13] ERROR    [agent_fsm:1078] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] --- FSM STATE: ERROR ---
[2025-06-18 13:13:13] ERROR    [agent_fsm:1101] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:13:13] ERROR    [agent_fsm:1102] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:13] WARNING  [agent_fsm:1224] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:13] ERROR    [agent_fsm:1078] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] --- FSM STATE: ERROR ---
[2025-06-18 13:13:13] ERROR    [agent_fsm:1101] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:13:13] ERROR    [agent_fsm:1102] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:13] WARNING  [agent_fsm:1224] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:13] ERROR    [agent_fsm:1078] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] --- FSM STATE: ERROR ---
[2025-06-18 13:13:13] ERROR    [agent_fsm:1101] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:13:13] ERROR    [agent_fsm:1102] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:13] WARNING  [agent_fsm:1224] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:13] ERROR    [agent_fsm:1078] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] --- FSM STATE: ERROR ---
[2025-06-18 13:13:13] ERROR    [agent_fsm:1101] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:13:13] ERROR    [agent_fsm:1102] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:13] WARNING  [agent_fsm:1224] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:13] ERROR    [agent_fsm:1078] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] --- FSM STATE: ERROR ---
[2025-06-18 13:13:13] ERROR    [agent_fsm:1101] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:13:13] ERROR    [agent_fsm:1102] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:13] WARNING  [agent_fsm:1224] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:13] ERROR    [agent_fsm:1078] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] --- FSM STATE: ERROR ---
[2025-06-18 13:13:13] ERROR    [agent_fsm:1101] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:13:13] ERROR    [agent_fsm:1102] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:13] WARNING  [agent_fsm:1224] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:13] ERROR    [agent_fsm:1078] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] --- FSM STATE: ERROR ---
[2025-06-18 13:13:13] ERROR    [agent_fsm:1101] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:13:13] ERROR    [agent_fsm:1102] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:13] WARNING  [agent_fsm:1224] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:13] ERROR    [agent_fsm:1078] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] --- FSM STATE: ERROR ---
[2025-06-18 13:13:13] ERROR    [agent_fsm:1101] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:13:13] ERROR    [agent_fsm:1102] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:13] WARNING  [agent_fsm:1224] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:13] ERROR    [agent_fsm:1078] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] --- FSM STATE: ERROR ---
[2025-06-18 13:13:13] ERROR    [agent_fsm:1101] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:13:13] ERROR    [agent_fsm:1102] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:13] WARNING  [agent_fsm:1224] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:13] ERROR    [agent_fsm:1078] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] --- FSM STATE: ERROR ---
[2025-06-18 13:13:13] ERROR    [agent_fsm:1101] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:13:13] ERROR    [agent_fsm:1102] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:13] WARNING  [agent_fsm:1224] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:13] ERROR    [agent_fsm:1078] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] --- FSM STATE: ERROR ---
[2025-06-18 13:13:13] ERROR    [agent_fsm:1101] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:13:13] ERROR    [agent_fsm:1102] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:13] WARNING  [agent_fsm:1224] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:13] ERROR    [agent_fsm:1078] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] --- FSM STATE: ERROR ---
[2025-06-18 13:13:13] ERROR    [agent_fsm:1101] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:13:13] ERROR    [agent_fsm:1102] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:13] WARNING  [agent_fsm:1224] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:13] ERROR    [agent_fsm:1078] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] --- FSM STATE: ERROR ---
[2025-06-18 13:13:13] ERROR    [agent_fsm:1101] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:13:13] ERROR    [agent_fsm:1102] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:13] WARNING  [agent_fsm:1224] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:13] ERROR    [agent_fsm:1078] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] --- FSM STATE: ERROR ---
[2025-06-18 13:13:13] ERROR    [agent_fsm:1101] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:13:13] ERROR    [agent_fsm:1102] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:13] WARNING  [agent_fsm:1224] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:13] ERROR    [agent_fsm:1078] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] --- FSM STATE: ERROR ---
[2025-06-18 13:13:13] ERROR    [agent_fsm:1101] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:13:13] ERROR    [agent_fsm:1102] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:13] WARNING  [agent_fsm:1224] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:13] ERROR    [agent_fsm:1078] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] --- FSM STATE: ERROR ---
[2025-06-18 13:13:13] ERROR    [agent_fsm:1101] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:13:13] ERROR    [agent_fsm:1102] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:13] WARNING  [agent_fsm:1224] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:13] ERROR    [agent_fsm:1078] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] --- FSM STATE: ERROR ---
[2025-06-18 13:13:13] ERROR    [agent_fsm:1101] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:13:13] ERROR    [agent_fsm:1102] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:13] WARNING  [agent_fsm:1224] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:13] ERROR    [agent_fsm:1078] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] --- FSM STATE: ERROR ---
[2025-06-18 13:13:13] ERROR    [agent_fsm:1101] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:13:13] ERROR    [agent_fsm:1102] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:13] WARNING  [agent_fsm:1224] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:13] ERROR    [agent_fsm:1837] [b7dfe170-b441-4fbf-8b97-43a0b1c7decb] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:13:13] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 13:13:13] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 13:13:13] INFO     [agent_fsm:570] [26309815-b764-47a9-a03c-5169ab9c1108] Building resilient FSM graph
[2025-06-18 13:13:13] INFO     [agent_fsm:572] [26309815-b764-47a9-a03c-5169ab9c1108] FSMReActAgent graph built successfully
[2025-06-18 13:13:13] INFO     [agent_fsm:1752] [7c633a71-6d59-4036-a98d-b0aaa905d325] Starting resilient FSM execution
[2025-06-18 13:13:13] INFO     [agent_fsm:1807] [7c633a71-6d59-4036-a98d-b0aaa905d325] FSM STATE: INITIAL
[2025-06-18 13:13:13] INFO     [agent_fsm:665] [7c633a71-6d59-4036-a98d-b0aaa905d325] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:13:13] DEBUG    [agent_fsm:680] [7c633a71-6d59-4036-a98d-b0aaa905d325] Turn count: 1, Action history length: 1
[2025-06-18 13:13:14] WARNING  [agent_fsm:1521] [7c633a71-6d59-4036-a98d-b0aaa905d325] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:13:14] WARNING  [agent_fsm:1521] [7c633a71-6d59-4036-a98d-b0aaa905d325] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:13:14] INFO     [agent_fsm:773] [7c633a71-6d59-4036-a98d-b0aaa905d325] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:13:14] INFO     [agent_fsm:820] [7c633a71-6d59-4036-a98d-b0aaa905d325] Executing tool: advanced_file_reader with input: {'filename': 'path/to/attached_excel_file.xlsx'}
[2025-06-18 13:13:14] INFO     [agent_fsm:922] [7c633a71-6d59-4036-a98d-b0aaa905d325] Tool execution completed
[2025-06-18 13:13:14] INFO     [agent_fsm:773] [7c633a71-6d59-4036-a98d-b0aaa905d325] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:13:14] WARNING  [agent_fsm:803] [7c633a71-6d59-4036-a98d-b0aaa905d325] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:13:14] INFO     [agent_fsm:665] [7c633a71-6d59-4036-a98d-b0aaa905d325] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:13:14] DEBUG    [agent_fsm:680] [7c633a71-6d59-4036-a98d-b0aaa905d325] Turn count: 2, Action history length: 2
[2025-06-18 13:13:15] WARNING  [agent_fsm:1521] [7c633a71-6d59-4036-a98d-b0aaa905d325] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:13:15] INFO     [agent_fsm:773] [7c633a71-6d59-4036-a98d-b0aaa905d325] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:13:15] INFO     [agent_fsm:820] [7c633a71-6d59-4036-a98d-b0aaa905d325] Executing tool: file_reader with input: {'filename': 'path/to/attached/excel/file.xlsx', 'lines': -1}
[2025-06-18 13:13:15] INFO     [agent_fsm:922] [7c633a71-6d59-4036-a98d-b0aaa905d325] Tool execution completed
[2025-06-18 13:13:15] INFO     [agent_fsm:773] [7c633a71-6d59-4036-a98d-b0aaa905d325] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:13:15] WARNING  [agent_fsm:803] [7c633a71-6d59-4036-a98d-b0aaa905d325] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:13:15] INFO     [agent_fsm:665] [7c633a71-6d59-4036-a98d-b0aaa905d325] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:13:15] DEBUG    [agent_fsm:680] [7c633a71-6d59-4036-a98d-b0aaa905d325] Turn count: 3, Action history length: 3
[2025-06-18 13:13:16] WARNING  [agent_fsm:1521] [7c633a71-6d59-4036-a98d-b0aaa905d325] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:13:16] WARNING  [agent_fsm:1521] [7c633a71-6d59-4036-a98d-b0aaa905d325] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 13:13:16] WARNING  [agent_fsm:1521] [7c633a71-6d59-4036-a98d-b0aaa905d325] Failed to parse JSON parameters for step 8, using fallback parser
[2025-06-18 13:13:16] WARNING  [agent_fsm:1224] [7c633a71-6d59-4036-a98d-b0aaa905d325] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:16] ERROR    [agent_fsm:1078] [7c633a71-6d59-4036-a98d-b0aaa905d325] --- FSM STATE: ERROR ---
[2025-06-18 13:13:16] ERROR    [agent_fsm:1101] [7c633a71-6d59-4036-a98d-b0aaa905d325] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:13:16] ERROR    [agent_fsm:1102] [7c633a71-6d59-4036-a98d-b0aaa905d325] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:16] WARNING  [agent_fsm:1224] [7c633a71-6d59-4036-a98d-b0aaa905d325] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:16] ERROR    [agent_fsm:1078] [7c633a71-6d59-4036-a98d-b0aaa905d325] --- FSM STATE: ERROR ---
[2025-06-18 13:13:16] ERROR    [agent_fsm:1101] [7c633a71-6d59-4036-a98d-b0aaa905d325] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:13:16] ERROR    [agent_fsm:1102] [7c633a71-6d59-4036-a98d-b0aaa905d325] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:16] WARNING  [agent_fsm:1224] [7c633a71-6d59-4036-a98d-b0aaa905d325] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:16] ERROR    [agent_fsm:1078] [7c633a71-6d59-4036-a98d-b0aaa905d325] --- FSM STATE: ERROR ---
[2025-06-18 13:13:16] ERROR    [agent_fsm:1101] [7c633a71-6d59-4036-a98d-b0aaa905d325] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:13:16] ERROR    [agent_fsm:1102] [7c633a71-6d59-4036-a98d-b0aaa905d325] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:16] WARNING  [agent_fsm:1224] [7c633a71-6d59-4036-a98d-b0aaa905d325] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:16] ERROR    [agent_fsm:1078] [7c633a71-6d59-4036-a98d-b0aaa905d325] --- FSM STATE: ERROR ---
[2025-06-18 13:13:16] ERROR    [agent_fsm:1101] [7c633a71-6d59-4036-a98d-b0aaa905d325] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:13:16] ERROR    [agent_fsm:1102] [7c633a71-6d59-4036-a98d-b0aaa905d325] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:16] WARNING  [agent_fsm:1224] [7c633a71-6d59-4036-a98d-b0aaa905d325] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:16] ERROR    [agent_fsm:1078] [7c633a71-6d59-4036-a98d-b0aaa905d325] --- FSM STATE: ERROR ---
[2025-06-18 13:13:16] ERROR    [agent_fsm:1101] [7c633a71-6d59-4036-a98d-b0aaa905d325] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:13:16] ERROR    [agent_fsm:1102] [7c633a71-6d59-4036-a98d-b0aaa905d325] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:16] WARNING  [agent_fsm:1224] [7c633a71-6d59-4036-a98d-b0aaa905d325] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:16] ERROR    [agent_fsm:1078] [7c633a71-6d59-4036-a98d-b0aaa905d325] --- FSM STATE: ERROR ---
[2025-06-18 13:13:16] ERROR    [agent_fsm:1101] [7c633a71-6d59-4036-a98d-b0aaa905d325] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:13:16] ERROR    [agent_fsm:1102] [7c633a71-6d59-4036-a98d-b0aaa905d325] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:16] WARNING  [agent_fsm:1224] [7c633a71-6d59-4036-a98d-b0aaa905d325] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:16] ERROR    [agent_fsm:1078] [7c633a71-6d59-4036-a98d-b0aaa905d325] --- FSM STATE: ERROR ---
[2025-06-18 13:13:16] ERROR    [agent_fsm:1101] [7c633a71-6d59-4036-a98d-b0aaa905d325] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:13:16] ERROR    [agent_fsm:1102] [7c633a71-6d59-4036-a98d-b0aaa905d325] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:16] WARNING  [agent_fsm:1224] [7c633a71-6d59-4036-a98d-b0aaa905d325] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:16] ERROR    [agent_fsm:1078] [7c633a71-6d59-4036-a98d-b0aaa905d325] --- FSM STATE: ERROR ---
[2025-06-18 13:13:16] ERROR    [agent_fsm:1101] [7c633a71-6d59-4036-a98d-b0aaa905d325] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:13:16] ERROR    [agent_fsm:1102] [7c633a71-6d59-4036-a98d-b0aaa905d325] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:16] WARNING  [agent_fsm:1224] [7c633a71-6d59-4036-a98d-b0aaa905d325] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:16] ERROR    [agent_fsm:1078] [7c633a71-6d59-4036-a98d-b0aaa905d325] --- FSM STATE: ERROR ---
[2025-06-18 13:13:16] ERROR    [agent_fsm:1101] [7c633a71-6d59-4036-a98d-b0aaa905d325] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:13:16] ERROR    [agent_fsm:1102] [7c633a71-6d59-4036-a98d-b0aaa905d325] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:16] WARNING  [agent_fsm:1224] [7c633a71-6d59-4036-a98d-b0aaa905d325] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:16] ERROR    [agent_fsm:1078] [7c633a71-6d59-4036-a98d-b0aaa905d325] --- FSM STATE: ERROR ---
[2025-06-18 13:13:16] ERROR    [agent_fsm:1101] [7c633a71-6d59-4036-a98d-b0aaa905d325] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:13:16] ERROR    [agent_fsm:1102] [7c633a71-6d59-4036-a98d-b0aaa905d325] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:16] WARNING  [agent_fsm:1224] [7c633a71-6d59-4036-a98d-b0aaa905d325] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:16] ERROR    [agent_fsm:1078] [7c633a71-6d59-4036-a98d-b0aaa905d325] --- FSM STATE: ERROR ---
[2025-06-18 13:13:16] ERROR    [agent_fsm:1101] [7c633a71-6d59-4036-a98d-b0aaa905d325] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:13:16] ERROR    [agent_fsm:1102] [7c633a71-6d59-4036-a98d-b0aaa905d325] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:16] WARNING  [agent_fsm:1224] [7c633a71-6d59-4036-a98d-b0aaa905d325] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:16] ERROR    [agent_fsm:1078] [7c633a71-6d59-4036-a98d-b0aaa905d325] --- FSM STATE: ERROR ---
[2025-06-18 13:13:16] ERROR    [agent_fsm:1101] [7c633a71-6d59-4036-a98d-b0aaa905d325] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:13:16] ERROR    [agent_fsm:1102] [7c633a71-6d59-4036-a98d-b0aaa905d325] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:16] WARNING  [agent_fsm:1224] [7c633a71-6d59-4036-a98d-b0aaa905d325] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:16] ERROR    [agent_fsm:1078] [7c633a71-6d59-4036-a98d-b0aaa905d325] --- FSM STATE: ERROR ---
[2025-06-18 13:13:16] ERROR    [agent_fsm:1101] [7c633a71-6d59-4036-a98d-b0aaa905d325] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:13:16] ERROR    [agent_fsm:1102] [7c633a71-6d59-4036-a98d-b0aaa905d325] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:16] WARNING  [agent_fsm:1224] [7c633a71-6d59-4036-a98d-b0aaa905d325] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:16] ERROR    [agent_fsm:1078] [7c633a71-6d59-4036-a98d-b0aaa905d325] --- FSM STATE: ERROR ---
[2025-06-18 13:13:16] ERROR    [agent_fsm:1101] [7c633a71-6d59-4036-a98d-b0aaa905d325] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:13:16] ERROR    [agent_fsm:1102] [7c633a71-6d59-4036-a98d-b0aaa905d325] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:16] WARNING  [agent_fsm:1224] [7c633a71-6d59-4036-a98d-b0aaa905d325] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:16] ERROR    [agent_fsm:1078] [7c633a71-6d59-4036-a98d-b0aaa905d325] --- FSM STATE: ERROR ---
[2025-06-18 13:13:16] ERROR    [agent_fsm:1101] [7c633a71-6d59-4036-a98d-b0aaa905d325] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:13:16] ERROR    [agent_fsm:1102] [7c633a71-6d59-4036-a98d-b0aaa905d325] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:16] WARNING  [agent_fsm:1224] [7c633a71-6d59-4036-a98d-b0aaa905d325] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:16] ERROR    [agent_fsm:1078] [7c633a71-6d59-4036-a98d-b0aaa905d325] --- FSM STATE: ERROR ---
[2025-06-18 13:13:16] ERROR    [agent_fsm:1101] [7c633a71-6d59-4036-a98d-b0aaa905d325] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:13:16] ERROR    [agent_fsm:1102] [7c633a71-6d59-4036-a98d-b0aaa905d325] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:16] WARNING  [agent_fsm:1224] [7c633a71-6d59-4036-a98d-b0aaa905d325] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:16] ERROR    [agent_fsm:1078] [7c633a71-6d59-4036-a98d-b0aaa905d325] --- FSM STATE: ERROR ---
[2025-06-18 13:13:16] ERROR    [agent_fsm:1101] [7c633a71-6d59-4036-a98d-b0aaa905d325] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:13:16] ERROR    [agent_fsm:1102] [7c633a71-6d59-4036-a98d-b0aaa905d325] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:16] WARNING  [agent_fsm:1224] [7c633a71-6d59-4036-a98d-b0aaa905d325] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:16] ERROR    [agent_fsm:1078] [7c633a71-6d59-4036-a98d-b0aaa905d325] --- FSM STATE: ERROR ---
[2025-06-18 13:13:16] ERROR    [agent_fsm:1101] [7c633a71-6d59-4036-a98d-b0aaa905d325] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:13:16] ERROR    [agent_fsm:1102] [7c633a71-6d59-4036-a98d-b0aaa905d325] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:16] WARNING  [agent_fsm:1224] [7c633a71-6d59-4036-a98d-b0aaa905d325] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:16] ERROR    [agent_fsm:1837] [7c633a71-6d59-4036-a98d-b0aaa905d325] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:13:16] INFO     [agent_fsm:1752] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Starting resilient FSM execution
[2025-06-18 13:13:16] INFO     [agent_fsm:1807] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] FSM STATE: INITIAL
[2025-06-18 13:13:16] INFO     [agent_fsm:665] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:13:16] DEBUG    [agent_fsm:680] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Turn count: 1, Action history length: 1
[2025-06-18 13:13:17] WARNING  [agent_fsm:1333] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Tool image_analyzer not found in registry, will use stub
[2025-06-18 13:13:17] INFO     [agent_fsm:773] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:13:17] INFO     [agent_fsm:820] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Executing tool: video_analyzer with input: {'url': 'https://example.com/video.mp4', 'action': 'download_info'}
[2025-06-18 13:13:17] INFO     [agent_fsm:922] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Tool execution completed
[2025-06-18 13:13:17] INFO     [agent_fsm:773] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:13:17] WARNING  [agent_fsm:803] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:13:17] INFO     [agent_fsm:665] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:13:17] DEBUG    [agent_fsm:680] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Turn count: 2, Action history length: 2
[2025-06-18 13:13:18] WARNING  [agent_fsm:1521] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:13:18] WARNING  [agent_fsm:1521] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:13:18] WARNING  [agent_fsm:1521] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 13:13:18] INFO     [agent_fsm:773] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:13:18] WARNING  [agent_fsm:803] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:13:18] INFO     [agent_fsm:665] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] --- FSM STATE: PLANNING (Step 3) ---
[2025-06-18 13:13:18] DEBUG    [agent_fsm:680] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Turn count: 3, Action history length: 3
[2025-06-18 13:13:19] WARNING  [agent_fsm:1521] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:13:19] WARNING  [agent_fsm:1224] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:19] ERROR    [agent_fsm:1078] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] --- FSM STATE: ERROR ---
[2025-06-18 13:13:19] ERROR    [agent_fsm:1101] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:13:19] ERROR    [agent_fsm:1102] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:19] WARNING  [agent_fsm:1224] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:19] ERROR    [agent_fsm:1078] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] --- FSM STATE: ERROR ---
[2025-06-18 13:13:19] ERROR    [agent_fsm:1101] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:13:19] ERROR    [agent_fsm:1102] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:19] WARNING  [agent_fsm:1224] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:19] ERROR    [agent_fsm:1078] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] --- FSM STATE: ERROR ---
[2025-06-18 13:13:19] ERROR    [agent_fsm:1101] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:13:19] ERROR    [agent_fsm:1102] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:19] WARNING  [agent_fsm:1224] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:19] ERROR    [agent_fsm:1078] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] --- FSM STATE: ERROR ---
[2025-06-18 13:13:19] ERROR    [agent_fsm:1101] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:13:19] ERROR    [agent_fsm:1102] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:19] WARNING  [agent_fsm:1224] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:19] ERROR    [agent_fsm:1078] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] --- FSM STATE: ERROR ---
[2025-06-18 13:13:19] ERROR    [agent_fsm:1101] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:13:19] ERROR    [agent_fsm:1102] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:19] WARNING  [agent_fsm:1224] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:19] ERROR    [agent_fsm:1078] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] --- FSM STATE: ERROR ---
[2025-06-18 13:13:19] ERROR    [agent_fsm:1101] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:13:19] ERROR    [agent_fsm:1102] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:19] WARNING  [agent_fsm:1224] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:19] ERROR    [agent_fsm:1078] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] --- FSM STATE: ERROR ---
[2025-06-18 13:13:19] ERROR    [agent_fsm:1101] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:13:19] ERROR    [agent_fsm:1102] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:19] WARNING  [agent_fsm:1224] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:19] ERROR    [agent_fsm:1078] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] --- FSM STATE: ERROR ---
[2025-06-18 13:13:19] ERROR    [agent_fsm:1101] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:13:19] ERROR    [agent_fsm:1102] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:19] WARNING  [agent_fsm:1224] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:19] ERROR    [agent_fsm:1078] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] --- FSM STATE: ERROR ---
[2025-06-18 13:13:19] ERROR    [agent_fsm:1101] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:13:19] ERROR    [agent_fsm:1102] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:19] WARNING  [agent_fsm:1224] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:19] ERROR    [agent_fsm:1078] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] --- FSM STATE: ERROR ---
[2025-06-18 13:13:19] ERROR    [agent_fsm:1101] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:13:19] ERROR    [agent_fsm:1102] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:19] WARNING  [agent_fsm:1224] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:19] ERROR    [agent_fsm:1078] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] --- FSM STATE: ERROR ---
[2025-06-18 13:13:19] ERROR    [agent_fsm:1101] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:13:19] ERROR    [agent_fsm:1102] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:19] WARNING  [agent_fsm:1224] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:19] ERROR    [agent_fsm:1078] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] --- FSM STATE: ERROR ---
[2025-06-18 13:13:19] ERROR    [agent_fsm:1101] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:13:19] ERROR    [agent_fsm:1102] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:19] WARNING  [agent_fsm:1224] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:19] ERROR    [agent_fsm:1078] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] --- FSM STATE: ERROR ---
[2025-06-18 13:13:19] ERROR    [agent_fsm:1101] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:13:19] ERROR    [agent_fsm:1102] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:19] WARNING  [agent_fsm:1224] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:19] ERROR    [agent_fsm:1078] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] --- FSM STATE: ERROR ---
[2025-06-18 13:13:19] ERROR    [agent_fsm:1101] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:13:19] ERROR    [agent_fsm:1102] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:19] WARNING  [agent_fsm:1224] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:19] ERROR    [agent_fsm:1078] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] --- FSM STATE: ERROR ---
[2025-06-18 13:13:19] ERROR    [agent_fsm:1101] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:13:19] ERROR    [agent_fsm:1102] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:19] WARNING  [agent_fsm:1224] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:19] ERROR    [agent_fsm:1078] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] --- FSM STATE: ERROR ---
[2025-06-18 13:13:19] ERROR    [agent_fsm:1101] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:13:19] ERROR    [agent_fsm:1102] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:19] WARNING  [agent_fsm:1224] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:19] ERROR    [agent_fsm:1078] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] --- FSM STATE: ERROR ---
[2025-06-18 13:13:19] ERROR    [agent_fsm:1101] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:13:19] ERROR    [agent_fsm:1102] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:19] WARNING  [agent_fsm:1224] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:19] ERROR    [agent_fsm:1078] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] --- FSM STATE: ERROR ---
[2025-06-18 13:13:19] ERROR    [agent_fsm:1101] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:13:19] ERROR    [agent_fsm:1102] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:19] WARNING  [agent_fsm:1224] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:19] ERROR    [agent_fsm:1078] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] --- FSM STATE: ERROR ---
[2025-06-18 13:13:19] ERROR    [agent_fsm:1101] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Error category: GENERAL, Occurrences: 19
[2025-06-18 13:13:19] ERROR    [agent_fsm:1102] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:19] WARNING  [agent_fsm:1224] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:19] ERROR    [agent_fsm:1837] [fe8a5d5a-1adc-425b-a1d7-f489e6e578b4] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:13:19] INFO     [agent_fsm:1752] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Starting resilient FSM execution
[2025-06-18 13:13:19] INFO     [agent_fsm:1807] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] FSM STATE: INITIAL
[2025-06-18 13:13:19] INFO     [agent_fsm:665] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:13:19] DEBUG    [agent_fsm:680] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Turn count: 1, Action history length: 1
[2025-06-18 13:13:20] WARNING  [agent_fsm:1521] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:13:20] WARNING  [agent_fsm:1521] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:13:20] WARNING  [agent_fsm:1521] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:13:20] INFO     [agent_fsm:773] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:13:20] INFO     [agent_fsm:820] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 13:13:20] INFO     [agent_fsm:922] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Tool execution completed
[2025-06-18 13:13:20] INFO     [agent_fsm:773] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:13:20] WARNING  [agent_fsm:803] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:13:20] INFO     [agent_fsm:665] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:13:20] DEBUG    [agent_fsm:680] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Turn count: 2, Action history length: 2
[2025-06-18 13:13:21] WARNING  [agent_fsm:1521] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:13:21] INFO     [agent_fsm:773] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:13:21] INFO     [agent_fsm:820] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Executing tool: python_interpreter with input: {'code': 'result = 2 + 2'}
[2025-06-18 13:13:21] INFO     [agent_fsm:922] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Tool execution completed
[2025-06-18 13:13:21] INFO     [agent_fsm:773] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:13:21] WARNING  [agent_fsm:803] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:13:21] INFO     [agent_fsm:665] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:13:21] DEBUG    [agent_fsm:680] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Turn count: 3, Action history length: 3
[2025-06-18 13:13:22] WARNING  [agent_fsm:1224] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:22] ERROR    [agent_fsm:1078] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] --- FSM STATE: ERROR ---
[2025-06-18 13:13:22] ERROR    [agent_fsm:1101] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:13:22] ERROR    [agent_fsm:1102] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:22] WARNING  [agent_fsm:1224] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:22] ERROR    [agent_fsm:1078] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] --- FSM STATE: ERROR ---
[2025-06-18 13:13:22] ERROR    [agent_fsm:1101] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:13:22] ERROR    [agent_fsm:1102] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:22] WARNING  [agent_fsm:1224] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:22] ERROR    [agent_fsm:1078] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] --- FSM STATE: ERROR ---
[2025-06-18 13:13:22] ERROR    [agent_fsm:1101] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:13:22] ERROR    [agent_fsm:1102] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:22] WARNING  [agent_fsm:1224] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:22] ERROR    [agent_fsm:1078] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] --- FSM STATE: ERROR ---
[2025-06-18 13:13:22] ERROR    [agent_fsm:1101] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:13:22] ERROR    [agent_fsm:1102] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:22] WARNING  [agent_fsm:1224] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:22] ERROR    [agent_fsm:1078] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] --- FSM STATE: ERROR ---
[2025-06-18 13:13:22] ERROR    [agent_fsm:1101] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:13:22] ERROR    [agent_fsm:1102] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:22] WARNING  [agent_fsm:1224] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:22] ERROR    [agent_fsm:1078] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] --- FSM STATE: ERROR ---
[2025-06-18 13:13:22] ERROR    [agent_fsm:1101] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:13:22] ERROR    [agent_fsm:1102] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:22] WARNING  [agent_fsm:1224] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:22] ERROR    [agent_fsm:1078] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] --- FSM STATE: ERROR ---
[2025-06-18 13:13:22] ERROR    [agent_fsm:1101] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:13:22] ERROR    [agent_fsm:1102] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:22] WARNING  [agent_fsm:1224] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:22] ERROR    [agent_fsm:1078] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] --- FSM STATE: ERROR ---
[2025-06-18 13:13:22] ERROR    [agent_fsm:1101] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:13:22] ERROR    [agent_fsm:1102] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:22] WARNING  [agent_fsm:1224] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:22] ERROR    [agent_fsm:1078] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] --- FSM STATE: ERROR ---
[2025-06-18 13:13:22] ERROR    [agent_fsm:1101] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:13:22] ERROR    [agent_fsm:1102] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:22] WARNING  [agent_fsm:1224] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:22] ERROR    [agent_fsm:1078] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] --- FSM STATE: ERROR ---
[2025-06-18 13:13:22] ERROR    [agent_fsm:1101] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:13:22] ERROR    [agent_fsm:1102] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:22] WARNING  [agent_fsm:1224] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:22] ERROR    [agent_fsm:1078] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] --- FSM STATE: ERROR ---
[2025-06-18 13:13:22] ERROR    [agent_fsm:1101] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:13:22] ERROR    [agent_fsm:1102] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:22] WARNING  [agent_fsm:1224] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:22] ERROR    [agent_fsm:1078] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] --- FSM STATE: ERROR ---
[2025-06-18 13:13:22] ERROR    [agent_fsm:1101] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:13:22] ERROR    [agent_fsm:1102] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:22] WARNING  [agent_fsm:1224] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:22] ERROR    [agent_fsm:1078] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] --- FSM STATE: ERROR ---
[2025-06-18 13:13:22] ERROR    [agent_fsm:1101] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:13:22] ERROR    [agent_fsm:1102] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:22] WARNING  [agent_fsm:1224] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:22] ERROR    [agent_fsm:1078] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] --- FSM STATE: ERROR ---
[2025-06-18 13:13:22] ERROR    [agent_fsm:1101] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:13:22] ERROR    [agent_fsm:1102] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:22] WARNING  [agent_fsm:1224] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:22] ERROR    [agent_fsm:1078] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] --- FSM STATE: ERROR ---
[2025-06-18 13:13:22] ERROR    [agent_fsm:1101] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:13:22] ERROR    [agent_fsm:1102] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:22] WARNING  [agent_fsm:1224] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:22] ERROR    [agent_fsm:1078] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] --- FSM STATE: ERROR ---
[2025-06-18 13:13:22] ERROR    [agent_fsm:1101] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:13:22] ERROR    [agent_fsm:1102] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:22] WARNING  [agent_fsm:1224] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:22] ERROR    [agent_fsm:1078] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] --- FSM STATE: ERROR ---
[2025-06-18 13:13:22] ERROR    [agent_fsm:1101] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:13:22] ERROR    [agent_fsm:1102] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:22] WARNING  [agent_fsm:1224] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:22] ERROR    [agent_fsm:1078] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] --- FSM STATE: ERROR ---
[2025-06-18 13:13:22] ERROR    [agent_fsm:1101] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:13:22] ERROR    [agent_fsm:1102] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:22] WARNING  [agent_fsm:1224] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:22] ERROR    [agent_fsm:1837] [8f1ced4a-4a51-4f5f-9178-bba77de3ed03] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:13:22] INFO     [agent_fsm:1752] [61ced703-62a7-4839-90e7-2e52ebac3659] Starting resilient FSM execution
[2025-06-18 13:13:22] INFO     [agent_fsm:1807] [61ced703-62a7-4839-90e7-2e52ebac3659] FSM STATE: INITIAL
[2025-06-18 13:13:22] INFO     [agent_fsm:665] [61ced703-62a7-4839-90e7-2e52ebac3659] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:13:22] DEBUG    [agent_fsm:680] [61ced703-62a7-4839-90e7-2e52ebac3659] Turn count: 1, Action history length: 1
[2025-06-18 13:13:23] WARNING  [agent_fsm:1521] [61ced703-62a7-4839-90e7-2e52ebac3659] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:13:23] WARNING  [agent_fsm:1521] [61ced703-62a7-4839-90e7-2e52ebac3659] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 13:13:23] INFO     [agent_fsm:773] [61ced703-62a7-4839-90e7-2e52ebac3659] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:13:23] INFO     [agent_fsm:820] [61ced703-62a7-4839-90e7-2e52ebac3659] Executing tool: web_researcher with input: {'query': 'chess position analysis', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 13:13:23] INFO     [agent_fsm:922] [61ced703-62a7-4839-90e7-2e52ebac3659] Tool execution completed
[2025-06-18 13:13:23] INFO     [agent_fsm:773] [61ced703-62a7-4839-90e7-2e52ebac3659] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:13:23] WARNING  [agent_fsm:803] [61ced703-62a7-4839-90e7-2e52ebac3659] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:13:23] INFO     [agent_fsm:665] [61ced703-62a7-4839-90e7-2e52ebac3659] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:13:23] DEBUG    [agent_fsm:680] [61ced703-62a7-4839-90e7-2e52ebac3659] Turn count: 2, Action history length: 2
[2025-06-18 13:13:24] WARNING  [agent_fsm:1521] [61ced703-62a7-4839-90e7-2e52ebac3659] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:13:24] INFO     [agent_fsm:773] [61ced703-62a7-4839-90e7-2e52ebac3659] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:13:24] INFO     [agent_fsm:820] [61ced703-62a7-4839-90e7-2e52ebac3659] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 13:13:24] INFO     [agent_fsm:922] [61ced703-62a7-4839-90e7-2e52ebac3659] Tool execution completed
[2025-06-18 13:13:24] INFO     [agent_fsm:773] [61ced703-62a7-4839-90e7-2e52ebac3659] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:13:24] WARNING  [agent_fsm:803] [61ced703-62a7-4839-90e7-2e52ebac3659] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:13:24] INFO     [agent_fsm:665] [61ced703-62a7-4839-90e7-2e52ebac3659] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:13:24] DEBUG    [agent_fsm:680] [61ced703-62a7-4839-90e7-2e52ebac3659] Turn count: 3, Action history length: 3
[2025-06-18 13:13:25] WARNING  [agent_fsm:1521] [61ced703-62a7-4839-90e7-2e52ebac3659] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:13:25] WARNING  [agent_fsm:1521] [61ced703-62a7-4839-90e7-2e52ebac3659] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:13:25] WARNING  [agent_fsm:1521] [61ced703-62a7-4839-90e7-2e52ebac3659] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:13:25] WARNING  [agent_fsm:1521] [61ced703-62a7-4839-90e7-2e52ebac3659] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 13:13:25] WARNING  [agent_fsm:1224] [61ced703-62a7-4839-90e7-2e52ebac3659] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:25] ERROR    [agent_fsm:1078] [61ced703-62a7-4839-90e7-2e52ebac3659] --- FSM STATE: ERROR ---
[2025-06-18 13:13:25] ERROR    [agent_fsm:1101] [61ced703-62a7-4839-90e7-2e52ebac3659] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:13:25] ERROR    [agent_fsm:1102] [61ced703-62a7-4839-90e7-2e52ebac3659] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:25] WARNING  [agent_fsm:1224] [61ced703-62a7-4839-90e7-2e52ebac3659] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:25] ERROR    [agent_fsm:1078] [61ced703-62a7-4839-90e7-2e52ebac3659] --- FSM STATE: ERROR ---
[2025-06-18 13:13:25] ERROR    [agent_fsm:1101] [61ced703-62a7-4839-90e7-2e52ebac3659] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:13:25] ERROR    [agent_fsm:1102] [61ced703-62a7-4839-90e7-2e52ebac3659] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:25] WARNING  [agent_fsm:1224] [61ced703-62a7-4839-90e7-2e52ebac3659] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:25] ERROR    [agent_fsm:1078] [61ced703-62a7-4839-90e7-2e52ebac3659] --- FSM STATE: ERROR ---
[2025-06-18 13:13:25] ERROR    [agent_fsm:1101] [61ced703-62a7-4839-90e7-2e52ebac3659] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:13:25] ERROR    [agent_fsm:1102] [61ced703-62a7-4839-90e7-2e52ebac3659] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:25] WARNING  [agent_fsm:1224] [61ced703-62a7-4839-90e7-2e52ebac3659] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:25] ERROR    [agent_fsm:1078] [61ced703-62a7-4839-90e7-2e52ebac3659] --- FSM STATE: ERROR ---
[2025-06-18 13:13:25] ERROR    [agent_fsm:1101] [61ced703-62a7-4839-90e7-2e52ebac3659] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:13:25] ERROR    [agent_fsm:1102] [61ced703-62a7-4839-90e7-2e52ebac3659] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:25] WARNING  [agent_fsm:1224] [61ced703-62a7-4839-90e7-2e52ebac3659] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:25] ERROR    [agent_fsm:1078] [61ced703-62a7-4839-90e7-2e52ebac3659] --- FSM STATE: ERROR ---
[2025-06-18 13:13:25] ERROR    [agent_fsm:1101] [61ced703-62a7-4839-90e7-2e52ebac3659] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:13:25] ERROR    [agent_fsm:1102] [61ced703-62a7-4839-90e7-2e52ebac3659] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:25] WARNING  [agent_fsm:1224] [61ced703-62a7-4839-90e7-2e52ebac3659] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:25] ERROR    [agent_fsm:1078] [61ced703-62a7-4839-90e7-2e52ebac3659] --- FSM STATE: ERROR ---
[2025-06-18 13:13:25] ERROR    [agent_fsm:1101] [61ced703-62a7-4839-90e7-2e52ebac3659] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:13:25] ERROR    [agent_fsm:1102] [61ced703-62a7-4839-90e7-2e52ebac3659] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:25] WARNING  [agent_fsm:1224] [61ced703-62a7-4839-90e7-2e52ebac3659] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:25] ERROR    [agent_fsm:1078] [61ced703-62a7-4839-90e7-2e52ebac3659] --- FSM STATE: ERROR ---
[2025-06-18 13:13:25] ERROR    [agent_fsm:1101] [61ced703-62a7-4839-90e7-2e52ebac3659] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:13:25] ERROR    [agent_fsm:1102] [61ced703-62a7-4839-90e7-2e52ebac3659] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:25] WARNING  [agent_fsm:1224] [61ced703-62a7-4839-90e7-2e52ebac3659] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:25] ERROR    [agent_fsm:1078] [61ced703-62a7-4839-90e7-2e52ebac3659] --- FSM STATE: ERROR ---
[2025-06-18 13:13:25] ERROR    [agent_fsm:1101] [61ced703-62a7-4839-90e7-2e52ebac3659] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:13:25] ERROR    [agent_fsm:1102] [61ced703-62a7-4839-90e7-2e52ebac3659] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:25] WARNING  [agent_fsm:1224] [61ced703-62a7-4839-90e7-2e52ebac3659] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:25] ERROR    [agent_fsm:1078] [61ced703-62a7-4839-90e7-2e52ebac3659] --- FSM STATE: ERROR ---
[2025-06-18 13:13:25] ERROR    [agent_fsm:1101] [61ced703-62a7-4839-90e7-2e52ebac3659] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:13:25] ERROR    [agent_fsm:1102] [61ced703-62a7-4839-90e7-2e52ebac3659] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:25] WARNING  [agent_fsm:1224] [61ced703-62a7-4839-90e7-2e52ebac3659] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:25] ERROR    [agent_fsm:1078] [61ced703-62a7-4839-90e7-2e52ebac3659] --- FSM STATE: ERROR ---
[2025-06-18 13:13:25] ERROR    [agent_fsm:1101] [61ced703-62a7-4839-90e7-2e52ebac3659] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:13:25] ERROR    [agent_fsm:1102] [61ced703-62a7-4839-90e7-2e52ebac3659] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:25] WARNING  [agent_fsm:1224] [61ced703-62a7-4839-90e7-2e52ebac3659] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:25] ERROR    [agent_fsm:1078] [61ced703-62a7-4839-90e7-2e52ebac3659] --- FSM STATE: ERROR ---
[2025-06-18 13:13:25] ERROR    [agent_fsm:1101] [61ced703-62a7-4839-90e7-2e52ebac3659] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:13:25] ERROR    [agent_fsm:1102] [61ced703-62a7-4839-90e7-2e52ebac3659] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:25] WARNING  [agent_fsm:1224] [61ced703-62a7-4839-90e7-2e52ebac3659] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:25] ERROR    [agent_fsm:1078] [61ced703-62a7-4839-90e7-2e52ebac3659] --- FSM STATE: ERROR ---
[2025-06-18 13:13:25] ERROR    [agent_fsm:1101] [61ced703-62a7-4839-90e7-2e52ebac3659] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:13:25] ERROR    [agent_fsm:1102] [61ced703-62a7-4839-90e7-2e52ebac3659] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:25] WARNING  [agent_fsm:1224] [61ced703-62a7-4839-90e7-2e52ebac3659] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:25] ERROR    [agent_fsm:1078] [61ced703-62a7-4839-90e7-2e52ebac3659] --- FSM STATE: ERROR ---
[2025-06-18 13:13:25] ERROR    [agent_fsm:1101] [61ced703-62a7-4839-90e7-2e52ebac3659] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:13:25] ERROR    [agent_fsm:1102] [61ced703-62a7-4839-90e7-2e52ebac3659] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:25] WARNING  [agent_fsm:1224] [61ced703-62a7-4839-90e7-2e52ebac3659] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:25] ERROR    [agent_fsm:1078] [61ced703-62a7-4839-90e7-2e52ebac3659] --- FSM STATE: ERROR ---
[2025-06-18 13:13:25] ERROR    [agent_fsm:1101] [61ced703-62a7-4839-90e7-2e52ebac3659] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:13:25] ERROR    [agent_fsm:1102] [61ced703-62a7-4839-90e7-2e52ebac3659] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:25] WARNING  [agent_fsm:1224] [61ced703-62a7-4839-90e7-2e52ebac3659] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:25] ERROR    [agent_fsm:1078] [61ced703-62a7-4839-90e7-2e52ebac3659] --- FSM STATE: ERROR ---
[2025-06-18 13:13:25] ERROR    [agent_fsm:1101] [61ced703-62a7-4839-90e7-2e52ebac3659] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:13:25] ERROR    [agent_fsm:1102] [61ced703-62a7-4839-90e7-2e52ebac3659] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:25] WARNING  [agent_fsm:1224] [61ced703-62a7-4839-90e7-2e52ebac3659] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:25] ERROR    [agent_fsm:1078] [61ced703-62a7-4839-90e7-2e52ebac3659] --- FSM STATE: ERROR ---
[2025-06-18 13:13:25] ERROR    [agent_fsm:1101] [61ced703-62a7-4839-90e7-2e52ebac3659] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:13:25] ERROR    [agent_fsm:1102] [61ced703-62a7-4839-90e7-2e52ebac3659] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:25] WARNING  [agent_fsm:1224] [61ced703-62a7-4839-90e7-2e52ebac3659] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:25] ERROR    [agent_fsm:1078] [61ced703-62a7-4839-90e7-2e52ebac3659] --- FSM STATE: ERROR ---
[2025-06-18 13:13:25] ERROR    [agent_fsm:1101] [61ced703-62a7-4839-90e7-2e52ebac3659] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:13:25] ERROR    [agent_fsm:1102] [61ced703-62a7-4839-90e7-2e52ebac3659] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:25] WARNING  [agent_fsm:1224] [61ced703-62a7-4839-90e7-2e52ebac3659] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:25] ERROR    [agent_fsm:1078] [61ced703-62a7-4839-90e7-2e52ebac3659] --- FSM STATE: ERROR ---
[2025-06-18 13:13:25] ERROR    [agent_fsm:1101] [61ced703-62a7-4839-90e7-2e52ebac3659] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:13:25] ERROR    [agent_fsm:1102] [61ced703-62a7-4839-90e7-2e52ebac3659] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:25] WARNING  [agent_fsm:1224] [61ced703-62a7-4839-90e7-2e52ebac3659] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:25] ERROR    [agent_fsm:1837] [61ced703-62a7-4839-90e7-2e52ebac3659] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:13:25] INFO     [agent_fsm:1752] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Starting resilient FSM execution
[2025-06-18 13:13:25] INFO     [agent_fsm:1807] [1778bc01-a331-44a9-a278-374e7eb9a2ae] FSM STATE: INITIAL
[2025-06-18 13:13:25] INFO     [agent_fsm:665] [1778bc01-a331-44a9-a278-374e7eb9a2ae] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:13:25] DEBUG    [agent_fsm:680] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Turn count: 1, Action history length: 1
[2025-06-18 13:13:26] WARNING  [agent_fsm:1521] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:13:26] WARNING  [agent_fsm:1521] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Failed to parse JSON parameters for step 8, using fallback parser
[2025-06-18 13:13:26] INFO     [agent_fsm:773] [1778bc01-a331-44a9-a278-374e7eb9a2ae] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:13:26] INFO     [agent_fsm:820] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Executing tool: web_researcher with input: {'query': 'Nobel Prize in Physics 2023 winner', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 13:13:26] INFO     [agent_fsm:922] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Tool execution completed
[2025-06-18 13:13:26] INFO     [agent_fsm:773] [1778bc01-a331-44a9-a278-374e7eb9a2ae] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:13:26] WARNING  [agent_fsm:803] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:13:26] INFO     [agent_fsm:665] [1778bc01-a331-44a9-a278-374e7eb9a2ae] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:13:26] DEBUG    [agent_fsm:680] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Turn count: 2, Action history length: 2
[2025-06-18 13:13:27] WARNING  [agent_fsm:1521] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:13:27] INFO     [agent_fsm:773] [1778bc01-a331-44a9-a278-374e7eb9a2ae] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:13:27] INFO     [agent_fsm:820] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Executing tool: semantic_search_tool with input: {'query': 'Nobel Prize in Physics 2023 winner', 'filename': 'knowledge_base.csv', 'top_k': 3}
[2025-06-18 13:13:27] INFO     [agent_fsm:922] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Tool execution completed
[2025-06-18 13:13:27] INFO     [agent_fsm:773] [1778bc01-a331-44a9-a278-374e7eb9a2ae] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:13:27] WARNING  [agent_fsm:803] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:13:27] INFO     [agent_fsm:665] [1778bc01-a331-44a9-a278-374e7eb9a2ae] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:13:27] DEBUG    [agent_fsm:680] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Turn count: 3, Action history length: 3
[2025-06-18 13:13:28] WARNING  [agent_fsm:1521] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:13:28] WARNING  [agent_fsm:1521] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:13:28] WARNING  [agent_fsm:1224] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:28] ERROR    [agent_fsm:1078] [1778bc01-a331-44a9-a278-374e7eb9a2ae] --- FSM STATE: ERROR ---
[2025-06-18 13:13:28] ERROR    [agent_fsm:1101] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:13:28] ERROR    [agent_fsm:1102] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:28] WARNING  [agent_fsm:1224] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:28] ERROR    [agent_fsm:1078] [1778bc01-a331-44a9-a278-374e7eb9a2ae] --- FSM STATE: ERROR ---
[2025-06-18 13:13:28] ERROR    [agent_fsm:1101] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:13:28] ERROR    [agent_fsm:1102] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:28] WARNING  [agent_fsm:1224] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:28] ERROR    [agent_fsm:1078] [1778bc01-a331-44a9-a278-374e7eb9a2ae] --- FSM STATE: ERROR ---
[2025-06-18 13:13:28] ERROR    [agent_fsm:1101] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:13:28] ERROR    [agent_fsm:1102] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:28] WARNING  [agent_fsm:1224] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:28] ERROR    [agent_fsm:1078] [1778bc01-a331-44a9-a278-374e7eb9a2ae] --- FSM STATE: ERROR ---
[2025-06-18 13:13:28] ERROR    [agent_fsm:1101] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:13:28] ERROR    [agent_fsm:1102] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:28] WARNING  [agent_fsm:1224] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:28] ERROR    [agent_fsm:1078] [1778bc01-a331-44a9-a278-374e7eb9a2ae] --- FSM STATE: ERROR ---
[2025-06-18 13:13:28] ERROR    [agent_fsm:1101] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:13:28] ERROR    [agent_fsm:1102] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:28] WARNING  [agent_fsm:1224] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:28] ERROR    [agent_fsm:1078] [1778bc01-a331-44a9-a278-374e7eb9a2ae] --- FSM STATE: ERROR ---
[2025-06-18 13:13:28] ERROR    [agent_fsm:1101] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:13:28] ERROR    [agent_fsm:1102] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:28] WARNING  [agent_fsm:1224] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:28] ERROR    [agent_fsm:1078] [1778bc01-a331-44a9-a278-374e7eb9a2ae] --- FSM STATE: ERROR ---
[2025-06-18 13:13:28] ERROR    [agent_fsm:1101] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:13:28] ERROR    [agent_fsm:1102] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:28] WARNING  [agent_fsm:1224] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:28] ERROR    [agent_fsm:1078] [1778bc01-a331-44a9-a278-374e7eb9a2ae] --- FSM STATE: ERROR ---
[2025-06-18 13:13:28] ERROR    [agent_fsm:1101] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:13:28] ERROR    [agent_fsm:1102] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:28] WARNING  [agent_fsm:1224] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:28] ERROR    [agent_fsm:1078] [1778bc01-a331-44a9-a278-374e7eb9a2ae] --- FSM STATE: ERROR ---
[2025-06-18 13:13:28] ERROR    [agent_fsm:1101] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:13:28] ERROR    [agent_fsm:1102] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:28] WARNING  [agent_fsm:1224] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:28] ERROR    [agent_fsm:1078] [1778bc01-a331-44a9-a278-374e7eb9a2ae] --- FSM STATE: ERROR ---
[2025-06-18 13:13:28] ERROR    [agent_fsm:1101] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:13:28] ERROR    [agent_fsm:1102] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:28] WARNING  [agent_fsm:1224] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:28] ERROR    [agent_fsm:1078] [1778bc01-a331-44a9-a278-374e7eb9a2ae] --- FSM STATE: ERROR ---
[2025-06-18 13:13:28] ERROR    [agent_fsm:1101] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:13:28] ERROR    [agent_fsm:1102] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:28] WARNING  [agent_fsm:1224] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:28] ERROR    [agent_fsm:1078] [1778bc01-a331-44a9-a278-374e7eb9a2ae] --- FSM STATE: ERROR ---
[2025-06-18 13:13:28] ERROR    [agent_fsm:1101] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:13:28] ERROR    [agent_fsm:1102] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:28] WARNING  [agent_fsm:1224] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:28] ERROR    [agent_fsm:1078] [1778bc01-a331-44a9-a278-374e7eb9a2ae] --- FSM STATE: ERROR ---
[2025-06-18 13:13:28] ERROR    [agent_fsm:1101] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:13:28] ERROR    [agent_fsm:1102] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:28] WARNING  [agent_fsm:1224] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:28] ERROR    [agent_fsm:1078] [1778bc01-a331-44a9-a278-374e7eb9a2ae] --- FSM STATE: ERROR ---
[2025-06-18 13:13:28] ERROR    [agent_fsm:1101] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:13:28] ERROR    [agent_fsm:1102] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:28] WARNING  [agent_fsm:1224] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:28] ERROR    [agent_fsm:1078] [1778bc01-a331-44a9-a278-374e7eb9a2ae] --- FSM STATE: ERROR ---
[2025-06-18 13:13:28] ERROR    [agent_fsm:1101] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:13:28] ERROR    [agent_fsm:1102] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:28] WARNING  [agent_fsm:1224] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:28] ERROR    [agent_fsm:1078] [1778bc01-a331-44a9-a278-374e7eb9a2ae] --- FSM STATE: ERROR ---
[2025-06-18 13:13:28] ERROR    [agent_fsm:1101] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:13:28] ERROR    [agent_fsm:1102] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:28] WARNING  [agent_fsm:1224] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:28] ERROR    [agent_fsm:1078] [1778bc01-a331-44a9-a278-374e7eb9a2ae] --- FSM STATE: ERROR ---
[2025-06-18 13:13:28] ERROR    [agent_fsm:1101] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:13:28] ERROR    [agent_fsm:1102] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:28] WARNING  [agent_fsm:1224] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:28] ERROR    [agent_fsm:1078] [1778bc01-a331-44a9-a278-374e7eb9a2ae] --- FSM STATE: ERROR ---
[2025-06-18 13:13:28] ERROR    [agent_fsm:1101] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:13:28] ERROR    [agent_fsm:1102] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:28] WARNING  [agent_fsm:1224] [1778bc01-a331-44a9-a278-374e7eb9a2ae] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:28] ERROR    [agent_fsm:1837] [1778bc01-a331-44a9-a278-374e7eb9a2ae] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:13:28] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 13:13:28] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 13:13:28] INFO     [agent_fsm:570] [a63c0cbe-1aef-4b2c-9b6c-6b6cf39a6a21] Building resilient FSM graph
[2025-06-18 13:13:28] INFO     [agent_fsm:572] [a63c0cbe-1aef-4b2c-9b6c-6b6cf39a6a21] FSMReActAgent graph built successfully
[2025-06-18 13:13:28] INFO     [agent_fsm:1752] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Starting resilient FSM execution
[2025-06-18 13:13:28] INFO     [agent_fsm:1807] [15f12fc1-608a-4202-bcd3-f93feda46b8c] FSM STATE: INITIAL
[2025-06-18 13:13:28] INFO     [agent_fsm:665] [15f12fc1-608a-4202-bcd3-f93feda46b8c] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:13:28] DEBUG    [agent_fsm:680] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Turn count: 1, Action history length: 1
[2025-06-18 13:13:29] WARNING  [agent_fsm:1521] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:13:29] WARNING  [agent_fsm:1521] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:13:29] INFO     [agent_fsm:773] [15f12fc1-608a-4202-bcd3-f93feda46b8c] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:13:29] INFO     [agent_fsm:820] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Executing tool: web_researcher with input: {'query': 'Mercedes Sosa discography', 'date_range': None, 'search_type': 'general', 'source': 'wikipedia'}
[2025-06-18 13:13:29] INFO     [agent_fsm:922] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Tool execution completed
[2025-06-18 13:13:29] INFO     [agent_fsm:773] [15f12fc1-608a-4202-bcd3-f93feda46b8c] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:13:29] WARNING  [agent_fsm:803] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:13:29] INFO     [agent_fsm:665] [15f12fc1-608a-4202-bcd3-f93feda46b8c] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:13:29] DEBUG    [agent_fsm:680] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Turn count: 2, Action history length: 2
[2025-06-18 13:13:30] WARNING  [agent_fsm:1521] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:13:30] WARNING  [agent_fsm:1521] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:13:30] INFO     [agent_fsm:773] [15f12fc1-608a-4202-bcd3-f93feda46b8c] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:13:30] INFO     [agent_fsm:820] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 13:13:30] INFO     [agent_fsm:922] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Tool execution completed
[2025-06-18 13:13:30] INFO     [agent_fsm:773] [15f12fc1-608a-4202-bcd3-f93feda46b8c] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:13:30] WARNING  [agent_fsm:803] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:13:30] INFO     [agent_fsm:665] [15f12fc1-608a-4202-bcd3-f93feda46b8c] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:13:30] DEBUG    [agent_fsm:680] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Turn count: 3, Action history length: 3
[2025-06-18 13:13:31] WARNING  [agent_fsm:1521] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:13:31] WARNING  [agent_fsm:1521] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:13:31] WARNING  [agent_fsm:1521] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:13:31] WARNING  [agent_fsm:1224] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:31] ERROR    [agent_fsm:1078] [15f12fc1-608a-4202-bcd3-f93feda46b8c] --- FSM STATE: ERROR ---
[2025-06-18 13:13:31] ERROR    [agent_fsm:1101] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:13:31] ERROR    [agent_fsm:1102] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:31] WARNING  [agent_fsm:1224] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:31] ERROR    [agent_fsm:1078] [15f12fc1-608a-4202-bcd3-f93feda46b8c] --- FSM STATE: ERROR ---
[2025-06-18 13:13:31] ERROR    [agent_fsm:1101] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:13:31] ERROR    [agent_fsm:1102] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:31] WARNING  [agent_fsm:1224] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:31] ERROR    [agent_fsm:1078] [15f12fc1-608a-4202-bcd3-f93feda46b8c] --- FSM STATE: ERROR ---
[2025-06-18 13:13:31] ERROR    [agent_fsm:1101] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:13:31] ERROR    [agent_fsm:1102] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:31] WARNING  [agent_fsm:1224] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:31] ERROR    [agent_fsm:1078] [15f12fc1-608a-4202-bcd3-f93feda46b8c] --- FSM STATE: ERROR ---
[2025-06-18 13:13:31] ERROR    [agent_fsm:1101] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:13:31] ERROR    [agent_fsm:1102] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:31] WARNING  [agent_fsm:1224] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:31] ERROR    [agent_fsm:1078] [15f12fc1-608a-4202-bcd3-f93feda46b8c] --- FSM STATE: ERROR ---
[2025-06-18 13:13:31] ERROR    [agent_fsm:1101] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:13:31] ERROR    [agent_fsm:1102] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:31] WARNING  [agent_fsm:1224] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:31] ERROR    [agent_fsm:1078] [15f12fc1-608a-4202-bcd3-f93feda46b8c] --- FSM STATE: ERROR ---
[2025-06-18 13:13:31] ERROR    [agent_fsm:1101] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:13:31] ERROR    [agent_fsm:1102] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:31] WARNING  [agent_fsm:1224] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:31] ERROR    [agent_fsm:1078] [15f12fc1-608a-4202-bcd3-f93feda46b8c] --- FSM STATE: ERROR ---
[2025-06-18 13:13:31] ERROR    [agent_fsm:1101] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:13:31] ERROR    [agent_fsm:1102] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:31] WARNING  [agent_fsm:1224] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:31] ERROR    [agent_fsm:1078] [15f12fc1-608a-4202-bcd3-f93feda46b8c] --- FSM STATE: ERROR ---
[2025-06-18 13:13:31] ERROR    [agent_fsm:1101] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:13:31] ERROR    [agent_fsm:1102] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:31] WARNING  [agent_fsm:1224] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:31] ERROR    [agent_fsm:1078] [15f12fc1-608a-4202-bcd3-f93feda46b8c] --- FSM STATE: ERROR ---
[2025-06-18 13:13:31] ERROR    [agent_fsm:1101] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:13:31] ERROR    [agent_fsm:1102] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:31] WARNING  [agent_fsm:1224] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:31] ERROR    [agent_fsm:1078] [15f12fc1-608a-4202-bcd3-f93feda46b8c] --- FSM STATE: ERROR ---
[2025-06-18 13:13:31] ERROR    [agent_fsm:1101] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:13:31] ERROR    [agent_fsm:1102] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:31] WARNING  [agent_fsm:1224] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:31] ERROR    [agent_fsm:1078] [15f12fc1-608a-4202-bcd3-f93feda46b8c] --- FSM STATE: ERROR ---
[2025-06-18 13:13:31] ERROR    [agent_fsm:1101] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:13:31] ERROR    [agent_fsm:1102] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:31] WARNING  [agent_fsm:1224] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:31] ERROR    [agent_fsm:1078] [15f12fc1-608a-4202-bcd3-f93feda46b8c] --- FSM STATE: ERROR ---
[2025-06-18 13:13:31] ERROR    [agent_fsm:1101] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:13:31] ERROR    [agent_fsm:1102] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:31] WARNING  [agent_fsm:1224] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:31] ERROR    [agent_fsm:1078] [15f12fc1-608a-4202-bcd3-f93feda46b8c] --- FSM STATE: ERROR ---
[2025-06-18 13:13:31] ERROR    [agent_fsm:1101] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:13:31] ERROR    [agent_fsm:1102] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:31] WARNING  [agent_fsm:1224] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:31] ERROR    [agent_fsm:1078] [15f12fc1-608a-4202-bcd3-f93feda46b8c] --- FSM STATE: ERROR ---
[2025-06-18 13:13:31] ERROR    [agent_fsm:1101] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:13:31] ERROR    [agent_fsm:1102] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:31] WARNING  [agent_fsm:1224] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:31] ERROR    [agent_fsm:1078] [15f12fc1-608a-4202-bcd3-f93feda46b8c] --- FSM STATE: ERROR ---
[2025-06-18 13:13:31] ERROR    [agent_fsm:1101] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:13:31] ERROR    [agent_fsm:1102] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:31] WARNING  [agent_fsm:1224] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:31] ERROR    [agent_fsm:1078] [15f12fc1-608a-4202-bcd3-f93feda46b8c] --- FSM STATE: ERROR ---
[2025-06-18 13:13:31] ERROR    [agent_fsm:1101] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:13:31] ERROR    [agent_fsm:1102] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:31] WARNING  [agent_fsm:1224] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:31] ERROR    [agent_fsm:1078] [15f12fc1-608a-4202-bcd3-f93feda46b8c] --- FSM STATE: ERROR ---
[2025-06-18 13:13:31] ERROR    [agent_fsm:1101] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:13:31] ERROR    [agent_fsm:1102] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:31] WARNING  [agent_fsm:1224] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:31] ERROR    [agent_fsm:1078] [15f12fc1-608a-4202-bcd3-f93feda46b8c] --- FSM STATE: ERROR ---
[2025-06-18 13:13:31] ERROR    [agent_fsm:1101] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:13:31] ERROR    [agent_fsm:1102] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:31] WARNING  [agent_fsm:1224] [15f12fc1-608a-4202-bcd3-f93feda46b8c] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:31] ERROR    [agent_fsm:1837] [15f12fc1-608a-4202-bcd3-f93feda46b8c] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:13:31] INFO     [agent_fsm:1752] [89da2c23-b536-4f2f-9c35-9997d6126951] Starting resilient FSM execution
[2025-06-18 13:13:31] INFO     [agent_fsm:1807] [89da2c23-b536-4f2f-9c35-9997d6126951] FSM STATE: INITIAL
[2025-06-18 13:13:31] INFO     [agent_fsm:665] [89da2c23-b536-4f2f-9c35-9997d6126951] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:13:31] DEBUG    [agent_fsm:680] [89da2c23-b536-4f2f-9c35-9997d6126951] Turn count: 1, Action history length: 1
[2025-06-18 13:13:32] WARNING  [agent_fsm:1521] [89da2c23-b536-4f2f-9c35-9997d6126951] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:13:32] WARNING  [agent_fsm:1521] [89da2c23-b536-4f2f-9c35-9997d6126951] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:13:32] WARNING  [agent_fsm:1521] [89da2c23-b536-4f2f-9c35-9997d6126951] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:13:32] WARNING  [agent_fsm:1521] [89da2c23-b536-4f2f-9c35-9997d6126951] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 13:13:32] WARNING  [agent_fsm:1521] [89da2c23-b536-4f2f-9c35-9997d6126951] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 13:13:32] INFO     [agent_fsm:773] [89da2c23-b536-4f2f-9c35-9997d6126951] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:13:32] INFO     [agent_fsm:820] [89da2c23-b536-4f2f-9c35-9997d6126951] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 13:13:32] INFO     [agent_fsm:922] [89da2c23-b536-4f2f-9c35-9997d6126951] Tool execution completed
[2025-06-18 13:13:32] INFO     [agent_fsm:773] [89da2c23-b536-4f2f-9c35-9997d6126951] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:13:32] WARNING  [agent_fsm:803] [89da2c23-b536-4f2f-9c35-9997d6126951] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:13:32] INFO     [agent_fsm:665] [89da2c23-b536-4f2f-9c35-9997d6126951] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:13:32] DEBUG    [agent_fsm:680] [89da2c23-b536-4f2f-9c35-9997d6126951] Turn count: 2, Action history length: 2
[2025-06-18 13:13:33] WARNING  [agent_fsm:1521] [89da2c23-b536-4f2f-9c35-9997d6126951] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:13:33] INFO     [agent_fsm:773] [89da2c23-b536-4f2f-9c35-9997d6126951] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:13:33] INFO     [agent_fsm:820] [89da2c23-b536-4f2f-9c35-9997d6126951] Executing tool: gaia_video_analyzer with input: {'video_url': 'https://www.youtube.com/watch?v=L1vXCYZAYYM'}
[2025-06-18 13:13:33] INFO     [agent_fsm:922] [89da2c23-b536-4f2f-9c35-9997d6126951] Tool execution completed
[2025-06-18 13:13:33] INFO     [agent_fsm:773] [89da2c23-b536-4f2f-9c35-9997d6126951] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:13:33] WARNING  [agent_fsm:803] [89da2c23-b536-4f2f-9c35-9997d6126951] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:13:33] INFO     [agent_fsm:665] [89da2c23-b536-4f2f-9c35-9997d6126951] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:13:33] DEBUG    [agent_fsm:680] [89da2c23-b536-4f2f-9c35-9997d6126951] Turn count: 3, Action history length: 3
[2025-06-18 13:13:34] WARNING  [agent_fsm:1521] [89da2c23-b536-4f2f-9c35-9997d6126951] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:13:34] WARNING  [agent_fsm:1521] [89da2c23-b536-4f2f-9c35-9997d6126951] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:13:34] WARNING  [agent_fsm:1521] [89da2c23-b536-4f2f-9c35-9997d6126951] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:13:34] WARNING  [agent_fsm:1224] [89da2c23-b536-4f2f-9c35-9997d6126951] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:34] ERROR    [agent_fsm:1078] [89da2c23-b536-4f2f-9c35-9997d6126951] --- FSM STATE: ERROR ---
[2025-06-18 13:13:34] ERROR    [agent_fsm:1101] [89da2c23-b536-4f2f-9c35-9997d6126951] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:13:34] ERROR    [agent_fsm:1102] [89da2c23-b536-4f2f-9c35-9997d6126951] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:34] WARNING  [agent_fsm:1224] [89da2c23-b536-4f2f-9c35-9997d6126951] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:34] ERROR    [agent_fsm:1078] [89da2c23-b536-4f2f-9c35-9997d6126951] --- FSM STATE: ERROR ---
[2025-06-18 13:13:34] ERROR    [agent_fsm:1101] [89da2c23-b536-4f2f-9c35-9997d6126951] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:13:34] ERROR    [agent_fsm:1102] [89da2c23-b536-4f2f-9c35-9997d6126951] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:34] WARNING  [agent_fsm:1224] [89da2c23-b536-4f2f-9c35-9997d6126951] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:34] ERROR    [agent_fsm:1078] [89da2c23-b536-4f2f-9c35-9997d6126951] --- FSM STATE: ERROR ---
[2025-06-18 13:13:34] ERROR    [agent_fsm:1101] [89da2c23-b536-4f2f-9c35-9997d6126951] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:13:34] ERROR    [agent_fsm:1102] [89da2c23-b536-4f2f-9c35-9997d6126951] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:34] WARNING  [agent_fsm:1224] [89da2c23-b536-4f2f-9c35-9997d6126951] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:34] ERROR    [agent_fsm:1078] [89da2c23-b536-4f2f-9c35-9997d6126951] --- FSM STATE: ERROR ---
[2025-06-18 13:13:34] ERROR    [agent_fsm:1101] [89da2c23-b536-4f2f-9c35-9997d6126951] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:13:34] ERROR    [agent_fsm:1102] [89da2c23-b536-4f2f-9c35-9997d6126951] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:34] WARNING  [agent_fsm:1224] [89da2c23-b536-4f2f-9c35-9997d6126951] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:34] ERROR    [agent_fsm:1078] [89da2c23-b536-4f2f-9c35-9997d6126951] --- FSM STATE: ERROR ---
[2025-06-18 13:13:34] ERROR    [agent_fsm:1101] [89da2c23-b536-4f2f-9c35-9997d6126951] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:13:34] ERROR    [agent_fsm:1102] [89da2c23-b536-4f2f-9c35-9997d6126951] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:34] WARNING  [agent_fsm:1224] [89da2c23-b536-4f2f-9c35-9997d6126951] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:34] ERROR    [agent_fsm:1078] [89da2c23-b536-4f2f-9c35-9997d6126951] --- FSM STATE: ERROR ---
[2025-06-18 13:13:34] ERROR    [agent_fsm:1101] [89da2c23-b536-4f2f-9c35-9997d6126951] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:13:34] ERROR    [agent_fsm:1102] [89da2c23-b536-4f2f-9c35-9997d6126951] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:34] WARNING  [agent_fsm:1224] [89da2c23-b536-4f2f-9c35-9997d6126951] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:34] ERROR    [agent_fsm:1078] [89da2c23-b536-4f2f-9c35-9997d6126951] --- FSM STATE: ERROR ---
[2025-06-18 13:13:34] ERROR    [agent_fsm:1101] [89da2c23-b536-4f2f-9c35-9997d6126951] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:13:34] ERROR    [agent_fsm:1102] [89da2c23-b536-4f2f-9c35-9997d6126951] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:34] WARNING  [agent_fsm:1224] [89da2c23-b536-4f2f-9c35-9997d6126951] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:34] ERROR    [agent_fsm:1078] [89da2c23-b536-4f2f-9c35-9997d6126951] --- FSM STATE: ERROR ---
[2025-06-18 13:13:34] ERROR    [agent_fsm:1101] [89da2c23-b536-4f2f-9c35-9997d6126951] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:13:34] ERROR    [agent_fsm:1102] [89da2c23-b536-4f2f-9c35-9997d6126951] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:34] WARNING  [agent_fsm:1224] [89da2c23-b536-4f2f-9c35-9997d6126951] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:34] ERROR    [agent_fsm:1078] [89da2c23-b536-4f2f-9c35-9997d6126951] --- FSM STATE: ERROR ---
[2025-06-18 13:13:34] ERROR    [agent_fsm:1101] [89da2c23-b536-4f2f-9c35-9997d6126951] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:13:34] ERROR    [agent_fsm:1102] [89da2c23-b536-4f2f-9c35-9997d6126951] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:34] WARNING  [agent_fsm:1224] [89da2c23-b536-4f2f-9c35-9997d6126951] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:34] ERROR    [agent_fsm:1078] [89da2c23-b536-4f2f-9c35-9997d6126951] --- FSM STATE: ERROR ---
[2025-06-18 13:13:34] ERROR    [agent_fsm:1101] [89da2c23-b536-4f2f-9c35-9997d6126951] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:13:34] ERROR    [agent_fsm:1102] [89da2c23-b536-4f2f-9c35-9997d6126951] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:34] WARNING  [agent_fsm:1224] [89da2c23-b536-4f2f-9c35-9997d6126951] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:34] ERROR    [agent_fsm:1078] [89da2c23-b536-4f2f-9c35-9997d6126951] --- FSM STATE: ERROR ---
[2025-06-18 13:13:34] ERROR    [agent_fsm:1101] [89da2c23-b536-4f2f-9c35-9997d6126951] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:13:34] ERROR    [agent_fsm:1102] [89da2c23-b536-4f2f-9c35-9997d6126951] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:34] WARNING  [agent_fsm:1224] [89da2c23-b536-4f2f-9c35-9997d6126951] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:34] ERROR    [agent_fsm:1078] [89da2c23-b536-4f2f-9c35-9997d6126951] --- FSM STATE: ERROR ---
[2025-06-18 13:13:34] ERROR    [agent_fsm:1101] [89da2c23-b536-4f2f-9c35-9997d6126951] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:13:34] ERROR    [agent_fsm:1102] [89da2c23-b536-4f2f-9c35-9997d6126951] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:34] WARNING  [agent_fsm:1224] [89da2c23-b536-4f2f-9c35-9997d6126951] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:34] ERROR    [agent_fsm:1078] [89da2c23-b536-4f2f-9c35-9997d6126951] --- FSM STATE: ERROR ---
[2025-06-18 13:13:34] ERROR    [agent_fsm:1101] [89da2c23-b536-4f2f-9c35-9997d6126951] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:13:34] ERROR    [agent_fsm:1102] [89da2c23-b536-4f2f-9c35-9997d6126951] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:34] WARNING  [agent_fsm:1224] [89da2c23-b536-4f2f-9c35-9997d6126951] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:34] ERROR    [agent_fsm:1078] [89da2c23-b536-4f2f-9c35-9997d6126951] --- FSM STATE: ERROR ---
[2025-06-18 13:13:34] ERROR    [agent_fsm:1101] [89da2c23-b536-4f2f-9c35-9997d6126951] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:13:34] ERROR    [agent_fsm:1102] [89da2c23-b536-4f2f-9c35-9997d6126951] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:34] WARNING  [agent_fsm:1224] [89da2c23-b536-4f2f-9c35-9997d6126951] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:34] ERROR    [agent_fsm:1078] [89da2c23-b536-4f2f-9c35-9997d6126951] --- FSM STATE: ERROR ---
[2025-06-18 13:13:34] ERROR    [agent_fsm:1101] [89da2c23-b536-4f2f-9c35-9997d6126951] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:13:34] ERROR    [agent_fsm:1102] [89da2c23-b536-4f2f-9c35-9997d6126951] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:34] WARNING  [agent_fsm:1224] [89da2c23-b536-4f2f-9c35-9997d6126951] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:34] ERROR    [agent_fsm:1078] [89da2c23-b536-4f2f-9c35-9997d6126951] --- FSM STATE: ERROR ---
[2025-06-18 13:13:34] ERROR    [agent_fsm:1101] [89da2c23-b536-4f2f-9c35-9997d6126951] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:13:34] ERROR    [agent_fsm:1102] [89da2c23-b536-4f2f-9c35-9997d6126951] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:34] WARNING  [agent_fsm:1224] [89da2c23-b536-4f2f-9c35-9997d6126951] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:34] ERROR    [agent_fsm:1078] [89da2c23-b536-4f2f-9c35-9997d6126951] --- FSM STATE: ERROR ---
[2025-06-18 13:13:34] ERROR    [agent_fsm:1101] [89da2c23-b536-4f2f-9c35-9997d6126951] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:13:34] ERROR    [agent_fsm:1102] [89da2c23-b536-4f2f-9c35-9997d6126951] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:34] WARNING  [agent_fsm:1224] [89da2c23-b536-4f2f-9c35-9997d6126951] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:34] ERROR    [agent_fsm:1078] [89da2c23-b536-4f2f-9c35-9997d6126951] --- FSM STATE: ERROR ---
[2025-06-18 13:13:34] ERROR    [agent_fsm:1101] [89da2c23-b536-4f2f-9c35-9997d6126951] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:13:34] ERROR    [agent_fsm:1102] [89da2c23-b536-4f2f-9c35-9997d6126951] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:34] WARNING  [agent_fsm:1224] [89da2c23-b536-4f2f-9c35-9997d6126951] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:34] ERROR    [agent_fsm:1837] [89da2c23-b536-4f2f-9c35-9997d6126951] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:13:34] INFO     [agent_fsm:1752] [555a667f-d748-49c4-a1f1-29b21484f060] Starting resilient FSM execution
[2025-06-18 13:13:34] INFO     [agent_fsm:1807] [555a667f-d748-49c4-a1f1-29b21484f060] FSM STATE: INITIAL
[2025-06-18 13:13:34] INFO     [agent_fsm:665] [555a667f-d748-49c4-a1f1-29b21484f060] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:13:34] DEBUG    [agent_fsm:680] [555a667f-d748-49c4-a1f1-29b21484f060] Turn count: 1, Action history length: 1
[2025-06-18 13:13:35] WARNING  [agent_fsm:1521] [555a667f-d748-49c4-a1f1-29b21484f060] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:13:35] WARNING  [agent_fsm:1521] [555a667f-d748-49c4-a1f1-29b21484f060] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:13:35] WARNING  [agent_fsm:1521] [555a667f-d748-49c4-a1f1-29b21484f060] Failed to parse JSON parameters for step 9, using fallback parser
[2025-06-18 13:13:35] INFO     [agent_fsm:773] [555a667f-d748-49c4-a1f1-29b21484f060] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:13:35] INFO     [agent_fsm:820] [555a667f-d748-49c4-a1f1-29b21484f060] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 13:13:35] INFO     [agent_fsm:922] [555a667f-d748-49c4-a1f1-29b21484f060] Tool execution completed
[2025-06-18 13:13:35] INFO     [agent_fsm:773] [555a667f-d748-49c4-a1f1-29b21484f060] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:13:35] WARNING  [agent_fsm:803] [555a667f-d748-49c4-a1f1-29b21484f060] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:13:35] INFO     [agent_fsm:665] [555a667f-d748-49c4-a1f1-29b21484f060] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:13:35] DEBUG    [agent_fsm:680] [555a667f-d748-49c4-a1f1-29b21484f060] Turn count: 2, Action history length: 2
[2025-06-18 13:13:37] WARNING  [agent_fsm:1521] [555a667f-d748-49c4-a1f1-29b21484f060] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:13:37] WARNING  [agent_fsm:1521] [555a667f-d748-49c4-a1f1-29b21484f060] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:13:37] WARNING  [agent_fsm:1521] [555a667f-d748-49c4-a1f1-29b21484f060] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:13:37] WARNING  [agent_fsm:1333] [555a667f-d748-49c4-a1f1-29b21484f060] Tool image_analyzer not found in registry, will use stub
[2025-06-18 13:13:37] INFO     [agent_fsm:773] [555a667f-d748-49c4-a1f1-29b21484f060] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:13:37] WARNING  [agent_fsm:803] [555a667f-d748-49c4-a1f1-29b21484f060] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:13:37] INFO     [agent_fsm:665] [555a667f-d748-49c4-a1f1-29b21484f060] --- FSM STATE: PLANNING (Step 3) ---
[2025-06-18 13:13:37] DEBUG    [agent_fsm:680] [555a667f-d748-49c4-a1f1-29b21484f060] Turn count: 3, Action history length: 3
[2025-06-18 13:13:39] WARNING  [agent_fsm:1521] [555a667f-d748-49c4-a1f1-29b21484f060] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:13:39] WARNING  [agent_fsm:1521] [555a667f-d748-49c4-a1f1-29b21484f060] Failed to parse JSON parameters for step 2, using fallback parser
[2025-06-18 13:13:39] WARNING  [agent_fsm:1521] [555a667f-d748-49c4-a1f1-29b21484f060] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:13:39] WARNING  [agent_fsm:1521] [555a667f-d748-49c4-a1f1-29b21484f060] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:13:39] WARNING  [agent_fsm:1521] [555a667f-d748-49c4-a1f1-29b21484f060] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:13:39] WARNING  [agent_fsm:1521] [555a667f-d748-49c4-a1f1-29b21484f060] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 13:13:39] WARNING  [agent_fsm:1521] [555a667f-d748-49c4-a1f1-29b21484f060] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 13:13:39] WARNING  [agent_fsm:1521] [555a667f-d748-49c4-a1f1-29b21484f060] Failed to parse JSON parameters for step 8, using fallback parser
[2025-06-18 13:13:39] WARNING  [agent_fsm:1521] [555a667f-d748-49c4-a1f1-29b21484f060] Failed to parse JSON parameters for step 10, using fallback parser
[2025-06-18 13:13:39] WARNING  [agent_fsm:1521] [555a667f-d748-49c4-a1f1-29b21484f060] Failed to parse JSON parameters for step 12, using fallback parser
[2025-06-18 13:13:39] WARNING  [agent_fsm:1521] [555a667f-d748-49c4-a1f1-29b21484f060] Failed to parse JSON parameters for step 14, using fallback parser
[2025-06-18 13:13:39] WARNING  [agent_fsm:1521] [555a667f-d748-49c4-a1f1-29b21484f060] Failed to parse JSON parameters for step 16, using fallback parser
[2025-06-18 13:13:39] WARNING  [agent_fsm:1521] [555a667f-d748-49c4-a1f1-29b21484f060] Failed to parse JSON parameters for step 18, using fallback parser
[2025-06-18 13:13:39] WARNING  [agent_fsm:1333] [555a667f-d748-49c4-a1f1-29b21484f060] Tool image_analyzer not found in registry, will use stub
[2025-06-18 13:13:39] WARNING  [agent_fsm:1224] [555a667f-d748-49c4-a1f1-29b21484f060] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:39] ERROR    [agent_fsm:1078] [555a667f-d748-49c4-a1f1-29b21484f060] --- FSM STATE: ERROR ---
[2025-06-18 13:13:39] ERROR    [agent_fsm:1101] [555a667f-d748-49c4-a1f1-29b21484f060] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:13:39] ERROR    [agent_fsm:1102] [555a667f-d748-49c4-a1f1-29b21484f060] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:39] WARNING  [agent_fsm:1224] [555a667f-d748-49c4-a1f1-29b21484f060] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:39] ERROR    [agent_fsm:1078] [555a667f-d748-49c4-a1f1-29b21484f060] --- FSM STATE: ERROR ---
[2025-06-18 13:13:39] ERROR    [agent_fsm:1101] [555a667f-d748-49c4-a1f1-29b21484f060] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:13:39] ERROR    [agent_fsm:1102] [555a667f-d748-49c4-a1f1-29b21484f060] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:39] WARNING  [agent_fsm:1224] [555a667f-d748-49c4-a1f1-29b21484f060] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:39] ERROR    [agent_fsm:1078] [555a667f-d748-49c4-a1f1-29b21484f060] --- FSM STATE: ERROR ---
[2025-06-18 13:13:39] ERROR    [agent_fsm:1101] [555a667f-d748-49c4-a1f1-29b21484f060] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:13:39] ERROR    [agent_fsm:1102] [555a667f-d748-49c4-a1f1-29b21484f060] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:39] WARNING  [agent_fsm:1224] [555a667f-d748-49c4-a1f1-29b21484f060] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:39] ERROR    [agent_fsm:1078] [555a667f-d748-49c4-a1f1-29b21484f060] --- FSM STATE: ERROR ---
[2025-06-18 13:13:39] ERROR    [agent_fsm:1101] [555a667f-d748-49c4-a1f1-29b21484f060] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:13:39] ERROR    [agent_fsm:1102] [555a667f-d748-49c4-a1f1-29b21484f060] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:39] WARNING  [agent_fsm:1224] [555a667f-d748-49c4-a1f1-29b21484f060] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:39] ERROR    [agent_fsm:1078] [555a667f-d748-49c4-a1f1-29b21484f060] --- FSM STATE: ERROR ---
[2025-06-18 13:13:39] ERROR    [agent_fsm:1101] [555a667f-d748-49c4-a1f1-29b21484f060] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:13:39] ERROR    [agent_fsm:1102] [555a667f-d748-49c4-a1f1-29b21484f060] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:39] WARNING  [agent_fsm:1224] [555a667f-d748-49c4-a1f1-29b21484f060] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:39] ERROR    [agent_fsm:1078] [555a667f-d748-49c4-a1f1-29b21484f060] --- FSM STATE: ERROR ---
[2025-06-18 13:13:39] ERROR    [agent_fsm:1101] [555a667f-d748-49c4-a1f1-29b21484f060] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:13:39] ERROR    [agent_fsm:1102] [555a667f-d748-49c4-a1f1-29b21484f060] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:39] WARNING  [agent_fsm:1224] [555a667f-d748-49c4-a1f1-29b21484f060] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:39] ERROR    [agent_fsm:1078] [555a667f-d748-49c4-a1f1-29b21484f060] --- FSM STATE: ERROR ---
[2025-06-18 13:13:39] ERROR    [agent_fsm:1101] [555a667f-d748-49c4-a1f1-29b21484f060] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:13:39] ERROR    [agent_fsm:1102] [555a667f-d748-49c4-a1f1-29b21484f060] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:39] WARNING  [agent_fsm:1224] [555a667f-d748-49c4-a1f1-29b21484f060] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:39] ERROR    [agent_fsm:1078] [555a667f-d748-49c4-a1f1-29b21484f060] --- FSM STATE: ERROR ---
[2025-06-18 13:13:39] ERROR    [agent_fsm:1101] [555a667f-d748-49c4-a1f1-29b21484f060] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:13:39] ERROR    [agent_fsm:1102] [555a667f-d748-49c4-a1f1-29b21484f060] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:39] WARNING  [agent_fsm:1224] [555a667f-d748-49c4-a1f1-29b21484f060] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:39] ERROR    [agent_fsm:1078] [555a667f-d748-49c4-a1f1-29b21484f060] --- FSM STATE: ERROR ---
[2025-06-18 13:13:39] ERROR    [agent_fsm:1101] [555a667f-d748-49c4-a1f1-29b21484f060] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:13:39] ERROR    [agent_fsm:1102] [555a667f-d748-49c4-a1f1-29b21484f060] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:39] WARNING  [agent_fsm:1224] [555a667f-d748-49c4-a1f1-29b21484f060] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:39] ERROR    [agent_fsm:1078] [555a667f-d748-49c4-a1f1-29b21484f060] --- FSM STATE: ERROR ---
[2025-06-18 13:13:39] ERROR    [agent_fsm:1101] [555a667f-d748-49c4-a1f1-29b21484f060] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:13:39] ERROR    [agent_fsm:1102] [555a667f-d748-49c4-a1f1-29b21484f060] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:39] WARNING  [agent_fsm:1224] [555a667f-d748-49c4-a1f1-29b21484f060] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:39] ERROR    [agent_fsm:1078] [555a667f-d748-49c4-a1f1-29b21484f060] --- FSM STATE: ERROR ---
[2025-06-18 13:13:39] ERROR    [agent_fsm:1101] [555a667f-d748-49c4-a1f1-29b21484f060] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:13:39] ERROR    [agent_fsm:1102] [555a667f-d748-49c4-a1f1-29b21484f060] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:39] WARNING  [agent_fsm:1224] [555a667f-d748-49c4-a1f1-29b21484f060] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:39] ERROR    [agent_fsm:1078] [555a667f-d748-49c4-a1f1-29b21484f060] --- FSM STATE: ERROR ---
[2025-06-18 13:13:39] ERROR    [agent_fsm:1101] [555a667f-d748-49c4-a1f1-29b21484f060] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:13:39] ERROR    [agent_fsm:1102] [555a667f-d748-49c4-a1f1-29b21484f060] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:39] WARNING  [agent_fsm:1224] [555a667f-d748-49c4-a1f1-29b21484f060] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:39] ERROR    [agent_fsm:1078] [555a667f-d748-49c4-a1f1-29b21484f060] --- FSM STATE: ERROR ---
[2025-06-18 13:13:39] ERROR    [agent_fsm:1101] [555a667f-d748-49c4-a1f1-29b21484f060] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:13:39] ERROR    [agent_fsm:1102] [555a667f-d748-49c4-a1f1-29b21484f060] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:39] WARNING  [agent_fsm:1224] [555a667f-d748-49c4-a1f1-29b21484f060] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:39] ERROR    [agent_fsm:1078] [555a667f-d748-49c4-a1f1-29b21484f060] --- FSM STATE: ERROR ---
[2025-06-18 13:13:39] ERROR    [agent_fsm:1101] [555a667f-d748-49c4-a1f1-29b21484f060] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:13:39] ERROR    [agent_fsm:1102] [555a667f-d748-49c4-a1f1-29b21484f060] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:39] WARNING  [agent_fsm:1224] [555a667f-d748-49c4-a1f1-29b21484f060] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:39] ERROR    [agent_fsm:1078] [555a667f-d748-49c4-a1f1-29b21484f060] --- FSM STATE: ERROR ---
[2025-06-18 13:13:39] ERROR    [agent_fsm:1101] [555a667f-d748-49c4-a1f1-29b21484f060] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:13:39] ERROR    [agent_fsm:1102] [555a667f-d748-49c4-a1f1-29b21484f060] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:39] WARNING  [agent_fsm:1224] [555a667f-d748-49c4-a1f1-29b21484f060] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:39] ERROR    [agent_fsm:1078] [555a667f-d748-49c4-a1f1-29b21484f060] --- FSM STATE: ERROR ---
[2025-06-18 13:13:39] ERROR    [agent_fsm:1101] [555a667f-d748-49c4-a1f1-29b21484f060] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:13:39] ERROR    [agent_fsm:1102] [555a667f-d748-49c4-a1f1-29b21484f060] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:39] WARNING  [agent_fsm:1224] [555a667f-d748-49c4-a1f1-29b21484f060] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:39] ERROR    [agent_fsm:1078] [555a667f-d748-49c4-a1f1-29b21484f060] --- FSM STATE: ERROR ---
[2025-06-18 13:13:39] ERROR    [agent_fsm:1101] [555a667f-d748-49c4-a1f1-29b21484f060] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:13:39] ERROR    [agent_fsm:1102] [555a667f-d748-49c4-a1f1-29b21484f060] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:39] WARNING  [agent_fsm:1224] [555a667f-d748-49c4-a1f1-29b21484f060] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:39] ERROR    [agent_fsm:1078] [555a667f-d748-49c4-a1f1-29b21484f060] --- FSM STATE: ERROR ---
[2025-06-18 13:13:39] ERROR    [agent_fsm:1101] [555a667f-d748-49c4-a1f1-29b21484f060] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:13:39] ERROR    [agent_fsm:1102] [555a667f-d748-49c4-a1f1-29b21484f060] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:39] WARNING  [agent_fsm:1224] [555a667f-d748-49c4-a1f1-29b21484f060] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:39] ERROR    [agent_fsm:1078] [555a667f-d748-49c4-a1f1-29b21484f060] --- FSM STATE: ERROR ---
[2025-06-18 13:13:39] ERROR    [agent_fsm:1101] [555a667f-d748-49c4-a1f1-29b21484f060] Error category: GENERAL, Occurrences: 19
[2025-06-18 13:13:39] ERROR    [agent_fsm:1102] [555a667f-d748-49c4-a1f1-29b21484f060] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:39] WARNING  [agent_fsm:1224] [555a667f-d748-49c4-a1f1-29b21484f060] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:39] ERROR    [agent_fsm:1837] [555a667f-d748-49c4-a1f1-29b21484f060] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:13:39] INFO     [agent_fsm:1752] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Starting resilient FSM execution
[2025-06-18 13:13:39] INFO     [agent_fsm:1807] [4f5a278f-99e7-43a8-8de3-921cb49181a2] FSM STATE: INITIAL
[2025-06-18 13:13:39] INFO     [agent_fsm:665] [4f5a278f-99e7-43a8-8de3-921cb49181a2] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:13:39] DEBUG    [agent_fsm:680] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Turn count: 1, Action history length: 1
[2025-06-18 13:13:40] WARNING  [agent_fsm:1521] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:13:40] WARNING  [agent_fsm:1521] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:13:40] WARNING  [agent_fsm:1521] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:13:40] WARNING  [agent_fsm:1521] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 13:13:40] INFO     [agent_fsm:773] [4f5a278f-99e7-43a8-8de3-921cb49181a2] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:13:40] INFO     [agent_fsm:820] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Executing tool: advanced_file_reader with input: {'filename': 'path/to/sales_data.xlsx'}
[2025-06-18 13:13:40] INFO     [agent_fsm:922] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Tool execution completed
[2025-06-18 13:13:40] INFO     [agent_fsm:773] [4f5a278f-99e7-43a8-8de3-921cb49181a2] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:13:40] WARNING  [agent_fsm:803] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:13:40] INFO     [agent_fsm:665] [4f5a278f-99e7-43a8-8de3-921cb49181a2] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:13:40] DEBUG    [agent_fsm:680] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Turn count: 2, Action history length: 2
[2025-06-18 13:13:42] WARNING  [agent_fsm:1521] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:13:42] WARNING  [agent_fsm:1521] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Failed to parse JSON parameters for step 7, using fallback parser
[2025-06-18 13:13:42] WARNING  [agent_fsm:1521] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Failed to parse JSON parameters for step 8, using fallback parser
[2025-06-18 13:13:42] INFO     [agent_fsm:773] [4f5a278f-99e7-43a8-8de3-921cb49181a2] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:13:42] INFO     [agent_fsm:820] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Executing tool: semantic_search_tool with input: {'query': 'Error: Advanced file format dependencies not available....', 'filename': 'knowledge_base.csv', 'top_k': 3}
[2025-06-18 13:13:42] INFO     [agent_fsm:922] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Tool execution completed
[2025-06-18 13:13:42] INFO     [agent_fsm:773] [4f5a278f-99e7-43a8-8de3-921cb49181a2] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:13:42] WARNING  [agent_fsm:803] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:13:42] INFO     [agent_fsm:665] [4f5a278f-99e7-43a8-8de3-921cb49181a2] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:13:42] DEBUG    [agent_fsm:680] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Turn count: 3, Action history length: 3
[2025-06-18 13:13:43] WARNING  [agent_fsm:1521] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Failed to parse JSON parameters for step 3, using fallback parser
[2025-06-18 13:13:43] WARNING  [agent_fsm:1521] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:13:43] WARNING  [agent_fsm:1521] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Failed to parse JSON parameters for step 5, using fallback parser
[2025-06-18 13:13:43] WARNING  [agent_fsm:1521] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Failed to parse JSON parameters for step 6, using fallback parser
[2025-06-18 13:13:43] WARNING  [agent_fsm:1224] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:43] ERROR    [agent_fsm:1078] [4f5a278f-99e7-43a8-8de3-921cb49181a2] --- FSM STATE: ERROR ---
[2025-06-18 13:13:43] ERROR    [agent_fsm:1101] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:13:43] ERROR    [agent_fsm:1102] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:43] WARNING  [agent_fsm:1224] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:43] ERROR    [agent_fsm:1078] [4f5a278f-99e7-43a8-8de3-921cb49181a2] --- FSM STATE: ERROR ---
[2025-06-18 13:13:43] ERROR    [agent_fsm:1101] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:13:43] ERROR    [agent_fsm:1102] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:43] WARNING  [agent_fsm:1224] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:43] ERROR    [agent_fsm:1078] [4f5a278f-99e7-43a8-8de3-921cb49181a2] --- FSM STATE: ERROR ---
[2025-06-18 13:13:43] ERROR    [agent_fsm:1101] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:13:43] ERROR    [agent_fsm:1102] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:43] WARNING  [agent_fsm:1224] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:43] ERROR    [agent_fsm:1078] [4f5a278f-99e7-43a8-8de3-921cb49181a2] --- FSM STATE: ERROR ---
[2025-06-18 13:13:43] ERROR    [agent_fsm:1101] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:13:43] ERROR    [agent_fsm:1102] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:43] WARNING  [agent_fsm:1224] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:43] ERROR    [agent_fsm:1078] [4f5a278f-99e7-43a8-8de3-921cb49181a2] --- FSM STATE: ERROR ---
[2025-06-18 13:13:43] ERROR    [agent_fsm:1101] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:13:43] ERROR    [agent_fsm:1102] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:43] WARNING  [agent_fsm:1224] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:43] ERROR    [agent_fsm:1078] [4f5a278f-99e7-43a8-8de3-921cb49181a2] --- FSM STATE: ERROR ---
[2025-06-18 13:13:43] ERROR    [agent_fsm:1101] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:13:43] ERROR    [agent_fsm:1102] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:43] WARNING  [agent_fsm:1224] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:43] ERROR    [agent_fsm:1078] [4f5a278f-99e7-43a8-8de3-921cb49181a2] --- FSM STATE: ERROR ---
[2025-06-18 13:13:43] ERROR    [agent_fsm:1101] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:13:43] ERROR    [agent_fsm:1102] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:43] WARNING  [agent_fsm:1224] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:43] ERROR    [agent_fsm:1078] [4f5a278f-99e7-43a8-8de3-921cb49181a2] --- FSM STATE: ERROR ---
[2025-06-18 13:13:43] ERROR    [agent_fsm:1101] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:13:43] ERROR    [agent_fsm:1102] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:43] WARNING  [agent_fsm:1224] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:43] ERROR    [agent_fsm:1078] [4f5a278f-99e7-43a8-8de3-921cb49181a2] --- FSM STATE: ERROR ---
[2025-06-18 13:13:43] ERROR    [agent_fsm:1101] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:13:43] ERROR    [agent_fsm:1102] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:43] WARNING  [agent_fsm:1224] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:43] ERROR    [agent_fsm:1078] [4f5a278f-99e7-43a8-8de3-921cb49181a2] --- FSM STATE: ERROR ---
[2025-06-18 13:13:43] ERROR    [agent_fsm:1101] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:13:43] ERROR    [agent_fsm:1102] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:43] WARNING  [agent_fsm:1224] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:43] ERROR    [agent_fsm:1078] [4f5a278f-99e7-43a8-8de3-921cb49181a2] --- FSM STATE: ERROR ---
[2025-06-18 13:13:43] ERROR    [agent_fsm:1101] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:13:43] ERROR    [agent_fsm:1102] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:43] WARNING  [agent_fsm:1224] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:43] ERROR    [agent_fsm:1078] [4f5a278f-99e7-43a8-8de3-921cb49181a2] --- FSM STATE: ERROR ---
[2025-06-18 13:13:43] ERROR    [agent_fsm:1101] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:13:43] ERROR    [agent_fsm:1102] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:43] WARNING  [agent_fsm:1224] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:43] ERROR    [agent_fsm:1078] [4f5a278f-99e7-43a8-8de3-921cb49181a2] --- FSM STATE: ERROR ---
[2025-06-18 13:13:43] ERROR    [agent_fsm:1101] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:13:43] ERROR    [agent_fsm:1102] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:43] WARNING  [agent_fsm:1224] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:43] ERROR    [agent_fsm:1078] [4f5a278f-99e7-43a8-8de3-921cb49181a2] --- FSM STATE: ERROR ---
[2025-06-18 13:13:43] ERROR    [agent_fsm:1101] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:13:43] ERROR    [agent_fsm:1102] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:43] WARNING  [agent_fsm:1224] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:43] ERROR    [agent_fsm:1078] [4f5a278f-99e7-43a8-8de3-921cb49181a2] --- FSM STATE: ERROR ---
[2025-06-18 13:13:43] ERROR    [agent_fsm:1101] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:13:43] ERROR    [agent_fsm:1102] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:43] WARNING  [agent_fsm:1224] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:43] ERROR    [agent_fsm:1078] [4f5a278f-99e7-43a8-8de3-921cb49181a2] --- FSM STATE: ERROR ---
[2025-06-18 13:13:43] ERROR    [agent_fsm:1101] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:13:43] ERROR    [agent_fsm:1102] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:43] WARNING  [agent_fsm:1224] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:43] ERROR    [agent_fsm:1078] [4f5a278f-99e7-43a8-8de3-921cb49181a2] --- FSM STATE: ERROR ---
[2025-06-18 13:13:43] ERROR    [agent_fsm:1101] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:13:43] ERROR    [agent_fsm:1102] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:43] WARNING  [agent_fsm:1224] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:43] ERROR    [agent_fsm:1078] [4f5a278f-99e7-43a8-8de3-921cb49181a2] --- FSM STATE: ERROR ---
[2025-06-18 13:13:43] ERROR    [agent_fsm:1101] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:13:43] ERROR    [agent_fsm:1102] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:43] WARNING  [agent_fsm:1224] [4f5a278f-99e7-43a8-8de3-921cb49181a2] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:43] ERROR    [agent_fsm:1837] [4f5a278f-99e7-43a8-8de3-921cb49181a2] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:13:43] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 13:13:43] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 13:13:43] INFO     [agent_fsm:570] [21f0c4a9-0b52-4de7-b688-36c1f08e45c5] Building resilient FSM graph
[2025-06-18 13:13:43] INFO     [agent_fsm:572] [21f0c4a9-0b52-4de7-b688-36c1f08e45c5] FSMReActAgent graph built successfully
[2025-06-18 13:13:43] INFO     [agent_fsm:1752] [bcabaaf8-1f3c-4371-81cf-5178f3afb6dd] Starting resilient FSM execution
[2025-06-18 13:13:43] WARNING  [agent_fsm:1759] [bcabaaf8-1f3c-4371-81cf-5178f3afb6dd] FSM agent rejecting invalid input: '{{' - 1 validation error for ValidatedQuery
query
  Value error, Invalid placeholder query received: '{{' [type=value_error, input_value='{{', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/value_error
[2025-06-18 13:13:43] INFO     [agent_fsm:1752] [f704edc0-1643-44eb-98f4-495744a55698] Starting resilient FSM execution
[2025-06-18 13:13:43] INFO     [agent_fsm:1807] [f704edc0-1643-44eb-98f4-495744a55698] FSM STATE: INITIAL
[2025-06-18 13:13:43] INFO     [agent_fsm:665] [f704edc0-1643-44eb-98f4-495744a55698] --- FSM STATE: PLANNING (Step 0) ---
[2025-06-18 13:13:43] DEBUG    [agent_fsm:680] [f704edc0-1643-44eb-98f4-495744a55698] Turn count: 1, Action history length: 1
[2025-06-18 13:13:44] WARNING  [agent_fsm:1521] [f704edc0-1643-44eb-98f4-495744a55698] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:13:44] WARNING  [agent_fsm:1521] [f704edc0-1643-44eb-98f4-495744a55698] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:13:44] INFO     [agent_fsm:773] [f704edc0-1643-44eb-98f4-495744a55698] --- FSM STATE: TOOL_EXECUTION (Step 0) ---
[2025-06-18 13:13:44] INFO     [agent_fsm:820] [f704edc0-1643-44eb-98f4-495744a55698] Executing tool: python_interpreter with input: {'code': '{'}
[2025-06-18 13:13:44] INFO     [agent_fsm:922] [f704edc0-1643-44eb-98f4-495744a55698] Tool execution completed
[2025-06-18 13:13:44] INFO     [agent_fsm:773] [f704edc0-1643-44eb-98f4-495744a55698] --- FSM STATE: TOOL_EXECUTION (Step 1) ---
[2025-06-18 13:13:44] WARNING  [agent_fsm:803] [f704edc0-1643-44eb-98f4-495744a55698] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:13:44] INFO     [agent_fsm:665] [f704edc0-1643-44eb-98f4-495744a55698] --- FSM STATE: PLANNING (Step 2) ---
[2025-06-18 13:13:44] DEBUG    [agent_fsm:680] [f704edc0-1643-44eb-98f4-495744a55698] Turn count: 2, Action history length: 2
[2025-06-18 13:13:45] WARNING  [agent_fsm:1521] [f704edc0-1643-44eb-98f4-495744a55698] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:13:45] WARNING  [agent_fsm:1521] [f704edc0-1643-44eb-98f4-495744a55698] Failed to parse JSON parameters for step 4, using fallback parser
[2025-06-18 13:13:45] INFO     [agent_fsm:773] [f704edc0-1643-44eb-98f4-495744a55698] --- FSM STATE: TOOL_EXECUTION (Step 2) ---
[2025-06-18 13:13:45] INFO     [agent_fsm:820] [f704edc0-1643-44eb-98f4-495744a55698] Executing tool: python_interpreter with input: {'code': 'print(2 + 2)'}
[2025-06-18 13:13:45] INFO     [agent_fsm:922] [f704edc0-1643-44eb-98f4-495744a55698] Tool execution completed
[2025-06-18 13:13:45] INFO     [agent_fsm:773] [f704edc0-1643-44eb-98f4-495744a55698] --- FSM STATE: TOOL_EXECUTION (Step 3) ---
[2025-06-18 13:13:45] WARNING  [agent_fsm:803] [f704edc0-1643-44eb-98f4-495744a55698] Duplicate tool call detected – triggering re-planning to avoid infinite loop
[2025-06-18 13:13:45] INFO     [agent_fsm:665] [f704edc0-1643-44eb-98f4-495744a55698] --- FSM STATE: PLANNING (Step 4) ---
[2025-06-18 13:13:45] DEBUG    [agent_fsm:680] [f704edc0-1643-44eb-98f4-495744a55698] Turn count: 3, Action history length: 3
[2025-06-18 13:13:46] WARNING  [agent_fsm:1521] [f704edc0-1643-44eb-98f4-495744a55698] Failed to parse JSON parameters for step 1, using fallback parser
[2025-06-18 13:13:46] WARNING  [agent_fsm:1224] [f704edc0-1643-44eb-98f4-495744a55698] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:46] ERROR    [agent_fsm:1078] [f704edc0-1643-44eb-98f4-495744a55698] --- FSM STATE: ERROR ---
[2025-06-18 13:13:46] ERROR    [agent_fsm:1101] [f704edc0-1643-44eb-98f4-495744a55698] Error category: GENERAL, Occurrences: 1
[2025-06-18 13:13:46] ERROR    [agent_fsm:1102] [f704edc0-1643-44eb-98f4-495744a55698] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:46] WARNING  [agent_fsm:1224] [f704edc0-1643-44eb-98f4-495744a55698] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:46] ERROR    [agent_fsm:1078] [f704edc0-1643-44eb-98f4-495744a55698] --- FSM STATE: ERROR ---
[2025-06-18 13:13:46] ERROR    [agent_fsm:1101] [f704edc0-1643-44eb-98f4-495744a55698] Error category: GENERAL, Occurrences: 2
[2025-06-18 13:13:46] ERROR    [agent_fsm:1102] [f704edc0-1643-44eb-98f4-495744a55698] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:46] WARNING  [agent_fsm:1224] [f704edc0-1643-44eb-98f4-495744a55698] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:46] ERROR    [agent_fsm:1078] [f704edc0-1643-44eb-98f4-495744a55698] --- FSM STATE: ERROR ---
[2025-06-18 13:13:46] ERROR    [agent_fsm:1101] [f704edc0-1643-44eb-98f4-495744a55698] Error category: GENERAL, Occurrences: 3
[2025-06-18 13:13:46] ERROR    [agent_fsm:1102] [f704edc0-1643-44eb-98f4-495744a55698] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:46] WARNING  [agent_fsm:1224] [f704edc0-1643-44eb-98f4-495744a55698] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:46] ERROR    [agent_fsm:1078] [f704edc0-1643-44eb-98f4-495744a55698] --- FSM STATE: ERROR ---
[2025-06-18 13:13:46] ERROR    [agent_fsm:1101] [f704edc0-1643-44eb-98f4-495744a55698] Error category: GENERAL, Occurrences: 4
[2025-06-18 13:13:46] ERROR    [agent_fsm:1102] [f704edc0-1643-44eb-98f4-495744a55698] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:46] WARNING  [agent_fsm:1224] [f704edc0-1643-44eb-98f4-495744a55698] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:46] ERROR    [agent_fsm:1078] [f704edc0-1643-44eb-98f4-495744a55698] --- FSM STATE: ERROR ---
[2025-06-18 13:13:46] ERROR    [agent_fsm:1101] [f704edc0-1643-44eb-98f4-495744a55698] Error category: GENERAL, Occurrences: 5
[2025-06-18 13:13:46] ERROR    [agent_fsm:1102] [f704edc0-1643-44eb-98f4-495744a55698] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:46] WARNING  [agent_fsm:1224] [f704edc0-1643-44eb-98f4-495744a55698] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:46] ERROR    [agent_fsm:1078] [f704edc0-1643-44eb-98f4-495744a55698] --- FSM STATE: ERROR ---
[2025-06-18 13:13:46] ERROR    [agent_fsm:1101] [f704edc0-1643-44eb-98f4-495744a55698] Error category: GENERAL, Occurrences: 6
[2025-06-18 13:13:46] ERROR    [agent_fsm:1102] [f704edc0-1643-44eb-98f4-495744a55698] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:46] WARNING  [agent_fsm:1224] [f704edc0-1643-44eb-98f4-495744a55698] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:46] ERROR    [agent_fsm:1078] [f704edc0-1643-44eb-98f4-495744a55698] --- FSM STATE: ERROR ---
[2025-06-18 13:13:46] ERROR    [agent_fsm:1101] [f704edc0-1643-44eb-98f4-495744a55698] Error category: GENERAL, Occurrences: 7
[2025-06-18 13:13:46] ERROR    [agent_fsm:1102] [f704edc0-1643-44eb-98f4-495744a55698] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:46] WARNING  [agent_fsm:1224] [f704edc0-1643-44eb-98f4-495744a55698] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:46] ERROR    [agent_fsm:1078] [f704edc0-1643-44eb-98f4-495744a55698] --- FSM STATE: ERROR ---
[2025-06-18 13:13:46] ERROR    [agent_fsm:1101] [f704edc0-1643-44eb-98f4-495744a55698] Error category: GENERAL, Occurrences: 8
[2025-06-18 13:13:46] ERROR    [agent_fsm:1102] [f704edc0-1643-44eb-98f4-495744a55698] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:46] WARNING  [agent_fsm:1224] [f704edc0-1643-44eb-98f4-495744a55698] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:46] ERROR    [agent_fsm:1078] [f704edc0-1643-44eb-98f4-495744a55698] --- FSM STATE: ERROR ---
[2025-06-18 13:13:46] ERROR    [agent_fsm:1101] [f704edc0-1643-44eb-98f4-495744a55698] Error category: GENERAL, Occurrences: 9
[2025-06-18 13:13:46] ERROR    [agent_fsm:1102] [f704edc0-1643-44eb-98f4-495744a55698] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:46] WARNING  [agent_fsm:1224] [f704edc0-1643-44eb-98f4-495744a55698] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:46] ERROR    [agent_fsm:1078] [f704edc0-1643-44eb-98f4-495744a55698] --- FSM STATE: ERROR ---
[2025-06-18 13:13:46] ERROR    [agent_fsm:1101] [f704edc0-1643-44eb-98f4-495744a55698] Error category: GENERAL, Occurrences: 10
[2025-06-18 13:13:46] ERROR    [agent_fsm:1102] [f704edc0-1643-44eb-98f4-495744a55698] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:46] WARNING  [agent_fsm:1224] [f704edc0-1643-44eb-98f4-495744a55698] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:46] ERROR    [agent_fsm:1078] [f704edc0-1643-44eb-98f4-495744a55698] --- FSM STATE: ERROR ---
[2025-06-18 13:13:46] ERROR    [agent_fsm:1101] [f704edc0-1643-44eb-98f4-495744a55698] Error category: GENERAL, Occurrences: 11
[2025-06-18 13:13:46] ERROR    [agent_fsm:1102] [f704edc0-1643-44eb-98f4-495744a55698] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:46] WARNING  [agent_fsm:1224] [f704edc0-1643-44eb-98f4-495744a55698] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:46] ERROR    [agent_fsm:1078] [f704edc0-1643-44eb-98f4-495744a55698] --- FSM STATE: ERROR ---
[2025-06-18 13:13:46] ERROR    [agent_fsm:1101] [f704edc0-1643-44eb-98f4-495744a55698] Error category: GENERAL, Occurrences: 12
[2025-06-18 13:13:46] ERROR    [agent_fsm:1102] [f704edc0-1643-44eb-98f4-495744a55698] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:46] WARNING  [agent_fsm:1224] [f704edc0-1643-44eb-98f4-495744a55698] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:46] ERROR    [agent_fsm:1078] [f704edc0-1643-44eb-98f4-495744a55698] --- FSM STATE: ERROR ---
[2025-06-18 13:13:46] ERROR    [agent_fsm:1101] [f704edc0-1643-44eb-98f4-495744a55698] Error category: GENERAL, Occurrences: 13
[2025-06-18 13:13:46] ERROR    [agent_fsm:1102] [f704edc0-1643-44eb-98f4-495744a55698] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:46] WARNING  [agent_fsm:1224] [f704edc0-1643-44eb-98f4-495744a55698] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:46] ERROR    [agent_fsm:1078] [f704edc0-1643-44eb-98f4-495744a55698] --- FSM STATE: ERROR ---
[2025-06-18 13:13:46] ERROR    [agent_fsm:1101] [f704edc0-1643-44eb-98f4-495744a55698] Error category: GENERAL, Occurrences: 14
[2025-06-18 13:13:46] ERROR    [agent_fsm:1102] [f704edc0-1643-44eb-98f4-495744a55698] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:46] WARNING  [agent_fsm:1224] [f704edc0-1643-44eb-98f4-495744a55698] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:46] ERROR    [agent_fsm:1078] [f704edc0-1643-44eb-98f4-495744a55698] --- FSM STATE: ERROR ---
[2025-06-18 13:13:46] ERROR    [agent_fsm:1101] [f704edc0-1643-44eb-98f4-495744a55698] Error category: GENERAL, Occurrences: 15
[2025-06-18 13:13:46] ERROR    [agent_fsm:1102] [f704edc0-1643-44eb-98f4-495744a55698] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:46] WARNING  [agent_fsm:1224] [f704edc0-1643-44eb-98f4-495744a55698] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:46] ERROR    [agent_fsm:1078] [f704edc0-1643-44eb-98f4-495744a55698] --- FSM STATE: ERROR ---
[2025-06-18 13:13:46] ERROR    [agent_fsm:1101] [f704edc0-1643-44eb-98f4-495744a55698] Error category: GENERAL, Occurrences: 16
[2025-06-18 13:13:46] ERROR    [agent_fsm:1102] [f704edc0-1643-44eb-98f4-495744a55698] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:46] WARNING  [agent_fsm:1224] [f704edc0-1643-44eb-98f4-495744a55698] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:46] ERROR    [agent_fsm:1078] [f704edc0-1643-44eb-98f4-495744a55698] --- FSM STATE: ERROR ---
[2025-06-18 13:13:46] ERROR    [agent_fsm:1101] [f704edc0-1643-44eb-98f4-495744a55698] Error category: GENERAL, Occurrences: 17
[2025-06-18 13:13:46] ERROR    [agent_fsm:1102] [f704edc0-1643-44eb-98f4-495744a55698] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:46] WARNING  [agent_fsm:1224] [f704edc0-1643-44eb-98f4-495744a55698] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:46] ERROR    [agent_fsm:1078] [f704edc0-1643-44eb-98f4-495744a55698] --- FSM STATE: ERROR ---
[2025-06-18 13:13:46] ERROR    [agent_fsm:1101] [f704edc0-1643-44eb-98f4-495744a55698] Error category: GENERAL, Occurrences: 18
[2025-06-18 13:13:46] ERROR    [agent_fsm:1102] [f704edc0-1643-44eb-98f4-495744a55698] Errors: ['Duplicate tool call detected']
[2025-06-18 13:13:46] WARNING  [agent_fsm:1224] [f704edc0-1643-44eb-98f4-495744a55698] Direct loop detected - same action repeated 3 times
[2025-06-18 13:13:46] ERROR    [agent_fsm:1837] [f704edc0-1643-44eb-98f4-495744a55698] FSM agent execution failed
Traceback (most recent call last):
  File "/Users/test/Desktop/ai agent/AI-Agent/src/advanced_agent_fsm.py", line 1810, in run
    result = self.graph.invoke(initial_state)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2719, in invoke
    for chunk in self.stream(
                 ~~~~~~~~~~~^
        input,
        ^^^^^^
    ...<7 lines>...
        **kwargs,
        ^^^^^^^^^
    ):
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/langgraph/pregel/__init__.py", line 2456, in stream
    raise GraphRecursionError(msg)
langgraph.errors.GraphRecursionError: Recursion limit of 25 reached without hitting a stop condition. You can increase the limit by setting the `recursion_limit` config key.
For troubleshooting, visit: https://python.langchain.com/docs/troubleshooting/errors/GRAPH_RECURSION_LIMIT
[2025-06-18 13:13:46] INFO     [agent_fsm:611] [no-correlation] Added stub tool: programming_language_identifier
[2025-06-18 13:13:46] INFO     [agent_fsm:568] [no-correlation] Initializing FSMReActAgent with 13 tools
[2025-06-18 13:13:46] INFO     [agent_fsm:570] [a4db130e-292d-4cd1-8e37-10c8c02bd27c] Building resilient FSM graph
[2025-06-18 13:13:46] INFO     [agent_fsm:572] [a4db130e-292d-4cd1-8e37-10c8c02bd27c] FSMReActAgent graph built successfully
